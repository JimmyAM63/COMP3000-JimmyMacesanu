(self.webpackChunkretail_dashboard=self.webpackChunkretail_dashboard||[]).push([[179],{772:(hi,gt,Qe)=>{"use strict";var hn={};function q(n,t,e,i,s,r,o){try{var a=n[r](o),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(i,s)}function tt(n){return function(){var t=this,e=arguments;return new Promise(function(i,s){var r=n.apply(t,e);function o(l){q(r,i,s,o,a,"next",l)}function a(l){q(r,i,s,o,a,"throw",l)}o(void 0)})}}Qe.r(hn),Qe.d(hn,{ACESFilmicToneMapping:()=>nj,AddEquation:()=>Vm,AddOperation:()=>Q7,AdditiveAnimationBlendMode:()=>VN,AdditiveBlending:()=>JF,AlphaFormat:()=>oj,AlwaysCompare:()=>Dj,AlwaysDepth:()=>G7,AlwaysStencilFunc:()=>yj,AmbientLight:()=>BX,AmbientLightProbe:()=>p1e,AnimationAction:()=>eq,AnimationClip:()=>NC,AnimationLoader:()=>t1e,AnimationMixer:()=>L1e,AnimationObjectGroup:()=>k1e,AnimationUtils:()=>KCe,ArcCurve:()=>nX,ArrayCamera:()=>S9,ArrowHelper:()=>eMe,Audio:()=>KX,AudioAnalyser:()=>b1e,AudioContext:()=>K3,AudioListener:()=>_1e,AudioLoader:()=>h1e,AxesHelper:()=>tMe,BackSide:()=>Sa,BasicDepthPacking:()=>gj,BasicShadowMap:()=>Gve,Bone:()=>M3,BooleanKeyframeTrack:()=>tg,Box2:()=>H1e,Box3:()=>Jd,Box3Helper:()=>Q1e,BoxGeometry:()=>jm,BoxHelper:()=>K1e,BufferAttribute:()=>ys,BufferGeometry:()=>mi,BufferGeometryLoader:()=>WX,ByteType:()=>sj,Cache:()=>ig,Camera:()=>$E,CameraHelper:()=>Z1e,CanvasTexture:()=>xCe,CapsuleGeometry:()=>gA,CatmullRomCurve3:()=>iX,CineonToneMapping:()=>tj,CircleGeometry:()=>_A,ClampToEdgeWrapping:()=>Ho,Clock:()=>XX,Color:()=>$t,ColorKeyframeTrack:()=>G3,ColorManagement:()=>tc,CompressedArrayTexture:()=>yCe,CompressedCubeTexture:()=>bCe,CompressedTexture:()=>hA,CompressedTextureLoader:()=>n1e,ConeGeometry:()=>vA,CubeCamera:()=>Kj,CubeReflectionMapping:()=>ah,CubeRefractionMapping:()=>Wf,CubeTexture:()=>_C,CubeTextureLoader:()=>i1e,CubeUVReflectionMapping:()=>T0,CubicBezierCurve:()=>L3,CubicBezierCurve3:()=>rX,CubicInterpolant:()=>EX,CullFaceBack:()=>KF,CullFaceFront:()=>k7,CullFaceFrontBack:()=>Yve,CullFaceNone:()=>A7,Curve:()=>sd,CurvePath:()=>aX,CustomBlending:()=>L7,CustomToneMapping:()=>ij,CylinderGeometry:()=>ry,Cylindrical:()=>B1e,Data3DTexture:()=>jN,DataArrayTexture:()=>DE,DataTexture:()=>ny,DataTextureLoader:()=>s1e,DataUtils:()=>oye,DecrementStencilOp:()=>s0e,DecrementWrapStencilOp:()=>o0e,DefaultLoadingManager:()=>IX,DepthFormat:()=>$f,DepthStencilFormat:()=>Bm,DepthTexture:()=>D9,DirectionalLight:()=>VX,DirectionalLightHelper:()=>q1e,DiscreteInterpolant:()=>AX,DisplayP3ColorSpace:()=>oC,DodecahedronGeometry:()=>yA,DoubleSide:()=>Zd,DstAlphaFactor:()=>B7,DstColorFactor:()=>z7,DynamicCopyUsage:()=>x0e,DynamicDrawUsage:()=>m0e,DynamicReadUsage:()=>v0e,EdgesGeometry:()=>lX,EllipseCurve:()=>fA,EqualCompare:()=>wj,EqualDepth:()=>j7,EqualStencilFunc:()=>d0e,EquirectangularReflectionMapping:()=>Qw,EquirectangularRefractionMapping:()=>Jw,Euler:()=>Nj,EventDispatcher:()=>dh,ExtrudeGeometry:()=>SA,FileLoader:()=>yh,Float16BufferAttribute:()=>hye,Float32BufferAttribute:()=>en,Float64BufferAttribute:()=>fye,FloatType:()=>Kd,Fog:()=>tA,FogExp2:()=>eA,FramebufferTexture:()=>vCe,FrontSide:()=>sh,Frustum:()=>XE,GLBufferAttribute:()=>F1e,GLSL1:()=>C0e,GLSL3:()=>HN,GreaterCompare:()=>Mj,GreaterDepth:()=>q7,GreaterEqualCompare:()=>Sj,GreaterEqualDepth:()=>X7,GreaterEqualStencilFunc:()=>p0e,GreaterStencilFunc:()=>h0e,GridHelper:()=>j1e,Group:()=>Z0,HalfFloatType:()=>S0,HemisphereLight:()=>LX,HemisphereLightHelper:()=>$1e,HemisphereLightProbe:()=>f1e,IcosahedronGeometry:()=>DA,ImageBitmapLoader:()=>u1e,ImageLoader:()=>VC,ImageUtils:()=>GN,IncrementStencilOp:()=>i0e,IncrementWrapStencilOp:()=>r0e,InstancedBufferAttribute:()=>iy,InstancedBufferGeometry:()=>UX,InstancedInterleavedBuffer:()=>O1e,InstancedMesh:()=>$9,Int16BufferAttribute:()=>dye,Int32BufferAttribute:()=>uye,Int8BufferAttribute:()=>aye,IntType:()=>aN,InterleavedBuffer:()=>nA,InterleavedBufferAttribute:()=>Km,Interpolant:()=>PC,InterpolateDiscrete:()=>iC,InterpolateLinear:()=>sC,InterpolateSmooth:()=>wE,InvertStencilOp:()=>a0e,KeepStencilOp:()=>ME,KeyframeTrack:()=>rd,LOD:()=>F9,LatheGeometry:()=>EC,Layers:()=>RE,LessCompare:()=>xj,LessDepth:()=>$7,LessEqualCompare:()=>Cj,LessEqualDepth:()=>fE,LessEqualStencilFunc:()=>u0e,LessStencilFunc:()=>c0e,Light:()=>sp,LightProbe:()=>PA,Line:()=>np,Line3:()=>z1e,LineBasicMaterial:()=>Aa,LineCurve:()=>mA,LineCurve3:()=>oX,LineDashedMaterial:()=>SX,LineLoop:()=>Q9,LineSegments:()=>tu,LinearDisplayP3ColorSpace:()=>e0e,LinearEncoding:()=>BN,LinearFilter:()=>wr,LinearInterpolant:()=>Y3,LinearMipMapLinearFilter:()=>Zve,LinearMipMapNearestFilter:()=>qve,LinearMipmapLinearFilter:()=>Yf,LinearMipmapNearestFilter:()=>oN,LinearSRGBColorSpace:()=>Kc,LinearToneMapping:()=>J7,Loader:()=>Ml,LoaderUtils:()=>Z3,LoadingManager:()=>$3,LoopOnce:()=>fj,LoopPingPong:()=>mj,LoopRepeat:()=>pj,LuminanceAlphaFormat:()=>lj,LuminanceFormat:()=>aj,MOUSE:()=>Uve,Material:()=>Uo,MaterialLoader:()=>OA,MathUtils:()=>N0e,Matrix3:()=>di,Matrix4:()=>ei,MaxEquation:()=>iN,Mesh:()=>Lo,MeshBasicMaterial:()=>ep,MeshDepthMaterial:()=>_3,MeshDistanceMaterial:()=>v3,MeshLambertMaterial:()=>MX,MeshMatcapMaterial:()=>TX,MeshNormalMaterial:()=>CX,MeshPhongMaterial:()=>xX,MeshPhysicalMaterial:()=>bX,MeshStandardMaterial:()=>H3,MeshToonMaterial:()=>wX,MinEquation:()=>nN,MirroredRepeatWrapping:()=>tC,MixOperation:()=>K7,MultiplyBlending:()=>tN,MultiplyOperation:()=>Kw,NearestFilter:()=>xr,NearestMipMapLinearFilter:()=>Xve,NearestMipMapNearestFilter:()=>jve,NearestMipmapLinearFilter:()=>nC,NearestMipmapNearestFilter:()=>mE,NeverCompare:()=>bj,NeverDepth:()=>Y7,NeverStencilFunc:()=>l0e,NoBlending:()=>rh,NoColorSpace:()=>qf,NoToneMapping:()=>oh,NormalAnimationBlendMode:()=>CE,NormalBlending:()=>Nm,NotEqualCompare:()=>Tj,NotEqualDepth:()=>Z7,NotEqualStencilFunc:()=>f0e,NumberKeyframeTrack:()=>OC,Object3D:()=>zs,ObjectLoader:()=>c1e,ObjectSpaceNormalMap:()=>vj,OctahedronGeometry:()=>LC,OneFactor:()=>F7,OneMinusDstAlphaFactor:()=>H7,OneMinusDstColorFactor:()=>U7,OneMinusSrcAlphaFactor:()=>rN,OneMinusSrcColorFactor:()=>V7,OrthographicCamera:()=>ZE,PCFShadowMap:()=>QF,PCFSoftShadowMap:()=>I7,PMREMGenerator:()=>f3,Path:()=>DC,PerspectiveCamera:()=>Ro,Plane:()=>tp,PlaneGeometry:()=>vC,PlaneHelper:()=>J1e,PointLight:()=>NX,PointLightHelper:()=>Y1e,Points:()=>eX,PointsMaterial:()=>S3,PolarGridHelper:()=>X1e,PolyhedronGeometry:()=>ip,PositionalAudio:()=>y1e,PropertyBinding:()=>ks,PropertyMixer:()=>JX,QuadraticBezierCurve:()=>R3,QuadraticBezierCurve3:()=>P3,Quaternion:()=>Ja,QuaternionKeyframeTrack:()=>ay,QuaternionLinearInterpolant:()=>kX,RED_GREEN_RGTC2_Format:()=>FN,RED_RGTC1_Format:()=>hj,REVISION:()=>hE,RGBADepthPacking:()=>_j,RGBAFormat:()=>bl,RGBAIntegerFormat:()=>hN,RGBA_ASTC_10x10_Format:()=>kN,RGBA_ASTC_10x5_Format:()=>DN,RGBA_ASTC_10x6_Format:()=>EN,RGBA_ASTC_10x8_Format:()=>AN,RGBA_ASTC_12x10_Format:()=>IN,RGBA_ASTC_12x12_Format:()=>LN,RGBA_ASTC_4x4_Format:()=>yN,RGBA_ASTC_5x4_Format:()=>bN,RGBA_ASTC_5x5_Format:()=>xN,RGBA_ASTC_6x5_Format:()=>wN,RGBA_ASTC_6x6_Format:()=>CN,RGBA_ASTC_8x5_Format:()=>MN,RGBA_ASTC_8x6_Format:()=>TN,RGBA_ASTC_8x8_Format:()=>SN,RGBA_BPTC_Format:()=>xE,RGBA_ETC2_EAC_Format:()=>vN,RGBA_PVRTC_2BPPV1_Format:()=>gN,RGBA_PVRTC_4BPPV1_Format:()=>mN,RGBA_S3TC_DXT1_Format:()=>vE,RGBA_S3TC_DXT3_Format:()=>yE,RGBA_S3TC_DXT5_Format:()=>bE,RGB_BPTC_SIGNED_Format:()=>RN,RGB_BPTC_UNSIGNED_Format:()=>PN,RGB_ETC1_Format:()=>uj,RGB_ETC2_Format:()=>_N,RGB_PVRTC_2BPPV1_Format:()=>pN,RGB_PVRTC_4BPPV1_Format:()=>fN,RGB_S3TC_DXT1_Format:()=>_E,RGFormat:()=>dj,RGIntegerFormat:()=>uN,RawShaderMaterial:()=>yX,Ray:()=>O0,Raycaster:()=>N1e,RectAreaLight:()=>HX,RedFormat:()=>cj,RedIntegerFormat:()=>dN,ReinhardToneMapping:()=>ej,RenderTarget:()=>Rj,RepeatWrapping:()=>eC,ReplaceStencilOp:()=>n0e,ReverseSubtractEquation:()=>P7,RingGeometry:()=>EA,SIGNED_RED_GREEN_RGTC2_Format:()=>NN,SIGNED_RED_RGTC1_Format:()=>ON,SRGBColorSpace:()=>As,Scene:()=>k9,ShaderChunk:()=>ri,ShaderLib:()=>id,ShaderMaterial:()=>eu,ShadowMaterial:()=>vX,Shape:()=>Qm,ShapeGeometry:()=>AA,ShapePath:()=>nMe,ShapeUtils:()=>nu,ShortType:()=>rj,Skeleton:()=>aA,SkeletonHelper:()=>W1e,SkinnedMesh:()=>U9,Source:()=>Wm,Sphere:()=>Jc,SphereGeometry:()=>RC,Spherical:()=>V1e,SphericalHarmonics3:()=>zX,SplineCurve:()=>O3,SpotLight:()=>OX,SpotLightHelper:()=>U1e,Sprite:()=>P9,SpriteMaterial:()=>b3,SrcAlphaFactor:()=>sN,SrcAlphaSaturateFactor:()=>W7,SrcColorFactor:()=>N7,StaticCopyUsage:()=>b0e,StaticDrawUsage:()=>aC,StaticReadUsage:()=>_0e,StereoCamera:()=>m1e,StreamCopyUsage:()=>w0e,StreamDrawUsage:()=>g0e,StreamReadUsage:()=>y0e,StringKeyframeTrack:()=>ng,SubtractEquation:()=>R7,SubtractiveBlending:()=>eN,TOUCH:()=>Wve,TangentSpaceNormalMap:()=>Xf,TetrahedronGeometry:()=>kA,Texture:()=>Qa,TextureLoader:()=>r1e,TorusGeometry:()=>IA,TorusKnotGeometry:()=>LA,Triangle:()=>el,TriangleFanDrawMode:()=>Jve,TriangleStripDrawMode:()=>Qve,TrianglesDrawMode:()=>Kve,TubeGeometry:()=>RA,TwoPassDoubleSide:()=>$ve,UVMapping:()=>pE,Uint16BufferAttribute:()=>o3,Uint32BufferAttribute:()=>a3,Uint8BufferAttribute:()=>lye,Uint8ClampedBufferAttribute:()=>cye,Uniform:()=>eV,UniformsGroup:()=>P1e,UniformsLib:()=>Lt,UniformsUtils:()=>Zj,UnsignedByteType:()=>lh,UnsignedInt248Type:()=>Gf,UnsignedIntType:()=>ch,UnsignedShort4444Type:()=>lN,UnsignedShort5551Type:()=>cN,UnsignedShortType:()=>gE,VSMShadowMap:()=>qd,Vector2:()=>st,Vector3:()=>J,Vector4:()=>rs,VectorKeyframeTrack:()=>FC,VideoTexture:()=>_Ce,WebGL1Renderer:()=>A9,WebGL3DRenderTarget:()=>X0e,WebGLArrayRenderTarget:()=>j0e,WebGLCoordinateSystem:()=>Qd,WebGLCubeRenderTarget:()=>Qj,WebGLMultipleRenderTargets:()=>q0e,WebGLRenderTarget:()=>Qc,WebGLRenderer:()=>E9,WebGLUtils:()=>T9,WebGPUCoordinateSystem:()=>lC,WireframeGeometry:()=>mX,WrapAroundEnding:()=>rC,ZeroCurvatureEnding:()=>Hm,ZeroFactor:()=>O7,ZeroSlopeEnding:()=>zm,ZeroStencilOp:()=>t0e,_SRGBAFormat:()=>TE,createCanvasElement:()=>Ij,sRGBEncoding:()=>jf});let je=null,Ne=1;const Ue=Symbol("SIGNAL");function Ve(n){const t=je;return je=n,t}function z(n){if((!Ft(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==Ne)){if(!n.producerMustRecompute(n)&&!In(n))return n.dirty=!1,void(n.lastCleanEpoch=Ne);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Ne}}function In(n){Pn(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(z(e),i!==e.version))return!0}return!1}function _t(n,t){if(function Ln(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Pn(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)_t(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],s=n.liveConsumerNode[t];Pn(s),s.producerIndexOfThis[i]=t}}function Ft(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Pn(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let At=null;function Dn(n){return"function"==typeof n}function Na(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const $h=Na(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,s)=>`${s+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Dr(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class ti{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const r of e)r.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(Dn(i))try{i()}catch(r){t=r instanceof $h?r.errors:[r]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const r of s)try{Va(r)}catch(o){t=t??[],o instanceof $h?t=[...t,...o.errors]:t.push(o)}}if(t)throw new $h(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Va(t);else{if(t instanceof ti){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Dr(e,t)}remove(t){const{_finalizers:e}=this;e&&Dr(e,t),t instanceof ti&&t._removeParent(this)}}ti.EMPTY=(()=>{const n=new ti;return n.closed=!0,n})();const pM=ti.EMPTY;function jh(n){return n instanceof ti||n&&"closed"in n&&Dn(n.remove)&&Dn(n.add)&&Dn(n.unsubscribe)}function Va(n){Dn(n)?n():n.unsubscribe()}const rl={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},yu={setTimeout(n,t,...e){const{delegate:i}=yu;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=yu;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function mM(n){yu.setTimeout(()=>{const{onUnhandledError:t}=rl;if(!t)throw n;t(n)})}function bu(){}const DI=kp("C",void 0,void 0);function kp(n,t,e){return{kind:n,value:t,error:e}}let Mc=null;function qh(n){if(rl.useDeprecatedSynchronousErrorHandling){const t=!Mc;if(t&&(Mc={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=Mc;if(Mc=null,e)throw i}}else n()}class Ip extends ti{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,jh(t)&&t.add(this)):this.destination=gM}static create(t,e,i){return new xu(t,e,i)}next(t){this.isStopped?ib(function Xh(n){return kp("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ib(function Ap(n){return kp("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ib(DI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tb=Function.prototype.bind;function Lp(n,t){return tb.call(n,t)}class nb{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){o_(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){o_(i)}else o_(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){o_(e)}}}class xu extends Ip{constructor(t,e,i){let s;if(super(),Dn(t)||!t)s={next:t??void 0,error:e??void 0,complete:i??void 0};else{let r;this&&rl.useDeprecatedNextContext?(r=Object.create(t),r.unsubscribe=()=>this.unsubscribe(),s={next:t.next&&Lp(t.next,r),error:t.error&&Lp(t.error,r),complete:t.complete&&Lp(t.complete,r)}):s=t}this.destination=new nb(s)}}function o_(n){rl.useDeprecatedSynchronousErrorHandling?function eb(n){rl.useDeprecatedSynchronousErrorHandling&&Mc&&(Mc.errorThrown=!0,Mc.error=n)}(n):mM(n)}function ib(n,t){const{onStoppedNotification:e}=rl;e&&yu.setTimeout(()=>e(n,t))}const gM={closed:!0,next:bu,error:function EI(n){throw n},complete:bu},a_="function"==typeof Symbol&&Symbol.observable||"@@observable";function _d(n){return n}function _M(n){return 0===n.length?_d:1===n.length?n[0]:function(e){return n.reduce((i,s)=>s(i),e)}}let Qi=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,s){const r=function II(n){return n&&n instanceof Ip||function kI(n){return n&&Dn(n.next)&&Dn(n.error)&&Dn(n.complete)}(n)&&jh(n)}(e)?e:new xu(e,i,s);return qh(()=>{const{operator:o,source:a}=this;r.add(o?o.call(r,a):a?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=sb(i))((s,r)=>{const o=new xu({next:a=>{try{e(a)}catch(l){r(l),o.unsubscribe()}},error:r,complete:s});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[a_](){return this}pipe(...e){return _M(e)(this)}toPromise(e){return new(e=sb(e))((i,s)=>{let r;this.subscribe(o=>r=o,o=>s(o),()=>i(r))})}}return n.create=t=>new n(t),n})();function sb(n){var t;return null!==(t=n??rl.Promise)&&void 0!==t?t:Promise}const LI=Na(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Gt=(()=>{class n extends Qi{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new vM(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new LI}next(e){qh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){qh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){qh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:s,observers:r}=this;return i||s?pM:(this.currentObservers=null,r.push(e),new ti(()=>{this.currentObservers=null,Dr(r,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:s,isStopped:r}=this;i?e.error(s):r&&e.complete()}asObservable(){const e=new Qi;return e.source=this,e}}return n.create=(t,e)=>new vM(t,e),n})();class vM extends Gt{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:pM}}class xs extends Gt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function yM(n){return Dn(n?.lift)}function Ks(n){return t=>{if(yM(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ps(n,t,e,i,s){return new RI(n,t,e,i,s)}class RI extends Ip{constructor(t,e,i,s,r,o){super(t),this.onFinalize=r,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=s?function(a){try{s(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Vn(n,t){return Ks((e,i)=>{let s=0;e.subscribe(Ps(i,r=>{i.next(n.call(t,r,s++))}))})}const bM="https://g.co/ng/security#xss";class De extends Error{constructor(t,e){super(function wu(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Vi(n){for(let t in n)if(n[t]===Vi)return t;throw Error("Could not find renamed property on target object.")}function OI(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function mr(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(mr).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function ob(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const CM=Vi({__forward_ref__:Vi});function vi(n){return n.__forward_ref__=vi,n.toString=function(){return mr(this())},n}function Cn(n){return l_(n)?n():n}function l_(n){return"function"==typeof n&&n.hasOwnProperty(CM)&&n.__forward_ref__===vi}function ab(n){return n&&!!n.\u0275providers}const Rp=Vi({\u0275cmp:Vi}),c_=Vi({\u0275dir:Vi}),d_=Vi({\u0275pipe:Vi}),lb=Vi({\u0275mod:Vi}),ol=Vi({\u0275fac:Vi}),Pp=Vi({__NG_ELEMENT_ID__:Vi}),cb=Vi({__NG_ENV_ID__:Vi});function En(n){return"string"==typeof n?n:null==n?"":String(n)}function u_(n,t){throw new De(-201,!1)}function Be(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function cn(n){return{providers:n.providers||[],imports:n.imports||[]}}function h_(n){return cs(n,p_)||cs(n,kM)}function cs(n,t){return n.hasOwnProperty(t)?n[t]:null}function f_(n){return n&&(n.hasOwnProperty(db)||n.hasOwnProperty(YI))?n[db]:null}const p_=Vi({\u0275prov:Vi}),db=Vi({\u0275inj:Vi}),kM=Vi({ngInjectableDef:Vi}),YI=Vi({ngInjectorDef:Vi});var fi=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(fi||{});let m_;function IM(){return m_}function Yi(n){const t=m_;return m_=n,t}function ub(n,t,e){const i=h_(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&fi.Optional?null:void 0!==t?t:void u_()}const Hi=globalThis;class Xe{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Be({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const vd={},Op="__NG_DI_FLAG__",is="ngTempTokenPath",fb=/\n/gm,b_="__source";let Kh;function bd(n){const t=Kh;return Kh=n,t}function PM(n,t=fi.Default){if(void 0===Kh)throw new De(-203,!1);return null===Kh?ub(n,void 0,t):Kh.get(n,t&fi.Optional?null:void 0,t)}function be(n,t=fi.Default){return(IM()||PM)(Cn(n),t)}function Ke(n,t=fi.Default){return be(n,Fp(t))}function Fp(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function x_(n){const t=[];for(let e=0;e<n.length;e++){const i=Cn(n[e]);if(Array.isArray(i)){if(0===i.length)throw new De(900,!1);let s,r=fi.Default;for(let o=0;o<i.length;o++){const a=i[o],l=pb(a);"number"==typeof l?-1===l?s=a.token:r|=l:s=a}t.push(be(s,r))}else t.push(be(i))}return t}function Tu(n,t){return n[Op]=t,n.prototype[Op]=t,n}function pb(n){return n[Op]}function cl(n){return{toString:n}.toString()}var Qh=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Qh||{}),dl=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(dl||{});const ul={},Un=[];var St=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(St||{});function Jh(n,t,e){let i=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=t.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}e=s+1}}function w_(n,t,e){let i=0;for(;i<e.length;){const s=e[i];if("number"==typeof s){if(0!==s)break;i++;const r=e[i++],o=e[i++],a=e[i++];n.setAttribute(t,o,a,r)}else{const r=s,o=e[++i];FM(r)?n.setProperty(t,r,o):n.setAttribute(t,r,o),i++}}return i}function mb(n){return 3===n||4===n||6===n}function FM(n){return 64===n.charCodeAt(0)}function Np(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?e=s:0===e||NM(n,e,s,null,-1===e||2===e?t[++i]:null)}}return n}function NM(n,t,e,i,s){let r=0,o=n.length;if(-1===t)o=-1;else for(;r<n.length;){const a=n[r++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=r-1;break}}}for(;r<n.length;){const a=n[r];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==o&&(n.splice(o,0,t),r=o+1),n.splice(r++,0,e),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}const VM="ng-template";function qI(n,t,e){let i=0,s=!0;for(;i<n.length;){let r=n[i++];if("string"==typeof r&&s){const o=n[i++];if(e&&"class"===r&&-1!==Jh(o.toLowerCase(),t,0))return!0}else{if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}"number"==typeof r&&(s=!1)}}return!1}function Su(n){return 4===n.type&&n.value!==VM}function ZI(n,t,e){return t===(4!==n.type||e?n.value:VM)}function KI(n,t,e){let i=4;const s=n.attrs||[],r=function QI(n){for(let t=0;t<n.length;t++)if(mb(n[t]))return t;return n.length}(s);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!ZI(n,l,e)||""===l&&1===t.length){if(ta(i))return!1;o=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!qI(n.attrs,c,e)){if(ta(i))return!1;o=!0}continue}const u=BM(8&i?"class":l,s,Su(n),e);if(-1===u){if(ta(i))return!1;o=!0;continue}if(""!==c){let f;f=u>r?"":s[u+1].toLowerCase();const m=8&i?f:null;if(m&&-1!==Jh(m,c,0)||2&i&&c!==f){if(ta(i))return!1;o=!0}}}}else{if(!o&&!ta(i)&&!ta(l))return!1;if(o&&ta(l))continue;o=!1,i=l|1&i}}return ta(i)||o}function ta(n){return 0==(1&n)}function BM(n,t,e,i){if(null===t)return-1;let s=0;if(i||!e){let r=!1;for(;s<t.length;){const o=t[s];if(o===n)return s;if(3===o||6===o)r=!0;else{if(1===o||2===o){let a=t[++s];for(;"string"==typeof a;)a=t[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=r?1:2}return-1}return function JI(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Sc(n,t,e=!1){for(let i=0;i<t.length;i++)if(KI(n,t[i],e))return!0;return!1}function eL(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let s=0;s<n.length;s++)if(n[s]!==i[s])continue e;return!0}}return!1}function Du(n,t){return n?":not("+t.trim()+")":t}function hl(n){let t=n[0],e=1,i=2,s="",r=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?s+="."+o:4&i&&(s+=" "+o);else""!==s&&!ta(o)&&(t+=Du(r,s),s=""),i=o,r=r||!ta(i);e++}return""!==s&&(t+=Du(r,s)),t}function Ht(n){return cl(()=>{const t=Ji(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Qh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||dl.Emulated,styles:n.styles||Un,_:null,schemas:n.schemas||null,tView:null,id:""};M_(e);const i=n.dependencies;return e.directiveDefs=T_(i,!1),e.pipeDefs=T_(i,!0),e.id=function S_(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const s of e)t=Math.imul(31,t)+s.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function nL(n){return ge(n)||wt(n)}function iL(n){return null!==n}function fn(n){return cl(()=>({type:n.type,bootstrap:n.bootstrap||Un,declarations:n.declarations||Un,imports:n.imports||Un,exports:n.exports||Un,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Vp(n,t){if(null==n)return ul;const e={};for(const i in n)if(n.hasOwnProperty(i)){const s=n[i];let r,o,a=St.None;Array.isArray(s)?(a=s[0],r=s[1],o=s[2]??r):(r=s,o=s),t?(e[r]=a!==St.None?[i,a]:i,t[r]=o):e[r]=i}return e}function ee(n){return cl(()=>{const t=Ji(n);return M_(t),t})}function Ie(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ge(n){return n[Rp]||null}function wt(n){return n[c_]||null}function Qt(n){return n[d_]||null}function Ai(n,t){const e=n[lb]||null;if(!e&&!0===t)throw new Error(`Type ${mr(n)} does not have '\u0275mod' property.`);return e}function Ji(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||ul,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Un,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vp(n.inputs,t),outputs:Vp(n.outputs),debugInfo:null}}function M_(n){n.features?.forEach(t=>t(n))}function T_(n,t){if(!n)return null;const e=t?Qt:nL;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(iL)}const ws=0,pt=1,tn=2,Cs=3,ni=4,so=5,Ha=6,Dc=7,us=8,bo=9,Ec=10,Rn=11,za=12,Bp=13,Eu=14,hs=15,ef=16,Au=17,na=18,tf=19,nf=20,Fo=21,ku=22,Iu=23,Bn=25,gb=1,ia=7,rf=9,Gs=10;var _b=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(_b||{});function ro(n){return Array.isArray(n)&&"object"==typeof n[gb]}function ki(n){return Array.isArray(n)&&!0===n[gb]}function Er(n){return 0!=(4&n.flags)}function Lu(n){return n.componentOffset>-1}function D_(n){return 1==(1&n.flags)}function Ua(n){return!!n.template}function vb(n){return 0!=(512&n[tn])}function ra(n,t){return n.hasOwnProperty(ol)?n[ol]:null}class rL{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function zM(n,t,e,i){null!==t?t.applyValueToInputSignal(t,i):n[e]=i}function Ii(){return UM}function UM(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ac),oL}function oL(){const n=YM(this),t=n?.current;if(t){const e=n.previous;if(e===ul)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function Ac(n,t,e,i,s){const r=this.declaredInputs[i],o=YM(n)||function aL(n,t){return n[WM]=t}(n,{previous:ul,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[r];a[r]=new rL(c&&c.currentValue,e,l===ul),zM(n,t,s,e)}Ii.ngInherit=!0;const WM="__ngSimpleChanges__";function YM(n){return n[WM]||null}const Ar=function(n,t,e){},GM="svg";let jM=!1;function Li(n){for(;Array.isArray(n);)n=n[ws];return n}function $p(n,t){return Li(t[n])}function ms(n,t){return Li(t[n.index])}function jp(n,t){return n.data[t]}function af(n,t){return n[t]}function oa(n,t){const e=t[n];return ro(e)?e:e[ws]}function A_(n){return 128==(128&n[tn])}function Fl(n,t){return null==t?null:n[t]}function qM(n){n[Au]=0}function Mb(n){1024&n[tn]||(n[tn]|=1024,A_(n)&&df(n))}function cf(n){return!!(9216&n[tn]||n[Iu]?.dirty)}function Tb(n){cf(n)?df(n):64&n[tn]&&(function cL(){return jM}()?(n[tn]|=1024,df(n)):n[Ec].changeDetectionScheduler?.notify())}function df(n){n[Ec].changeDetectionScheduler?.notify();let t=kc(n);for(;null!==t&&!(8192&t[tn])&&(t[tn]|=8192,A_(t));)t=kc(t)}function k_(n,t){if(256==(256&n[tn]))throw new De(911,!1);null===n[Fo]&&(n[Fo]=[]),n[Fo].push(t)}function kc(n){const t=n[Cs];return ki(t)?t[Cs]:t}const pn={lFrame:Lb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ic(){return pn.bindingsEnabled}function Ou(){return null!==pn.skipHydrationRootTNode}function Oe(){return pn.lFrame.lView}function yi(){return pn.lFrame.tView}function ie(n){return pn.lFrame.contextLView=n,n[us]}function se(n){return pn.lFrame.contextLView=null,n}function zi(){let n=wd();for(;null!==n&&64===n.type;)n=n.parent;return n}function wd(){return pn.lFrame.currentTNode}function Ms(n,t){const e=pn.lFrame;e.currentTNode=n,e.isParent=t}function qp(){return pn.lFrame.isParent}function Sb(){pn.lFrame.isParent=!1}function xo(){const n=pn.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Nl(){return pn.lFrame.bindingIndex++}function Lc(n){const t=pn.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function mL(n,t){const e=pn.lFrame;e.bindingIndex=e.bindingRootIndex=n,R_(t)}function R_(n){pn.lFrame.currentDirectiveIndex=n}function Ab(n){const t=pn.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function eT(){return pn.lFrame.currentQueryIndex}function kb(n){pn.lFrame.currentQueryIndex=n}function tT(n){const t=n[pt];return 2===t.type?t.declTNode:1===t.type?n[so]:null}function P_(n,t,e){if(e&fi.SkipSelf){let s=t,r=n;for(;!(s=s.parent,null!==s||e&fi.Host||(s=tT(r),null===s||(r=r[Eu],10&s.type))););if(null===s)return!1;t=s,n=r}const i=pn.lFrame=O_();return i.currentTNode=t,i.lView=n,!0}function Ib(n){const t=O_(),e=n[pt];pn.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function O_(){const n=pn.lFrame,t=null===n?null:n.child;return null===t?Lb(n):t}function Lb(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Rb(){const n=pn.lFrame;return pn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Pb=Rb;function hf(){const n=Rb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Wr(){return pn.lFrame.selectedIndex}function Cd(n){pn.lFrame.selectedIndex=n}function gs(){const n=pn.lFrame;return jp(n.tView,n.selectedIndex)}function qi(){pn.lFrame.currentNamespace=GM}let iT=!0;function ff(){return iT}function On(n){iT=n}function N_(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const r=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=r;o&&(n.contentHooks??=[]).push(-e,o),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=d&&(n.destroyHooks??=[]).push(e,d)}}function Md(n,t,e){sT(n,t,3,e)}function Kp(n,t,e,i){(3&n[tn])===e&&sT(n,t,e,i)}function Ob(n,t){let e=n[tn];(3&e)===t&&(e&=16383,e+=1,n[tn]=e)}function sT(n,t,e,i){const r=i??-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[Au]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[Au]+=65536),(a<r||-1==r)&&(yL(n,e,t,l),n[Au]=(4294901760&n[Au])+l+2),l++}function ca(n,t){Ar(4,n,t);const e=Ve(null);try{t.call(n)}finally{Ve(e),Ar(5,n,t)}}function yL(n,t,e,i){const s=e[i]<0,r=e[i+1],a=n[s?-e[i]:e[i]];s?n[tn]>>14<n[Au]>>16&&(3&n[tn])===t&&(n[tn]+=16384,ca(a,r)):ca(a,r)}const Rc=-1;class Nu{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function B_(n){return n!==Rc}function Vu(n){return 32767&n}function Bu(n,t){let e=function oT(n){return n>>16}(n),i=t;for(;e>0;)i=i[Eu],e--;return i}let Qp=!0;function pl(n){const t=Qp;return Qp=n,t}const Pc=255,Vb=5;let aT=0;const Wa={};function H_(n,t){const e=Hb(n,t);if(-1!==e)return e;const i=t[pt];i.firstCreatePass&&(n.injectorIndex=t.length,Bb(i.data,n),Bb(t,null),Bb(i.blueprint,null));const s=Jp(n,t),r=n.injectorIndex;if(B_(s)){const o=Vu(s),a=Bu(s,t),l=a[pt].data;for(let c=0;c<8;c++)t[r+c]=a[o+c]|l[o+c]}return t[r+8]=s,r}function Bb(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Hb(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Jp(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,s=t;for(;null!==s;){if(i=Yb(s),null===i)return Rc;if(e++,s=s[Eu],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Rc}function zb(n,t,e){!function xL(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Pp)&&(i=e[Pp]),null==i&&(i=e[Pp]=aT++);const s=i&Pc;t.data[n+(s>>Vb)]|=1<<s}(n,t,e)}function Ub(n,t,e){if(e&fi.Optional||void 0!==n)return n;u_()}function wo(n,t,e,i){if(e&fi.Optional&&void 0===i&&(i=null),!(e&(fi.Self|fi.Host))){const s=n[bo],r=Yi(void 0);try{return s?s.get(t,i,e&fi.Optional):ub(t,i,e&fi.Optional)}finally{Yi(r)}}return Ub(i,0,e)}function ml(n,t,e,i=fi.Default,s){if(null!==n){if(2048&t[tn]&&!(i&fi.Self)){const o=function U_(n,t,e,i,s){let r=n,o=t;for(;null!==r&&null!==o&&2048&o[tn]&&!(512&o[tn]);){const a=cT(r,o,e,i|fi.Self,Wa);if(a!==Wa)return a;let l=r.parent;if(!l){const c=o[nf];if(c){const d=c.get(e,Wa,i);if(d!==Wa)return d}l=Yb(o),o=o[Eu]}r=l}return s}(n,t,e,i,Wa);if(o!==Wa)return o}const r=cT(n,t,e,i,Wa);if(r!==Wa)return r}return wo(t,e,i,s)}function cT(n,t,e,i,s){const r=function dT(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Pp)?n[Pp]:void 0;return"number"==typeof t?t>=0?t&Pc:CL:t}(e);if("function"==typeof r){if(!P_(t,n,i))return i&fi.Host?Ub(s,0,i):wo(t,e,i,s);try{let o;if(o=r(i),null!=o||i&fi.Optional)return o;u_()}finally{Pb()}}else if("number"==typeof r){let o=null,a=Hb(n,t),l=Rc,c=i&fi.Host?t[hs][so]:null;for((-1===a||i&fi.SkipSelf)&&(l=-1===a?Jp(n,t):t[a+8],l!==Rc&&uT(i,!1)?(o=t[pt],a=Vu(l),t=Bu(l,t)):a=-1);-1!==a;){const d=t[pt];if(Wb(r,a,d.data)){const u=wL(a,t,e,o,i,c);if(u!==Wa)return u}l=t[a+8],l!==Rc&&uT(i,t[pt].data[a+8]===c)&&Wb(r,a,t)?(o=d,a=Vu(l),t=Bu(l,t)):a=-1}}return s}function wL(n,t,e,i,s,r){const o=t[pt],a=o.data[n+8],d=Hu(a,o,e,null==i?Lu(a)&&Qp:i!=o&&0!=(3&a.type),s&fi.Host&&r===a);return null!==d?Ya(t,o,d,a):Wa}function Hu(n,t,e,i,s){const r=n.providerIndexes,o=t.data,a=1048575&r,l=n.directiveStart,d=r>>20,f=s?a+d:n.directiveEnd;for(let m=i?a:a+d;m<f;m++){const g=o[m];if(m<l&&e===g||m>=l&&g.type===e)return m}if(s){const m=o[l];if(m&&Ua(m)&&m.type===e)return l}return null}function Ya(n,t,e,i){let s=n[e];const r=t.data;if(function rT(n){return n instanceof Nu}(s)){const o=s;o.resolving&&function TM(n,t){throw t&&t.join(" > "),new De(-200,n)}(function Bi(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():En(n)}(r[e]));const a=pl(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Yi(o.injectImpl):null;P_(n,i,fi.Default);try{s=n[e]=o.factory(void 0,r,n,i),t.firstCreatePass&&e>=i.directiveStart&&function vL(n,t,e){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(i){const o=UM(t);(e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o)}s&&(e.preOrderHooks??=[]).push(0-n,s),r&&((e.preOrderHooks??=[]).push(n,r),(e.preOrderCheckHooks??=[]).push(n,r))}(e,r[e],t)}finally{null!==c&&Yi(c),pl(a),o.resolving=!1,Pb()}}return s}function Wb(n,t,e){return!!(e[t+(n>>Vb)]&1<<n)}function uT(n,t){return!(n&fi.Self||n&fi.Host&&t)}class Os{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return ml(this._tNode,this._lView,t,Fp(i),e)}}function CL(){return new Os(zi(),Oe())}function ss(n){return cl(()=>{const t=n.prototype.constructor,e=t[ol]||z_(t),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const r=s[ol]||z_(s);if(r&&r!==e)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function z_(n){return l_(n)?()=>{const t=z_(Cn(n));return t&&t()}:ra(n)}function Yb(n){const t=n[pt],e=t.type;return 2===e?t.declTNode:1===e?n[so]:null}function Oc(n){return function lT(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let s=0;for(;s<i;){const r=e[s];if(mb(r))break;if(0===r)s+=2;else if("number"==typeof r)for(s++;s<i&&"string"==typeof e[s];)s++;else{if(r===t)return e[s+1];s+=2}}}return null}(zi(),n)}const Fc="__parameters__";function Uu(n,t,e){return cl(()=>{const i=function mf(n){return function(...e){if(n){const i=n(...e);for(const s in i)this[s]=i[s]}}}(t);function s(...r){if(this instanceof s)return i.apply(this,r),this;const o=new s(...r);return a.annotation=o,a;function a(l,c,d){const u=l.hasOwnProperty(Fc)?l[Fc]:Object.defineProperty(l,Fc,{value:[]})[Fc];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(o),l}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}function an(n,t){n.forEach(e=>Array.isArray(e)?an(e,t):t(e))}function em(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function _f(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function ua(n,t,e){let i=Yu(n,t);return i>=0?n[1|i]=e:(i=~i,function Xb(n,t,e,i){let s=n.length;if(s==t)n.push(e,i);else if(1===s)n.push(i,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function qb(n,t){const e=Yu(n,t);if(e>=0)return n[1|e]}function Yu(n,t){return function Zb(n,t,e){let i=0,s=n.length>>e;for(;s!==i;){const r=i+(s-i>>1),o=n[r<<e];if(t===o)return r<<e;o>t?s=r:i=r+1}return~(s<<e)}(n,t,1)}const Bl=Tu(Uu("Optional"),8),Bc=Tu(Uu("SkipSelf"),4),ha=new Xe(""),wT=new Xe("",-1),X_=new Xe("");class q_{get(t,e=vd){if(e===vd){const i=new Error(`NullInjectorError: No provider for ${mr(t)}!`);throw i.name="NullInjectorError",i}return e}}function OL(...n){return{\u0275providers:CT(0,n),\u0275fromNgModule:!0}}function CT(n,...t){const e=[],i=new Set;let s;const r=o=>{e.push(o)};return an(t,o=>{const a=o;K_(a,r,[],i)&&(s||=[],s.push(a))}),void 0!==s&&MT(s,r),e}function MT(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:s}=n[e];ex(s,r=>{t(r,i)})}}function K_(n,t,e,i){if(!(n=Cn(n)))return!1;let s=null,r=f_(n);const o=!r&&ge(n);if(r||o){if(o&&!o.standalone)return!1;s=n}else{const l=n.ngModule;if(r=f_(l),!r)return!1;s=l}const a=i.has(s);if(o){if(a)return!1;if(i.add(s),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)K_(c,t,e,i)}}else{if(!r)return!1;{if(null!=r.imports&&!a){let c;i.add(s);try{an(r.imports,d=>{K_(d,t,e,i)&&(c||=[],c.push(d))})}finally{}void 0!==c&&MT(c,t)}if(!a){const c=ra(s)||(()=>new s);t({provide:s,useFactory:c,deps:Un},s),t({provide:X_,useValue:s,multi:!0},s),t({provide:ha,useValue:()=>be(s),multi:!0},s)}const l=r.providers;if(null!=l&&!a){const c=n;ex(l,d=>{t(d,c)})}}}return s!==n&&void 0!==n.providers}function ex(n,t){for(let e of n)ab(e)&&(e=e.\u0275providers),Array.isArray(e)?ex(e,t):t(e)}const FL=Vi({provide:String,useValue:Vi});function tx(n){return null!==n&&"object"==typeof n&&FL in n}function Ed(n){return"function"==typeof n}const ix=new Xe(""),Q_={},NL={};let J_;function ev(){return void 0===J_&&(J_=new q_),J_}class fa{}class bf extends fa{get destroyed(){return this._destroyed}constructor(t,e,i,s){super(),this.parent=e,this.source=i,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rx(t,o=>this.processProvider(o)),this.records.set(wT,xf(void 0,this)),s.has("environment")&&this.records.set(fa,xf(void 0,this));const r=this.records.get(ix);null!=r&&"string"==typeof r.value&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(X_,Un,fi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=bd(this),i=Yi(void 0);try{return t()}finally{bd(e),Yi(i)}}get(t,e=vd,i=fi.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(cb))return t[cb](this);i=Fp(i);const r=bd(this),o=Yi(void 0);try{if(!(i&fi.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function DT(n){return"function"==typeof n||"object"==typeof n&&n instanceof Xe}(t)&&h_(t);l=c&&this.injectableDefInScope(c)?xf(sx(t),Q_):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&fi.Self?ev():this.parent).get(t,e=i&fi.Optional&&e===vd?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[is]=a[is]||[]).unshift(mr(t)),r)throw a;return function OM(n,t,e,i){const s=n[is];throw t[b_]&&s.unshift(t[b_]),n.message=function XI(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let s=mr(t);if(Array.isArray(t))s=t.map(mr).join(" -> ");else if("object"==typeof t){let r=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];r.push(o+":"+("string"==typeof a?JSON.stringify(a):mr(a)))}s=`{${r.join(", ")}}`}return`${e}${i?"("+i+")":""}[${s}]: ${n.replace(fb,"\n  ")}`}("\n"+n.message,s,e,i),n.ngTokenPath=s,n[is]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{Yi(o),bd(r)}}resolveInjectorInitializers(){const t=bd(this),e=Yi(void 0);try{const s=this.get(ha,Un,fi.Self);for(const r of s)r()}finally{bd(t),Yi(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(mr(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(t){let e=Ed(t=Cn(t))?t:Cn(t&&t.provide);const i=function BL(n){return tx(n)?xf(void 0,n.useValue):xf(pa(n),Q_)}(t);if(!Ed(t)&&!0===t.multi){let s=this.records.get(e);s||(s=xf(void 0,Q_,!0),s.factory=()=>x_(s.multi),this.records.set(e,s)),e=t,s.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===Q_&&(e.value=NL,e.value=e.factory()),"object"==typeof e.value&&e.value&&function zL(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Cn(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function sx(n){const t=h_(n),e=null!==t?t.factory:ra(n);if(null!==e)return e;if(n instanceof Xe)throw new De(204,!1);if(n instanceof Function)return function VL(n){if(n.length>0)throw new De(204,!1);const e=function ds(n){return n&&(n[p_]||n[kM])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new De(204,!1)}function pa(n,t,e){let i;if(Ed(n)){const s=Cn(n);return ra(s)||sx(s)}if(tx(n))i=()=>Cn(n.useValue);else if(function nx(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...x_(n.deps||[]));else if(function TT(n){return!(!n||!n.useExisting)}(n))i=()=>be(Cn(n.useExisting));else{const s=Cn(n&&(n.useClass||n.provide));if(!function HL(n){return!!n.deps}(n))return ra(s)||sx(s);i=()=>new s(...x_(n.deps))}return i}function xf(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function rx(n,t){for(const e of n)Array.isArray(e)?rx(e,t):e&&ab(e)?rx(e.\u0275providers,t):t(e)}function Ad(n,t){n instanceof bf&&n.assertNotDestroyed();const i=bd(n),s=Yi(void 0);try{return t()}finally{bd(i),Yi(s)}}function IT(n,t=null,e=null,i){const s=LT(n,t,e,i);return s.resolveInjectorInitializers(),s}function LT(n,t=null,e=null,i,s=new Set){const r=[e||Un,OL(n)];return i=i||("object"==typeof n?void 0:mr(n)),new bf(r,t||ev(),i||null,s)}let cx,Fs=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=vd;static#t=this.NULL=new q_;static create(e,i){if(Array.isArray(e))return IT({name:""},i,e,"");{const s=e.name??"";return IT({name:s},e.parent,e.providers,s)}}static#n=this.\u0275prov=Be({token:n,providedIn:"any",factory:()=>be(wT)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function Id(){if(void 0!==cx)return cx;if(typeof document<"u")return document;throw new De(210,!1)}const wf=new Xe("",{providedIn:"root",factory:()=>PT}),PT="ng",OT=new Xe(""),To=new Xe("",{providedIn:"platform",factory:()=>"unknown"}),$u=new Xe(""),dx=new Xe("",{providedIn:"root",factory:()=>Id().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function ux(n){return n.ownerDocument.defaultView}function ma(n){return n instanceof Function?n():n}function ov(n){return 128==(128&n.flags)}var zc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(zc||{});const gx=/^>|^->|<!--|-->|--!>|<!-$/g,GT=/(<|>)/g,$T="\u200b$1\u200b";const av=new Map;let iR=0;const yx="__ngContext__";function oo(n,t){ro(t)?(n[yx]=t[tf],function rR(n){av.set(n[tf],n)}(t)):n[yx]=t}let bx;function xx(n,t){return bx(n,t)}function An(n,t,e,i,s){if(null!=i){let r,o=!1;ki(i)?r=i:ro(i)&&(o=!0,i=i[ws]);const a=Li(i);0===n&&null!==e?null==s?JT(t,e,a):Xu(t,e,a,s||null,!0):1===n&&null!==e?Xu(t,e,a,s||null,!0):2===n?function _v(n,t,e){const i=pv(n,t);i&&function mR(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=r&&function rS(n,t,e,i,s){const r=e[ia];r!==Li(e)&&An(t,n,i,r,s);for(let a=Gs;a<e.length;a++){const l=e[a];hm(l[pt],l,n,t,i,r)}}(t,n,r,e,s)}}function Ns(n,t){return n.createComment(function _x(n){return n.replace(gx,t=>t.replace(GT,$T))}(t))}function dv(n,t,e){return n.createElement(t,e)}function QT(n,t){hm(n,t,t[Rn],2,null,null)}function uv(n,t){const e=n[rf],i=e.indexOf(t);e.splice(i,1)}function dm(n,t){if(n.length<=Gs)return;const e=Gs+t,i=n[e];if(i){const s=i[ef];null!==s&&s!==n&&uv(s,i),t>0&&(n[e-1][ni]=i[ni]);const r=_f(n,Gs+t);!function Pd(n,t){QT(n,t),t[ws]=null,t[so]=null}(i[pt],i);const o=r[na];null!==o&&o.detachView(r[pt]),i[Cs]=null,i[ni]=null,i[tn]&=-129}return i}function Ga(n,t){if(!(256&t[tn])){const e=t[Rn];e.destroyNode&&hm(n,t,e,3,null,null),function hR(n){let t=n[za];if(!t)return hv(n[pt],n);for(;t;){let e=null;if(ro(t))e=t[za];else{const i=t[Gs];i&&(e=i)}if(!e){for(;t&&!t[ni]&&t!==n;)ro(t)&&hv(t[pt],t),t=t[Cs];null===t&&(t=n),ro(t)&&hv(t[pt],t),e=t&&t[ni]}t=e}}(t)}}function hv(n,t){if(!(256&t[tn])){t[tn]&=-129,t[tn]|=256,t[Iu]&&function qt(n){if(Pn(n),Ft(n))for(let t=0;t<n.producerNode.length;t++)_t(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(t[Iu]),function Vs(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const s=t[e[i]];if(!(s instanceof Nu)){const r=e[i+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){const a=s[r[o]],l=r[o+1];Ar(4,a,l);try{l.call(a)}finally{Ar(5,a,l)}}else{Ar(4,s,r);try{r.call(s)}finally{Ar(5,s,r)}}}}}(n,t),function fv(n,t){const e=n.cleanup,i=t[Dc];if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const o=e[r+3];o>=0?i[o]():i[-o].unsubscribe(),r+=2}else e[r].call(i[e[r+1]]);null!==i&&(t[Dc]=null);const s=t[Fo];if(null!==s){t[Fo]=null;for(let r=0;r<s.length;r++)(0,s[r])()}}(n,t),1===t[pt].type&&t[Rn].destroy();const e=t[ef];if(null!==e&&ki(t[Cs])){e!==t[Cs]&&uv(e,t);const i=t[na];null!==i&&i.detachView(n)}!function lv(n){av.delete(n[tf])}(t)}}function Ts(n,t,e){return function wx(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[ws];{const{componentOffset:s}=i;if(s>-1){const{encapsulation:r}=n.data[i.directiveStart+s];if(r===dl.None||r===dl.Emulated)return null}return ms(i,e)}}(n,t.parent,e)}function Xu(n,t,e,i,s){n.insertBefore(t,e,i,s)}function JT(n,t,e){n.appendChild(t,e)}function eS(n,t,e,i,s){null!==i?Xu(n,t,e,i,s):JT(n,t,e)}function pv(n,t){return n.parentNode(t)}function Cf(n,t,e){return nS(n,t,e)}let gv,vv,bv,nS=function mv(n,t,e){return 40&n.type?ms(n,e):null};function ao(n,t,e,i){const s=Ts(n,i,t),r=t[Rn],a=Cf(i.parent||t[so],i,t);if(null!=s)if(Array.isArray(e))for(let l=0;l<e.length;l++)eS(r,s,e[l],a,!1);else eS(r,s,e,a,!1);void 0!==gv&&gv(r,i,t,e,s)}function zl(n,t){if(null!==t){const e=t.type;if(3&e)return ms(t,n);if(4&e)return Cx(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return zl(n,i);{const s=n[t.index];return ki(s)?Cx(-1,s):Li(s)}}if(32&e)return xx(t,n)()||Li(n[t.index]);{const i=iS(n,t);return null!==i?Array.isArray(i)?i[0]:zl(kc(n[hs]),i):zl(n,t.next)}}return null}function iS(n,t){return null!==t?n[hs][so].projection[t.projection]:null}function Cx(n,t){const e=Gs+n+1;if(e<t.length){const i=t[e],s=i[pt].firstChild;if(null!==s)return zl(i,s)}return t[ia]}function Mx(n,t,e,i,s,r,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&oo(Li(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)Mx(n,t,e.child,i,s,r,!1),An(t,n,s,a,r);else if(32&l){const c=xx(e,i);let d;for(;d=c();)An(t,n,s,d,r);An(t,n,s,a,r)}else 16&l?Xn(n,t,i,e,s,r):An(t,n,s,a,r);e=o?e.projectionNext:e.next}}function hm(n,t,e,i,s,r){Mx(e,i,n.firstChild,t,s,r,!1)}function Xn(n,t,e,i,s,r){const o=e[hs],l=o[so].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)An(t,n,s,l[c],r);else{let c=l;const d=o[Cs];ov(i)&&(c.flags|=128),Mx(n,t,c,d,s,r,!0)}}function aS(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function Ui(n,t,e){const{mergedAttrs:i,classes:s,styles:r}=e;null!==i&&w_(n,t,i),null!==s&&aS(n,t,s),null!==r&&function oS(n,t,e){n.setAttribute(t,"style",e)}(n,t,r)}function Wc(n){return function yv(){if(void 0===vv&&(vv=null,Hi.trustedTypes))try{vv=Hi.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return vv}()?.createHTML(n)||n}function Tx(){if(void 0===bv&&(bv=null,Hi.trustedTypes))try{bv=Hi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return bv}function lS(n){return Tx()?.createHTML(n)||n}function dS(n){return Tx()?.createScriptURL(n)||n}class qu{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bM})`}}class yR extends qu{getTypeName(){return"HTML"}}class bR extends qu{getTypeName(){return"Style"}}class xR extends qu{getTypeName(){return"Script"}}class Sx extends qu{getTypeName(){return"URL"}}class wR extends qu{getTypeName(){return"ResourceURL"}}function Do(n){return n instanceof qu?n.changingThisBreaksApplicationSecurity:n}function Ul(n,t){const e=function CR(n){return n instanceof qu&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${bM})`)}return e===t}class hS{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Wc(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class DR{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Wc(t),e}}const AR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fm(n){return(n=String(n)).match(AR)?n:"unsafe:"+n}function Yc(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function pm(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const fS=Yc("area,br,col,hr,img,wbr"),Dx=Yc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ex=Yc("rp,rt"),Ax=pm(fS,pm(Dx,Yc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pm(Ex,Yc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pm(Ex,Dx)),Od=Yc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pS=pm(Od,Yc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kR=Yc("script,style,template");class IR{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let s=this.checkClobberedElement(e,e.nextSibling);if(s){e=s;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Ax.hasOwnProperty(e))return this.sanitizedSomething=!0,!kR.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let s=0;s<i.length;s++){const r=i.item(s),o=r.name,a=o.toLowerCase();if(!pS.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=r.value;Od[a]&&(l=fm(l)),this.buf.push(" ",o,'="',_S(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Ax.hasOwnProperty(e)&&!fS.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(_S(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const mS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gS=/([^\#-~ |!])/g;function _S(n){return n.replace(/&/g,"&amp;").replace(mS,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(gS,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xv;function vS(n,t){let e=null;try{xv=xv||function uS(n){const t=new DR(n);return function ER(){try{return!!(new window.DOMParser).parseFromString(Wc(""),"text/html")}catch{return!1}}()?new hS(t):t}(n);let i=t?String(t):"";e=xv.getInertBodyElement(i);let s=5,r=i;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,i=r,r=e.innerHTML,e=xv.getInertBodyElement(i)}while(i!==r);return Wc((new IR).sanitizeChildren(kx(e)||e))}finally{if(e){const i=kx(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function kx(n){return"content"in n&&function LR(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Yr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Yr||{});function yS(n){const t=mm();return t?lS(t.sanitize(Yr.HTML,n)||""):Ul(n,"HTML")?lS(Do(n)):vS(Id(),En(n))}function Ix(n){const t=mm();return t?t.sanitize(Yr.URL,n)||"":Ul(n,"URL")?Do(n):fm(En(n))}function bS(n){const t=mm();if(t)return dS(t.sanitize(Yr.RESOURCE_URL,n)||"");if(Ul(n,"ResourceURL"))return dS(Do(n));throw new De(904,!1)}function mm(){const n=Oe();return n&&n[Ec].sanitizer}class Lx{}let wS=()=>null;function vm(n,t,e=!1){return wS(n,t,e)}class YR{}class SS{}class $R{resolveComponentFactory(t){throw function GR(n){const t=Error(`No component factory found for ${mr(n)}.`);return t.ngComponent=n,t}(t)}}let Nd=(()=>{class n{static#e=this.NULL=new $R}return n})();function jR(){return Df(zi(),Oe())}function Df(n,t){return new gn(ms(n,t))}let gn=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=jR}return n})();function XR(n){return n instanceof gn?n.nativeElement:n}class Ev{}let Js=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function qR(){const n=Oe(),e=oa(zi().index,n);return(ro(e)?e:n)[Rn]}()}return n})(),ZR=(()=>{class n{static#e=this.\u0275prov=Be({token:n,providedIn:"root",factory:()=>null})}return n})();const Ux={};function V(n){const t=Ve(null);try{return n()}finally{Ve(t)}}function ne(n){return!!$e(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function $e(n){return null!==n&&("function"==typeof n||"object"==typeof n)}class qe{constructor(){}supports(t){return ne(t)}create(t){return new Rt(t)}}const rt=(n,t)=>t;class Rt{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||rt}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,s=0,r=null;for(;e||i;){const o=!i||e&&e.currentIndex<_n(i,s,r)?e:i,a=_n(o,s,r),l=o.currentIndex;if(o===i)s--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)s++;else{r||(r=[]);const c=a-s,d=l-s;if(c!=d){for(let f=0;f<c;f++){const m=f<r.length?r[f]:r[f]=0,g=m+f;d<=g&&g<c&&(r[f]=m+1)}r[o.previousIndex]=d-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ne(t))throw new De(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,r,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)r=t[a],o=this._trackByFn(a,r),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,r,o,a)),Object.is(e.item,r)||this._addIdentityChange(e,r)):(e=this._mismatch(e,r,o,a),i=!0),e=e._next}else s=0,function ve(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(s,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,s)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,s),i=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,s)):t=this._addAfter(new Jt(e,i),r,s),t}_verifyReinsertion(t,e,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Qn),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Jt{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class Qn{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new bn,this.map.set(e,i)),i.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _n(n,t,e){const i=n.previousIndex;if(null===i)return i;let s=0;return e&&i<e.length&&(s=e[i]),i+t+s}class ci{constructor(){}supports(t){return t instanceof Map||$e(t)}create(){return new xi}}class xi{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||$e(t)))throw new De(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(s,i);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const r=s._prev,o=s._next;return r&&(r._next=o),o&&(o._prev=r),s._next=null,s._prev=null,s}const i=new ga(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class ga{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function co(){return new Eo([new qe])}let Eo=(()=>{class n{static#e=this.\u0275prov=Be({token:n,providedIn:"root",factory:co});constructor(e){this.factories=e}static create(e,i){if(null!=i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||co()),deps:[[n,new Bc,new Bl]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(null!=i)return i;throw new De(901,!1)}}return n})();function ja(){return new Xa([new ci])}let Xa=(()=>{class n{static#e=this.\u0275prov=Be({token:n,providedIn:"root",factory:ja});constructor(e){this.factories=e}static create(e,i){if(i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||ja()),deps:[[n,new Bc,new Bl]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new De(901,!1)}}return n})();function Wx(n,t,e,i,s=!1){for(;null!==e;){const r=t[e.index];null!==r&&i.push(Li(r)),ki(r)&&Iz(r,i);const o=e.type;if(8&o)Wx(n,t,e.child,i);else if(32&o){const a=xx(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=iS(t,e);if(Array.isArray(a))i.push(...a);else{const l=kc(t[hs]);Wx(l[pt],l,a,i,!0)}}e=s?e.projectionNext:e.next}return i}function Iz(n,t){for(let e=Gs;e<n.length;e++){const i=n[e],s=i[pt].firstChild;null!==s&&Wx(i[pt],i,s,t)}n[ia]!==n[ws]&&t.push(n[ia])}let Lz=[];const yre={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{df(n.lView)},consumerOnSignalRead(){this.lView[Iu]=this}};function Rz(n){return Oz(n[za])}function Pz(n){return Oz(n[ni])}function Oz(n){for(;null!==n&&!ki(n);)n=n[ni];return n}function KR(n){return n.ngOriginalError}class Wl{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&KR(t);for(;e&&KR(e);)e=KR(e);return e||null}}const Nz=new Xe("",{providedIn:"root",factory:()=>Ke(Wl).handleError.bind(void 0)}),Bz=new Xe("",{providedIn:"root",factory:()=>!1}),qn={};function I(n=1){Wz(yi(),Oe(),Wr()+n,!1)}function Wz(n,t,e,i){if(!i)if(3==(3&t[tn])){const r=n.preOrderCheckHooks;null!==r&&Md(t,r,e)}else{const r=n.preOrderHooks;null!==r&&Kp(t,r,0,e)}Cd(e)}function K(n,t=fi.Default){const e=Oe();return null===e?be(n,t):ml(zi(),e,Cn(n),t)}function kS(){throw new Error("invalid")}function Yz(n,t,e,i,s,r){const o=Ve(null);try{let a=null;s&St.SignalBased&&(a=t[i][Ue]),null!==a&&void 0!==a.transformFn&&(r=a.transformFn(r)),s&St.HasDecoratorInputTransform&&(r=n.inputTransforms[i].call(t,r)),null!==n.setInput?n.setInput(t,a,r,e,i):zM(t,a,i,r)}finally{Ve(o)}}function IS(n,t,e,i,s,r,o,a,l,c,d){const u=t.blueprint.slice();return u[ws]=s,u[tn]=204|i,(null!==c||n&&2048&n[tn])&&(u[tn]|=2048),qM(u),u[Cs]=u[Eu]=n,u[us]=e,u[Ec]=o||n&&n[Ec],u[Rn]=a||n&&n[Rn],u[bo]=l||n&&n[bo]||null,u[so]=r,u[tf]=function sR(){return iR++}(),u[Ha]=d,u[nf]=c,u[hs]=2==t.type?n[hs]:u,u}function Av(n,t,e,i,s){let r=n.data[t];if(null===r)r=function QR(n,t,e,i,s){const r=wd(),o=qp(),l=n.data[t]=function Pre(n,t,e,i,s,r){let o=t?t.injectorIndex:-1,a=0;return Ou()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,e,t,i,s);return null===n.firstChild&&(n.firstChild=l),null!==r&&(o?null==r.child&&null!==l.parent&&(r.child=l):null===r.next&&(r.next=l,l.prev=r)),l}(n,t,e,i,s),function Zp(){return pn.lFrame.inI18n}()&&(r.flags|=32);else if(64&r.type){r.type=e,r.value=i,r.attrs=s;const o=function uf(){const n=pn.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();r.injectorIndex=null===o?-1:o.injectorIndex}return Ms(r,!0),r}function Yx(n,t,e,i){if(0===e)return-1;const s=t.length;for(let r=0;r<e;r++)t.push(i),n.blueprint.push(i),n.data.push(null);return s}function Gz(n,t,e,i,s){const r=Wr(),o=2&i;try{Cd(-1),o&&t.length>Bn&&Wz(n,t,Bn,!1),Ar(o?2:0,s),e(i,s)}finally{Cd(r),Ar(o?3:1,s)}}function JR(n,t,e){if(Er(t)){const i=Ve(null);try{const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}finally{Ve(i)}}}function eP(n,t,e){Ic()&&(function zre(n,t,e,i){const s=e.directiveStart,r=e.directiveEnd;Lu(e)&&function Xre(n,t,e){const i=ms(t,n),s=$z(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const a=LS(n,IS(n,s,null,o,i,t,null,n[Ec].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[s+e.componentOffset]),n.firstCreatePass||H_(e,t),oo(i,t);const o=e.initialInputs;for(let a=s;a<r;a++){const l=n.data[a],c=Ya(t,n,a,e);oo(c,t),null!==o&&qre(0,a-s,c,l,0,o),Ua(l)&&(oa(e.index,t)[us]=Ya(t,n,a,e))}}(n,t,e,ms(e,t)),64==(64&e.flags)&&Kz(n,t,e))}function tP(n,t,e=ms){const i=t.localNames;if(null!==i){let s=t.index+1;for(let r=0;r<i.length;r+=2){const o=i[r+1],a=-1===o?e(t,n):n[o];n[s++]=a}}}function $z(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=nP(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function nP(n,t,e,i,s,r,o,a,l,c,d){const u=Bn+i,f=u+s,m=function Ere(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:qn);return e}(u,f),g="function"==typeof c?c():c;return m[pt]={type:n,blueprint:m,template:e,queries:null,viewQuery:a,declTNode:t,data:m.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:d}}let jz=()=>null;function Xz(n,t,e,i,s){for(let r in t){if(!t.hasOwnProperty(r))continue;const o=t[r];if(void 0===o)continue;i??={};let a,l=St.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=r;if(null!==s){if(!s.hasOwnProperty(r))continue;c=s[r]}0===n?qz(i,e,c,a,l):qz(i,e,c,a)}return i}function qz(n,t,e,i,s){let r;n.hasOwnProperty(e)?(r=n[e]).push(t,i):r=n[e]=[t,i],void 0!==s&&r.push(s)}function vl(n,t,e,i,s,r,o,a){const l=ms(t,e);let d,c=t.inputs;!a&&null!=c&&(d=c[i])?(aP(n,e,d,i,s),Lu(t)&&function Nre(n,t){const e=oa(t,n);16&e[tn]||(e[tn]|=64)}(e,t.index)):3&t.type&&(i=function Fre(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=o?o(s,t.value||"",i):s,r.setProperty(l,i,s))}function iP(n,t,e,i){if(Ic()){const s=null===i?null:{"":-1},r=function Wre(n,t){const e=n.directiveRegistry;let i=null,s=null;if(e)for(let r=0;r<e.length;r++){const o=e[r];if(Sc(t,o.selectors,!1))if(i||(i=[]),Ua(o))if(null!==o.findHostDirectiveDefs){const a=[];s=s||new Map,o.findHostDirectiveDefs(o,a,s),i.unshift(...a,o),sP(n,t,a.length)}else i.unshift(o),sP(n,t,0);else s=s||new Map,o.findHostDirectiveDefs?.(o,i,s),i.push(o)}return null===i?null:[i,s]}(n,e);let o,a;null===r?o=a=null:[o,a]=r,null!==o&&Zz(n,t,e,o,s,a),s&&function Yre(n,t,e){if(t){const i=n.localNames=[];for(let s=0;s<t.length;s+=2){const r=e[t[s+1]];if(null==r)throw new De(-301,!1);i.push(t[s],r)}}}(e,i,s)}e.mergedAttrs=Np(e.mergedAttrs,e.attrs)}function Zz(n,t,e,i,s,r){for(let c=0;c<i.length;c++)zb(H_(e,t),n,i[c].type);!function $re(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const d=i[c];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=Yx(n,t,i.length,null);for(let c=0;c<i.length;c++){const d=i[c];e.mergedAttrs=Np(e.mergedAttrs,d.hostAttrs),jre(n,e,t,l,d),Gre(l,d,s),null!==d.contentQueries&&(e.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=64);const u=d.type.prototype;!o&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),o=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function Ore(n,t,e){const s=t.directiveEnd,r=n.data,o=t.attrs,a=[];let l=null,c=null;for(let d=t.directiveStart;d<s;d++){const u=r[d],f=e?e.get(u):null,g=f?f.outputs:null;l=Xz(0,u.inputs,d,l,f?f.inputs:null),c=Xz(1,u.outputs,d,c,g);const v=null===l||null===o||Su(t)?null:Zre(l,d,o);a.push(v)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,r)}function Kz(n,t,e){const i=e.directiveStart,s=e.directiveEnd,r=e.index,o=function Eb(){return pn.lFrame.currentDirectiveIndex}();try{Cd(r);for(let a=i;a<s;a++){const l=n.data[a],c=t[a];R_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Ure(l,c)}}finally{Cd(-1),R_(o)}}function Ure(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function sP(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function Gre(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Ua(t)&&(e[""]=n)}}function jre(n,t,e,i,s){n.data[i]=s;const r=s.factory||(s.factory=ra(s.type)),o=new Nu(r,Ua(s),K);n.blueprint[i]=o,e[i]=o,function Bre(n,t,e,i,s){const r=s.hostBindings;if(r){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~t.index;(function Hre(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,i,r)}}(n,t,i,Yx(n,e,s.hostVars,qn),s)}function Vd(n,t,e,i,s,r){const o=ms(n,t);!function rP(n,t,e,i,s,r,o){if(null==r)n.removeAttribute(t,s,e);else{const a=null==o?En(r):o(r,i||"",s);n.setAttribute(t,s,a,e)}}(t[Rn],o,r,n.value,e,i,s)}function qre(n,t,e,i,s,r){const o=r[t];if(null!==o)for(let a=0;a<o.length;)Yz(i,e,o[a++],o[a++],o[a++],o[a++])}function Zre(n,t,e){let i=null,s=0;for(;s<e.length;){const r=e[s];if(0!==r)if(5!==r){if("number"==typeof r)break;if(n.hasOwnProperty(r)){null===i&&(i=[]);const o=n[r];for(let a=0;a<o.length;a+=3)if(o[a]===t){i.push(r,o[a+1],o[a+2],e[s+1]);break}}s+=2}else s+=2;else s+=4}return i}function Qz(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function Jz(n,t){const e=n.contentQueries;if(null!==e){const i=Ve(null);try{for(let s=0;s<e.length;s+=2){const o=e[s+1];if(-1!==o){const a=n.data[o];kb(e[s]),a.contentQueries(2,t[o],o)}}}finally{Ve(i)}}}function LS(n,t){return n[za]?n[Bp][ni]=t:n[za]=t,n[Bp]=t,t}function oP(n,t,e){kb(0);const i=Ve(null);try{t(n,e)}finally{Ve(i)}}function eU(n){return n[Dc]||(n[Dc]=[])}function tU(n){return n.cleanup||(n.cleanup=[])}function nU(n,t,e){return(null===n||Ua(n))&&(e=function Cb(n){for(;Array.isArray(n);){if("object"==typeof n[gb])return n;n=n[ws]}return null}(e[t.index])),e[Rn]}function RS(n,t){const e=n[bo],i=e?e.get(Wl,null):null;i&&i.handleError(t)}function aP(n,t,e,i,s){for(let r=0;r<e.length;){const o=e[r++],a=e[r++],l=e[r++];Yz(n.data[o],t[o],i,a,l,s)}}function Ku(n,t,e){const i=$p(t,n);!function So(n,t,e){n.setValue(t,e)}(n[Rn],i,e)}function PS(n,t=!0,e=0){const i=n[Ec],s=i.rendererFactory;s.begin?.();try{!function Kre(n,t){lP(n,t);let e=0;for(;cf(n);){if(100===e)throw new De(103,!1);e++,lP(n,1)}}(n,e)}catch(o){throw t&&RS(n,o),o}finally{s.end?.(),i.inlineEffectRunner?.flush()}}function Qre(n,t,e,i){const s=t[tn];if(256==(256&s))return;t[Ec].inlineEffectRunner?.flush(),Ib(t);let o=null,a=null;(function Jre(n){return 2!==n.type})(n)&&(a=function gre(n){return n[Iu]??function _re(n){const t=Lz.pop()??Object.create(yre);return t.lView=n,t}(n)}(t),o=function yn(n){return n&&(n.nextProducerIndex=0),Ve(n)}(a));try{qM(t),function Db(n){return pn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Gz(n,t,e,2,i);const l=3==(3&s);if(l){const u=n.preOrderCheckHooks;null!==u&&Md(t,u,null)}else{const u=n.preOrderHooks;null!==u&&Kp(t,u,0,null),Ob(t,0)}if(function eoe(n){for(let t=Rz(n);null!==t;t=Pz(t)){if(!(t[tn]&_b.HasTransplantedViews))continue;const e=t[rf];for(let i=0;i<e.length;i++){Mb(e[i])}}}(t),sU(t,0),null!==n.contentQueries&&Jz(n,t),l){const u=n.contentCheckHooks;null!==u&&Md(t,u)}else{const u=n.contentHooks;null!==u&&Kp(t,u,1),Ob(t,1)}!function Dre(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)Cd(~s);else{const r=s,o=e[++i],a=e[++i];mL(o,r),a(2,t[r])}}}finally{Cd(-1)}}(n,t);const c=n.components;null!==c&&oU(t,c,0);const d=n.viewQuery;if(null!==d&&oP(2,d,i),l){const u=n.viewCheckHooks;null!==u&&Md(t,u)}else{const u=n.viewHooks;null!==u&&Kp(t,u,2),Ob(t,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[ku]){for(const u of t[ku])u();t[ku]=null}t[tn]&=-73}catch(l){throw df(t),l}finally{null!==a&&(function ht(n,t){if(Ve(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Ft(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)_t(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,o),function vre(n){n.lView[Iu]!==n&&(n.lView=null,Lz.push(n))}(a)),hf()}}function sU(n,t){for(let e=Rz(n);null!==e;e=Pz(e))for(let i=Gs;i<e.length;i++)rU(e[i],t)}function toe(n,t,e){rU(oa(t,n),e)}function rU(n,t){A_(n)&&lP(n,t)}function lP(n,t){const i=n[pt],s=n[tn],r=n[Iu];let o=!!(0===t&&16&s);if(o||=!!(64&s&&0===t),o||=!!(1024&s),o||=!(!r?.dirty||!In(r)),r&&(r.dirty=!1),n[tn]&=-9217,o)Qre(i,n,i.template,n[us]);else if(8192&s){sU(n,1);const a=i.components;null!==a&&oU(n,a,1)}}function oU(n,t,e){for(let i=0;i<t.length;i++)toe(n,t[i],e)}function Gx(n){for(n[Ec].changeDetectionScheduler?.notify();n;){n[tn]|=64;const t=kc(n);if(vb(n)&&!t)return n;n=t}return null}class $x{get rootNodes(){const t=this._lView,e=t[pt];return Wx(e,t,e.firstChild,[])}constructor(t,e,i=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[us]}set context(t){this._lView[us]=t}get destroyed(){return 256==(256&this._lView[tn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Cs];if(ki(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(dm(t,i),_f(e,i))}this._attachedToViewContainer=!1}Ga(this._lView[pt],this._lView)}onDestroy(t){k_(this._lView,t)}markForCheck(){Gx(this._cdRefInjectingView||this._lView)}detach(){this._lView[tn]&=-129}reattach(){Tb(this._lView),this._lView[tn]|=128}detectChanges(){this._lView[tn]|=1024,PS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,QT(this._lView[pt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=t,Tb(this._lView)}}let er=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=noe}return n})();function noe(n){return function ioe(n,t,e){if(Lu(n)&&!e){const i=oa(n.index,t);return new $x(i,i)}return 47&n.type?new $x(t[hs],t):null}(zi(),Oe(),16==(16&n))}let OS=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=aoe;static#t=this.__NG_ENV_ID__=e=>e}return n})();class ooe extends OS{constructor(t){super(),this._lView=t}onDestroy(t){return k_(this._lView,t),()=>function fl(n,t){if(null===n[Fo])return;const e=n[Fo].indexOf(t);-1!==e&&n[Fo].splice(e,1)}(this._lView,t)}}function aoe(){return new ooe(Oe())}const aU=new Set;function bm(n){aU.has(n)||(aU.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function cP(n){return t=>{setTimeout(n,void 0,t)}}const Fe=class foe extends Gt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let s=t,r=e||(()=>null),o=i;if(t&&"object"==typeof t){const l=t;s=l.next?.bind(l),r=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(r=cP(r),s&&(s=cP(s)),o&&(o=cP(o)));const a=super.subscribe({next:s,error:r,complete:o});return t instanceof ti&&t.add(a),a}};function lU(...n){}class ln{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&e,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function poe(){const n="function"==typeof Hi.requestAnimationFrame;let t=Hi[n?"requestAnimationFrame":"setTimeout"],e=Hi[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const s=e[Zone.__symbol__("OriginalDelegate")];s&&(e=s)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function _oe(n){const t=()=>{!function goe(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Hi,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,uP(n),n.isCheckStableRunning=!0,dP(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),uP(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,s,r,o,a)=>{if(function voe(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(s,r,o,a);try{return cU(n),e.invokeTask(s,r,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&t(),dU(n)}},onInvoke:(e,i,s,r,o,a,l)=>{try{return cU(n),e.invoke(s,r,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),dU(n)}},onHasTask:(e,i,s,r)=>{e.hasTask(s,r),i===s&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,uP(n),dP(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,i,s,r)=>(e.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ln.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(ln.isInAngularZone())throw new De(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,s){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+s,t,moe,lU,lU);try{return r.runTask(o,e,i)}finally{r.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const moe={};function dP(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function uP(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function cU(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function dU(n){n._nesting--,dP(n)}class uU{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,s){return t.apply(e,i)}}var xm=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(xm||{});const hU={destroy(){}};function pU(n,t){!t&&function ox(n){if(!IM()&&!function jI(){return Kh}())throw new De(-203,!1)}();const e=t?.injector??Ke(Fs);if(!function Ld(n){return"browser"===(n??Ke(Fs)).get(To)}(e))return hU;bm("NgAfterNextRender");const i=e.get(jx),s=i.handler??=new gU,r=t?.phase??xm.MixedReadWrite,o=()=>{s.unregister(l),a()},a=e.get(OS).onDestroy(o),l=new mU(e,r,()=>{o(),n()});return s.register(l),{destroy:o}}class mU{constructor(t,e,i){this.phase=e,this.callbackFn=i,this.zone=t.get(ln),this.errorHandler=t.get(Wl,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class gU{constructor(){this.executingCallbacks=!1,this.buckets={[xm.EarlyRead]:new Set,[xm.Write]:new Set,[xm.MixedReadWrite]:new Set,[xm.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const e of t)e.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let jx=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){const e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of e)i();this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Be({token:n,providedIn:"root",factory:()=>new n})}return n})();function xoe(n,t){const e=oa(t,n),i=e[pt];!function woe(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const s=e[ws];null!==s&&null===e[Ha]&&(e[Ha]=vm(s,e[bo])),hP(i,e,e[us])}function hP(n,t,e){Ib(t);try{const i=n.viewQuery;null!==i&&oP(1,i,e);const s=n.template;null!==s&&Gz(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Jz(n,t),n.staticViewQueries&&oP(2,n.viewQuery,e);const r=n.components;null!==r&&function Coe(n,t){for(let e=0;e<t.length;e++)xoe(n,t[e])}(t,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[tn]&=-5,hf()}}function FS(n,t,e){let i=e?n.styles:null,s=e?n.classes:null,r=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:1==r?s=ob(s,a):2==r&&(i=ob(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=s:n.classesWithoutHost=s}class _U extends Nd{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ge(t);return new Xx(e,this.ngModule)}}function vU(n){const t=[];for(const e in n){if(!n.hasOwnProperty(e))continue;const i=n[e];void 0!==i&&t.push({propName:Array.isArray(i)?i[0]:i,templateName:e})}return t}class Toe{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=Fp(i);const s=this.injector.get(t,Ux,i);return s!==Ux||e===Ux?s:this.parentInjector.get(t,e,i)}}class Xx extends SS{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=vU(t.inputs);if(null!==e)for(const s of i)e.hasOwnProperty(s.propName)&&(s.transform=e[s.propName]);return i}get outputs(){return vU(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function HM(n){return n.map(hl).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,s){let r=(s=s||this.ngModule)instanceof fa?s:s?.injector;r&&null!==this.componentDef.getStandaloneInjector&&(r=this.componentDef.getStandaloneInjector(r)||r);const o=r?new Toe(t,r):t,a=o.get(Ev,null);if(null===a)throw new De(407,!1);const u={rendererFactory:a,sanitizer:o.get(ZR,null),inlineEffectRunner:null,afterRenderEventManager:o.get(jx,null),changeDetectionScheduler:o.get(Lx,null)},f=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",g=i?function Are(n,t,e,i){const r=i.get(Bz,!1)||e===dl.ShadowDom,o=n.selectRootElement(t,r);return function kre(n){jz(n)}(o),o}(f,i,this.componentDef.encapsulation,o):dv(f,m,function Moe(n){const t=n.toLowerCase();return"svg"===t?GM:"math"===t?"math":null}(m));let v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let _=null;null!==g&&(_=vm(g,o,!0));const y=nP(0,null,null,1,0,null,null,null,null,null,null),C=IS(null,y,null,v,null,null,u,f,o,null,_);let w,S;Ib(C);try{const R=this.componentDef;let O,H=null;R.findHostDirectiveDefs?(O=[],H=new Map,R.findHostDirectiveDefs(R,O,H),O.push(R)):O=[R];const $=function Doe(n,t){const e=n[pt],i=Bn;return n[i]=t,Av(e,i,2,"#host",null)}(C,g),F=function Eoe(n,t,e,i,s,r,o){const a=s[pt];!function Aoe(n,t,e,i){for(const s of n)t.mergedAttrs=Np(t.mergedAttrs,s.hostAttrs);null!==t.mergedAttrs&&(FS(t,t.mergedAttrs,!0),null!==e&&Ui(i,e,t))}(i,n,t,o);let l=null;null!==t&&(l=vm(t,s[bo]));const c=r.rendererFactory.createRenderer(t,e);let d=16;e.signals?d=4096:e.onPush&&(d=64);const u=IS(s,$z(e),null,d,s[n.index],n,r,c,null,null,l);return a.firstCreatePass&&sP(a,n,i.length-1),LS(s,u),s[n.index]=u}($,g,R,O,C,u,f);S=jp(y,Bn),g&&function Ioe(n,t,e,i){if(i)w_(n,e,["ng-version","17.1.3"]);else{const{attrs:s,classes:r}=function tL(n){const t=[],e=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&t.push(r,n[++i]):8===s&&e.push(r);else{if(!ta(s))break;s=r}i++}return{attrs:t,classes:e}}(t.selectors[0]);s&&w_(n,e,s),r&&r.length>0&&aS(n,e,r.join(" "))}}(f,R,g,i),void 0!==e&&function Loe(n,t,e){const i=n.projection=[];for(let s=0;s<t.length;s++){const r=e[s];i.push(null!=r?Array.from(r):null)}}(S,this.ngContentSelectors,e),w=function koe(n,t,e,i,s,r){const o=zi(),a=s[pt],l=ms(o,s);Zz(a,s,o,e,null,i);for(let d=0;d<e.length;d++)oo(Ya(s,a,o.directiveStart+d,o),s);Kz(a,s,o),l&&oo(l,s);const c=Ya(s,a,o.directiveStart+o.componentOffset,o);if(n[us]=s[us]=c,null!==r)for(const d of r)d(c,t);return JR(a,o,n),c}(F,R,O,H,C,[Roe]),hP(y,C,null)}finally{hf()}return new Soe(this.componentType,w,Df(S,C),C,S)}}class Soe extends YR{constructor(t,e,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new $x(s,void 0,!1),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let s;if(null!==i&&(s=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const r=this._rootLView;aP(r[pt],r,s,t,e),this.previousInputValues.set(t,e),Gx(oa(this._tNode.index,r))}}get injector(){return new Os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Roe(){const n=zi();N_(Oe()[pt],n)}function Jn(n){let t=function yU(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let s;if(Ua(n))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new De(903,!1);s=t.\u0275dir}if(s){if(e){i.push(s);const o=n;o.inputs=NS(n.inputs),o.inputTransforms=NS(n.inputTransforms),o.declaredInputs=NS(n.declaredInputs),o.outputs=NS(n.outputs);const a=s.hostBindings;a&&Voe(n,a);const l=s.viewQuery,c=s.contentQueries;if(l&&Foe(n,l),c&&Noe(n,c),Poe(n,s),OI(n.outputs,s.outputs),Ua(s)&&s.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let o=0;o<r.length;o++){const a=r[o];a&&a.ngInherit&&a(n),a===Jn&&(e=!1)}}t=Object.getPrototypeOf(t)}!function Ooe(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=t+=s.hostVars,s.hostAttrs=Np(s.hostAttrs,e=Np(e,s.hostAttrs))}}(i)}function Poe(n,t){for(const e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;const i=t.inputs[e];if(void 0!==i&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e],null!==t.inputTransforms)){const s=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(s))continue;n.inputTransforms??={},n.inputTransforms[s]=t.inputTransforms[s]}}}function NS(n){return n===ul?{}:n===Un?[]:n}function Foe(n,t){const e=n.viewQuery;n.viewQuery=e?(i,s)=>{t(i,s),e(i,s)}:t}function Noe(n,t){const e=n.contentQueries;n.contentQueries=e?(i,s,r)=>{t(i,s,r),e(i,s,r)}:t}function Voe(n,t){const e=n.hostBindings;n.hostBindings=e?(i,s)=>{t(i,s),e(i,s)}:t}function Yl(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const s=t[i];Array.isArray(s)&&s[3]&&(e[i]=s[3])}n.inputTransforms=e}let EU=()=>null;function kv(n,t){return EU(n,t)}function Jx(n,t,e,i){const s=t.tView,a=IS(n,s,e,4096&n[tn]?4096:16,null,t,null,null,null,i?.injector??null,i?.dehydratedView??null);a[ef]=n[t.index];const c=n[na];return null!==c&&(a[na]=c.createEmbeddedView(s)),hP(s,a,e),a}function AU(n,t){const e=Gs+t;if(e<n.length)return n[e]}function Iv(n,t){return!t||null===t.firstChild||ov(n)}function ew(n,t,e,i=!0){const s=t[pt];if(function fR(n,t,e,i){const s=Gs+i,r=e.length;i>0&&(e[s-1][ni]=t),i<r-Gs?(t[ni]=e[s],em(e,Gs+i,t)):(e.push(t),t[ni]=null),t[Cs]=e;const o=t[ef];null!==o&&e!==o&&function pR(n,t){const e=n[rf];t[hs]!==t[Cs][Cs][hs]&&(n[tn]|=_b.HasTransplantedViews),null===e?n[rf]=[t]:e.push(t)}(o,t);const a=t[na];null!==a&&a.insertView(n),Tb(t),t[tn]|=128}(s,t,n,e),i){const o=Cx(e,n),a=t[Rn],l=pv(a,n[ia]);null!==l&&function uR(n,t,e,i,s,r){i[ws]=s,i[so]=t,hm(n,i,e,1,s,r)}(s,n[so],a,t,l,o)}const r=t[Ha];null!==r&&null!==r.firstChild&&(r.firstChild=null)}function vP(n,t){const e=dm(n,t);return void 0!==e&&Ga(e[pt],e),e}let Ao=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=uae}return n})();function uae(){return LU(zi(),Oe())}const hae=Ao,kU=class extends hae{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Df(this._hostTNode,this._hostLView)}get injector(){return new Os(this._hostTNode,this._hostLView)}get parentInjector(){const t=Jp(this._hostTNode,this._hostLView);if(B_(t)){const e=Bu(t,this._hostLView),i=Vu(t);return new Os(e[pt].data[i+8],e)}return new Os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=IU(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Gs}createEmbeddedView(t,e,i){let s,r;"number"==typeof i?s=i:null!=i&&(s=i.index,r=i.injector);const o=kv(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},r,o);return this.insertImpl(a,s,Iv(this._hostTNode,o)),a}createComponent(t,e,i,s,r){const o=t&&!function Wu(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const g=e||{};a=g.index,i=g.injector,s=g.projectableNodes,r=g.environmentInjector||g.ngModuleRef}const l=o?t:new Xx(ge(t)),c=i||this.parentInjector;if(!r&&null==l.ngModule){const v=(o?c:this.parentInjector).get(fa,null);v&&(r=v)}const d=ge(l.componentType??{}),u=kv(this._lContainer,d?.id??null),m=l.create(c,s,u?.firstChild??null,r);return this.insertImpl(m.hostView,a,Iv(this._hostTNode,u)),m}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){const s=t._lView;if(function XM(n){return ki(n[Cs])}(s)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=s[Cs],c=new kU(l,l[so],l[Cs]);c.detach(c.indexOf(t))}}const r=this._adjustIndex(e),o=this._lContainer;return ew(o,s,r,i),t.attachToViewContainerRef(),em(yP(o),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=IU(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=dm(this._lContainer,e);i&&(_f(yP(this._lContainer),e),Ga(i[pt],i))}detach(t){const e=this._adjustIndex(t,-1),i=dm(this._lContainer,e);return i&&null!=_f(yP(this._lContainer),e)?new $x(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function IU(n){return n[8]}function yP(n){return n[8]||(n[8]=[])}function LU(n,t){let e;const i=t[n.index];return ki(i)?e=i:(e=Qz(i,t,null,n),t[n.index]=e,LS(t,e)),RU(e,t,n,i),new kU(e,n,t)}let RU=function OU(n,t,e,i){if(n[ia])return;let s;s=8&e.type?Li(i):function fae(n,t){const e=n[Rn],i=e.createComment(""),s=ms(t,n);return Xu(e,pv(e,s),i,function tS(n,t){return n.nextSibling(t)}(e,s),!1),i}(t,e),n[ia]=s},bP=()=>!1;class wm{}class FU{}class xP extends wm{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _U(this);const s=Ai(t);this._bootstrapComponents=ma(s.bootstrap),this._r3Injector=LT(t,e,[{provide:wm,useValue:this},{provide:Nd,useValue:this.componentFactoryResolver},...i],mr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class wP extends FU{constructor(t){super(),this.moduleType=t}create(t){return new xP(this.moduleType,t,[])}}class NU extends wm{constructor(t){super(),this.componentFactoryResolver=new _U(this),this.instance=null;const e=new bf([...t.providers,{provide:wm,useValue:this},{provide:Nd,useValue:this.componentFactoryResolver}],t.parent||ev(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function CP(n,t,e=null){return new NU({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let Cm=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xs(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bd(n,t,e){return n[t]=e}function tw(n,t){return n[t]}function Ir(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Mm(n,t,e,i){const s=Ir(n,t,e);return Ir(n,t+1,i)||s}function Gl(n,t,e,i,s,r){const o=Mm(n,t,e,i);return Mm(n,t+2,s,r)||o}function me(n,t,e,i,s,r,o,a){const l=Oe(),c=yi(),d=n+Bn,u=c.firstCreatePass?function bae(n,t,e,i,s,r,o,a,l){const c=t.consts,d=Av(t,n,4,o||null,Fl(c,a));iP(t,e,d,Fl(c,l)),N_(t,d);const u=d.tView=nP(2,d,i,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,d),u.queries=t.queries.embeddedTView(d)),d}(d,c,l,t,e,i,s,r,o):c.data[d];Ms(u,!1);const f=VU(c,l,u,n);ff()&&ao(c,l,f,u),oo(f,l);const m=Qz(f,l,f,u);return l[d]=m,LS(l,m),function PU(n,t,e){return bP(n,t,e)}(m,u,l),D_(u)&&eP(c,l,u),null!=o&&tP(l,u,a),me}let VU=function BU(n,t,e,i){return On(!0),t[Rn].createComment("")};function Nt(n,t,e,i){const s=Oe();return Ir(s,Nl(),t)&&(yi(),Vd(gs(),s,n,t,e,i)),Nt}function Bv(n,t,e,i){return Ir(n,Nl(),e)?t+En(e)+i:qn}function Hv(n,t,e,i,s,r){const a=Mm(n,function la(){return pn.lFrame.bindingIndex}(),e,s);return Lc(2),a?t+En(e)+i+En(s)+r:qn}function qS(n,t){return n<<17|t<<2}function Af(n){return n>>17&32767}function LP(n){return 2|n}function Sm(n){return(131068&n)>>2}function RP(n,t){return-131069&n|t<<2}function PP(n){return 1|n}function _W(n,t,e,i){const s=n[e+1],r=null===t;let o=i?Af(s):Sm(s),a=!1;for(;0!==o&&(!1===a||r);){const c=n[o+1];sle(n[o],t)&&(a=!0,n[o+1]=i?PP(c):LP(c)),o=i?Af(c):Sm(c)}a&&(n[e+1]=i?LP(s):PP(s))}function sle(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Yu(n,t)>=0}const Gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vW(n){return n.substring(Gr.key,Gr.keyEnd)}function yW(n,t){const e=Gr.textEnd;return e===t?-1:(t=Gr.keyEnd=function lle(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Gr.key=t,e),jv(n,t,e))}function jv(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function B(n,t,e){const i=Oe();return Ir(i,Nl(),t)&&vl(yi(),gs(),i,n,t,i[Rn],e,!1),B}function OP(n,t,e,i,s){const o=s?"class":"style";aP(n,e,t.inputs[o],o,i)}function vr(n,t,e){return Gc(n,t,e,!1),vr}function dn(n,t){return Gc(n,t,null,!0),dn}function uo(n){$c(_le,zd,n,!0)}function zd(n,t){for(let e=function ole(n){return function xW(n){Gr.key=0,Gr.keyEnd=0,Gr.value=0,Gr.valueEnd=0,Gr.textEnd=n.length}(n),yW(n,jv(n,0,Gr.textEnd))}(t);e>=0;e=yW(t,e))ua(n,vW(t),!0)}function Gc(n,t,e,i){const s=Oe(),r=yi(),o=Lc(2);r.firstUpdatePass&&TW(r,n,o,i),t!==qn&&Ir(s,o,t)&&DW(r,r.data[Wr()],s,s[Rn],n,s[o+1]=function yle(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=mr(Do(n)))),n}(t,e),i,o)}function $c(n,t,e,i){const s=yi(),r=Lc(2);s.firstUpdatePass&&TW(s,null,r,i);const o=Oe();if(e!==qn&&Ir(o,r,e)){const a=s.data[Wr()];if(AW(a,i)&&!MW(s,r)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=ob(l,e||"")),OP(s,a,o,e,i)}else!function vle(n,t,e,i,s,r,o,a){s===qn&&(s=Un);let l=0,c=0,d=0<s.length?s[0]:null,u=0<r.length?r[0]:null;for(;null!==d||null!==u;){const f=l<s.length?s[l+1]:void 0,m=c<r.length?r[c+1]:void 0;let v,g=null;d===u?(l+=2,c+=2,f!==m&&(g=u,v=m)):null===u||null!==d&&d<u?(l+=2,g=d):(c+=2,g=u,v=m),null!==g&&DW(n,t,e,i,g,v,o,a),d=l<s.length?s[l]:null,u=c<r.length?r[c]:null}}(s,a,o,o[Rn],o[r+1],o[r+1]=function gle(n,t,e){if(null==e||""===e)return Un;const i=[],s=Do(e);if(Array.isArray(s))for(let r=0;r<s.length;r++)n(i,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&n(i,r,s[r]);else"string"==typeof s&&t(i,s);return i}(n,t,e),i,r)}}function MW(n,t){return t>=n.expandoStartIndex}function TW(n,t,e,i){const s=n.data;if(null===s[e+1]){const r=s[Wr()],o=MW(n,e);AW(r,i)&&null===t&&!o&&(t=!1),t=function hle(n,t,e,i){const s=Ab(n);let r=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(e=rw(e=FP(null,n,t,e,i),t.attrs,i),r=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==s)if(e=FP(s,n,t,e,i),null===r){let l=function fle(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Sm(i))return n[Af(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=FP(null,n,t,l[1],i),l=rw(l,t.attrs,i),function ple(n,t,e,i){n[Af(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else r=function mle(n,t,e){let i;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)i=rw(i,n[r].hostAttrs,e);return rw(i,t.attrs,e)}(n,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),e}(s,r,t,i),function nle(n,t,e,i,s,r){let o=r?t.classBindings:t.styleBindings,a=Af(o),l=Sm(o);n[i]=e;let d,c=!1;if(Array.isArray(e)?(d=e[1],(null===d||Yu(e,d)>0)&&(c=!0)):d=e,s)if(0!==l){const f=Af(n[a+1]);n[i+1]=qS(f,a),0!==f&&(n[f+1]=RP(n[f+1],i)),n[a+1]=function ele(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=qS(a,0),0!==a&&(n[a+1]=RP(n[a+1],i)),a=i;else n[i+1]=qS(l,0),0===a?a=i:n[l+1]=RP(n[l+1],i),l=i;c&&(n[i+1]=LP(n[i+1])),_W(n,d,i,!0),_W(n,d,i,!1),function ile(n,t,e,i,s){const r=s?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof t&&Yu(r,t)>=0&&(e[i+1]=PP(e[i+1]))}(t,d,n,i,r),o=qS(a,l),r?t.classBindings=o:t.styleBindings=o}(s,r,t,e,o,i)}}function FP(n,t,e,i,s){let r=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(r=t[a],i=rw(i,r.hostAttrs,s),r!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function rw(n,t,e){const i=e?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?s=o:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ua(n,o,!!e||t[++r]))}return void 0===n?null:n}function _le(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&ua(n,i,e)}function DW(n,t,e,i,s,r,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],d=function tle(n){return 1==(1&n)}(c)?EW(l,t,e,s,Sm(c),o):void 0;ZS(d)||(ZS(r)||function Jae(n){return 2==(2&n)}(c)&&(r=EW(l,null,e,s,a,o)),function $a(n,t,e,i,s){if(t)s?n.addClass(e,i):n.removeClass(e,i);else{let r=-1===i.indexOf("-")?void 0:zc.DashCase;null==s?n.removeStyle(e,i,r):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),r|=zc.Important),n.setStyle(e,i,s,r))}}(i,o,$p(Wr(),e),s,r))}function EW(n,t,e,i,s,r){const o=null===t;let a;for(;s>0;){const l=n[s],c=Array.isArray(l),d=c?l[1]:l,u=null===d;let f=e[s+1];f===qn&&(f=u?Un:void 0);let m=u?qb(f,i):d===i?f:void 0;if(c&&!ZS(m)&&(m=qb(l,i)),ZS(m)&&(a=m,o))return a;const g=n[s+1];s=o?Af(g):Sm(g)}if(null!==t){let l=r?t.residualClasses:t.residualStyles;null!=l&&(a=qb(l,i))}return a}function ZS(n){return void 0!==n}function AW(n,t){return 0!=(n.flags&(t?8:16))}class Ale{destroy(t){}updateValue(t,e){}swap(t,e){const i=Math.min(t,e),s=Math.max(t,e),r=this.detach(s);if(s-i>1){const o=this.detach(i);this.attach(i,r),this.attach(s,o)}else this.attach(i,r)}move(t,e){this.attach(e,this.detach(t))}}function NP(n,t,e,i,s){return n===e&&Object.is(t,i)?1:Object.is(s(n,t),s(e,i))?-1:0}function VP(n,t,e,i){return!(void 0===t||!t.has(i)||(n.attach(e,t.get(i)),t.delete(i),0))}function IW(n,t,e,i,s){if(VP(n,t,i,e(i,s)))n.updateValue(i,s);else{const r=n.create(i,s);n.attach(i,r)}}function LW(n,t,e,i){const s=new Set;for(let r=t;r<=e;r++)s.add(i(r,n.at(r)));return s}class RW{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const e=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let i=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const s=this._vMap;for(;s.has(i);)i=s.get(i);s.set(i,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,i]of this.kvMap)if(t(i,e),void 0!==this._vMap){const s=this._vMap;for(;s.has(i);)i=s.get(i),t(i,e)}}}function Xv(n,t,e){bm("NgControlFlow");const i=Oe(),s=Nl(),r=BP(i,Bn+n);if(Ir(i,s,t)){const a=Ve(null);try{if(vP(r,0),-1!==t){const l=HP(i[pt],Bn+t),c=kv(r,l.tView.ssrId);ew(r,Jx(i,l,e,{dehydratedView:c}),0,Iv(l,c))}}finally{Ve(a)}}else{const a=AU(r,0);void 0!==a&&(a[us]=e)}}class Ile{constructor(t,e,i){this.lContainer=t,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-Gs}}function KS(n,t){return t}class Rle{constructor(t,e,i){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=i}}function QS(n,t,e,i,s,r,o,a,l,c,d,u,f){bm("NgControlFlow");const m=void 0!==l,g=Oe(),v=a?o.bind(g[hs][us]):o,_=new Rle(m,v);g[Bn+n]=_,me(n+1,t,e,i,s,r),m&&me(n+2,l,c,d,u,f)}class Ple extends Ale{constructor(t,e,i){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Gs}at(t){return this.getLView(t)[us].$implicit}attach(t,e){const i=e[Ha];this.needsIndexUpdate||=t!==this.length,ew(this.lContainer,e,t,Iv(this.templateTNode,i))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function Ole(n,t){return dm(n,t)}(this.lContainer,t)}create(t,e){const i=kv(this.lContainer,this.templateTNode.tView.ssrId);return Jx(this.hostLView,this.templateTNode,new Ile(this.lContainer,e,t),{dehydratedView:i})}destroy(t){Ga(t[pt],t)}updateValue(t,e){this.getLView(t)[us].$implicit=e}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[us].$index=t}getLView(t){return function Fle(n,t){return AU(n,t)}(this.lContainer,t)}}function JS(n){const t=Ve(null),e=Wr();try{const i=Oe(),s=i[pt],r=i[e];if(void 0===r.liveCollection){const a=e+1,l=BP(i,a),c=HP(s,a);r.liveCollection=new Ple(l,i,c)}else r.liveCollection.reset();const o=r.liveCollection;if(function kle(n,t,e){let i,s,r=0,o=n.length-1;if(Array.isArray(t)){let a=t.length-1;for(;r<=o&&r<=a;){const l=n.at(r),c=t[r],d=NP(r,l,r,c,e);if(0!==d){d<0&&n.updateValue(r,c),r++;continue}const u=n.at(o),f=t[a],m=NP(o,u,a,f,e);if(0!==m){m<0&&n.updateValue(o,f),o--,a--;continue}const g=e(r,l),v=e(o,u),_=e(r,c);if(Object.is(_,v)){const y=e(a,f);Object.is(y,g)?(n.swap(r,o),n.updateValue(o,f),a--,o--):n.move(o,r),n.updateValue(r,c),r++}else if(i??=new RW,s??=LW(n,r,o,e),VP(n,i,r,_))n.updateValue(r,c),r++,o++;else if(s.has(_))i.set(g,n.detach(r)),o--;else{const y=n.create(r,t[r]);n.attach(r,y),r++,o++}}for(;r<=a;)IW(n,i,e,r,t[r]),r++}else if(null!=t){const a=t[Symbol.iterator]();let l=a.next();for(;!l.done&&r<=o;){const c=n.at(r),d=l.value,u=NP(r,c,r,d,e);if(0!==u)u<0&&n.updateValue(r,d),r++,l=a.next();else{i??=new RW,s??=LW(n,r,o,e);const f=e(r,d);if(VP(n,i,r,f))n.updateValue(r,d),r++,o++,l=a.next();else if(s.has(f)){const m=e(r,c);i.set(m,n.detach(r)),o--}else n.attach(r,n.create(r,d)),r++,o++,l=a.next()}}for(;!l.done;)IW(n,i,e,n.length,l.value),l=a.next()}for(;r<=o;)n.destroy(n.detach(o--));i?.forEach(a=>{n.destroy(a)})}(o,n,r.trackByFn),o.updateIndexes(),r.hasEmptyBlock){const a=Nl(),l=0===o.length;if(Ir(i,a,l)){const c=e+2,d=BP(i,c);if(l){const u=HP(s,c),f=kv(d,u.tView.ssrId);ew(d,Jx(i,u,void 0,{dehydratedView:f}),0,Iv(u,f))}else vP(d,0)}}}finally{Ve(t)}}function BP(n,t){return n[t]}function HP(n,t){return jp(n,t)}function L(n,t,e,i){const s=Oe(),r=yi(),o=Bn+n,a=s[Rn],l=r.firstCreatePass?function Nle(n,t,e,i,s,r){const o=t.consts,l=Av(t,n,2,i,Fl(o,s));return iP(t,e,l,Fl(o,r)),null!==l.attrs&&FS(l,l.attrs,!1),null!==l.mergedAttrs&&FS(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,r,s,t,e,i):r.data[o],c=PW(r,s,l,a,t,n);s[o]=c;const d=D_(l);return Ms(l,!0),Ui(a,c,l),32!=(32&l.flags)&&ff()&&ao(r,s,c,l),0===function ZM(){return pn.lFrame.elementDepthCount}()&&oo(c,s),function KM(){pn.lFrame.elementDepthCount++}(),d&&(eP(r,s,l),JR(r,l,s)),null!==i&&tP(s,l),L}function k(){let n=zi();qp()?Sb():(n=n.parent,Ms(n,!1));const t=n;(function hL(n){return pn.skipHydrationRootTNode===n})(t)&&function Ur(){pn.skipHydrationRootTNode=null}(),function Xp(){pn.lFrame.elementDepthCount--}();const e=yi();return e.firstCreatePass&&(N_(e,n),Er(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function Td(n){return 0!=(8&n.flags)}(t)&&OP(e,t,Oe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Fb(n){return 0!=(16&n.flags)}(t)&&OP(e,t,Oe(),t.stylesWithoutHost,!1),k}function Te(n,t,e,i){return L(n,t,e,i),k(),Te}let PW=(n,t,e,i,s,r)=>(On(!0),dv(i,s,function F_(){return pn.lFrame.currentNamespace}()));function es(n,t,e){const i=Oe(),s=yi(),r=n+Bn,o=s.firstCreatePass?function Hle(n,t,e,i,s){const r=t.consts,o=Fl(r,i),a=Av(t,n,8,"ng-container",o);return null!==o&&FS(a,o,!0),iP(t,e,a,Fl(r,s)),null!==t.queries&&t.queries.elementStart(t,a),a}(r,s,i,t,e):s.data[r];Ms(o,!0);const a=OW(s,i,o,n);return i[r]=a,ff()&&ao(s,i,a,o),oo(a,i),D_(o)&&(eP(s,i,o),JR(s,o,i)),null!=e&&tP(i,o),es}function ts(){let n=zi();const t=yi();return qp()?Sb():(n=n.parent,Ms(n,!1)),t.firstCreatePass&&(N_(t,n),Er(n)&&t.queries.elementEnd(n)),ts}function kf(n,t,e){return es(n,t,e),ts(),kf}let OW=(n,t,e,i)=>(On(!0),Ns(t[Rn],""));function vt(){return Oe()}function eD(n,t,e){const i=Oe();if(Ir(i,Nl(),t)){const r=yi(),o=gs();vl(r,o,i,n,t,nU(Ab(r.data),o,i),e,!0)}return eD}const Dm=void 0;var Yle=["en",[["a","p"],["AM","PM"],Dm],[["AM","PM"],Dm,Dm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dm,"{1} 'at' {0}",Dm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Wle(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let qv={};function _a(n){const t=function Gle(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=NW(t);if(e)return e;const i=t.split("-")[0];if(e=NW(i),e)return e;if("en"===i)return Yle;throw new De(701,!1)}function NW(n){return n in qv||(qv[n]=Hi.ng&&Hi.ng.common&&Hi.ng.common.locales&&Hi.ng.common.locales[n]),qv[n]}var Ss=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ss||{});const Zv="en-US";let VW=Zv;function uw(n){return!!n&&"function"==typeof n.then}function cY(n){return!!n&&"function"==typeof n.subscribe}function ye(n,t,e,i){const s=Oe(),r=yi(),o=zi();return dY(r,s,s[Rn],o,n,t,i),ye}function rD(n,t){const e=zi(),i=Oe(),s=yi();return dY(s,i,nU(Ab(s.data),e,i),e,n,t),rD}function dY(n,t,e,i,s,r,o){const a=D_(i),c=n.firstCreatePass&&tU(n),d=t[us],u=eU(t);let f=!0;if(3&i.type||o){const v=ms(i,t),_=o?o(v):v,y=u.length,C=o?S=>o(Li(S[i.index])):i.index;let w=null;if(!o&&a&&(w=function Bce(n,t,e,i){const s=n.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const o=s[r];if(o===e&&s[r+1]===i){const a=t[Dc],l=s[r+2];return a.length>l?a[l]:null}"string"==typeof o&&(r+=2)}return null}(n,t,s,i.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=r,w.__ngLastListenerFn__=r,f=!1;else{r=hY(i,t,d,r,!1);const S=e.listen(_,s,r);u.push(r,S),c&&c.push(s,C,y,y+1)}}else r=hY(i,t,d,r,!1);const m=i.outputs;let g;if(f&&null!==m&&(g=m[s])){const v=g.length;if(v)for(let _=0;_<v;_+=2){const R=t[g[_]][g[_+1]].subscribe(r),O=u.length;u.push(r,R),c&&c.push(s,i.index,O,-(O+1))}}}function uY(n,t,e,i){try{return Ar(6,t,e),!1!==e(i)}catch(s){return RS(n,s),!1}finally{Ar(7,t,e)}}function hY(n,t,e,i,s){return function r(o){if(o===Function)return i;Gx(n.componentOffset>-1?oa(n.index,t):t);let l=uY(t,e,i,o),c=r.__ngNextListenerFn__;for(;c;)l=uY(t,e,c,o)&&l,c=c.__ngNextListenerFn__;return s&&!1===l&&o.preventDefault(),l}}function N(n=1){return function gL(n){return(pn.lFrame.contextLView=function lf(n,t){for(;n>0;)t=t[Eu],n--;return t}(n,pn.lFrame.contextLView))[us]}(n)}function Hce(n,t){let e=null;const i=function C_(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let s=0;s<t.length;s++){const r=t[s];if("*"!==r){if(null===i?Sc(n,r,!0):eL(i,r))return s}else e=s}return e}function jl(n){const t=Oe()[hs][so];if(!t.projection){const i=t.projection=function Vl(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(n?n.length:1,null),s=i.slice();let r=t.child;for(;null!==r;){const o=n?Hce(r,n):0;null!==o&&(s[o]?s[o].projectionNext=r:i[o]=r,s[o]=r),r=r.next}}}function Bo(n,t=0,e){const i=Oe(),s=yi(),r=Av(s,Bn+n,16,null,e||null);null===r.projection&&(r.projection=t),Sb(),(!i[Ha]||Ou())&&32!=(32&r.flags)&&function Uc(n,t,e){Xn(t[Rn],0,t,e,Ts(n,e,t),Cf(e.parent||t[so],e,t))}(s,i,r)}function YP(n,t,e){return oD(n,"",t,"",e),YP}function oD(n,t,e,i,s){const r=Oe(),o=Bv(r,t,e,i);return o!==qn&&vl(yi(),gs(),r,n,o,r[Rn],s,!1),oD}function zce(){return this._results[Symbol.iterator]()}class GP{static#e=Symbol.iterator;get changes(){return this._changes??=new Fe}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const e=GP.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=zce)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const i=function gr(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function W_(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=t[i];if(e&&(s=e(s),r=e(r)),r!==s)return!1}return!0}(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let Za=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Yce}return n})();const Uce=Za,Wce=class extends Uce{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const s=Jx(this._declarationLView,this._declarationTContainer,t,{injector:e,dehydratedView:i});return new $x(s)}};function Yce(){return aD(zi(),Oe())}function aD(n,t){return 4&n.type?new Wce(t,n,Df(n,t)):null}class $P{constructor(t){this.queryList=t,this.matches=null}clone(){return new $P(this.queryList)}setDirty(){this.queryList.setDirty()}}class jP{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let r=0;r<i;r++){const o=e.getByIndex(r);s.push(this.queries[o.indexInDeclarationView].clone())}return new jP(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==TY(t,e).matches&&this.queries[e].setDirty()}}class xY{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class XP{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const s=null!==e?e.length:0,r=this.getByIndex(i).embeddedTView(t,s);r&&(r.indexInDeclarationView=i,null!==e?e.push(r):e=[r])}return null!==e?new XP(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class qP{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new qP(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(t,e,Gce(e,r)),this.matchTNodeWithReadOption(t,e,Hu(e,t,r,!1,!1))}else i===Za?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Hu(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===gn||s===Ao||s===Za&&4&e.type)this.addMatch(e.index,-2);else{const r=Hu(e,t,s,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Gce(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function jce(n,t,e,i){return-1===e?function $ce(n,t){return 11&n.type?Df(n,t):4&n.type?aD(n,t):null}(t,n):-2===e?function Xce(n,t,e){return e===gn?Df(t,n):e===Za?aD(t,n):e===Ao?LU(t,n):void 0}(n,t,i):Ya(n,n[pt],e,t)}function wY(n,t,e,i){const s=t[na].queries[i];if(null===s.matches){const r=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:jce(t,r[c],o[l+1],e.metadata.read))}s.matches=a}return s.matches}function ZP(n,t,e,i){const s=n.queries.getByIndex(e),r=s.matches;if(null!==r){const o=wY(n,t,s,e);for(let a=0;a<r.length;a+=2){const l=r[a];if(l>0)i.push(o[a/2]);else{const c=r[a+1],d=t[-l];for(let u=Gs;u<d.length;u++){const f=d[u];f[ef]===f[Cs]&&ZP(f[pt],f,c,i)}if(null!==d[rf]){const u=d[rf];for(let f=0;f<u.length;f++){const m=u[f];ZP(m[pt],m,c,i)}}}}}return i}function CY(n,t,e){const i=new GP(4==(4&e));(function Rre(n,t,e,i){const s=eU(t);s.push(e),n.firstCreatePass&&tU(n).push(i,s.length-1)})(n,t,i,i.destroy),null===t[na]&&(t[na]=new jP),t[na].queries.push(new $P(i))}function MY(n,t,e){null===n.queries&&(n.queries=new XP),n.queries.track(new qP(t,e))}function TY(n,t){return n.queries.getByIndex(t)}function Em(n,t,e,i){const s=yi();if(s.firstCreatePass){const r=zi();MY(s,new xY(t,e,i),r.index),function Zce(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}CY(s,Oe(),e)}function $r(n,t,e){const i=yi();i.firstCreatePass&&(MY(i,new xY(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),CY(i,Oe(),t)}function Bs(n){const t=Oe(),e=yi(),i=eT();kb(i+1);const s=TY(e,i);if(n.dirty&&function uL(n){return 4==(4&n[tn])}(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const r=s.crossesNgTemplate?ZP(e,t,i,[]):wY(e,t,s,i);n.reset(r,XR),n.notifyOnChanges()}return!0}return!1}function Hs(){return function qce(n,t){return n[na].queries[t].queryList}(Oe(),eT())}function If(n){return af(function pL(){return pn.lFrame.contextLView}(),Bn+n)}function U(n,t=""){const e=Oe(),i=yi(),s=n+Bn,r=i.firstCreatePass?Av(i,s,1,t,null):i.data[s],o=OY(i,e,r,t,n);e[s]=o,ff()&&ao(i,e,o,r),Ms(r,!1)}let OY=(n,t,e,i,s)=>(On(!0),function cv(n,t){return n.createText(t)}(t[Rn],i));function Ye(n){return Ot("",n,""),Ye}function Ot(n,t,e){const i=Oe(),s=Bv(i,n,t,e);return s!==qn&&Ku(i,Wr(),s),Ot}function Kv(n,t,e,i,s){const r=Oe(),o=Hv(r,n,t,e,i,s);return o!==qn&&Ku(r,Wr(),o),Kv}function KP(n,t,e,i,s){if(n=Cn(n),Array.isArray(n))for(let r=0;r<n.length;r++)KP(n[r],t,e,i,s);else{const r=yi(),o=Oe(),a=zi();let l=Ed(n)?n:Cn(n.provide);const c=pa(n),d=1048575&a.providerIndexes,u=a.directiveStart,f=a.providerIndexes>>20;if(Ed(n)||!n.multi){const m=new Nu(c,s,K),g=JP(l,t,s?d:d+f,u);-1===g?(zb(H_(a,o),r,l),QP(r,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,s&&(a.providerIndexes+=1048576),e.push(m),o.push(m)):(e[g]=m,o[g]=m)}else{const m=JP(l,t,d+f,u),g=JP(l,t,d,d+f),_=g>=0&&e[g];if(s&&!_||!s&&!(m>=0&&e[m])){zb(H_(a,o),r,l);const y=function hde(n,t,e,i,s){const r=new Nu(n,e,K);return r.multi=[],r.index=t,r.componentProviders=0,WY(r,s,i&&!e),r}(s?ude:dde,e.length,s,i,c);!s&&_&&(e[g].providerFactory=y),QP(r,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,s&&(a.providerIndexes+=1048576),e.push(y),o.push(y)}else QP(r,n,m>-1?m:g,WY(e[s?g:m],c,!s&&i));!s&&i&&_&&e[g].componentProviders++}}}function QP(n,t,e,i){const s=Ed(t),r=function ST(n){return!!n.useClass}(t);if(s||r){const l=(r?Cn(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!s&&t.multi){const d=c.indexOf(e);-1===d?c.push(e,[i,l]):c[d+1].push(i,l)}else c.push(e,l)}}}function WY(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function JP(n,t,e,i){for(let s=e;s<i;s++)if(t[s]===n)return s;return-1}function dde(n,t,e,i){return eO(this.multi,[])}function ude(n,t,e,i){const s=this.multi;let r;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ya(e,e[pt],this.providerFactory.index,i);r=a.slice(0,o),eO(s,r);for(let l=o;l<a.length;l++)r.push(a[l])}else r=[],eO(s,r);return r}function eO(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function pi(n,t=[]){return e=>{e.providersResolver=(i,s)=>function cde(n,t,e){const i=yi();if(i.firstCreatePass){const s=Ua(n);KP(e,i.data,i.blueprint,s,!0),KP(t,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,t)}}let fde=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=CT(0,e.type),s=i.length>0?CP([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,s)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Be({token:n,providedIn:"environment",factory:()=>new n(be(fa))})}return n})();function tr(n){bm("NgStandalone"),n.getStandaloneInjector=t=>t.get(fde).getOrCreateStandaloneInjector(n)}function nO(n,t,e){const i=xo()+n,s=Oe();return s[i]===qn?Bd(s,i,e?t.call(e):t()):tw(s,i)}function Ds(n,t,e,i){return t6(Oe(),xo(),n,t,e,i)}function Lf(n,t,e,i,s){return n6(Oe(),xo(),n,t,e,i,s)}function QY(n,t,e,i,s,r){return function s6(n,t,e,i,s,r,o,a){const l=t+e;return function WS(n,t,e,i,s){const r=Mm(n,t,e,i);return Ir(n,t+2,s)||r}(n,l,s,r,o)?Bd(n,l+3,a?i.call(a,s,r,o):i(s,r,o)):hw(n,l+3)}(Oe(),xo(),n,t,e,i,s,r)}function hw(n,t){const e=n[t];return e===qn?void 0:e}function t6(n,t,e,i,s,r){const o=t+e;return Ir(n,o,s)?Bd(n,o+1,r?i.call(r,s):i(s)):hw(n,o+1)}function n6(n,t,e,i,s,r,o){const a=t+e;return Mm(n,a,s,r)?Bd(n,a+2,o?i.call(o,s,r):i(s,r)):hw(n,a+2)}function Zn(n,t){const e=yi();let i;const s=n+Bn;e.firstCreatePass?(i=function Dde(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[s]=i,i.onDestroy&&(e.destroyHooks??=[]).push(s,i.onDestroy)):i=e.data[s];const r=i.factory||(i.factory=ra(i.type)),a=Yi(K);try{const l=pl(!1),c=r();return pl(l),function Kce(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,Oe(),s,c),c}finally{Yi(a)}}function va(n,t,e){const i=n+Bn,s=Oe(),r=af(s,i);return fw(s,i)?t6(s,xo(),t,r.transform,e,r):r.transform(e)}function fs(n,t,e,i){const s=n+Bn,r=Oe(),o=af(r,s);return fw(r,s)?n6(r,xo(),t,o.transform,e,i,o):o.transform(e,i)}function iO(n,t,e,i,s,r){const o=n+Bn,a=Oe(),l=af(a,o);return fw(a,o)?function r6(n,t,e,i,s,r,o,a,l){const c=t+e;return Gl(n,c,s,r,o,a)?Bd(n,c+4,l?i.call(l,s,r,o,a):i(s,r,o,a)):hw(n,c+4)}(a,xo(),t,l.transform,e,i,s,r,l):l.transform(e,i,s,r)}function fw(n,t){return n[pt].data[t].pure}function cD(n,t){return aD(n,t)}let w6=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();class Kde{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let C6=(()=>{class n{compileModuleSync(e){return new wP(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),r=ma(Ai(e).declarations).reduce((o,a)=>{const l=ge(a);return l&&o.push(new Xx(l)),o},[]);return new Kde(i,r)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const E6=new Xe(""),hD=new Xe("");let uO,cO=(()=>{class n{constructor(e,i,s){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,uO||(function Mue(n){uO=n}(s),s.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ln.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==r),e()},i)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:s})}whenStable(e,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,s){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(be(ln),be(dO),be(hD))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac})}return n})(),dO=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return uO?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const hO=new Xe("");let fO=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=Ke(hO,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const s of this.appInits){const r=s();if(uw(r))e.push(r);else if(cY(r)){const o=new Promise((a,l)=>{r.subscribe({complete:a,error:l})});e.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(s=>{this.reject(s)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pO=new Xe("");function I6(n,t){return Array.isArray(t)?t.reduce(I6,n):{...n,...t}}let Ud=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ke(Nz),this.afterRenderEffectManager=Ke(jx),this.componentTypes=[],this.components=[],this.isStable=Ke(Cm).hasPendingTasks.pipe(Vn(e=>!e)),this._injector=Ke(fa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const s=e instanceof SS;if(!this._injector.get(fO).done)throw!s&&function li(n){const t=ge(n)||wt(n)||Qt(n);return null!==t&&t.standalone}(e),new De(405,!1);let o;o=s?e:this._injector.get(Nd).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function Sue(n){return n.isBoundToModule}(o)?void 0:this._injector.get(wm),c=o.create(Fs.NULL,[],i||o.selector,a),d=c.location.nativeElement,u=c.injector.get(E6,null);return u?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),fD(this.components,c),u?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let e=0;do{if(100===e)throw new De(103,!1);const i=0===e;for(let{_lView:s,notifyErrorHandler:r}of this._views)!i&&!R6(s)||this.detectChangesInView(s,r,i);this.afterRenderEffectManager.execute(),e++}while(this._views.some(({_lView:i})=>R6(i)))}detectChangesInView(e,i,s){let r;s?(r=0,e[tn]|=1024):r=64&e[tn]?0:1,PS(e,i,r)}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;fD(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(pO,[]);[...this._bootstrapListeners,...i].forEach(s=>s(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>fD(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new De(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fD(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function R6(n){return cf(n)}let Eue=(()=>{class n{constructor(){this.zone=Ke(ln),this.applicationRef=Ke(Ud)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Aue(){const n=Ke(ln),t=Ke(Wl);return e=>n.runOutsideAngular(()=>t.handleError(e))}let Iue=(()=>{class n{constructor(){this.subscription=new ti,this.initialized=!1,this.zone=Ke(ln),this.pendingTasks=Ke(Cm)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ln.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ln.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Wd=new Xe("",{providedIn:"root",factory:()=>Ke(Wd,fi.Optional|fi.SkipSelf)||function Lue(){return typeof $localize<"u"&&$localize.locale||Zv}()}),Rue=new Xe("",{providedIn:"root",factory:()=>"USD"}),mO=new Xe("");let F6=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const s=function yoe(n="zone.js",t){return"noop"===n?new uU:"zone.js"===n?new ln(t):n}(i?.ngZone,function O6(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const r=function yae(n,t,e){return new xP(n,t,e)}(e.moduleType,this.injector,function P6(n){return[{provide:ln,useFactory:n},{provide:ha,multi:!0,useFactory:()=>{const t=Ke(Eue,{optional:!0});return()=>t.initialize()}},{provide:ha,multi:!0,useFactory:()=>{const t=Ke(Iue);return()=>{t.initialize()}}},{provide:Nz,useFactory:Aue}]}(()=>s)),o=r.injector.get(Wl,null);return s.runOutsideAngular(()=>{const a=s.onError.subscribe({next:l=>{o.handleError(l)}});r.onDestroy(()=>{fD(this._modules,r),a.unsubscribe()})}),function k6(n,t,e){try{const i=e();return uw(i)?i.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(o,s,()=>{const a=r.injector.get(fO);return a.runInitializers(),a.donePromise.then(()=>(function BW(n){"string"==typeof n&&(VW=n.toLowerCase().replace(/_/g,"-"))}(r.injector.get(Wd,Zv)||Zv),this._moduleDoBootstrap(r),r))})})}bootstrapModule(e,i=[]){const s=I6({},i);return function Tue(n,t,e){const i=new wP(e);return Promise.resolve(i)}(0,0,e).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(e){const i=e.injector.get(Ud);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new De(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(mO,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(be(Fs))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Rf=null;const N6=new Xe("");function V6(n,t,e=[]){const i=`Platform: ${t}`,s=new Xe(i);return(r=[])=>{let o=gO();if(!o||o.injector.get(N6,!1)){const a=[...e,...r,{provide:s,useValue:!0}];n?n(a):function Oue(n){if(Rf&&!Rf.get(N6,!1))throw new De(400,!1);(function A6(){!function Pt(n){At=n}(()=>{throw new De(600,!1)})})(),Rf=n;const t=n.get(F6);(function H6(n){n.get(OT,null)?.forEach(e=>e())})(n)}(function B6(n=[],t){return Fs.create({name:t,providers:[{provide:ix,useValue:"platform"},{provide:mO,useValue:new Set([()=>Rf=null])},...n]})}(a,i))}return function Fue(n){const t=gO();if(!t)throw new De(401,!1);return t}()}}function gO(){return Rf?.get(F6)??null}const Wue=V6(null,"core",[]);let Yue=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ud))};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({})}return n})();function lr(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let d8=null;function Pf(){return d8}class bhe{}const Gn=new Xe("");let CO=(()=>{class n{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:()=>Ke(whe),providedIn:"platform"})}return n})();const xhe=new Xe("");let whe=(()=>{class n extends CO{constructor(){super(),this._doc=Ke(Gn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pf().getBaseHref(this._doc)}onPopState(e){const i=Pf().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Pf().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,s){this._history.pushState(e,i,s)}replaceState(e,i,s){this._history.replaceState(e,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function MO(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function u8(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Qu(n){return n&&"?"!==n[0]?"?"+n:n}let Im=(()=>{class n{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:()=>Ke(f8),providedIn:"root"})}return n})();const h8=new Xe("");let f8=(()=>{class n extends Im{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ke(Gn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return MO(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Qu(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${i}${s}`:i}pushState(e,i,s,r){const o=this.prepareExternalUrl(s+Qu(r));this._platformLocation.pushState(e,i,o)}replaceState(e,i,s,r){const o=this.prepareExternalUrl(s+Qu(r));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(be(CO),be(h8,8))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Che=(()=>{class n extends Im{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=MO(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,s,r){let o=this.prepareExternalUrl(s+Qu(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,s,r){let o=this.prepareExternalUrl(s+Qu(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(be(CO),be(h8,8))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac})}return n})(),t0=(()=>{class n{constructor(e){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function She(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(u8(p8(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Qu(i))}normalize(e){return n.stripTrailingSlash(function The(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,p8(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",s=null){this._locationStrategy.pushState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Qu(i)),s)}replaceState(e,i="",s=null){this._locationStrategy.replaceState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Qu(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(s=>s(e,i))}subscribe(e,i,s){return this._subject.subscribe({next:e,error:i,complete:s})}static#e=this.normalizeQueryParams=Qu;static#t=this.joinWithSlash=MO;static#n=this.stripTrailingSlash=u8;static#i=this.\u0275fac=function(i){return new(i||n)(be(Im))};static#s=this.\u0275prov=Be({token:n,factory:()=>function Mhe(){return new t0(be(Im))}(),providedIn:"root"})}return n})();function p8(n){return n.replace(/\/index.html$/,"")}const m8={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var wD=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(wD||{}),ba=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(ba||{}),_s=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(_s||{}),yl=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(yl||{}),yr=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(yr||{});function CD(n,t){return ql(_a(n)[Ss.DateFormat],t)}function MD(n,t){return ql(_a(n)[Ss.TimeFormat],t)}function TD(n,t){return ql(_a(n)[Ss.DateTimeFormat],t)}function Xl(n,t){const e=_a(n),i=e[Ss.NumberSymbols][t];if(typeof i>"u"){if(t===yr.CurrencyDecimal)return e[Ss.NumberSymbols][yr.Decimal];if(t===yr.CurrencyGroup)return e[Ss.NumberSymbols][yr.Group]}return i}function TO(n,t){return _a(n)[Ss.NumberFormats][t]}function g8(n){if(!n[Ss.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ss.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ql(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function SO(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Hhe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,SD={},zhe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ju=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Ju||{}),Zi=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Zi||{}),Ki=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ki||{});function Uhe(n,t,e,i){let s=function Khe(n){if(y8(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[s,r=1,o=1]=n.split("-").map(a=>+a);return DD(s,r-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Hhe))return function Qhe(n){const t=new Date(0);let e=0,i=0;const s=n[8]?t.setUTCFullYear:t.setFullYear,r=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),s.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return r.call(t,o,a,l,c),t}(i)}const t=new Date(n);if(!y8(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=eh(e,t)||t;let a,o=[];for(;t;){if(a=zhe.exec(t),!a){o.push(t);break}{o=o.concat(a.slice(1));const d=o.pop();if(!d)break;t=d}}let l=s.getTimezoneOffset();i&&(l=v8(i,l),s=function Zhe(n,t,e){const i=e?-1:1,s=n.getTimezoneOffset();return function qhe(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(v8(t,s)-s))}(s,i,!0));let c="";return o.forEach(d=>{const u=function Xhe(n){if(EO[n])return EO[n];let t;switch(n){case"G":case"GG":case"GGG":t=Es(Ki.Eras,_s.Abbreviated);break;case"GGGG":t=Es(Ki.Eras,_s.Wide);break;case"GGGGG":t=Es(Ki.Eras,_s.Narrow);break;case"y":t=Rr(Zi.FullYear,1,0,!1,!0);break;case"yy":t=Rr(Zi.FullYear,2,0,!0,!0);break;case"yyy":t=Rr(Zi.FullYear,3,0,!1,!0);break;case"yyyy":t=Rr(Zi.FullYear,4,0,!1,!0);break;case"Y":t=ID(1);break;case"YY":t=ID(2,!0);break;case"YYY":t=ID(3);break;case"YYYY":t=ID(4);break;case"M":case"L":t=Rr(Zi.Month,1,1);break;case"MM":case"LL":t=Rr(Zi.Month,2,1);break;case"MMM":t=Es(Ki.Months,_s.Abbreviated);break;case"MMMM":t=Es(Ki.Months,_s.Wide);break;case"MMMMM":t=Es(Ki.Months,_s.Narrow);break;case"LLL":t=Es(Ki.Months,_s.Abbreviated,ba.Standalone);break;case"LLLL":t=Es(Ki.Months,_s.Wide,ba.Standalone);break;case"LLLLL":t=Es(Ki.Months,_s.Narrow,ba.Standalone);break;case"w":t=DO(1);break;case"ww":t=DO(2);break;case"W":t=DO(1,!0);break;case"d":t=Rr(Zi.Date,1);break;case"dd":t=Rr(Zi.Date,2);break;case"c":case"cc":t=Rr(Zi.Day,1);break;case"ccc":t=Es(Ki.Days,_s.Abbreviated,ba.Standalone);break;case"cccc":t=Es(Ki.Days,_s.Wide,ba.Standalone);break;case"ccccc":t=Es(Ki.Days,_s.Narrow,ba.Standalone);break;case"cccccc":t=Es(Ki.Days,_s.Short,ba.Standalone);break;case"E":case"EE":case"EEE":t=Es(Ki.Days,_s.Abbreviated);break;case"EEEE":t=Es(Ki.Days,_s.Wide);break;case"EEEEE":t=Es(Ki.Days,_s.Narrow);break;case"EEEEEE":t=Es(Ki.Days,_s.Short);break;case"a":case"aa":case"aaa":t=Es(Ki.DayPeriods,_s.Abbreviated);break;case"aaaa":t=Es(Ki.DayPeriods,_s.Wide);break;case"aaaaa":t=Es(Ki.DayPeriods,_s.Narrow);break;case"b":case"bb":case"bbb":t=Es(Ki.DayPeriods,_s.Abbreviated,ba.Standalone,!0);break;case"bbbb":t=Es(Ki.DayPeriods,_s.Wide,ba.Standalone,!0);break;case"bbbbb":t=Es(Ki.DayPeriods,_s.Narrow,ba.Standalone,!0);break;case"B":case"BB":case"BBB":t=Es(Ki.DayPeriods,_s.Abbreviated,ba.Format,!0);break;case"BBBB":t=Es(Ki.DayPeriods,_s.Wide,ba.Format,!0);break;case"BBBBB":t=Es(Ki.DayPeriods,_s.Narrow,ba.Format,!0);break;case"h":t=Rr(Zi.Hours,1,-12);break;case"hh":t=Rr(Zi.Hours,2,-12);break;case"H":t=Rr(Zi.Hours,1);break;case"HH":t=Rr(Zi.Hours,2);break;case"m":t=Rr(Zi.Minutes,1);break;case"mm":t=Rr(Zi.Minutes,2);break;case"s":t=Rr(Zi.Seconds,1);break;case"ss":t=Rr(Zi.Seconds,2);break;case"S":t=Rr(Zi.FractionalSeconds,1);break;case"SS":t=Rr(Zi.FractionalSeconds,2);break;case"SSS":t=Rr(Zi.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=AD(Ju.Short);break;case"ZZZZZ":t=AD(Ju.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=AD(Ju.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=AD(Ju.Long);break;default:return null}return EO[n]=t,t}(d);c+=u?u(s,e,l):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function DD(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function eh(n,t){const e=function Ehe(n){return _a(n)[Ss.LocaleId]}(n);if(SD[e]??={},SD[e][t])return SD[e][t];let i="";switch(t){case"shortDate":i=CD(n,yl.Short);break;case"mediumDate":i=CD(n,yl.Medium);break;case"longDate":i=CD(n,yl.Long);break;case"fullDate":i=CD(n,yl.Full);break;case"shortTime":i=MD(n,yl.Short);break;case"mediumTime":i=MD(n,yl.Medium);break;case"longTime":i=MD(n,yl.Long);break;case"fullTime":i=MD(n,yl.Full);break;case"short":const s=eh(n,"shortTime"),r=eh(n,"shortDate");i=ED(TD(n,yl.Short),[s,r]);break;case"medium":const o=eh(n,"mediumTime"),a=eh(n,"mediumDate");i=ED(TD(n,yl.Medium),[o,a]);break;case"long":const l=eh(n,"longTime"),c=eh(n,"longDate");i=ED(TD(n,yl.Long),[l,c]);break;case"full":const d=eh(n,"fullTime"),u=eh(n,"fullDate");i=ED(TD(n,yl.Full),[d,u])}return i&&(SD[e][t]=i),i}function ED(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function jc(n,t,e="-",i,s){let r="";(n<0||s&&n<=0)&&(s?n=1-n:(n=-n,r=e));let o=String(n);for(;o.length<t;)o="0"+o;return i&&(o=o.slice(o.length-t)),r+o}function Rr(n,t,e=0,i=!1,s=!1){return function(r,o){let a=function Yhe(n,t){switch(n){case Zi.FullYear:return t.getFullYear();case Zi.Month:return t.getMonth();case Zi.Date:return t.getDate();case Zi.Hours:return t.getHours();case Zi.Minutes:return t.getMinutes();case Zi.Seconds:return t.getSeconds();case Zi.FractionalSeconds:return t.getMilliseconds();case Zi.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,r);if((e>0||a>-e)&&(a+=e),n===Zi.Hours)0===a&&-12===e&&(a=12);else if(n===Zi.FractionalSeconds)return function Whe(n,t){return jc(n,3).substring(0,t)}(a,t);const l=Xl(o,yr.MinusSign);return jc(a,t,l,i,s)}}function Es(n,t,e=ba.Format,i=!1){return function(s,r){return function Ghe(n,t,e,i,s,r){switch(e){case Ki.Months:return function Ihe(n,t,e){const i=_a(n),r=ql([i[Ss.MonthsFormat],i[Ss.MonthsStandalone]],t);return ql(r,e)}(t,s,i)[n.getMonth()];case Ki.Days:return function khe(n,t,e){const i=_a(n),r=ql([i[Ss.DaysFormat],i[Ss.DaysStandalone]],t);return ql(r,e)}(t,s,i)[n.getDay()];case Ki.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(r){const c=function Ohe(n){const t=_a(n);return g8(t),(t[Ss.ExtraData][2]||[]).map(i=>"string"==typeof i?SO(i):[SO(i[0]),SO(i[1])])}(t),d=function Fhe(n,t,e){const i=_a(n);g8(i);const r=ql([i[Ss.ExtraData][0],i[Ss.ExtraData][1]],t)||[];return ql(r,e)||[]}(t,s,i),u=c.findIndex(f=>{if(Array.isArray(f)){const[m,g]=f,v=o>=m.hours&&a>=m.minutes,_=o<g.hours||o===g.hours&&a<g.minutes;if(m.hours<g.hours){if(v&&_)return!0}else if(v||_)return!0}else if(f.hours===o&&f.minutes===a)return!0;return!1});if(-1!==u)return d[u]}return function Ahe(n,t,e){const i=_a(n),r=ql([i[Ss.DayPeriodsFormat],i[Ss.DayPeriodsStandalone]],t);return ql(r,e)}(t,s,i)[o<12?0:1];case Ki.Eras:return function Lhe(n,t){return ql(_a(n)[Ss.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(s,r,n,t,e,i)}}function AD(n){return function(t,e,i){const s=-1*i,r=Xl(e,yr.MinusSign),o=s>0?Math.floor(s/60):Math.ceil(s/60);switch(n){case Ju.Short:return(s>=0?"+":"")+jc(o,2,r)+jc(Math.abs(s%60),2,r);case Ju.ShortGMT:return"GMT"+(s>=0?"+":"")+jc(o,1,r);case Ju.Long:return"GMT"+(s>=0?"+":"")+jc(o,2,r)+":"+jc(Math.abs(s%60),2,r);case Ju.Extended:return 0===i?"Z":(s>=0?"+":"")+jc(o,2,r)+":"+jc(Math.abs(s%60),2,r);default:throw new Error(`Unknown zone width "${n}"`)}}}const $he=0,kD=4;function _8(n){const t=n.getDay(),e=0===t?-3:kD-t;return DD(n.getFullYear(),n.getMonth(),n.getDate()+e)}function DO(n,t=!1){return function(e,i){let s;if(t){const r=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();s=1+Math.floor((o+r)/7)}else{const r=_8(e),o=function jhe(n){const t=DD(n,$he,1).getDay();return DD(n,0,1+(t<=kD?kD:kD+7)-t)}(r.getFullYear()),a=r.getTime()-o.getTime();s=1+Math.round(a/6048e5)}return jc(s,n,Xl(i,yr.MinusSign))}}function ID(n,t=!1){return function(e,i){return jc(_8(e).getFullYear(),n,Xl(i,yr.MinusSign),t)}}const EO={};function v8(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function y8(n){return n instanceof Date&&!isNaN(n.valueOf())}const Jhe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,b8=22,LD=".",vw="0",efe=";",tfe=",",AO="#";function kO(n,t,e,i,s,r,o=!1){let a="",l=!1;if(isFinite(n)){let c=function afe(n){let i,s,r,o,a,t=Math.abs(n)+"",e=0;for((s=t.indexOf(LD))>-1&&(t=t.replace(LD,"")),(r=t.search(/e/i))>0?(s<0&&(s=r),s+=+t.slice(r+1),t=t.substring(0,r)):s<0&&(s=t.length),r=0;t.charAt(r)===vw;r++);if(r===(a=t.length))i=[0],s=1;else{for(a--;t.charAt(a)===vw;)a--;for(s-=r,i=[],o=0;r<=a;r++,o++)i[o]=Number(t.charAt(r))}return s>b8&&(i=i.splice(0,b8-1),e=s-1,s=1),{digits:i,exponent:e,integerLen:s}}(n);o&&(c=function ofe(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(c));let d=t.minInt,u=t.minFrac,f=t.maxFrac;if(r){const C=r.match(Jhe);if(null===C)throw new Error(`${r} is not a valid digit info`);const w=C[1],S=C[3],R=C[5];null!=w&&(d=LO(w)),null!=S&&(u=LO(S)),null!=R?f=LO(R):null!=S&&u>f&&(f=u)}!function lfe(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,s=i.length-n.integerLen;const r=Math.min(Math.max(t,s),e);let o=r+n.integerLen,a=i[o];if(o>0){i.splice(Math.max(n.integerLen,o));for(let u=o;u<i.length;u++)i[u]=0}else{s=Math.max(0,s),n.integerLen=1,i.length=Math.max(1,o=r+1),i[0]=0;for(let u=1;u<o;u++)i[u]=0}if(a>=5)if(o-1<0){for(let u=0;u>o;u--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[o-1]++;for(;s<Math.max(0,r);s++)i.push(0);let l=0!==r;const c=t+n.integerLen,d=i.reduceRight(function(u,f,m,g){return g[m]=(f+=u)<10?f:f-10,l&&(0===g[m]&&m>=c?g.pop():l=!1),f>=10?1:0},0);d&&(i.unshift(d),n.integerLen++)}(c,u,f);let m=c.digits,g=c.integerLen;const v=c.exponent;let _=[];for(l=m.every(C=>!C);g<d;g++)m.unshift(0);for(;g<0;g++)m.unshift(0);g>0?_=m.splice(g,m.length):(_=m,m=[0]);const y=[];for(m.length>=t.lgSize&&y.unshift(m.splice(-t.lgSize,m.length).join(""));m.length>t.gSize;)y.unshift(m.splice(-t.gSize,m.length).join(""));m.length&&y.unshift(m.join("")),a=y.join(Xl(e,i)),_.length&&(a+=Xl(e,s)+_.join("")),v&&(a+=Xl(e,yr.Exponential)+"+"+v)}else a=Xl(e,yr.Infinity);return a=n<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function IO(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(efe),s=i[0],r=i[1],o=-1!==s.indexOf(LD)?s.split(LD):[s.substring(0,s.lastIndexOf(vw)+1),s.substring(s.lastIndexOf(vw)+1)],a=o[0],l=o[1]||"";e.posPre=a.substring(0,a.indexOf(AO));for(let d=0;d<l.length;d++){const u=l.charAt(d);u===vw?e.minFrac=e.maxFrac=d+1:u===AO?e.maxFrac=d+1:e.posSuf+=u}const c=a.split(tfe);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,r){const d=s.length-e.posPre.length-e.posSuf.length,u=r.indexOf(AO);e.negPre=r.substring(0,u).replace(/'/g,""),e.negSuf=r.slice(u+d).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function LO(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function C8(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,r]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}const PO=/\s+/,M8=[];let Zl=(()=>{class n{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=M8,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(PO):M8}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(PO):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const s=this.stateMap.get(e);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],s=e[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(PO).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}static#e=this.\u0275fac=function(i){return new(i||n)(K(gn),K(Js))};static#t=this.\u0275dir=ee({type:n,selectors:[["","ngClass",""]],inputs:{klass:[St.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class ufe{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let nr=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((s,r,o)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new ufe(s.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===r?void 0:r);else if(null!==r){const a=i.get(r);i.move(a,o),S8(a,s)}});for(let s=0,r=i.length;s<r;s++){const a=i.get(s).context;a.index=s,a.count=r,a.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{S8(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(K(Ao),K(Za),K(Eo))};static#t=this.\u0275dir=ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function S8(n,t){n.context.$implicit=t.item}let $s=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new hfe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){D8("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){D8("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(K(Ao),K(Za))};static#t=this.\u0275dir=ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class hfe{constructor(){this.$implicit=null,this.ngIf=null}}function D8(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${mr(t)}'.`)}class OO{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let yw=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e===this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ee({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),FO=(()=>{class n{constructor(e,i,s){this.ngSwitch=s,s._addCase(),this._view=new OO(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(K(Ao),K(Za),K(yw,9))};static#t=this.\u0275dir=ee({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),bw=(()=>{class n{constructor(e,i,s){this._ngEl=e,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[s,r]=e.split("."),o=-1===s.indexOf("-")?void 0:zc.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,s,r?`${i}${r}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,s,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(K(gn),K(Xa),K(Js))};static#t=this.\u0275dir=ee({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),NO=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const s=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,s)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,s),get:(e,i,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,s)}})}static#e=this.\u0275fac=function(i){return new(i||n)(K(Ao))};static#t=this.\u0275dir=ee({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ii]})}return n})();function Xc(n,t){return new De(2100,!1)}class gfe{createSubscription(t,e){return V(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){V(()=>t.unsubscribe())}}class _fe{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const vfe=new _fe,yfe=new gfe;let xw=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(uw(e))return vfe;if(cY(e))return yfe;throw Xc()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(K(er,16))};static#t=this.\u0275pipe=Ie({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Tfe=new Xe(""),Sfe=new Xe("");let ww=(()=>{class n{constructor(e,i,s){this.locale=e,this.defaultTimezone=i,this.defaultOptions=s}transform(e,i,s,r){if(null==e||""===e||e!=e)return null;try{return Uhe(e,i??this.defaultOptions?.dateFormat??"mediumDate",r||this.locale,s??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw Xc()}}static#e=this.\u0275fac=function(i){return new(i||n)(K(Wd,16),K(Tfe,24),K(Sfe,24))};static#t=this.\u0275pipe=Ie({name:"date",type:n,pure:!0,standalone:!0})}return n})(),k8=(()=>{class n{constructor(e){this._locale=e}transform(e,i,s){if(!VO(e))return null;s||=this._locale;try{return function rfe(n,t,e){return kO(n,IO(TO(t,wD.Decimal),Xl(t,yr.MinusSign)),t,yr.Group,yr.Decimal,e)}(BO(e),s,i)}catch(r){throw Xc()}}static#e=this.\u0275fac=function(i){return new(i||n)(K(Wd,16))};static#t=this.\u0275pipe=Ie({name:"number",type:n,pure:!0,standalone:!0})}return n})(),I8=(()=>{class n{constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,s="symbol",r,o){if(!VO(e))return null;o||=this._locale,"boolean"==typeof s&&(s=s?"symbol":"code");let a=i||this._defaultCurrencyCode;"code"!==s&&(a="symbol"===s||"symbol-narrow"===s?function Nhe(n,t,e="en"){const i=function Rhe(n){return _a(n)[Ss.Currencies]}(e)[n]||m8[n]||[],s=i[1];return"narrow"===t&&"string"==typeof s?s:i[0]||n}(a,"symbol"===s?"wide":"narrow",o):s);try{return function ife(n,t,e,i,s){const o=IO(TO(t,wD.Currency),Xl(t,yr.MinusSign));return o.minFrac=function Bhe(n){let t;const e=m8[n];return e&&(t=e[2]),"number"==typeof t?t:2}(i),o.maxFrac=o.minFrac,kO(n,o,t,yr.CurrencyGroup,yr.CurrencyDecimal,s).replace("\xa4",e).replace("\xa4","").trim()}(BO(e),o,a,i,r)}catch(l){throw Xc()}}static#e=this.\u0275fac=function(i){return new(i||n)(K(Wd,16),K(Rue,16))};static#t=this.\u0275pipe=Ie({name:"currency",type:n,pure:!0,standalone:!0})}return n})();function VO(n){return!(null==n||""===n||n!=n)}function BO(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let xa=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({})}return n})();const L8="browser";function Of(n){return n===L8}function RD(n){return"server"===n}let Nfe=(()=>{class n{static#e=this.\u0275prov=Be({token:n,providedIn:"root",factory:()=>Of(Ke(To))?new Vfe(Ke(Gn),window):new Hfe})}return n})();class Vfe{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const e=function Bfe(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const r=s.shadowRoot;if(r){const o=r.getElementById(t)||r.querySelector(`[name="${t}"]`);if(o)return o}s=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(i-r[0],s-r[1])}}class Hfe{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}class R8{}class cpe extends bhe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class UO extends cpe{static makeCurrent(){!function yhe(n){d8??=n}(new UO)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function dpe(){return Mw=Mw||document.querySelector("base"),Mw?Mw.getAttribute("href"):null}();return null==e?null:function upe(n){return new URL(n,document.baseURI).pathname}(e)}resetBaseElement(){Mw=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return C8(document.cookie,t)}}let Mw=null,fpe=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();const WO=new Xe("");let N8=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>{s.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(r=>r.supports(e)),!i)throw new De(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(be(WO),be(ln))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();class V8{constructor(t){this._doc=t}}const YO="ng-app-id";let B8=(()=>{class n{constructor(e,i,s,r={}){this.doc=e,this.appId=i,this.nonce=s,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=RD(r),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(s=>s.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${YO}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(e,i){const s=this.styleRef;if(s.has(e)){const r=s.get(e);return r.usage+=i,r.usage}return s.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const s=this.styleNodesInDOM,r=s?.get(i);if(r?.parentNode===e)return s.delete(i),r.removeAttribute(YO),r;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(YO,this.appId),e.appendChild(o),o}}addStyleToHost(e,i){const s=this.getStyleElement(e,i),r=this.styleRef,o=r.get(i)?.elements;o?o.push(s):r.set(i,{elements:[s],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(be(Gn),be(wf),be(dx,8),be(To))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();const GO={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$O=/%COMP%/g,_pe=new Xe("",{providedIn:"root",factory:()=>!0});function z8(n,t){return t.map(e=>e.replace($O,n))}let jO=(()=>{class n{constructor(e,i,s,r,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=r,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=RD(a),this.defaultRenderer=new XO(e,o,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===dl.ShadowDom&&(i={...i,encapsulation:dl.Emulated});const s=this.getOrCreateRenderer(e,i);return s instanceof W8?s.applyToHost(e):s instanceof qO&&s.applyStyles(),s}getOrCreateRenderer(e,i){const s=this.rendererByCompId;let r=s.get(i.id);if(!r){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer;switch(i.encapsulation){case dl.Emulated:r=new W8(l,c,i,this.appId,d,o,a,u);break;case dl.ShadowDom:return new xpe(l,c,e,i,o,a,this.nonce,u);default:r=new qO(l,c,i,d,o,a,u)}s.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(be(N8),be(B8),be(wf),be(_pe),be(Gn),be(To),be(ln),be(dx))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();class XO{constructor(t,e,i,s){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=s,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(GO[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(U8(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(U8(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new De(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const r=GO[s];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=GO[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(zc.DashCase|zc.Important)?t.style.setProperty(e,i,s&zc.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&zc.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){null!=t&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=Pf().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function U8(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class xpe extends XO{constructor(t,e,i,s,r,o,a,l){super(t,r,o,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=z8(s.id,s.styles);for(const d of c){const u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qO extends XO{constructor(t,e,i,s,r,o,a,l){super(t,r,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=s,this.styles=l?z8(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class W8 extends qO{constructor(t,e,i,s,r,o,a,l){const c=s+"-"+i.id;super(t,e,i,r,o,a,l,c),this.contentAttr=function vpe(n){return"_ngcontent-%COMP%".replace($O,n)}(c),this.hostAttr=function ype(n){return"_nghost-%COMP%".replace($O,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let wpe=(()=>{class n extends V8{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}static#e=this.\u0275fac=function(i){return new(i||n)(be(Gn))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();const Y8=["alt","control","meta","shift"],Cpe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mpe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Tpe=(()=>{class n extends V8{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const r=n.parseEventName(i),o=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pf().onAndCancel(e,r.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),Y8.forEach(c=>{const d=i.indexOf(c);d>-1&&(i.splice(d,1),o+=c+".")}),o+=r,0!=i.length||0===r.length)return null;const l={};return l.domEventName=s,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let s=Cpe[e.key]||e.key,r="";return i.indexOf("code.")>-1&&(s=e.code,r="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Y8.forEach(o=>{o!==s&&(0,Mpe[o])(e)&&(r+=o+".")}),r+=s,r===i)}static eventCallback(e,i,s){return r=>{n.matchEventFullKeyCode(r,e)&&s.runGuarded(()=>i(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(be(Gn))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();const Ape=V6(Wue,"browser",[{provide:To,useValue:L8},{provide:OT,useValue:function Spe(){UO.makeCurrent()},multi:!0},{provide:Gn,useFactory:function Epe(){return function XL(n){cx=n}(document),document},deps:[]}]),kpe=new Xe(""),j8=[{provide:hD,useClass:class hpe{addToWindow(t){Hi.getAngularTestability=(i,s=!0)=>{const r=t.findTestabilityInTree(i,s);if(null==r)throw new De(5103,!1);return r},Hi.getAllAngularTestabilities=()=>t.getAllTestabilities(),Hi.getAllAngularRootElements=()=>t.getAllRootElements(),Hi.frameworkStabilizers||(Hi.frameworkStabilizers=[]),Hi.frameworkStabilizers.push(i=>{const s=Hi.getAllAngularTestabilities();let r=s.length;const o=function(){r--,0==r&&i()};s.forEach(a=>{a.whenStable(o)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Pf().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:E6,useClass:cO,deps:[ln,dO,hD]},{provide:cO,useClass:cO,deps:[ln,dO,hD]}],X8=[{provide:ix,useValue:"root"},{provide:Wl,useFactory:function Dpe(){return new Wl},deps:[]},{provide:WO,useClass:wpe,multi:!0,deps:[Gn,ln,To]},{provide:WO,useClass:Tpe,multi:!0,deps:[Gn]},jO,B8,N8,{provide:Ev,useExisting:jO},{provide:R8,useClass:fpe,deps:[]},[]];let q8=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:wf,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(be(kpe,12))};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({providers:[...X8,...j8],imports:[xa,Yue]})}return n})(),Ipe=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(be(Gn))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZO=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:function(i){let s=null;return s=i?new(i||n):be(Ope),s},providedIn:"root"})}return n})(),Ope=(()=>{class n extends ZO{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Yr.NONE:return i;case Yr.HTML:return Ul(i,"HTML")?Do(i):vS(this._doc,String(i)).toString();case Yr.STYLE:return Ul(i,"Style")?Do(i):i;case Yr.SCRIPT:if(Ul(i,"Script"))return Do(i);throw new De(5200,!1);case Yr.URL:return Ul(i,"URL")?Do(i):fm(String(i));case Yr.RESOURCE_URL:if(Ul(i,"ResourceURL"))return Do(i);throw new De(5201,!1);default:throw new De(5202,!1)}}bypassSecurityTrustHtml(e){return function MR(n){return new yR(n)}(e)}bypassSecurityTrustStyle(e){return function kr(n){return new bR(n)}(e)}bypassSecurityTrustScript(e){return function Vo(n){return new xR(n)}(e)}bypassSecurityTrustUrl(e){return function TR(n){return new Sx(n)}(e)}bypassSecurityTrustResourceUrl(e){return function SR(n){return new wR(n)}(e)}static#e=this.\u0275fac=function(i){return new(i||n)(be(Gn))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JO(n,t,e,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r}function J8(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)}function Ff(n){return this instanceof Ff?(this.v=n,this):new Ff(n)}function iG(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function tF(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(r){e[r]=n[r]&&function(o){return new Promise(function(a,l){!function s(r,o,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},o)}(a,l,(o=n[r](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const nF=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function sG(n){return Dn(n?.then)}function rG(n){return Dn(n[a_])}function oG(n){return Symbol.asyncIterator&&Dn(n?.[Symbol.asyncIterator])}function aG(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const lG=function tme(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function cG(n){return Dn(n?.[lG])}function dG(n){return function nG(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=e.apply(n,t||[]),r=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){i[f]&&(s[f]=function(m){return new Promise(function(g,v){r.push([f,m,g,v])>1||a(f,m)})})}function a(f,m){try{!function l(f){f.value instanceof Ff?Promise.resolve(f.value.v).then(c,d):u(r[0][2],f)}(i[f](m))}catch(g){u(r[0][3],g)}}function c(f){a("next",f)}function d(f){a("throw",f)}function u(f,m){f(m),r.shift(),r.length&&a(r[0][0],r[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:s}=yield Ff(e.read());if(s)return yield Ff(void 0);yield yield Ff(i)}}finally{e.releaseLock()}})}function uG(n){return Dn(n?.getReader)}function wa(n){if(n instanceof Qi)return n;if(null!=n){if(rG(n))return function nme(n){return new Qi(t=>{const e=n[a_]();if(Dn(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(nF(n))return function ime(n){return new Qi(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(sG(n))return function sme(n){return new Qi(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,mM)})}(n);if(oG(n))return hG(n);if(cG(n))return function rme(n){return new Qi(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(uG(n))return function ome(n){return hG(dG(n))}(n)}throw aG(n)}function hG(n){return new Qi(t=>{(function ame(n,t){var e,i,s,r;return function eG(n,t,e,i){return new(e||(e=Promise))(function(r,o){function a(d){try{c(i.next(d))}catch(u){o(u)}}function l(d){try{c(i.throw(d))}catch(u){o(u)}}function c(d){d.done?r(d.value):function s(r){return r instanceof e?r:new e(function(o){o(r)})}(d.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=iG(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=e.return)&&(yield r.call(e))}finally{if(s)throw s.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function th(n,t,e,i=0,s=!1){const r=t.schedule(function(){e(),s?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(r),!s)return r}function iF(n,t=0){return Ks((e,i)=>{e.subscribe(Ps(i,s=>th(i,n,()=>i.next(s),t),()=>th(i,n,()=>i.complete(),t),s=>th(i,n,()=>i.error(s),t)))})}function fG(n,t=0){return Ks((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function pG(n,t){if(!n)throw new Error("Iterable cannot be null");return new Qi(e=>{th(e,t,()=>{const i=n[Symbol.asyncIterator]();th(e,t,()=>{i.next().then(s=>{s.done?e.complete():e.next(s.value)})},0,!0)})})}function Pr(n,t){return t?function fme(n,t){if(null!=n){if(rG(n))return function lme(n,t){return wa(n).pipe(fG(t),iF(t))}(n,t);if(nF(n))return function dme(n,t){return new Qi(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(sG(n))return function cme(n,t){return wa(n).pipe(fG(t),iF(t))}(n,t);if(oG(n))return pG(n,t);if(cG(n))return function ume(n,t){return new Qi(e=>{let i;return th(e,t,()=>{i=n[lG](),th(e,t,()=>{let s,r;try{({value:s,done:r}=i.next())}catch(o){return void e.error(o)}r?e.complete():e.next(s)},0,!0)}),()=>Dn(i?.return)&&i.return()})}(n,t);if(uG(n))return function hme(n,t){return pG(dG(n),t)}(n,t)}throw aG(n)}(n,t):wa(n)}const{isArray:pme}=Array,{getPrototypeOf:mme,prototype:gme,keys:_me}=Object;function mG(n){if(1===n.length){const t=n[0];if(pme(t))return{args:t,keys:null};if(function vme(n){return n&&"object"==typeof n&&mme(n)===gme}(t)){const e=_me(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function gG(n){return n&&Dn(n.schedule)}function sF(n){return n[n.length-1]}function _G(n){return Dn(sF(n))?n.pop():void 0}function Sw(n){return gG(sF(n))?n.pop():void 0}const{isArray:bme}=Array;function rF(n){return Vn(t=>function xme(n,t){return bme(t)?n(...t):n(t)}(n,t))}function vG(n,t){return n.reduce((e,i,s)=>(e[i]=t[s],e),{})}function yG(...n){const t=_G(n),{args:e,keys:i}=mG(n),s=new Qi(r=>{const{length:o}=e;if(!o)return void r.complete();const a=new Array(o);let l=o,c=o;for(let d=0;d<o;d++){let u=!1;wa(e[d]).subscribe(Ps(r,f=>{u||(u=!0,c--),a[d]=f},()=>l--,void 0,()=>{(!l||!u)&&(c||r.next(i?vG(i,a):a),r.complete())}))}});return t?s.pipe(rF(t)):s}let bG=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(K(Js),K(gn))};static#t=this.\u0275dir=ee({type:n})}return n})(),Lm=(()=>{class n extends bG{static#e=this.\u0275fac=(()=>{let e;return function(s){return(e||(e=ss(n)))(s||n)}})();static#t=this.\u0275dir=ee({type:n,features:[Jn]})}return n})();const Ca=new Xe(""),Cme={provide:Ca,useExisting:vi(()=>qc),multi:!0},Tme=new Xe("");let qc=(()=>{class n extends bG{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Mme(){const n=Pf()?Pf().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(K(Js),K(gn),K(Tme,8))};static#t=this.\u0275dir=ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){1&i&&ye("input",function(o){return s._handleInput(o.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(o){return s._compositionEnd(o.target.value)})},features:[pi([Cme]),Jn]})}return n})();function Nf(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function wG(n){return null!=n&&"number"==typeof n.length}const Xr=new Xe(""),Vf=new Xe(""),Sme=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ko{static min(t){return function CG(n){return t=>{if(Nf(t.value)||Nf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function MG(n){return t=>{if(Nf(t.value)||Nf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return TG(t)}static requiredTrue(t){return function SG(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function DG(n){return Nf(n.value)||Sme.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function EG(n){return t=>Nf(t.value)||!wG(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function AG(n){return t=>wG(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function kG(n){if(!n)return FD;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Nf(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return FG(t)}static composeAsync(t){return NG(t)}}function TG(n){return Nf(n.value)?{required:!0}:null}function FD(n){return null}function IG(n){return null!=n}function LG(n){return uw(n)?Pr(n):n}function RG(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function PG(n,t){return t.map(e=>e(n))}function OG(n){return n.map(t=>function Dme(n){return!n.validate}(t)?t:e=>t.validate(e))}function FG(n){if(!n)return null;const t=n.filter(IG);return 0==t.length?null:function(e){return RG(PG(e,t))}}function oF(n){return null!=n?FG(OG(n)):null}function NG(n){if(!n)return null;const t=n.filter(IG);return 0==t.length?null:function(e){return yG(PG(e,t).map(LG)).pipe(Vn(RG))}}function aF(n){return null!=n?NG(OG(n)):null}function VG(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function BG(n){return n._rawValidators}function HG(n){return n._rawAsyncValidators}function lF(n){return n?Array.isArray(n)?n:[n]:[]}function ND(n,t){return Array.isArray(n)?n.includes(t):n===t}function zG(n,t){const e=lF(t);return lF(n).forEach(s=>{ND(e,s)||e.push(s)}),e}function UG(n,t){return lF(t).filter(e=>!ND(n,e))}class WG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=oF(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=aF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ma extends WG{get formDirective(){return null}get path(){return null}}class Bf extends WG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class YG{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let nh=(()=>{class n extends YG{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(K(Bf,2))};static#t=this.\u0275dir=ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){2&i&&dn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Jn]})}return n})(),s0=(()=>{class n extends YG{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(K(Ma,10))};static#t=this.\u0275dir=ee({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){2&i&&dn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Jn]})}return n})();const Dw="VALID",BD="INVALID",r0="PENDING",Ew="DISABLED";function uF(n){return(HD(n)?n.validators:n)||null}function hF(n,t){return(HD(t)?t.asyncValidators:n)||null}function HD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function $G(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new De(1e3,"");if(!i[e])throw new De(1001,"")}function jG(n,t,e){n._forEachChild((i,s)=>{if(void 0===e[s])throw new De(1002,"")})}class zD{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Dw}get invalid(){return this.status===BD}get pending(){return this.status==r0}get disabled(){return this.status===Ew}get enabled(){return this.status!==Ew}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(zG(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(zG(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(UG(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(UG(t,this._rawAsyncValidators))}hasValidator(t){return ND(this._rawValidators,t)}hasAsyncValidator(t){return ND(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=r0,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ew,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Dw,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dw||this.status===r0)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ew:Dw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=r0,this._hasOwnPendingAsyncValidator=!0;const e=LG(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,s)=>i&&i._find(s),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?Ew:this.errors?BD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(r0)?r0:this._anyControlsHaveStatus(BD)?BD:Dw}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){HD(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Ime(n){return Array.isArray(n)?oF(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Lme(n){return Array.isArray(n)?aF(n):n||null}(this._rawAsyncValidators)}}class Aw extends zD{constructor(t,e,i){super(uF(e),hF(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){jG(this,0,t),Object.keys(t).forEach(i=>{$G(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const s=this.controls[i];s&&s.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t?t[s]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,s)=>((i.enabled||this.disabled)&&(e[s]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,r)=>{i=e(i,s,r)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class XG extends Aw{}const Rm=new Xe("CallSetDisabledState",{providedIn:"root",factory:()=>kw}),kw="always";function UD(n,t){return[...t.path,n]}function Iw(n,t,e=kw){fF(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Pme(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&qG(n,t)})}(n,t),function Fme(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Ome(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&qG(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Rme(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function WD(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),GD(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function YD(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function fF(n,t){const e=BG(n);null!==t.validator?n.setValidators(VG(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=HG(n);null!==t.asyncValidator?n.setAsyncValidators(VG(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();YD(t._rawValidators,s),YD(t._rawAsyncValidators,s)}function GD(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=BG(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.validator);r.length!==s.length&&(e=!0,n.setValidators(r))}}if(null!==t.asyncValidator){const s=HG(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.asyncValidator);r.length!==s.length&&(e=!0,n.setAsyncValidators(r))}}}const i=()=>{};return YD(t._rawValidators,i),YD(t._rawAsyncValidators,i),e}function qG(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ZG(n,t){fF(n,t)}function mF(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function KG(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function gF(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(r=>{r.constructor===qc?e=r:function Bme(n){return Object.getPrototypeOf(n.constructor)===Lm}(r)?i=r:s=r}),s||i||e||null}const zme={provide:Ma,useExisting:vi(()=>o0)},Lw=Promise.resolve();let o0=(()=>{class n extends Ma{constructor(e,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Fe,this.form=new Aw({},oF(e),aF(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Lw.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Iw(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Lw.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Lw.then(()=>{const i=this._findContainer(e.path),s=new Aw({});ZG(s,e),i.registerControl(e.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Lw.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Lw.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,KG(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(K(Xr,10),K(Vf,10),K(Rm,8))};static#t=this.\u0275dir=ee({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){1&i&&ye("submit",function(o){return s.onSubmit(o)})("reset",function(){return s.onReset()})},inputs:{options:[St.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[pi([zme]),Jn]})}return n})();function QG(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function JG(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Rw=class extends zD{constructor(t=null,e,i){super(uF(e),hF(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),HD(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=JG(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){QG(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){QG(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){JG(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Yme={provide:Bf,useExisting:vi(()=>ih)},n$=Promise.resolve();let ih=(()=>{class n extends Bf{constructor(e,i,s,r,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Rw,this._registered=!1,this.name="",this.update=new Fe,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=gF(0,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),mF(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Iw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){n$.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,s=0!==i&&lr(i);n$.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?UD(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(K(Ma,9),K(Xr,10),K(Vf,10),K(Ca,10),K(er,8),K(Rm,8))};static#t=this.\u0275dir=ee({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[St.None,"disabled","isDisabled"],model:[St.None,"ngModel","model"],options:[St.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[pi([Yme]),Jn,Ii]})}return n})(),a0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ee({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const Gme={provide:Ca,useExisting:vi(()=>_F),multi:!0};let _F=(()=>{class n extends Lm{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=(()=>{let e;return function(s){return(e||(e=ss(n)))(s||n)}})();static#t=this.\u0275dir=ee({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){1&i&&ye("input",function(o){return s.onChange(o.target.value)})("blur",function(){return s.onTouched()})},features:[pi([Gme]),Jn]})}return n})();const vF=new Xe(""),Zme={provide:Ma,useExisting:vi(()=>Pw)};let Pw=(()=>{class n extends Ma{constructor(e,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Fe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(GD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Iw(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){WD(e.control||null,e,!1),function Hme(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,KG(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(WD(i||null,e),(n=>n instanceof Rw)(s)&&(Iw(s,e,this.callSetDisabledState),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);ZG(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Nme(n,t){return GD(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fF(this.form,this),this._oldForm&&GD(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(K(Xr,10),K(Vf,10),K(Rm,8))};static#t=this.\u0275dir=ee({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,s){1&i&&ye("submit",function(o){return s.onSubmit(o)})("reset",function(){return s.onReset()})},inputs:{form:[St.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[pi([Zme]),Jn,Ii]})}return n})();const Jme={provide:Bf,useExisting:vi(()=>$D)};let $D=(()=>{class n extends Bf{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,s,r,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Fe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=gF(0,r)}ngOnChanges(e){this._added||this._setUpControl(),mF(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return UD(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(K(Ma,13),K(Xr,10),K(Vf,10),K(Ca,10),K(vF,8))};static#n=this.\u0275dir=ee({type:n,selectors:[["","formControlName",""]],inputs:{name:[St.None,"formControlName","name"],isDisabled:[St.None,"disabled","isDisabled"],model:[St.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[pi([Jme]),Jn,Ii]})}return n})();const ege={provide:Ca,useExisting:vi(()=>Ow),multi:!0};function a$(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Ow=(()=>{class n extends Lm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const s=a$(this._getOptionId(e),e);this.setProperty("value",s)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function tge(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static#e=this.\u0275fac=(()=>{let e;return function(s){return(e||(e=ss(n)))(s||n)}})();static#t=this.\u0275dir=ee({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){1&i&&ye("change",function(o){return s.onChange(o.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[pi([ege]),Jn]})}return n})(),xF=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(a$(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(K(gn),K(Js),K(Ow,9))};static#t=this.\u0275dir=ee({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const nge={provide:Ca,useExisting:vi(()=>wF),multi:!0};function l$(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let wF=(()=>{class n extends Lm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const s=e.map(r=>this._getOptionId(r));i=(r,o)=>{r._setSelected(s.indexOf(o.toString())>-1)}}else i=(s,r)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const s=[],r=i.selectedOptions;if(void 0!==r){const o=r;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);s.push(c)}}else{const o=i.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);s.push(c)}}}this.value=s,e(s)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function ige(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static#e=this.\u0275fac=(()=>{let e;return function(s){return(e||(e=ss(n)))(s||n)}})();static#t=this.\u0275dir=ee({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){1&i&&ye("change",function(o){return s.onChange(o.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[pi([nge]),Jn]})}return n})(),CF=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(l$(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(l$(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(K(gn),K(Js),K(wF,9))};static#t=this.\u0275dir=ee({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})(),Pm=(()=>{class n{constructor(){this._validator=FD}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):FD,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ee({type:n,features:[Ii]})}return n})();const oge={provide:Xr,useExisting:vi(()=>Fw),multi:!0};let Fw=(()=>{class n extends Pm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=lr,this.createValidator=e=>TG}enabled(e){return e}static#e=this.\u0275fac=(()=>{let e;return function(s){return(e||(e=ss(n)))(s||n)}})();static#t=this.\u0275dir=ee({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){2&i&&Nt("required",s._enabled?"":null)},inputs:{required:"required"},features:[pi([oge]),Jn]})}return n})(),v$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({})}return n})();class y$ extends zD{constructor(t,e,i){super(uF(e),hF(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let s=this._adjustIndex(t);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),e&&(this.controls.splice(s,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){jG(this,0,t),t.forEach((i,s)=>{$G(this,!1,s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function b$(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let x$=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const s=this._reduceControls(e);let r={};return b$(i)?r=i:null!==i&&(r.validators=i.validator,r.asyncValidators=i.asyncValidator),new Aw(s,r)}record(e,i=null){const s=this._reduceControls(e);return new XG(s,i)}control(e,i,s){let r={};return this.useNonNullable?(b$(i)?r=i:(r.validators=i,r.asyncValidators=s),new Rw(e,{...r,nonNullable:!0})):new Rw(e,i,s)}array(e,i,s){const r=e.map(o=>this._createControl(o));return new y$(r,i,s)}_reduceControls(e){const i={};return Object.keys(e).forEach(s=>{i[s]=this._createControl(e[s])}),i}_createControl(e){return e instanceof Rw||e instanceof zD?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hge=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Rm,useValue:e.callSetDisabledState??kw}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({imports:[v$]})}return n})(),fge=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:vF,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Rm,useValue:e.callSetDisabledState??kw}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({imports:[v$]})}return n})();function rn(...n){return Pr(n,Sw(n))}function Nw(...n){const t=Sw(n),e=_G(n),{args:i,keys:s}=mG(n);if(0===i.length)return Pr([],t);const r=new Qi(function mge(n,t,e=_d){return i=>{w$(t,()=>{const{length:s}=n,r=new Array(s);let o=s,a=s;for(let l=0;l<s;l++)w$(t,()=>{const c=Pr(n[l],t);let d=!1;c.subscribe(Ps(i,u=>{r[l]=u,d||(d=!0,a--),a||i.next(e(r.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,s?o=>vG(s,o):_d));return e?r.pipe(rF(e)):r}function w$(n,t,e){n?th(e,n,t):t()}const jD=Na(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Io(n,t,e=1/0){return Dn(t)?Io((i,s)=>Vn((r,o)=>t(i,r,s,o))(wa(n(i,s))),e):("number"==typeof t&&(e=t),Ks((i,s)=>function gge(n,t,e,i,s,r,o,a){const l=[];let c=0,d=0,u=!1;const f=()=>{u&&!l.length&&!c&&t.complete()},m=v=>c<i?g(v):l.push(v),g=v=>{r&&t.next(v),c++;let _=!1;wa(e(v,d++)).subscribe(Ps(t,y=>{s?.(y),r?m(y):t.next(y)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<i;){const y=l.shift();o?th(t,o,()=>g(y)):g(y)}f()}catch(y){t.error(y)}}))};return n.subscribe(Ps(t,m,()=>{u=!0,f()})),()=>{a?.()}}(i,s,n,e)))}function l0(n=1/0){return Io(_d,n)}function XD(...n){return function _ge(){return l0(1)}()(Pr(n,Sw(n)))}function C$(n){return new Qi(t=>{wa(n()).subscribe(t)})}function c0(n,t){const e=Dn(n)?n:()=>n,i=s=>s.error(e());return new Qi(t?s=>t.schedule(i,0,s):i)}const Yd=new Qi(n=>n.complete());function MF(){return Ks((n,t)=>{let e=null;n._refCount++;const i=Ps(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const s=n._connection,r=e;e=null,s&&(!r||s===r)&&s.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class M$ extends Qi{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,yM(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ti;const e=this.getSubject();t.add(this.source.subscribe(Ps(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ti.EMPTY)}return t}refCount(){return MF()(this)}}function Kl(n,t){return Ks((e,i)=>{let s=null,r=0,o=!1;const a=()=>o&&!s&&i.complete();e.subscribe(Ps(i,l=>{s?.unsubscribe();let c=0;const d=r++;wa(n(l,d)).subscribe(s=Ps(i,u=>i.next(t?t(l,u,d,c++):u),()=>{s=null,a()}))},()=>{o=!0,a()}))})}function Ta(n){return n<=0?()=>Yd:Ks((t,e)=>{let i=0;t.subscribe(Ps(e,s=>{++i<=n&&(e.next(s),n<=i&&e.complete())}))})}function Hf(...n){const t=Sw(n);return Ks((e,i)=>{(t?XD(n,e,t):XD(n,e)).subscribe(i)})}function vs(n,t){return Ks((e,i)=>{let s=0;e.subscribe(Ps(i,r=>n.call(t,r,s++)&&i.next(r)))})}function qD(n){return Ks((t,e)=>{let i=!1;t.subscribe(Ps(e,s=>{i=!0,e.next(s)},()=>{i||e.next(n),e.complete()}))})}function T$(n=yge){return Ks((t,e)=>{let i=!1;t.subscribe(Ps(e,s=>{i=!0,e.next(s)},()=>i?e.complete():e.error(n())))})}function yge(){return new jD}function Om(n,t){const e=arguments.length>=2;return i=>i.pipe(n?vs((s,r)=>n(s,r,i)):_d,Ta(1),e?qD(t):T$(()=>new jD))}function d0(n,t){return Dn(t)?Io(n,t,1):Io(n,1)}function br(n,t,e){const i=Dn(n)||t||e?{next:n,error:t,complete:e}:n;return i?Ks((s,r)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;s.subscribe(Ps(r,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),r.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),r.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),r.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):_d}function zf(n){return Ks((t,e)=>{let r,i=null,s=!1;i=t.subscribe(Ps(e,void 0,void 0,o=>{r=wa(n(o,zf(n)(t))),i?(i.unsubscribe(),i=null,r.subscribe(e)):s=!0})),s&&(i.unsubscribe(),i=null,r.subscribe(e))})}function S$(n,t){return Ks(function bge(n,t,e,i,s){return(r,o)=>{let a=e,l=t,c=0;r.subscribe(Ps(o,d=>{const u=c++;l=a?n(l,d,u):(a=!0,d),i&&o.next(l)},s&&(()=>{a&&o.next(l),o.complete()})))}}(n,t,arguments.length>=2,!0))}function TF(n){return n<=0?()=>Yd:Ks((t,e)=>{let i=[];t.subscribe(Ps(e,s=>{i.push(s),n<i.length&&i.shift()},()=>{for(const s of i)e.next(s);e.complete()},void 0,()=>{i=null}))})}function u0(n){return Ks((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Ql(n){return Ks((t,e)=>{wa(n).subscribe(Ps(e,()=>e.complete(),bu)),!e.closed&&t.subscribe(e)})}const ii="primary",Vw=Symbol("RouteTitle");class Cge{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function h0(n){return new Cge(n)}function Mge(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const s={};for(let r=0;r<i.length;r++){const o=i[r],a=n[r];if(o.startsWith(":"))s[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function Gd(n,t){const e=n?SF(n):void 0,i=t?SF(t):void 0;if(!e||!i||e.length!=i.length)return!1;let s;for(let r=0;r<e.length;r++)if(s=e[r],!D$(n[s],t[s]))return!1;return!0}function SF(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function D$(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((s,r)=>i[r]===s)}return n===t}function E$(n){return n.length>0?n[n.length-1]:null}function Uf(n){return function pge(n){return!!n&&(n instanceof Qi||Dn(n.lift)&&Dn(n.subscribe))}(n)?n:uw(n)?Pr(Promise.resolve(n)):rn(n)}const Sge={exact:function I$(n,t,e){if(!Fm(n.segments,t.segments)||!ZD(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!I$(n.children[i],t.children[i],e))return!1;return!0},subset:L$},A$={exact:function Dge(n,t){return Gd(n,t)},subset:function Ege(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>D$(n[e],t[e]))},ignored:()=>!0};function k$(n,t,e){return Sge[e.paths](n.root,t.root,e.matrixParams)&&A$[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function L$(n,t,e){return R$(n,t,t.segments,e)}function R$(n,t,e,i){if(n.segments.length>e.length){const s=n.segments.slice(0,e.length);return!(!Fm(s,e)||t.hasChildren()||!ZD(s,e,i))}if(n.segments.length===e.length){if(!Fm(n.segments,e)||!ZD(n.segments,e,i))return!1;for(const s in t.children)if(!n.children[s]||!L$(n.children[s],t.children[s],i))return!1;return!0}{const s=e.slice(0,n.segments.length),r=e.slice(n.segments.length);return!!(Fm(n.segments,s)&&ZD(n.segments,s,i)&&n.children[ii])&&R$(n.children[ii],t,r,i)}}function ZD(n,t,e){return t.every((i,s)=>A$[e](n[s].parameters,i.parameters))}class f0{constructor(t=new ps([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=h0(this.queryParams),this._queryParamMap}toString(){return Ige.serialize(this)}}class ps{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return KD(this)}}class Bw{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=h0(this.parameters),this._parameterMap}toString(){return F$(this)}}function Fm(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let p0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:()=>new DF,providedIn:"root"})}return n})();class DF{parse(t){const e=new Uge(t);return new f0(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Hw(t.root,!0)}`,i=function Pge(n){const t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(s=>`${QD(e)}=${QD(s)}`).join("&"):`${QD(e)}=${QD(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Lge(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Ige=new DF;function KD(n){return n.segments.map(t=>F$(t)).join("/")}function Hw(n,t){if(!n.hasChildren())return KD(n);if(t){const e=n.children[ii]?Hw(n.children[ii],!1):"",i=[];return Object.entries(n.children).forEach(([s,r])=>{s!==ii&&i.push(`${s}:${Hw(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function kge(n,t){let e=[];return Object.entries(n.children).forEach(([i,s])=>{i===ii&&(e=e.concat(t(s,i)))}),Object.entries(n.children).forEach(([i,s])=>{i!==ii&&(e=e.concat(t(s,i)))}),e}(n,(i,s)=>s===ii?[Hw(n.children[ii],!1)]:[`${s}:${Hw(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ii]?`${KD(n)}/${e[0]}`:`${KD(n)}/(${e.join("//")})`}}function P$(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function QD(n){return P$(n).replace(/%3B/gi,";")}function EF(n){return P$(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function JD(n){return decodeURIComponent(n)}function O$(n){return JD(n.replace(/\+/g,"%20"))}function F$(n){return`${EF(n.path)}${function Rge(n){return Object.entries(n).map(([t,e])=>`;${EF(t)}=${EF(e)}`).join("")}(n.parameters)}`}const Oge=/^[^\/()?;#]+/;function AF(n){const t=n.match(Oge);return t?t[0]:""}const Fge=/^[^\/()?;=#]+/,Vge=/^[^=?&#]+/,Hge=/^[^&#]+/;class Uge{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ps([],{}):new ps([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ii]=new ps(t,e)),i}parseSegment(){const t=AF(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new De(4009,!1);return this.capture(t),new Bw(JD(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Nge(n){const t=n.match(Fge);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=AF(this.remaining);s&&(i=s,this.capture(i))}t[JD(e)]=JD(i)}parseQueryParam(t){const e=function Bge(n){const t=n.match(Vge);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function zge(n){const t=n.match(Hge);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const s=O$(e),r=O$(i);if(t.hasOwnProperty(s)){let o=t[s];Array.isArray(o)||(o=[o],t[s]=o),o.push(r)}else t[s]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=AF(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new De(4010,!1);let r;i.indexOf(":")>-1?(r=i.slice(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=ii);const o=this.parseChildren();e[r]=1===Object.keys(o).length?o[ii]:new ps([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new De(4011,!1)}}function N$(n){return n.segments.length>0?new ps([],{[ii]:n}):n}function V$(n){const t={};for(const[i,s]of Object.entries(n.children)){const r=V$(s);if(i===ii&&0===r.segments.length&&r.hasChildren())for(const[o,a]of Object.entries(r.children))t[o]=a;else(r.segments.length>0||r.hasChildren())&&(t[i]=r)}return function Wge(n){if(1===n.numberOfChildren&&n.children[ii]){const t=n.children[ii];return new ps(n.segments.concat(t.segments),t.children)}return n}(new ps(n.segments,t))}function m0(n){return n instanceof f0}function B$(n){let t;const s=N$(function e(r){const o={};for(const l of r.children){const c=e(l);o[l.outlet]=c}const a=new ps(r.url,o);return r===n&&(t=a),a}(n.root));return t??s}function H$(n,t,e,i){let s=n;for(;s.parent;)s=s.parent;if(0===t.length)return kF(s,s,s,e,i);const r=function Gge(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new U$(!0,0,n);let t=0,e=!1;const i=n.reduce((s,r,o)=>{if("object"==typeof r&&null!=r){if(r.outlets){const a={};return Object.entries(r.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...s,{outlets:a}]}if(r.segmentPath)return[...s,r.segmentPath]}return"string"!=typeof r?[...s,r]:0===o?(r.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&s.push(a))}),s):[...s,r]},[]);return new U$(e,t,i)}(t);if(r.toRoot())return kF(s,s,new ps([],{}),e,i);const o=function $ge(n,t,e){if(n.isAbsolute)return new tE(t,!0,0);if(!e)return new tE(t,!1,NaN);if(null===e.parent)return new tE(e,!0,0);const i=eE(n.commands[0])?0:1;return function jge(n,t,e){let i=n,s=t,r=e;for(;r>s;){if(r-=s,i=i.parent,!i)throw new De(4005,!1);s=i.segments.length}return new tE(i,!1,s-r)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(r,s,n),a=o.processChildren?Uw(o.segmentGroup,o.index,r.commands):W$(o.segmentGroup,o.index,r.commands);return kF(s,o.segmentGroup,a,e,i)}function eE(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function zw(n){return"object"==typeof n&&null!=n&&n.outlets}function kF(n,t,e,i,s){let o,r={};i&&Object.entries(i).forEach(([l,c])=>{r[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),o=n===t?e:z$(n,t,e);const a=N$(V$(o));return new f0(a,r,s)}function z$(n,t,e){const i={};return Object.entries(n.children).forEach(([s,r])=>{i[s]=r===t?e:z$(r,t,e)}),new ps(n.segments,i)}class U${constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&eE(i[0]))throw new De(4003,!1);const s=i.find(zw);if(s&&s!==E$(i))throw new De(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tE{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function W$(n,t,e){if(n??=new ps([],{}),0===n.segments.length&&n.hasChildren())return Uw(n,t,e);const i=function qge(n,t,e){let i=0,s=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=e.length)return r;const o=n.segments[s],a=e[i];if(zw(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(s>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!G$(l,c,o))return r;i+=2}else{if(!G$(l,{},o))return r;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,t,e),s=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const r=new ps(n.segments.slice(0,i.pathIndex),{});return r.children[ii]=new ps(n.segments.slice(i.pathIndex),n.children),Uw(r,0,s)}return i.match&&0===s.length?new ps(n.segments,{}):i.match&&!n.hasChildren()?IF(n,t,e):i.match?Uw(n,0,s):IF(n,t,e)}function Uw(n,t,e){if(0===e.length)return new ps(n.segments,{});{const i=function Xge(n){return zw(n[0])?n[0].outlets:{[ii]:n}}(e),s={};if(Object.keys(i).some(r=>r!==ii)&&n.children[ii]&&1===n.numberOfChildren&&0===n.children[ii].segments.length){const r=Uw(n.children[ii],t,e);return new ps(n.segments,r.children)}return Object.entries(i).forEach(([r,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(s[r]=W$(n.children[r],t,o))}),Object.entries(n.children).forEach(([r,o])=>{void 0===i[r]&&(s[r]=o)}),new ps(n.segments,s)}}function IF(n,t,e){const i=n.segments.slice(0,t);let s=0;for(;s<e.length;){const r=e[s];if(zw(r)){const l=Zge(r.outlets);return new ps(i,l)}if(0===s&&eE(e[0])){i.push(new Bw(n.segments[t].path,Y$(e[0]))),s++;continue}const o=zw(r)?r.outlets[ii]:`${r}`,a=s<e.length-1?e[s+1]:null;o&&a&&eE(a)?(i.push(new Bw(o,Y$(a))),s+=2):(i.push(new Bw(o,{})),s++)}return new ps(i,{})}function Zge(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=IF(new ps([],{}),0,i))}),t}function Y$(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function G$(n,t,e){return n==e.path&&Gd(t,e.parameters)}const Ww="imperative";var Pi=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Pi||{});class $d{constructor(t,e){this.id=t,this.url=e}}class nE extends $d{constructor(t,e,i="imperative",s=null){super(t,e),this.type=Pi.NavigationStart,this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jl extends $d{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=Pi.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ec=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ec||{}),iE=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(iE||{});class g0 extends $d{constructor(t,e,i,s){super(t,e),this.reason=i,this.code=s,this.type=Pi.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _0 extends $d{constructor(t,e,i,s){super(t,e),this.reason=i,this.code=s,this.type=Pi.NavigationSkipped}}class sE extends $d{constructor(t,e,i,s){super(t,e),this.error=i,this.target=s,this.type=Pi.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $$ extends $d{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s,this.type=Pi.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kge extends $d{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s,this.type=Pi.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qge extends $d{constructor(t,e,i,s,r){super(t,e),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=r,this.type=Pi.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jge extends $d{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s,this.type=Pi.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class e_e extends $d{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s,this.type=Pi.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t_e{constructor(t){this.route=t,this.type=Pi.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class n_e{constructor(t){this.route=t,this.type=Pi.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class i_e{constructor(t){this.snapshot=t,this.type=Pi.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s_e{constructor(t){this.snapshot=t,this.type=Pi.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class r_e{constructor(t){this.snapshot=t,this.type=Pi.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o_e{constructor(t){this.snapshot=t,this.type=Pi.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class j${constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=Pi.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class LF{}class RF{constructor(t){this.url=t}}class a_e{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Yw,this.attachRef=null}}let Yw=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const s=this.getOrCreateContext(e);s.outlet=i,this.contexts.set(e,s)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new a_e,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class X${constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=PF(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=PF(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=OF(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return OF(t,this._root).map(e=>e.value)}}function PF(n,t){if(n===t.value)return t;for(const e of t.children){const i=PF(n,e);if(i)return i}return null}function OF(n,t){if(n===t.value)return[t];for(const e of t.children){const i=OF(n,e);if(i.length)return i.unshift(t),i}return[]}class Zc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function v0(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class q$ extends X${constructor(t,e){super(t),this.snapshot=e,VF(this,t)}toString(){return this.snapshot.toString()}}function Z$(n){const t=function l_e(n){const r=new NF([],{},{},"",{},ii,n,null,{});return new K$("",new Zc(r,[]))}(n),e=new xs([new Bw("",{})]),i=new xs({}),s=new xs({}),r=new xs({}),o=new xs(""),a=new y0(e,i,r,o,s,ii,n,t.root);return a.snapshot=t.root,new q$(new Zc(a,[]),t)}class y0{constructor(t,e,i,s,r,o,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=s,this.dataSubject=r,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Vn(c=>c[Vw]))??rn(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Vn(t=>h0(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Vn(t=>h0(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function FF(n,t,e="emptyOnly"){let i;const{routeConfig:s}=n;return i=null===t||"always"!==e&&""!==s?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.data,...s?.data,...n._resolvedData}},s&&J$(s)&&(i.resolve[Vw]=s.title),i}class NF{get title(){return this.data?.[Vw]}constructor(t,e,i,s,r,o,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=r,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=h0(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=h0(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class K$ extends X${constructor(t,e){super(e),this.url=t,VF(this,e)}toString(){return Q$(this._root)}}function VF(n,t){t.value._routerState=n,t.children.forEach(e=>VF(n,e))}function Q$(n){const t=n.children.length>0?` { ${n.children.map(Q$).join(", ")} } `:"";return`${n.value}${t}`}function BF(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Gd(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Gd(t.params,e.params)||n.paramsSubject.next(e.params),function Tge(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Gd(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Gd(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function HF(n,t){const e=Gd(n.params,t.params)&&function Age(n,t){return Fm(n,t)&&n.every((e,i)=>Gd(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||HF(n.parent,t.parent))}function J$(n){return"string"==typeof n.title||null===n.title}let rE=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ii,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=Ke(Yw),this.location=Ke(Ao),this.changeDetector=Ke(er),this.environmentInjector=Ke(fa),this.inputBinder=Ke(oE,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:s}=e.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new De(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new De(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new De(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new De(4013,!1);this._activatedRoute=e;const s=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new c_e(e,a,s.injector);this.activated=s.createComponent(o,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ee({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ii]})}return n})();class c_e{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===y0?this.route:t===Yw?this.childContexts:this.parent.get(t,e)}}const oE=new Xe("");let e7=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,s=Nw([i.queryParams,i.params,i.data]).pipe(Kl(([r,o,a],l)=>(a={...r,...o,...a},0===l?rn(a):Promise.resolve(a)))).subscribe(r=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const o=function vhe(n){const t=ge(n);if(!t)return null;const e=new Xx(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,r[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();function Gw(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const s=function u_e(n,t,e){return t.children.map(i=>{for(const s of e.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return Gw(n,i,s);return Gw(n,i)})}(n,t,e);return new Zc(i,s)}{if(n.shouldAttach(t.value)){const r=n.retrieve(t.value);if(null!==r){const o=r.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Gw(n,a)),o}}const i=function h_e(n){return new y0(new xs(n.url),new xs(n.params),new xs(n.queryParams),new xs(n.fragment),new xs(n.data),n.outlet,n.component,n)}(t.value),s=t.children.map(r=>Gw(n,r));return new Zc(i,s)}}const t7="ngNavigationCancelingError";function n7(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=m0(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,s=s7(!1,ec.Redirect);return s.url=e,s.navigationBehaviorOptions=i,s}function s7(n,t){const e=new Error(`NavigationCancelingError: ${n||""}`);return e[t7]=!0,e.cancellationCode=t,e}function r7(n){return!!n&&n[t7]}let o7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ht({type:n,selectors:[["ng-component"]],standalone:!0,features:[tr],decls:1,vars:0,template:function(i,s){1&i&&Te(0,"router-outlet")},dependencies:[rE],encapsulation:2})}return n})();function zF(n){const t=n.children&&n.children.map(zF),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ii&&(e.component=o7),e}function jd(n){return n.outlet||ii}function $w(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class b_e{constructor(t,e,i,s,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=s,this.inputBindingEnabled=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),BF(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const s=v0(e);t.children.forEach(r=>{const o=r.value.outlet;this.deactivateRoutes(r,s[o],i),delete s[o]}),Object.values(s).forEach(r=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(t,e,i){const s=t.value,r=e?e.value:null;if(s===r)if(s.component){const o=i.getContext(s.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,r=v0(t);for(const o of Object.values(r))this.deactivateRouteAndItsChildren(o,s);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,r=v0(t);for(const o of Object.values(r))this.deactivateRouteAndItsChildren(o,s);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const s=v0(e);t.children.forEach(r=>{this.activateRoutes(r,s[r.value.outlet],i),this.forwardEvent(new o_e(r.value.snapshot))}),t.children.length&&this.forwardEvent(new s_e(t.value.snapshot))}activateRoutes(t,e,i){const s=t.value,r=e?e.value:null;if(BF(s),s===r)if(s.component){const o=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(s.component){const o=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const a=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),BF(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=$w(s.snapshot);o.attachRef=null,o.route=s,o.injector=a,o.outlet&&o.outlet.activateWith(s,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class a7{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class aE{constructor(t,e){this.component=t,this.route=e}}function x_e(n,t,e){const i=n._root;return jw(i,t?t._root:null,e,[i.value])}function b0(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function WI(n){return null!==h_(n)}(n)?t.get(n):n:i}function jw(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=v0(t);return n.children.forEach(o=>{(function C_e(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){const l=function M_e(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Fm(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Fm(n.url,t.url)||!Gd(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!HF(n,t)||!Gd(n.queryParams,t.queryParams);default:return!HF(n,t)}}(o,r,r.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new a7(i)):(r.data=o.data,r._resolvedData=o._resolvedData),jw(n,t,r.component?a?a.children:null:e,i,s),l&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new aE(a.outlet.component,o))}else o&&Xw(t,a,s),s.canActivateChecks.push(new a7(i)),jw(n,null,r.component?a?a.children:null:e,i,s)})(o,r[o.value.outlet],e,i.concat([o.value]),s),delete r[o.value.outlet]}),Object.entries(r).forEach(([o,a])=>Xw(a,e.getContext(o),s)),s}function Xw(n,t,e){const i=v0(n),s=n.value;Object.entries(i).forEach(([r,o])=>{Xw(o,s.component?t?t.children.getContext(r):null:t,e)}),e.canDeactivateChecks.push(new aE(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}function qw(n){return"function"==typeof n}function l7(n){return n instanceof jD||"EmptyError"===n?.name}const lE=Symbol("INITIAL_VALUE");function x0(){return Kl(n=>Nw(n.map(t=>t.pipe(Ta(1),Hf(lE)))).pipe(Vn(t=>{for(const e of t)if(!0!==e){if(e===lE)return lE;if(!1===e||e instanceof f0)return e}return!0}),vs(t=>t!==lE),Ta(1)))}function c7(n){return function AI(...n){return _M(n)}(br(t=>{if(m0(t))throw n7(0,t)}),Vn(t=>!0===t))}class UF{constructor(t){this.segmentGroup=t||null}}class WF extends Error{constructor(t){super(),this.urlTree=t}}function w0(n){return c0(new UF(n))}class W_e{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],s=e.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return rn(i);if(s.numberOfChildren>1||!s.children[ii])return c0(new De(4e3,!1));s=s.children[ii]}}applyRedirectCommands(t,e,i){const s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e.startsWith("/"))throw new WF(s);return s}applyRedirectCreateUrlTree(t,e,i,s){const r=this.createSegmentGroup(t,e.root,i,s);return new f0(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([s,r])=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=e[a]}else i[s]=r}),i}createSegmentGroup(t,e,i,s){const r=this.createSegments(t,e.segments,i,s);let o={};return Object.entries(e.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,i,s)}),new ps(r,o)}createSegments(t,e,i,s){return e.map(r=>r.path.startsWith(":")?this.findPosParam(t,r,s):this.findOrReturn(r,i))}findPosParam(t,e,i){const s=i[e.path.substring(1)];if(!s)throw new De(4001,!1);return s}findOrReturn(t,e){let i=0;for(const s of e){if(s.path===t.path)return e.splice(i),s;i++}return t}}const YF={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Y_e(n,t,e,i,s){const r=GF(n,t,e);return r.matched?(i=function p_e(n,t){return n.providers&&!n._injector&&(n._injector=CP(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function H_e(n,t,e,i){const s=t.canMatch;return s&&0!==s.length?rn(s.map(o=>{const a=b0(o,n);return Uf(function k_e(n){return n&&qw(n.canMatch)}(a)?a.canMatch(t,e):Ad(n,()=>a(t,e)))})).pipe(x0(),c7()):rn(!0)}(i,t,e).pipe(Vn(o=>!0===o?r:{...YF}))):rn(r)}function GF(n,t,e){if("**"===t.path)return function G_e(n){return{matched:!0,parameters:n.length>0?E$(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...YF}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(t.matcher||Mge)(e,n,t);if(!s)return{...YF};const r={};Object.entries(s.posParams??{}).forEach(([a,l])=>{r[a]=l.path});const o=s.consumed.length>0?{...r,...s.consumed[s.consumed.length-1].parameters}:r;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:o,positionalParamSegments:s.posParams??{}}}function d7(n,t,e,i){return e.length>0&&function X_e(n,t,e){return e.some(i=>cE(n,t,i)&&jd(i)!==ii)}(n,e,i)?{segmentGroup:new ps(t,j_e(i,new ps(e,n.children))),slicedSegments:[]}:0===e.length&&function q_e(n,t,e){return e.some(i=>cE(n,t,i))}(n,e,i)?{segmentGroup:new ps(n.segments,$_e(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new ps(n.segments,n.children),slicedSegments:e}}function $_e(n,t,e,i){const s={};for(const r of e)if(cE(n,t,r)&&!i[jd(r)]){const o=new ps([],{});s[jd(r)]=o}return{...i,...s}}function j_e(n,t){const e={};e[ii]=t;for(const i of n)if(""===i.path&&jd(i)!==ii){const s=new ps([],{});e[jd(i)]=s}return e}function cE(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Q_e{}class tve{constructor(t,e,i,s,r,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=s,this.urlTree=r,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new W_e(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new De(4002,`'${t.segmentGroup}'`)}recognize(){const t=d7(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Vn(e=>{const i=new NF([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ii,this.rootComponentType,null,{}),s=new Zc(i,e),r=new K$("",s),o=function Yge(n,t,e=null,i=null){return H$(B$(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(r._root,null),{state:r,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,ii).pipe(zf(i=>{if(i instanceof WF)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof UF?this.noMatchError(i):i}))}inheritParamsAndData(t,e){const i=t.value,s=FF(i,e,this.paramsInheritanceStrategy);i.params=Object.freeze(s.params),i.data=Object.freeze(s.data),t.children.forEach(r=>this.inheritParamsAndData(r,i))}processSegmentGroup(t,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,s,!0).pipe(Vn(r=>r instanceof Zc?[r]:[]))}processChildren(t,e,i){const s=[];for(const r of Object.keys(i.children))"primary"===r?s.unshift(r):s.push(r);return Pr(s).pipe(d0(r=>{const o=i.children[r],a=function v_e(n,t){const e=n.filter(i=>jd(i)===t);return e.push(...n.filter(i=>jd(i)!==t)),e}(e,r);return this.processSegmentGroup(t,a,o,r)}),S$((r,o)=>(r.push(...o),r)),qD(null),function xge(n,t){const e=arguments.length>=2;return i=>i.pipe(n?vs((s,r)=>n(s,r,i)):_d,TF(1),e?qD(t):T$(()=>new jD))}(),Io(r=>{if(null===r)return w0(i);const o=u7(r);return function nve(n){n.sort((t,e)=>t.value.outlet===ii?-1:e.value.outlet===ii?1:t.value.outlet.localeCompare(e.value.outlet))}(o),rn(o)}))}processSegment(t,e,i,s,r,o){return Pr(e).pipe(d0(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,s,r,o).pipe(zf(l=>{if(l instanceof UF)return rn(null);throw l}))),Om(a=>!!a),zf(a=>{if(l7(a))return function K_e(n,t,e){return 0===t.length&&!n.children[e]}(i,s,r)?rn(new Q_e):w0(i);throw a}))}processSegmentAgainstRoute(t,e,i,s,r,o,a){return function Z_e(n,t,e,i){return!!(jd(n)===i||i!==ii&&cE(t,e,n))&&GF(t,n,e).matched}(i,s,r,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,s,i,r,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,s,e,i,r,o):w0(s):w0(s)}expandSegmentAgainstRouteUsingRedirect(t,e,i,s,r,o){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:d}=GF(e,s,r);if(!a)return w0(e);s.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const u=this.applyRedirects.applyRedirectCommands(l,s.redirectTo,c);return this.applyRedirects.lineralizeSegments(s,u).pipe(Io(f=>this.processSegment(t,i,e,f.concat(d),o,!1)))}matchSegmentAgainstRoute(t,e,i,s,r){const o=Y_e(e,i,s,t);return"**"===i.path&&(e.children={}),o.pipe(Kl(a=>a.matched?this.getChildConfig(t=i._injector??t,i,s).pipe(Kl(({routes:l})=>{const c=i._loadedInjector??t,{consumedSegments:d,remainingSegments:u,parameters:f}=a,m=new NF(d,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function sve(n){return n.data||{}}(i),jd(i),i.component??i._loadedComponent??null,i,function rve(n){return n.resolve||{}}(i)),{segmentGroup:g,slicedSegments:v}=d7(e,d,u,l);if(0===v.length&&g.hasChildren())return this.processChildren(c,l,g).pipe(Vn(y=>null===y?null:new Zc(m,y)));if(0===l.length&&0===v.length)return rn(new Zc(m,[]));const _=jd(i)===r;return this.processSegment(c,l,g,v,_?ii:r,!0).pipe(Vn(y=>new Zc(m,y instanceof Zc?[y]:[])))})):w0(e)))}getChildConfig(t,e,i){return e.children?rn({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?rn({routes:e._loadedRoutes,injector:e._loadedInjector}):function B_e(n,t,e,i){const s=t.canLoad;return void 0===s||0===s.length?rn(!0):rn(s.map(o=>{const a=b0(o,n);return Uf(function S_e(n){return n&&qw(n.canLoad)}(a)?a.canLoad(t,e):Ad(n,()=>a(t,e)))})).pipe(x0(),c7())}(t,e,i).pipe(Io(s=>s?this.configLoader.loadChildren(t,e).pipe(br(r=>{e._loadedRoutes=r.routes,e._loadedInjector=r.injector})):function U_e(n){return c0(s7(!1,ec.GuardRejected))}())):rn({routes:[],injector:t})}}function ive(n){const t=n.value.routeConfig;return t&&""===t.path}function u7(n){const t=[],e=new Set;for(const i of n){if(!ive(i)){t.push(i);continue}const s=t.find(r=>i.value.routeConfig===r.value.routeConfig);void 0!==s?(s.children.push(...i.children),e.add(s)):t.push(i)}for(const i of e){const s=u7(i.children);t.push(new Zc(i.value,s))}return t.filter(i=>!e.has(i))}function h7(n){const t=n.children.map(e=>h7(e)).flat();return[n,...t]}function $F(n){return Kl(t=>{const e=n(t);return e?Pr(e).pipe(Vn(()=>t)):rn(t)})}let f7=(()=>{class n{buildTitle(e){let i,s=e.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(r=>r.outlet===ii);return i}getResolvedTitleForRoute(e){return e.data[Vw]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:()=>Ke(uve),providedIn:"root"})}return n})(),uve=(()=>{class n extends f7{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ipe))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const C0=new Xe("",{providedIn:"root",factory:()=>({})}),M0=new Xe("");let jF=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ke(C6)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return rn(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Uf(e.loadComponent()).pipe(Vn(p7),br(r=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=r}),u0(()=>{this.componentLoaders.delete(e)})),s=new M$(i,()=>new Gt).pipe(MF());return this.componentLoaders.set(e,s),s}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return rn({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const r=function hve(n,t,e,i){return Uf(n.loadChildren()).pipe(Vn(p7),Io(s=>s instanceof FU||Array.isArray(s)?rn(s):Pr(t.compileModuleAsync(s))),Vn(s=>{i&&i(n);let r,o,a=!1;return Array.isArray(s)?(o=s,!0):(r=s.create(e).injector,o=r.get(M0,[],{optional:!0,self:!0}).flat()),{routes:o.map(zF),injector:r}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(u0(()=>{this.childrenLoaders.delete(i)})),o=new M$(r,()=>new Gt).pipe(MF());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function p7(n){return function fve(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let XF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:()=>Ke(pve),providedIn:"root"})}return n})(),pve=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const m7=new Xe(""),g7=new Xe("");function mve(n,t,e){const i=n.get(g7),s=n.get(Gn);return n.get(ln).runOutsideAngular(()=>{if(!s.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let r;const o=new Promise(c=>{r=c}),a=s.startViewTransition(()=>(r(),function gve(n){return new Promise(t=>{pU(t,{injector:n})})}(n))),{onViewTransitionCreated:l}=i;return l&&Ad(n,()=>l({transition:a,from:t,to:e})),o})}let dE=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Gt,this.transitionAbortSubject=new Gt,this.configLoader=Ke(jF),this.environmentInjector=Ke(fa),this.urlSerializer=Ke(p0),this.rootContexts=Ke(Yw),this.location=Ke(t0),this.inputBindingEnabled=null!==Ke(oE,{optional:!0}),this.titleStrategy=Ke(f7),this.options=Ke(C0,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Ke(XF),this.createViewTransition=Ke(m7,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>rn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new n_e(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new t_e(s))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,s){return this.transitions=new xs({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ww,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vs(r=>0!==r.id),Vn(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Kl(r=>{this.currentTransition=r;let o=!1,a=!1;return rn(r).pipe(br(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Kl(l=>{const c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const u="";return this.events.next(new _0(l.id,this.urlSerializer.serialize(l.rawUrl),u,iE.IgnoredSameUrlNavigation)),l.resolve(null),Yd}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return rn(l).pipe(Kl(u=>{const f=this.transitions?.getValue();return this.events.next(new nE(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),f!==this.transitions?.getValue()?Yd:Promise.resolve(u)}),function ove(n,t,e,i,s,r){return Io(o=>function J_e(n,t,e,i,s,r,o="emptyOnly"){return new tve(n,t,e,i,s,o,r).recognize()}(n,t,e,i,o.extractedUrl,s,r).pipe(Vn(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),br(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects};const f=new $$(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:u,extractedUrl:f,source:m,restoredState:g,extras:v}=l,_=new nE(u,this.urlSerializer.serialize(f),m,g);this.events.next(_);const y=Z$(this.rootComponentType).snapshot;return this.currentTransition=r={...l,targetSnapshot:y,urlAfterRedirects:f,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=f,rn(r)}{const u="";return this.events.next(new _0(l.id,this.urlSerializer.serialize(l.extractedUrl),u,iE.IgnoredByUrlHandlingStrategy)),l.resolve(null),Yd}}),br(l=>{const c=new Kge(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Vn(l=>(this.currentTransition=r={...l,guards:x_e(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},r)),function I_e(n,t){return Io(e=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:o}}=e;return 0===o.length&&0===r.length?rn({...e,guardsResult:!0}):function L_e(n,t,e,i){return Pr(n).pipe(Io(s=>function V_e(n,t,e,i,s){const r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return r&&0!==r.length?rn(r.map(a=>{const l=$w(t)??s,c=b0(a,l);return Uf(function A_e(n){return n&&qw(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):Ad(l,()=>c(n,t,e,i))).pipe(Om())})).pipe(x0()):rn(!0)}(s.component,s.route,e,t,i)),Om(s=>!0!==s,!0))}(o,i,s,n).pipe(Io(a=>a&&function T_e(n){return"boolean"==typeof n}(a)?function R_e(n,t,e,i){return Pr(t).pipe(d0(s=>XD(function O_e(n,t){return null!==n&&t&&t(new i_e(n)),rn(!0)}(s.route.parent,i),function P_e(n,t){return null!==n&&t&&t(new r_e(n)),rn(!0)}(s.route,i),function N_e(n,t,e){const i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(o=>function w_e(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>C$(()=>rn(o.guards.map(l=>{const c=$w(o.node)??e,d=b0(l,c);return Uf(function E_e(n){return n&&qw(n.canActivateChild)}(d)?d.canActivateChild(i,n):Ad(c,()=>d(i,n))).pipe(Om())})).pipe(x0())));return rn(r).pipe(x0())}(n,s.path,e),function F_e(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return rn(!0);const s=i.map(r=>C$(()=>{const o=$w(t)??e,a=b0(r,o);return Uf(function D_e(n){return n&&qw(n.canActivate)}(a)?a.canActivate(t,n):Ad(o,()=>a(t,n))).pipe(Om())}));return rn(s).pipe(x0())}(n,s.route,e))),Om(s=>!0!==s,!0))}(i,r,n,t):rn(a)),Vn(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),br(l=>{if(r.guardsResult=l.guardsResult,m0(l.guardsResult))throw n7(0,l.guardsResult);const c=new Qge(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),vs(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",ec.GuardRejected),!1)),$F(l=>{if(l.guards.canActivateChecks.length)return rn(l).pipe(br(c=>{const d=new Jge(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Kl(c=>{let d=!1;return rn(c).pipe(function ave(n,t){return Io(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;if(!s.length)return rn(e);const r=new Set(s.map(l=>l.route)),o=new Set;for(const l of r)if(!o.has(l))for(const c of h7(l))o.add(c);let a=0;return Pr(o).pipe(d0(l=>r.has(l)?function lve(n,t,e,i){const s=n.routeConfig,r=n._resolve;return void 0!==s?.title&&!J$(s)&&(r[Vw]=s.title),function cve(n,t,e,i){const s=SF(n);if(0===s.length)return rn({});const r={};return Pr(s).pipe(Io(o=>function dve(n,t,e,i){const s=$w(t)??i,r=b0(n,s);return Uf(r.resolve?r.resolve(t,e):Ad(s,()=>r(t,e)))}(n[o],t,e,i).pipe(Om(),br(a=>{r[o]=a}))),TF(1),function wge(n){return Vn(()=>n)}(r),zf(o=>l7(o)?Yd:c0(o)))}(r,n,t,i).pipe(Vn(o=>(n._resolvedData=o,n.data=FF(n,n.parent,e).resolve,null)))}(l,i,n,t):(l.data=FF(l,l.parent,n).resolve,rn(void 0))),br(()=>a++),TF(1),Io(l=>a===o.size?rn(e):Yd))})}(this.paramsInheritanceStrategy,this.environmentInjector),br({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",ec.NoDataFromResolver)}}))}),br(c=>{const d=new e_e(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),$F(l=>{const c=d=>{const u=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(d.routeConfig).pipe(br(f=>{d.component=f}),Vn(()=>{})));for(const f of d.children)u.push(...c(f));return u};return Nw(c(l.targetSnapshot.root)).pipe(qD(null),Ta(1))}),$F(()=>this.afterPreactivation()),Kl(()=>{const{currentSnapshot:l,targetSnapshot:c}=r,d=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return d?Pr(d).pipe(Vn(()=>r)):rn(r)}),Vn(l=>{const c=function d_e(n,t,e){const i=Gw(n,t._root,e?e._root:void 0);return new q$(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=r={...l,targetRouterState:c},this.currentNavigation.targetRouterState=c,r}),br(()=>{this.events.next(new LF)}),((n,t,e,i)=>Vn(s=>(new b_e(t,s.targetRouterState,s.currentRouterState,e,i).activate(n),s)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ta(1),br({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Ql(this.transitionAbortSubject.pipe(br(l=>{throw l}))),u0(()=>{!o&&!a&&this.cancelNavigationTransition(r,"",ec.SupersededByNewNavigation),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),zf(l=>{if(a=!0,r7(l))this.events.next(new g0(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode)),function f_e(n){return r7(n)&&m0(n.url)}(l)?this.events.next(new RF(l.url)):r.resolve(!1);else{this.events.next(new sE(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0));try{r.resolve(e.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Yd}))}))}cancelNavigationTransition(e,i,s){const r=new g0(e.id,this.urlSerializer.serialize(e.extractedUrl),i,s);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _ve(n){return n!==Ww}let vve=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:()=>Ke(bve),providedIn:"root"})}return n})();class yve{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let bve=(()=>{class n extends yve{static#e=this.\u0275fac=(()=>{let e;return function(s){return(e||(e=ss(n)))(s||n)}})();static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:()=>Ke(xve),providedIn:"root"})}return n})(),xve=(()=>{class n extends _7{constructor(){super(...arguments),this.location=Ke(t0),this.urlSerializer=Ke(p0),this.options=Ke(C0,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Ke(XF),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new f0,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Z$(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{"popstate"===i.type&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof nE)this.stateMemento=this.createStateMemento();else if(e instanceof _0)this.rawUrlTree=i.initialUrl;else if(e instanceof $$){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else e instanceof LF?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):e instanceof g0&&(e.code===ec.GuardRejected||e.code===ec.NoDataFromResolver)?this.restoreHistory(i):e instanceof sE?this.restoreHistory(i,!0):e instanceof Jl&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){const s=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",o)}else{const r={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",r)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-this.browserPageId;0!==r?this.location.historyGo(r):this.currentUrlTree===e.finalUrl&&0===r&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=(()=>{let e;return function(s){return(e||(e=ss(n)))(s||n)}})();static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Zw=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Zw||{});function v7(n,t){n.events.pipe(vs(e=>e instanceof Jl||e instanceof g0||e instanceof sE||e instanceof _0),Vn(e=>e instanceof Jl||e instanceof _0?Zw.COMPLETE:e instanceof g0&&(e.code===ec.Redirect||e.code===ec.SupersededByNewNavigation)?Zw.REDIRECTING:Zw.FAILED),vs(e=>e!==Zw.REDIRECTING),Ta(1)).subscribe(()=>{t()})}function wve(n){throw n}const Cve={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mve={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ho=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Ke(w6),this.stateManager=Ke(_7),this.options=Ke(C0,{optional:!0})||{},this.pendingTasks=Ke(Cm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Ke(dE),this.urlSerializer=Ke(p0),this.location=Ke(t0),this.urlHandlingStrategy=Ke(XF),this._events=new Gt,this.errorHandler=this.options.errorHandler||wve,this.navigated=!1,this.routeReuseStrategy=Ke(vve),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Ke(M0,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Ke(oE,{optional:!0}),this.eventsSubscription=new ti,this.isNgZoneEnabled=Ke(ln)instanceof ln&&ln.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const s=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(null!==s&&null!==r)if(this.stateManager.handleRouterEvent(i,r),i instanceof g0&&i.code!==ec.Redirect&&i.code!==ec.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Jl)this.navigated=!0;else if(i instanceof RF){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_ve(s.source)};this.scheduleNavigation(o,Ww,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}(function Sve(n){return!(n instanceof LF||n instanceof RF)})(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ww,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,s){const r={replaceUrl:!0},o=s?.navigationId?s:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(r.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,o,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(zF),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:s,queryParams:r,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let u,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...r};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=r||null}null!==d&&(d=this.removeEmptyProps(d));try{u=B$(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),u=this.currentUrlTree.root}return H$(u,e,d,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const s=m0(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(r,Ww,null,i)}navigate(e,i={skipLocationChange:!1}){return function Tve(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new De(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let s;if(s=!0===i?{...Cve}:!1===i?{...Mve}:i,m0(e))return k$(this.currentUrlTree,e,s);const r=this.parseUrl(e);return k$(this.currentUrlTree,r,s)}removeEmptyProps(e){return Object.entries(e).reduce((i,[s,r])=>(null!=r&&(i[s]=r),i),{})}scheduleNavigation(e,i,s,r,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((u,f)=>{a=u,l=f});const d=this.pendingTasks.add();return v7(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uE=(()=>{class n{constructor(e,i,s,r,o,a){this.router=e,this.route=i,this.tabIndexAttribute=s,this.renderer=r,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Gt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Jl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,s,r,o){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==e||i||s||r||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.href=null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;const i=null===this.href?null:function xS(n,t,e){return function NR(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?bS:Ix}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){const s=this.renderer,r=this.el.nativeElement;null!==i?s.setAttribute(r,e,i):s.removeAttribute(r,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(K(ho),K(y0),Oc("tabindex"),K(Js),K(gn),K(Im))};static#t=this.\u0275dir=ee({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){1&i&&ye("click",function(o){return s.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&i&&Nt("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[St.HasDecoratorInputTransform,"preserveFragment","preserveFragment",lr],skipLocationChange:[St.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",lr],replaceUrl:[St.HasDecoratorInputTransform,"replaceUrl","replaceUrl",lr],routerLink:"routerLink"},standalone:!0,features:[Yl,Ii]})}return n})(),y7=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,s,r,o){this.router=e,this.element=i,this.renderer=s,this.cdr=r,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Fe,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Jl&&this.update()})}ngAfterContentInit(){rn(this.links.changes,rn(null)).pipe(l0()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Pr(e).pipe(l0()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function Dve(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{const r=s.urlTree;return!!r&&e.isActive(r,i)}}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(i){return new(i||n)(K(ho),K(gn),K(Js),K(er),K(uE,8))};static#t=this.\u0275dir=ee({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,r){if(1&i&&Em(r,uE,5),2&i){let o;Bs(o=Hs())&&(s.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Ii]})}return n})();class b7{}let Eve=(()=>{class n{constructor(e,i,s,r,o){this.router=e,this.injector=s,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(vs(e=>e instanceof Jl),d0(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const s=[];for(const r of i){r.providers&&!r._injector&&(r._injector=CP(r.providers,e,`Route: ${r.path}`));const o=r._injector??e,a=r._loadedInjector??o;(r.loadChildren&&!r._loadedRoutes&&void 0===r.canLoad||r.loadComponent&&!r._loadedComponent)&&s.push(this.preloadConfig(o,r)),(r.children||r._loadedRoutes)&&s.push(this.processRoutes(a,r.children??r._loadedRoutes))}return Pr(s).pipe(l0())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):rn(null);const r=s.pipe(Io(o=>null===o?rn(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?Pr([r,this.loader.loadComponent(i)]).pipe(l0()):r})}static#e=this.\u0275fac=function(i){return new(i||n)(be(ho),be(C6),be(fa),be(b7),be(jF))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const qF=new Xe("");let x7=(()=>{class n{constructor(e,i,s,r,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=s,this.zone=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof nE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Jl?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof _0&&e.code===iE.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof j$&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new j$(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){kS()};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();function Xd(n,t){return{\u0275kind:n,\u0275providers:t}}function C7(){const n=Ke(Fs);return t=>{const e=n.get(Ud);if(t!==e.components[0])return;const i=n.get(ho),s=n.get(M7);1===n.get(ZF)&&i.initialNavigation(),n.get(T7,null,fi.Optional)?.setUpPreloading(),n.get(qF,null,fi.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const M7=new Xe("",{factory:()=>new Gt}),ZF=new Xe("",{providedIn:"root",factory:()=>1}),T7=new Xe("");function Lve(n){return Xd(0,[{provide:T7,useExisting:Eve},{provide:b7,useExisting:n}])}function Pve(n){return Xd(9,[{provide:m7,useValue:mve},{provide:g7,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const S7=new Xe("ROUTER_FORROOT_GUARD"),Ove=[t0,{provide:p0,useClass:DF},ho,Yw,{provide:y0,useFactory:function w7(n){return n.routerState.root},deps:[ho]},jF,[]];let D7=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Ove,[],{provide:M0,multi:!0,useValue:e},{provide:S7,useFactory:Bve,deps:[[ho,new Bl,new Bc]]},{provide:C0,useValue:i||{}},i?.useHash?{provide:Im,useClass:Che}:{provide:Im,useClass:f8},{provide:qF,useFactory:()=>{const n=Ke(Nfe),t=Ke(ln),e=Ke(C0),i=Ke(dE),s=Ke(p0);return e.scrollOffset&&n.setOffset(e.scrollOffset),new x7(s,i,n,t,e)}},i?.preloadingStrategy?Lve(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Hve(i):[],i?.bindToComponentInputs?Xd(8,[e7,{provide:oE,useExisting:e7}]).\u0275providers:[],i?.enableViewTransitions?Pve().\u0275providers:[],[{provide:E7,useFactory:C7},{provide:pO,multi:!0,useExisting:E7}]]}}static forChild(e){return{ngModule:n,providers:[{provide:M0,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(be(S7,8))};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({})}return n})();function Bve(n){return"guarded"}function Hve(n){return["disabled"===n.initialNavigation?Xd(3,[{provide:hO,multi:!0,useFactory:()=>{const t=Ke(ho);return()=>{t.setUpLocationChangeListener()}}},{provide:ZF,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Xd(2,[{provide:ZF,useValue:0},{provide:hO,multi:!0,deps:[Fs],useFactory:t=>{const e=t.get(xhe,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const s=t.get(ho),r=t.get(M7);v7(s,()=>{i(!0)}),t.get(dE).afterPreactivation=()=>(i(!0),r.closed?rn(void 0):r),s.initialNavigation()}))}}]).\u0275providers:[]]}const E7=new Xe(""),hE="156",Uve={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Wve={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},A7=0,KF=1,k7=2,Yve=3,Gve=0,QF=1,I7=2,qd=3,sh=0,Sa=1,Zd=2,$ve=2,rh=0,Nm=1,JF=2,eN=3,tN=4,L7=5,Vm=100,R7=101,P7=102,nN=103,iN=104,O7=200,F7=201,N7=202,V7=203,sN=204,rN=205,B7=206,H7=207,z7=208,U7=209,W7=210,Y7=0,G7=1,$7=2,fE=3,j7=4,X7=5,q7=6,Z7=7,Kw=0,K7=1,Q7=2,oh=0,J7=1,ej=2,tj=3,nj=4,ij=5,pE=300,ah=301,Wf=302,Qw=303,Jw=304,T0=306,eC=1e3,Ho=1001,tC=1002,xr=1003,mE=1004,jve=1004,nC=1005,Xve=1005,wr=1006,oN=1007,qve=1007,Yf=1008,Zve=1008,lh=1009,sj=1010,rj=1011,gE=1012,aN=1013,ch=1014,Kd=1015,S0=1016,lN=1017,cN=1018,Gf=1020,oj=1021,bl=1023,aj=1024,lj=1025,$f=1026,Bm=1027,cj=1028,dN=1029,dj=1030,uN=1031,hN=1033,_E=33776,vE=33777,yE=33778,bE=33779,fN=35840,pN=35841,mN=35842,gN=35843,uj=36196,_N=37492,vN=37496,yN=37808,bN=37809,xN=37810,wN=37811,CN=37812,MN=37813,TN=37814,SN=37815,DN=37816,EN=37817,AN=37818,kN=37819,IN=37820,LN=37821,xE=36492,RN=36494,PN=36495,hj=36283,ON=36284,FN=36285,NN=36286,fj=2200,pj=2201,mj=2202,iC=2300,sC=2301,wE=2302,Hm=2400,zm=2401,rC=2402,CE=2500,VN=2501,Kve=0,Qve=1,Jve=2,BN=3e3,jf=3001,gj=3200,_j=3201,Xf=0,vj=1,qf="",As="srgb",Kc="srgb-linear",oC="display-p3",e0e="display-p3-linear",t0e=0,ME=7680,n0e=7681,i0e=7682,s0e=7683,r0e=34055,o0e=34056,a0e=5386,l0e=512,c0e=513,d0e=514,u0e=515,h0e=516,f0e=517,p0e=518,yj=519,bj=512,xj=513,wj=514,Cj=515,Mj=516,Tj=517,Sj=518,Dj=519,aC=35044,m0e=35048,g0e=35040,_0e=35045,v0e=35049,y0e=35041,b0e=35046,x0e=35050,w0e=35042,C0e="100",HN="300 es",TE=1035,Qd=2e3,lC=2001;class dh{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const s=this._listeners[t];if(void 0!==s){const r=s.indexOf(e);-1!==r&&s.splice(r,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const i=this._listeners[t.type];if(void 0!==i){t.target=this;const s=i.slice(0);for(let r=0,o=s.length;r<o;r++)s[r].call(this,t);t.target=null}}}const zo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Ej=1234567;const Um=Math.PI/180,D0=180/Math.PI;function xl(){const n=4294967295*Math.random()|0,t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(zo[255&n]+zo[n>>8&255]+zo[n>>16&255]+zo[n>>24&255]+"-"+zo[255&t]+zo[t>>8&255]+"-"+zo[t>>16&15|64]+zo[t>>24&255]+"-"+zo[63&e|128]+zo[e>>8&255]+"-"+zo[e>>16&255]+zo[e>>24&255]+zo[255&i]+zo[i>>8&255]+zo[i>>16&255]+zo[i>>24&255]).toLowerCase()}function dr(n,t,e){return Math.max(t,Math.min(e,n))}function zN(n,t){return(n%t+t)%t}function cC(n,t,e){return(1-e)*n+e*t}function UN(n){return 0==(n&n-1)&&0!==n}function Aj(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function SE(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Ka(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function si(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return Math.round(4294967295*n);case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int32Array:return Math.round(2147483647*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}const N0e={DEG2RAD:Um,RAD2DEG:D0,generateUUID:xl,clamp:dr,euclideanModulo:zN,mapLinear:function M0e(n,t,e,i,s){return i+(n-t)*(s-i)/(e-t)},inverseLerp:function T0e(n,t,e){return n!==t?(e-n)/(t-n):0},lerp:cC,damp:function S0e(n,t,e,i){return cC(n,t,1-Math.exp(-e*i))},pingpong:function D0e(n,t=1){return t-Math.abs(zN(n,2*t)-t)},smoothstep:function E0e(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t))*n*(3-2*n)},smootherstep:function A0e(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t))*n*n*(n*(6*n-15)+10)},randInt:function k0e(n,t){return n+Math.floor(Math.random()*(t-n+1))},randFloat:function I0e(n,t){return n+Math.random()*(t-n)},randFloatSpread:function L0e(n){return n*(.5-Math.random())},seededRandom:function R0e(n){void 0!==n&&(Ej=n);let t=Ej+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function P0e(n){return n*Um},radToDeg:function O0e(n){return n*D0},isPowerOfTwo:UN,ceilPowerOfTwo:Aj,floorPowerOfTwo:SE,setQuaternionFromProperEuler:function F0e(n,t,e,i,s){const r=Math.cos,o=Math.sin,a=r(e/2),l=o(e/2),c=r((t+i)/2),d=o((t+i)/2),u=r((t-i)/2),f=o((t-i)/2),m=r((i-t)/2),g=o((i-t)/2);switch(s){case"XYX":n.set(a*d,l*u,l*f,a*c);break;case"YZY":n.set(l*f,a*d,l*u,a*c);break;case"ZXZ":n.set(l*u,l*f,a*d,a*c);break;case"XZX":n.set(a*d,l*g,l*m,a*c);break;case"YXY":n.set(l*m,a*d,l*g,a*c);break;case"ZYZ":n.set(l*g,l*m,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}},normalize:si,denormalize:Ka};class st{constructor(t=0,e=0){st.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,s=t.elements;return this.x=s[0]*e+s[3]*i+s[6],this.y=s[1]*e+s[4]*i+s[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(dr(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),s=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*i-o*s+t.x,this.y=r*s+o*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class di{constructor(t,e,i,s,r,o,a,l,c){di.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,i,s,r,o,a,l,c)}set(t,e,i,s,r,o,a,l,c){const d=this.elements;return d[0]=t,d[1]=s,d[2]=a,d[3]=e,d[4]=r,d[5]=l,d[6]=i,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,r=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],d=i[4],u=i[7],f=i[2],m=i[5],g=i[8],v=s[0],_=s[3],y=s[6],C=s[1],w=s[4],S=s[7],R=s[2],O=s[5],H=s[8];return r[0]=o*v+a*C+l*R,r[3]=o*_+a*w+l*O,r[6]=o*y+a*S+l*H,r[1]=c*v+d*C+u*R,r[4]=c*_+d*w+u*O,r[7]=c*y+d*S+u*H,r[2]=f*v+m*C+g*R,r[5]=f*_+m*w+g*O,r[8]=f*y+m*S+g*H,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],o=t[4],a=t[5],l=t[6],c=t[7],d=t[8];return e*o*d-e*a*c-i*r*d+i*a*l+s*r*c-s*o*l}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],o=t[4],a=t[5],l=t[6],c=t[7],d=t[8],u=d*o-a*c,f=a*l-d*r,m=c*r-o*l,g=e*u+i*f+s*m;if(0===g)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return t[0]=u*v,t[1]=(s*c-d*i)*v,t[2]=(a*i-s*o)*v,t[3]=f*v,t[4]=(d*e-s*l)*v,t[5]=(s*r-a*e)*v,t[6]=m*v,t[7]=(i*l-c*e)*v,t[8]=(o*e-i*r)*v,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,s,r,o,a){const l=Math.cos(r),c=Math.sin(r);return this.set(i*l,i*c,-i*(l*o+c*a)+o+t,-s*c,s*l,-s*(-c*o+l*a)+a+e,0,0,1),this}scale(t,e){return this.premultiply(WN.makeScale(t,e)),this}rotate(t){return this.premultiply(WN.makeRotation(-t)),this}translate(t,e){return this.premultiply(WN.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<9;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}const WN=new di;function kj(n){for(let t=n.length-1;t>=0;--t)if(n[t]>=65535)return!0;return!1}const V0e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function E0(n,t){return new V0e[n](t)}function dC(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Ij(){const n=dC("canvas");return n.style.display="block",n}const Lj={};function uC(n){n in Lj||(Lj[n]=!0,console.warn(n))}function A0(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function YN(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}const B0e=(new di).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),H0e=(new di).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),W0e={[Kc]:n=>n,[As]:n=>n.convertSRGBToLinear(),[oC]:function z0e(n){return n.convertSRGBToLinear().applyMatrix3(H0e)}},Y0e={[Kc]:n=>n,[As]:n=>n.convertLinearToSRGB(),[oC]:function U0e(n){return n.applyMatrix3(B0e).convertLinearToSRGB()}},tc={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return Kc},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,t,e){if(!1===this.enabled||t===e||!t||!e)return n;const i=W0e[t],s=Y0e[e];if(void 0===i||void 0===s)throw new Error(`Unsupported color space conversion, "${t}" to "${e}".`);return s(i(n))},fromWorkingColorSpace:function(n,t){return this.convert(n,this.workingColorSpace,t)},toWorkingColorSpace:function(n,t){return this.convert(n,t,this.workingColorSpace)}};let k0;class GN{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===k0&&(k0=dC("canvas")),k0.width=t.width,k0.height=t.height;const i=k0.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=k0}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=dC("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const s=i.getImageData(0,0,t.width,t.height),r=s.data;for(let o=0;o<r.length;o++)r[o]=255*A0(r[o]/255);return i.putImageData(s,0,0),e}if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e[i]=e instanceof Uint8Array||e instanceof Uint8ClampedArray?Math.floor(255*A0(e[i]/255)):A0(e[i]);return{data:e,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let G0e=0;class Wm{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:G0e++}),this.uuid=xl(),this.data=t,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(null!==s){let r;if(Array.isArray(s)){r=[];for(let o=0,a=s.length;o<a;o++)r.push($N(s[o].isDataTexture?s[o].image:s[o]))}else r=$N(s);i.url=r}return e||(t.images[this.uuid]=i),i}}function $N(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?GN.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let $0e=0,Qa=(()=>{class n extends dh{constructor(e=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,s=Ho,r=Ho,o=wr,a=Yf,l=bl,c=lh,d=n.DEFAULT_ANISOTROPY,u=qf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:$0e++}),this.uuid=xl(),this.name="",this.source=new Wm(e),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=s,this.wrapT=r,this.magFilter=o,this.minFilter=a,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=c,this.offset=new st(0,0),this.repeat=new st(1,1),this.center=new st(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new di,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof u?this.colorSpace=u:(uC("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===jf?As:qf),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const i=void 0===e||"string"==typeof e;if(!i&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const s={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(s.userData=this.userData),i||(e.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==pE)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case eC:e.x=e.x-Math.floor(e.x);break;case Ho:e.x=e.x<0?0:1;break;case tC:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case eC:e.y=e.y-Math.floor(e.y);break;case Ho:e.y=e.y<0?0:1;break;case tC:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return uC("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===As?jf:BN}set encoding(e){uC("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===jf?As:qf}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=pE,n.DEFAULT_ANISOTROPY=1,n})();class rs{constructor(t=0,e=0,i=0,s=1){rs.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=s}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,s){return this.x=t,this.y=e,this.z=i,this.w=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,r=this.w,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*s+o[12]*r,this.y=o[1]*e+o[5]*i+o[9]*s+o[13]*r,this.z=o[2]*e+o[6]*i+o[10]*s+o[14]*r,this.w=o[3]*e+o[7]*i+o[11]*s+o[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,s,r;const l=t.elements,c=l[0],d=l[4],u=l[8],f=l[1],m=l[5],g=l[9],v=l[2],_=l[6],y=l[10];if(Math.abs(d-f)<.01&&Math.abs(u-v)<.01&&Math.abs(g-_)<.01){if(Math.abs(d+f)<.1&&Math.abs(u+v)<.1&&Math.abs(g+_)<.1&&Math.abs(c+m+y-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const w=(c+1)/2,S=(m+1)/2,R=(y+1)/2,O=(d+f)/4,H=(u+v)/4,$=(g+_)/4;return w>S&&w>R?w<.01?(i=0,s=.707106781,r=.707106781):(i=Math.sqrt(w),s=O/i,r=H/i):S>R?S<.01?(i=.707106781,s=0,r=.707106781):(s=Math.sqrt(S),i=O/s,r=$/s):R<.01?(i=.707106781,s=.707106781,r=0):(r=Math.sqrt(R),i=H/r,s=$/r),this.set(i,s,r,e),this}let C=Math.sqrt((_-g)*(_-g)+(u-v)*(u-v)+(f-d)*(f-d));return Math.abs(C)<.001&&(C=1),this.x=(_-g)/C,this.y=(u-v)/C,this.z=(f-d)/C,this.w=Math.acos((c+m+y-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Rj extends dh{constructor(t=1,e=1,i={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new rs(0,0,t,e),this.scissorTest=!1,this.viewport=new rs(0,0,t,e);const s={width:t,height:e,depth:1};void 0!==i.encoding&&(uC("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===jf?As:qf),this.texture=new Qa(s,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.internalFormat=void 0!==i.internalFormat?i.internalFormat:null,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:wr,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,this.samples=void 0!==i.samples?i.samples:0}setSize(t,e,i=1){(this.width!==t||this.height!==e||this.depth!==i)&&(this.width=t,this.height=e,this.depth=i,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new Wm(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Qc extends Rj{constructor(t=1,e=1,i={}){super(t,e,i),this.isWebGLRenderTarget=!0}}class DE extends Qa{constructor(t=null,e=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:s},this.magFilter=xr,this.minFilter=xr,this.wrapR=Ho,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class j0e extends Qc{constructor(t=1,e=1,i=1){super(t,e),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new DE(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class jN extends Qa{constructor(t=null,e=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:s},this.magFilter=xr,this.minFilter=xr,this.wrapR=Ho,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class X0e extends Qc{constructor(t=1,e=1,i=1){super(t,e),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new jN(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class q0e extends Qc{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isWebGLMultipleRenderTargets=!0;const r=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=r.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let s=0,r=this.texture.length;s<r;s++)this.texture[s].image.width=t,this.texture[s].image.height=e,this.texture[s].image.depth=i;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}copy(t){this.dispose(),this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.texture.length=0;for(let e=0,i=t.texture.length;e<i;e++)this.texture[e]=t.texture[e].clone(),this.texture[e].isRenderTargetTexture=!0;return this}}class Ja{constructor(t=0,e=0,i=0,s=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=s}static slerpFlat(t,e,i,s,r,o,a){let l=i[s+0],c=i[s+1],d=i[s+2],u=i[s+3];const f=r[o+0],m=r[o+1],g=r[o+2],v=r[o+3];if(0===a)return t[e+0]=l,t[e+1]=c,t[e+2]=d,void(t[e+3]=u);if(1===a)return t[e+0]=f,t[e+1]=m,t[e+2]=g,void(t[e+3]=v);if(u!==v||l!==f||c!==m||d!==g){let _=1-a;const y=l*f+c*m+d*g+u*v,C=y>=0?1:-1,w=1-y*y;if(w>Number.EPSILON){const R=Math.sqrt(w),O=Math.atan2(R,y*C);_=Math.sin(_*O)/R,a=Math.sin(a*O)/R}const S=a*C;if(l=l*_+f*S,c=c*_+m*S,d=d*_+g*S,u=u*_+v*S,_===1-a){const R=1/Math.sqrt(l*l+c*c+d*d+u*u);l*=R,c*=R,d*=R,u*=R}}t[e]=l,t[e+1]=c,t[e+2]=d,t[e+3]=u}static multiplyQuaternionsFlat(t,e,i,s,r,o){const a=i[s],l=i[s+1],c=i[s+2],d=i[s+3],u=r[o],f=r[o+1],m=r[o+2],g=r[o+3];return t[e]=a*g+d*u+l*m-c*f,t[e+1]=l*g+d*f+c*u-a*m,t[e+2]=c*g+d*m+a*f-l*u,t[e+3]=d*g-a*u-l*f-c*m,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,s){return this._x=t,this._y=e,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){const i=t._x,s=t._y,r=t._z,o=t._order,a=Math.cos,l=Math.sin,c=a(i/2),d=a(s/2),u=a(r/2),f=l(i/2),m=l(s/2),g=l(r/2);switch(o){case"XYZ":this._x=f*d*u+c*m*g,this._y=c*m*u-f*d*g,this._z=c*d*g+f*m*u,this._w=c*d*u-f*m*g;break;case"YXZ":this._x=f*d*u+c*m*g,this._y=c*m*u-f*d*g,this._z=c*d*g-f*m*u,this._w=c*d*u+f*m*g;break;case"ZXY":this._x=f*d*u-c*m*g,this._y=c*m*u+f*d*g,this._z=c*d*g+f*m*u,this._w=c*d*u-f*m*g;break;case"ZYX":this._x=f*d*u-c*m*g,this._y=c*m*u+f*d*g,this._z=c*d*g-f*m*u,this._w=c*d*u+f*m*g;break;case"YZX":this._x=f*d*u+c*m*g,this._y=c*m*u+f*d*g,this._z=c*d*g-f*m*u,this._w=c*d*u-f*m*g;break;case"XZY":this._x=f*d*u-c*m*g,this._y=c*m*u-f*d*g,this._z=c*d*g+f*m*u,this._w=c*d*u+f*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,s=Math.sin(i);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],s=e[4],r=e[8],o=e[1],a=e[5],l=e[9],c=e[2],d=e[6],u=e[10],f=i+a+u;if(f>0){const m=.5/Math.sqrt(f+1);this._w=.25/m,this._x=(d-l)*m,this._y=(r-c)*m,this._z=(o-s)*m}else if(i>a&&i>u){const m=2*Math.sqrt(1+i-a-u);this._w=(d-l)/m,this._x=.25*m,this._y=(s+o)/m,this._z=(r+c)/m}else if(a>u){const m=2*Math.sqrt(1+a-i-u);this._w=(r-c)/m,this._x=(s+o)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+u-i-a);this._w=(o-s)/m,this._x=(r+c)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(dr(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(0===i)return this;const s=Math.min(1,e/i);return this.slerp(t,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,s=t._y,r=t._z,o=t._w,a=e._x,l=e._y,c=e._z,d=e._w;return this._x=i*d+o*a+s*c-r*l,this._y=s*d+o*l+r*a-i*c,this._z=r*d+o*c+i*l-s*a,this._w=o*d-i*a-s*l-r*c,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const i=this._x,s=this._y,r=this._z,o=this._w;let a=o*t._w+i*t._x+s*t._y+r*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=i,this._y=s,this._z=r,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-e;return this._w=m*o+e*this._w,this._x=m*i+e*this._x,this._y=m*s+e*this._y,this._z=m*r+e*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),u=Math.sin((1-e)*d)/c,f=Math.sin(e*d)/c;return this._w=o*u+this._w*f,this._x=i*u+this._x*f,this._y=s*u+this._y*f,this._z=r*u+this._z*f,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=Math.random(),e=Math.sqrt(1-t),i=Math.sqrt(t),s=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(e*Math.cos(s),i*Math.sin(r),i*Math.cos(r),e*Math.sin(s))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class J{constructor(t=0,e=0,i=0){J.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return void 0===i&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(Pj.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(Pj.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,s=this.z,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6]*s,this.y=r[1]*e+r[4]*i+r[7]*s,this.z=r[2]*e+r[5]*i+r[8]*s,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,r=t.elements,o=1/(r[3]*e+r[7]*i+r[11]*s+r[15]);return this.x=(r[0]*e+r[4]*i+r[8]*s+r[12])*o,this.y=(r[1]*e+r[5]*i+r[9]*s+r[13])*o,this.z=(r[2]*e+r[6]*i+r[10]*s+r[14])*o,this}applyQuaternion(t){const e=this.x,i=this.y,s=this.z,r=t.x,o=t.y,a=t.z,l=t.w,c=l*e+o*s-a*i,d=l*i+a*e-r*s,u=l*s+r*i-o*e,f=-r*e-o*i-a*s;return this.x=c*l+f*-r+d*-a-u*-o,this.y=d*l+f*-o+u*-r-c*-a,this.z=u*l+f*-a+c*-o-d*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,s=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*s,this.y=r[1]*e+r[5]*i+r[9]*s,this.z=r[2]*e+r[6]*i+r[10]*s,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,s=t.y,r=t.z,o=e.x,a=e.y,l=e.z;return this.x=s*l-r*a,this.y=r*o-i*l,this.z=i*a-s*o,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return XN.copy(this).projectOnVector(t),this.sub(XN)}reflect(t){return this.sub(XN.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(dr(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,s=this.z-t.z;return e*e+i*i+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const s=Math.sin(e)*t;return this.x=s*Math.sin(i),this.y=Math.cos(e)*t,this.z=s*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),s=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=s,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,i=Math.sqrt(1-t**2);return this.x=i*Math.cos(e),this.y=i*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const XN=new J,Pj=new Ja;class Jd{constructor(t=new J(1/0,1/0,1/0),e=new J(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(hh.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(hh.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=hh.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){if(t.updateWorldMatrix(!1,!1),void 0!==t.boundingBox)null===t.boundingBox&&t.computeBoundingBox(),I0.copy(t.boundingBox),I0.applyMatrix4(t.matrixWorld),this.union(I0);else{const s=t.geometry;if(void 0!==s)if(e&&void 0!==s.attributes&&void 0!==s.attributes.position){const r=s.attributes.position;for(let o=0,a=r.count;o<a;o++)hh.fromBufferAttribute(r,o).applyMatrix4(t.matrixWorld),this.expandByPoint(hh)}else null===s.boundingBox&&s.computeBoundingBox(),I0.copy(s.boundingBox),I0.applyMatrix4(t.matrixWorld),this.union(I0)}const i=t.children;for(let s=0,r=i.length;s<r;s++)this.expandByObject(i[s],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,hh),hh.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(hC),EE.subVectors(this.max,hC),L0.subVectors(t.a,hC),R0.subVectors(t.b,hC),P0.subVectors(t.c,hC),Zf.subVectors(R0,L0),Kf.subVectors(P0,R0),Ym.subVectors(L0,P0);let e=[0,-Zf.z,Zf.y,0,-Kf.z,Kf.y,0,-Ym.z,Ym.y,Zf.z,0,-Zf.x,Kf.z,0,-Kf.x,Ym.z,0,-Ym.x,-Zf.y,Zf.x,0,-Kf.y,Kf.x,0,-Ym.y,Ym.x,0];return!(!qN(e,L0,R0,P0,EE)||(e=[1,0,0,0,1,0,0,0,1],!qN(e,L0,R0,P0,EE)))&&(AE.crossVectors(Zf,Kf),e=[AE.x,AE.y,AE.z],qN(e,L0,R0,P0,EE))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,hh).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(hh).length()),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(uh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),uh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),uh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),uh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),uh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),uh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),uh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),uh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(uh)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const uh=[new J,new J,new J,new J,new J,new J,new J,new J],hh=new J,I0=new Jd,L0=new J,R0=new J,P0=new J,Zf=new J,Kf=new J,Ym=new J,hC=new J,EE=new J,AE=new J,Gm=new J;function qN(n,t,e,i,s){for(let r=0,o=n.length-3;r<=o;r+=3){Gm.fromArray(n,r);const a=s.x*Math.abs(Gm.x)+s.y*Math.abs(Gm.y)+s.z*Math.abs(Gm.z),l=t.dot(Gm),c=e.dot(Gm),d=i.dot(Gm);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const Z0e=new Jd,fC=new J,ZN=new J;class Jc{constructor(t=new J,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;void 0!==e?i.copy(e):Z0e.setFromPoints(t).getCenter(i);let s=0;for(let r=0,o=t.length;r<o;r++)s=Math.max(s,i.distanceToSquared(t[r]));return this.radius=Math.sqrt(s),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;fC.subVectors(t,this.center);const e=fC.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),s=.5*(i-this.radius);this.center.addScaledVector(fC,s/i),this.radius+=s}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(ZN.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(fC.copy(t.center).add(ZN)),this.expandByPoint(fC.copy(t.center).sub(ZN))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const fh=new J,KN=new J,kE=new J,Qf=new J,QN=new J,IE=new J,JN=new J;class O0{constructor(t=new J,e=new J(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,fh)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=fh.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(fh.copy(this.origin).addScaledVector(this.direction,e),fh.distanceToSquared(t))}distanceSqToSegment(t,e,i,s){KN.copy(t).add(e).multiplyScalar(.5),kE.copy(e).sub(t).normalize(),Qf.copy(this.origin).sub(KN);const r=.5*t.distanceTo(e),o=-this.direction.dot(kE),a=Qf.dot(this.direction),l=-Qf.dot(kE),c=Qf.lengthSq(),d=Math.abs(1-o*o);let u,f,m,g;if(d>0)if(u=o*l-a,f=o*a-l,g=r*d,u>=0)if(f>=-g)if(f<=g){const v=1/d;u*=v,f*=v,m=u*(u+o*f+2*a)+f*(o*u+f+2*l)+c}else f=r,u=Math.max(0,-(o*f+a)),m=-u*u+f*(f+2*l)+c;else f=-r,u=Math.max(0,-(o*f+a)),m=-u*u+f*(f+2*l)+c;else f<=-g?(u=Math.max(0,-(-o*r+a)),f=u>0?-r:Math.min(Math.max(-r,-l),r),m=-u*u+f*(f+2*l)+c):f<=g?(u=0,f=Math.min(Math.max(-r,-l),r),m=f*(f+2*l)+c):(u=Math.max(0,-(o*r+a)),f=u>0?r:Math.min(Math.max(-r,-l),r),m=-u*u+f*(f+2*l)+c);else f=o>0?-r:r,u=Math.max(0,-(o*f+a)),m=-u*u+f*(f+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,u),s&&s.copy(KN).addScaledVector(kE,f),m}intersectSphere(t,e){fh.subVectors(t.center,this.origin);const i=fh.dot(this.direction),s=fh.dot(fh)-i*i,r=t.radius*t.radius;if(s>r)return null;const o=Math.sqrt(r-s),a=i-o,l=i+o;return l<0?null:this.at(a<0?l:a,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return null===i?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,s,r,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,u=1/this.direction.z,f=this.origin;return c>=0?(i=(t.min.x-f.x)*c,s=(t.max.x-f.x)*c):(i=(t.max.x-f.x)*c,s=(t.min.x-f.x)*c),d>=0?(r=(t.min.y-f.y)*d,o=(t.max.y-f.y)*d):(r=(t.max.y-f.y)*d,o=(t.min.y-f.y)*d),i>o||r>s||((r>i||isNaN(i))&&(i=r),(o<s||isNaN(s))&&(s=o),u>=0?(a=(t.min.z-f.z)*u,l=(t.max.z-f.z)*u):(a=(t.max.z-f.z)*u,l=(t.min.z-f.z)*u),i>l||a>s)||((a>i||i!=i)&&(i=a),(l<s||s!=s)&&(s=l),s<0)?null:this.at(i>=0?i:s,e)}intersectsBox(t){return null!==this.intersectBox(t,fh)}intersectTriangle(t,e,i,s,r){QN.subVectors(e,t),IE.subVectors(i,t),JN.crossVectors(QN,IE);let a,o=this.direction.dot(JN);if(o>0){if(s)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Qf.subVectors(this.origin,t);const l=a*this.direction.dot(IE.crossVectors(Qf,IE));if(l<0)return null;const c=a*this.direction.dot(QN.cross(Qf));if(c<0||l+c>o)return null;const d=-a*Qf.dot(JN);return d<0?null:this.at(d/o,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class ei{constructor(t,e,i,s,r,o,a,l,c,d,u,f,m,g,v,_){ei.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,e,i,s,r,o,a,l,c,d,u,f,m,g,v,_)}set(t,e,i,s,r,o,a,l,c,d,u,f,m,g,v,_){const y=this.elements;return y[0]=t,y[4]=e,y[8]=i,y[12]=s,y[1]=r,y[5]=o,y[9]=a,y[13]=l,y[2]=c,y[6]=d,y[10]=u,y[14]=f,y[3]=m,y[7]=g,y[11]=v,y[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new ei).fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,s=1/F0.setFromMatrixColumn(t,0).length(),r=1/F0.setFromMatrixColumn(t,1).length(),o=1/F0.setFromMatrixColumn(t,2).length();return e[0]=i[0]*s,e[1]=i[1]*s,e[2]=i[2]*s,e[3]=0,e[4]=i[4]*r,e[5]=i[5]*r,e[6]=i[6]*r,e[7]=0,e[8]=i[8]*o,e[9]=i[9]*o,e[10]=i[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,s=t.y,r=t.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(s),c=Math.sin(s),d=Math.cos(r),u=Math.sin(r);if("XYZ"===t.order){const f=o*d,m=o*u,g=a*d,v=a*u;e[0]=l*d,e[4]=-l*u,e[8]=c,e[1]=m+g*c,e[5]=f-v*c,e[9]=-a*l,e[2]=v-f*c,e[6]=g+m*c,e[10]=o*l}else if("YXZ"===t.order){const f=l*d,m=l*u,g=c*d,v=c*u;e[0]=f+v*a,e[4]=g*a-m,e[8]=o*c,e[1]=o*u,e[5]=o*d,e[9]=-a,e[2]=m*a-g,e[6]=v+f*a,e[10]=o*l}else if("ZXY"===t.order){const f=l*d,m=l*u,g=c*d,v=c*u;e[0]=f-v*a,e[4]=-o*u,e[8]=g+m*a,e[1]=m+g*a,e[5]=o*d,e[9]=v-f*a,e[2]=-o*c,e[6]=a,e[10]=o*l}else if("ZYX"===t.order){const f=o*d,m=o*u,g=a*d,v=a*u;e[0]=l*d,e[4]=g*c-m,e[8]=f*c+v,e[1]=l*u,e[5]=v*c+f,e[9]=m*c-g,e[2]=-c,e[6]=a*l,e[10]=o*l}else if("YZX"===t.order){const f=o*l,m=o*c,g=a*l,v=a*c;e[0]=l*d,e[4]=v-f*u,e[8]=g*u+m,e[1]=u,e[5]=o*d,e[9]=-a*d,e[2]=-c*d,e[6]=m*u+g,e[10]=f-v*u}else if("XZY"===t.order){const f=o*l,m=o*c,g=a*l,v=a*c;e[0]=l*d,e[4]=-u,e[8]=c*d,e[1]=f*u+v,e[5]=o*d,e[9]=m*u-g,e[2]=g*u-m,e[6]=a*d,e[10]=v*u+f}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(K0e,t,Q0e)}lookAt(t,e,i){const s=this.elements;return wl.subVectors(t,e),0===wl.lengthSq()&&(wl.z=1),wl.normalize(),Jf.crossVectors(i,wl),0===Jf.lengthSq()&&(1===Math.abs(i.z)?wl.x+=1e-4:wl.z+=1e-4,wl.normalize(),Jf.crossVectors(i,wl)),Jf.normalize(),LE.crossVectors(wl,Jf),s[0]=Jf.x,s[4]=LE.x,s[8]=wl.x,s[1]=Jf.y,s[5]=LE.y,s[9]=wl.y,s[2]=Jf.z,s[6]=LE.z,s[10]=wl.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,r=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],d=i[1],u=i[5],f=i[9],m=i[13],g=i[2],v=i[6],_=i[10],y=i[14],C=i[3],w=i[7],S=i[11],R=i[15],O=s[0],H=s[4],$=s[8],F=s[12],W=s[1],re=s[5],we=s[9],le=s[13],ue=s[2],he=s[6],oe=s[10],ce=s[14],pe=s[3],xe=s[7],Ae=s[11],fe=s[15];return r[0]=o*O+a*W+l*ue+c*pe,r[4]=o*H+a*re+l*he+c*xe,r[8]=o*$+a*we+l*oe+c*Ae,r[12]=o*F+a*le+l*ce+c*fe,r[1]=d*O+u*W+f*ue+m*pe,r[5]=d*H+u*re+f*he+m*xe,r[9]=d*$+u*we+f*oe+m*Ae,r[13]=d*F+u*le+f*ce+m*fe,r[2]=g*O+v*W+_*ue+y*pe,r[6]=g*H+v*re+_*he+y*xe,r[10]=g*$+v*we+_*oe+y*Ae,r[14]=g*F+v*le+_*ce+y*fe,r[3]=C*O+w*W+S*ue+R*pe,r[7]=C*H+w*re+S*he+R*xe,r[11]=C*$+w*we+S*oe+R*Ae,r[15]=C*F+w*le+S*ce+R*fe,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],s=t[8],r=t[12],o=t[1],a=t[5],l=t[9],c=t[13],d=t[2],u=t[6],f=t[10],m=t[14];return t[3]*(+r*l*u-s*c*u-r*a*f+i*c*f+s*a*m-i*l*m)+t[7]*(+e*l*m-e*c*f+r*o*f-s*o*m+s*c*d-r*l*d)+t[11]*(+e*c*u-e*a*m-r*o*u+i*o*m+r*a*d-i*c*d)+t[15]*(-s*a*d-e*l*u+e*a*f+s*o*u-i*o*f+i*l*d)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const s=this.elements;return t.isVector3?(s[12]=t.x,s[13]=t.y,s[14]=t.z):(s[12]=t,s[13]=e,s[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],o=t[4],a=t[5],l=t[6],c=t[7],d=t[8],u=t[9],f=t[10],m=t[11],g=t[12],v=t[13],_=t[14],y=t[15],C=u*_*c-v*f*c+v*l*m-a*_*m-u*l*y+a*f*y,w=g*f*c-d*_*c-g*l*m+o*_*m+d*l*y-o*f*y,S=d*v*c-g*u*c+g*a*m-o*v*m-d*a*y+o*u*y,R=g*u*l-d*v*l-g*a*f+o*v*f+d*a*_-o*u*_,O=e*C+i*w+s*S+r*R;if(0===O)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const H=1/O;return t[0]=C*H,t[1]=(v*f*r-u*_*r-v*s*m+i*_*m+u*s*y-i*f*y)*H,t[2]=(a*_*r-v*l*r+v*s*c-i*_*c-a*s*y+i*l*y)*H,t[3]=(u*l*r-a*f*r-u*s*c+i*f*c+a*s*m-i*l*m)*H,t[4]=w*H,t[5]=(d*_*r-g*f*r+g*s*m-e*_*m-d*s*y+e*f*y)*H,t[6]=(g*l*r-o*_*r-g*s*c+e*_*c+o*s*y-e*l*y)*H,t[7]=(o*f*r-d*l*r+d*s*c-e*f*c-o*s*m+e*l*m)*H,t[8]=S*H,t[9]=(g*u*r-d*v*r-g*i*m+e*v*m+d*i*y-e*u*y)*H,t[10]=(o*v*r-g*a*r+g*i*c-e*v*c-o*i*y+e*a*y)*H,t[11]=(d*a*r-o*u*r-d*i*c+e*u*c+o*i*m-e*a*m)*H,t[12]=R*H,t[13]=(d*v*s-g*u*s+g*i*f-e*v*f-d*i*_+e*u*_)*H,t[14]=(g*a*s-o*v*s-g*i*l+e*v*l+o*i*_-e*a*_)*H,t[15]=(o*u*s-d*a*s+d*i*l-e*u*l-o*i*f+e*a*f)*H,this}scale(t){const e=this.elements,i=t.x,s=t.y,r=t.z;return e[0]*=i,e[4]*=s,e[8]*=r,e[1]*=i,e[5]*=s,e[9]*=r,e[2]*=i,e[6]*=s,e[10]*=r,e[3]*=i,e[7]*=s,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),s=Math.sin(e),r=1-i,o=t.x,a=t.y,l=t.z,c=r*o,d=r*a;return this.set(c*o+i,c*a-s*l,c*l+s*a,0,c*a+s*l,d*a+i,d*l-s*o,0,c*l-s*a,d*l+s*o,r*l*l+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,s,r,o){return this.set(1,i,r,0,t,1,o,0,e,s,1,0,0,0,0,1),this}compose(t,e,i){const s=this.elements,r=e._x,o=e._y,a=e._z,l=e._w,c=r+r,d=o+o,u=a+a,f=r*c,m=r*d,g=r*u,v=o*d,_=o*u,y=a*u,C=l*c,w=l*d,S=l*u,R=i.x,O=i.y,H=i.z;return s[0]=(1-(v+y))*R,s[1]=(m+S)*R,s[2]=(g-w)*R,s[3]=0,s[4]=(m-S)*O,s[5]=(1-(f+y))*O,s[6]=(_+C)*O,s[7]=0,s[8]=(g+w)*H,s[9]=(_-C)*H,s[10]=(1-(f+v))*H,s[11]=0,s[12]=t.x,s[13]=t.y,s[14]=t.z,s[15]=1,this}decompose(t,e,i){const s=this.elements;let r=F0.set(s[0],s[1],s[2]).length();const o=F0.set(s[4],s[5],s[6]).length(),a=F0.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),t.x=s[12],t.y=s[13],t.z=s[14],ed.copy(this);const c=1/r,d=1/o,u=1/a;return ed.elements[0]*=c,ed.elements[1]*=c,ed.elements[2]*=c,ed.elements[4]*=d,ed.elements[5]*=d,ed.elements[6]*=d,ed.elements[8]*=u,ed.elements[9]*=u,ed.elements[10]*=u,e.setFromRotationMatrix(ed),i.x=r,i.y=o,i.z=a,this}makePerspective(t,e,i,s,r,o,a=Qd){const l=this.elements,c=2*r/(e-t),d=2*r/(i-s),u=(e+t)/(e-t),f=(i+s)/(i-s);let m,g;if(a===Qd)m=-(o+r)/(o-r),g=-2*o*r/(o-r);else{if(a!==lC)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);m=-o/(o-r),g=-o*r/(o-r)}return l[0]=c,l[4]=0,l[8]=u,l[12]=0,l[1]=0,l[5]=d,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(t,e,i,s,r,o,a=Qd){const l=this.elements,c=1/(e-t),d=1/(i-s),u=1/(o-r),f=(e+t)*c,m=(i+s)*d;let g,v;if(a===Qd)g=(o+r)*u,v=-2*u;else{if(a!==lC)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);g=r*u,v=-1*u}return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=v,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<16;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const F0=new J,ed=new ei,K0e=new J(0,0,0),Q0e=new J(1,1,1),Jf=new J,LE=new J,wl=new J,Oj=new ei,Fj=new Ja;let Nj=(()=>{class n{constructor(e=0,i=0,s=0,r=n.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=i,this._z=s,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,i,s,r=this._order){return this._x=e,this._y=i,this._z=s,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,i=this._order,s=!0){const r=e.elements,o=r[0],a=r[4],l=r[8],c=r[1],d=r[5],u=r[9],f=r[2],m=r[6],g=r[10];switch(i){case"XYZ":this._y=Math.asin(dr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,g),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(m,d),this._z=0);break;case"YXZ":this._x=Math.asin(-dr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(l,g),this._z=Math.atan2(c,d)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(dr(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-f,g),this._z=Math.atan2(-a,d)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-dr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(m,g),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,d));break;case"YZX":this._z=Math.asin(dr(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,d),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(l,g));break;case"XZY":this._z=Math.asin(-dr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(m,d),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-u,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===s&&this._onChangeCallback(),this}setFromQuaternion(e,i,s){return Oj.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Oj,i,s)}setFromVector3(e,i=this._order){return this.set(e.x,e.y,e.z,i)}reorder(e){return Fj.setFromEuler(this),this.setFromQuaternion(Fj,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class RE{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}isEnabled(t){return 0!=(this.mask&(1<<t|0))}}let J0e=0;const Vj=new J,N0=new Ja,ph=new ei,PE=new J,pC=new J,eye=new J,tye=new Ja,Bj=new J(1,0,0),Hj=new J(0,1,0),zj=new J(0,0,1),nye={type:"added"},iye={type:"removed"};let zs=(()=>{class n extends dh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:J0e++}),this.uuid=xl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const e=new J,i=new Nj,s=new Ja,r=new J(1,1,1);i._onChange(function o(){s.setFromEuler(i,!1)}),s._onChange(function a(){i.setFromQuaternion(s,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ei},normalMatrix:{value:new di}}),this.matrix=new ei,this.matrixWorld=new ei,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new RE,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,i){this.quaternion.setFromAxisAngle(e,i)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,i){return N0.setFromAxisAngle(e,i),this.quaternion.multiply(N0),this}rotateOnWorldAxis(e,i){return N0.setFromAxisAngle(e,i),this.quaternion.premultiply(N0),this}rotateX(e){return this.rotateOnAxis(Bj,e)}rotateY(e){return this.rotateOnAxis(Hj,e)}rotateZ(e){return this.rotateOnAxis(zj,e)}translateOnAxis(e,i){return Vj.copy(e).applyQuaternion(this.quaternion),this.position.add(Vj.multiplyScalar(i)),this}translateX(e){return this.translateOnAxis(Bj,e)}translateY(e){return this.translateOnAxis(Hj,e)}translateZ(e){return this.translateOnAxis(zj,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ph.copy(this.matrixWorld).invert())}lookAt(e,i,s){e.isVector3?PE.copy(e):PE.set(e,i,s);const r=this.parent;this.updateWorldMatrix(!0,!1),pC.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ph.lookAt(pC,PE,this.up):ph.lookAt(PE,pC,this.up),this.quaternion.setFromRotationMatrix(ph),r&&(ph.extractRotation(r.matrixWorld),N0.setFromRotationMatrix(ph),this.quaternion.premultiply(N0.invert()))}add(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(nye)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const i=this.children.indexOf(e);return-1!==i&&(e.parent=null,this.children.splice(i,1),e.dispatchEvent(iye)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ph.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),ph.multiply(e.parent.matrixWorld)),e.applyMatrix4(ph),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,i){if(this[e]===i)return this;for(let s=0,r=this.children.length;s<r;s++){const a=this.children[s].getObjectByProperty(e,i);if(void 0!==a)return a}}getObjectsByProperty(e,i){let s=[];this[e]===i&&s.push(this);for(let r=0,o=this.children.length;r<o;r++){const a=this.children[r].getObjectsByProperty(e,i);a.length>0&&(s=s.concat(a))}return s}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pC,e,eye),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pC,tye,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return e.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(e){e(this);const i=this.children;for(let s=0,r=i.length;s<r;s++)i[s].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const i=this.children;for(let s=0,r=i.length;s<r;s++)i[s].traverseVisible(e)}traverseAncestors(e){const i=this.parent;null!==i&&(e(i),i.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const i=this.children;for(let s=0,r=i.length;s<r;s++){const o=i[s];(!0===o.matrixWorldAutoUpdate||!0===e)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,i){const s=this.parent;if(!0===e&&null!==s&&!0===s.matrixWorldAutoUpdate&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===i){const r=this.children;for(let o=0,a=r.length;o<a;o++){const l=r[o];!0===l.matrixWorldAutoUpdate&&l.updateWorldMatrix(!1,!0)}}}toJSON(e){const i=void 0===e||"string"==typeof e,s={};i&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},s.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};function o(l,c){return void 0===l[c.uuid]&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(e.geometries,this.geometry);const l=this.geometry.parameters;if(void 0!==l&&void 0!==l.shapes){const c=l.shapes;if(Array.isArray(c))for(let d=0,u=c.length;d<u;d++)o(e.shapes,c[d]);else o(e.shapes,c)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const l=[];for(let c=0,d=this.material.length;c<d;c++)l.push(o(e.materials,this.material[c]));r.material=l}else r.material=o(e.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++)r.animations.push(o(e.animations,this.animations[l]))}if(i){const l=a(e.geometries),c=a(e.materials),d=a(e.textures),u=a(e.images),f=a(e.shapes),m=a(e.skeletons),g=a(e.animations),v=a(e.nodes);l.length>0&&(s.geometries=l),c.length>0&&(s.materials=c),d.length>0&&(s.textures=d),u.length>0&&(s.images=u),f.length>0&&(s.shapes=f),m.length>0&&(s.skeletons=m),g.length>0&&(s.animations=g),v.length>0&&(s.nodes=v)}return s.object=r,s;function a(l){const c=[];for(const d in l){const u=l[d];delete u.metadata,c.push(u)}return c}}clone(e){return(new this.constructor).copy(this,e)}copy(e,i=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===i)for(let s=0;s<e.children.length;s++)this.add(e.children[s].clone());return this}}return n.DEFAULT_UP=new J(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const td=new J,mh=new J,e3=new J,gh=new J,V0=new J,B0=new J,Uj=new J,t3=new J,n3=new J,s3=new J;let OE=!1;class el{constructor(t=new J,e=new J,i=new J){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,s){s.subVectors(i,e),td.subVectors(t,e),s.cross(td);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(t,e,i,s,r){td.subVectors(s,e),mh.subVectors(i,e),e3.subVectors(t,e);const o=td.dot(td),a=td.dot(mh),l=td.dot(e3),c=mh.dot(mh),d=mh.dot(e3),u=o*c-a*a;if(0===u)return r.set(-2,-1,-1);const f=1/u,m=(c*l-a*d)*f,g=(o*d-a*l)*f;return r.set(1-m-g,g,m)}static containsPoint(t,e,i,s){return this.getBarycoord(t,e,i,s,gh),gh.x>=0&&gh.y>=0&&gh.x+gh.y<=1}static getUV(t,e,i,s,r,o,a,l){return!1===OE&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),OE=!0),this.getInterpolation(t,e,i,s,r,o,a,l)}static getInterpolation(t,e,i,s,r,o,a,l){return this.getBarycoord(t,e,i,s,gh),l.setScalar(0),l.addScaledVector(r,gh.x),l.addScaledVector(o,gh.y),l.addScaledVector(a,gh.z),l}static isFrontFacing(t,e,i,s){return td.subVectors(i,e),mh.subVectors(t,e),td.cross(mh).dot(s)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,s){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[s]),this}setFromAttributeAndIndices(t,e,i,s){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,s),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return td.subVectors(this.c,this.b),mh.subVectors(this.a,this.b),.5*td.cross(mh).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return el.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return el.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,i,s,r){return!1===OE&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),OE=!0),el.getInterpolation(t,this.a,this.b,this.c,e,i,s,r)}getInterpolation(t,e,i,s,r){return el.getInterpolation(t,this.a,this.b,this.c,e,i,s,r)}containsPoint(t){return el.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return el.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,s=this.b,r=this.c;let o,a;V0.subVectors(s,i),B0.subVectors(r,i),t3.subVectors(t,i);const l=V0.dot(t3),c=B0.dot(t3);if(l<=0&&c<=0)return e.copy(i);n3.subVectors(t,s);const d=V0.dot(n3),u=B0.dot(n3);if(d>=0&&u<=d)return e.copy(s);const f=l*u-d*c;if(f<=0&&l>=0&&d<=0)return o=l/(l-d),e.copy(i).addScaledVector(V0,o);s3.subVectors(t,r);const m=V0.dot(s3),g=B0.dot(s3);if(g>=0&&m<=g)return e.copy(r);const v=m*c-l*g;if(v<=0&&c>=0&&g<=0)return a=c/(c-g),e.copy(i).addScaledVector(B0,a);const _=d*g-m*u;if(_<=0&&u-d>=0&&m-g>=0)return Uj.subVectors(r,s),a=(u-d)/(u-d+(m-g)),e.copy(s).addScaledVector(Uj,a);const y=1/(_+v+f);return o=v*y,a=f*y,e.copy(i).addScaledVector(V0,o).addScaledVector(B0,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let sye=0;class Uo extends dh{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:sye++}),this.uuid=xl(),this.name="",this.type="Material",this.blending=Nm,this.side=sh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=sN,this.blendDst=rN,this.blendEquation=Vm,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=fE,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=yj,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ME,this.stencilZFail=ME,this.stencilZPass=ME,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const i=t[e];if(void 0===i){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const s=this[e];void 0!==s?s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[e]=i:console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`)}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function s(r){const o=[];for(const a in r){const l=r[a];delete l.metadata,o.push(l)}return o}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(i.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Nm&&(i.blending=this.blending),this.side!==sh&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaHash&&(i.alphaHash=this.alphaHash),!0===this.alphaToCoverage&&(i.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(i.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=this.flatShading),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),e){const r=s(t.textures),o=s(t.images);r.length>0&&(i.textures=r),o.length>0&&(i.images=o)}return i}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(null!==e){const s=e.length;i=new Array(s);for(let r=0;r!==s;++r)i[r]=e[r].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}const Wj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},nd={h:0,s:0,l:0},FE={h:0,s:0,l:0};function r3(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+6*(t-n)*e:e<.5?t:e<2/3?n+6*(t-n)*(2/3-e):n}class $t{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(void 0===e&&void 0===i){const s=t;s&&s.isColor?this.copy(s):"number"==typeof s?this.setHex(s):"string"==typeof s&&this.setStyle(s)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=As){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,tc.toWorkingColorSpace(this,e),this}setRGB(t,e,i,s=tc.workingColorSpace){return this.r=t,this.g=e,this.b=i,tc.toWorkingColorSpace(this,s),this}setHSL(t,e,i,s=tc.workingColorSpace){if(t=zN(t,1),e=dr(e,0,1),i=dr(i,0,1),0===e)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+e):i+e-i*e,o=2*i-r;this.r=r3(o,r,t+1/3),this.g=r3(o,r,t),this.b=r3(o,r,t-1/3)}return tc.toWorkingColorSpace(this,s),this}setStyle(t,e=As){function i(r){void 0!==r&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(t)){let r;const a=s[2];switch(s[1]){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,e);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,e);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(t)){const r=s[1],o=r.length;if(3===o)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,e);if(6===o)return this.setHex(parseInt(r,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=As){const i=Wj[t.toLowerCase()];return void 0!==i?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=A0(t.r),this.g=A0(t.g),this.b=A0(t.b),this}copyLinearToSRGB(t){return this.r=YN(t.r),this.g=YN(t.g),this.b=YN(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=As){return tc.fromWorkingColorSpace(Wo.copy(this),t),65536*Math.round(dr(255*Wo.r,0,255))+256*Math.round(dr(255*Wo.g,0,255))+Math.round(dr(255*Wo.b,0,255))}getHexString(t=As){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=tc.workingColorSpace){tc.fromWorkingColorSpace(Wo.copy(this),e);const i=Wo.r,s=Wo.g,r=Wo.b,o=Math.max(i,s,r),a=Math.min(i,s,r);let l,c;const d=(a+o)/2;if(a===o)l=0,c=0;else{const u=o-a;switch(c=d<=.5?u/(o+a):u/(2-o-a),o){case i:l=(s-r)/u+(s<r?6:0);break;case s:l=(r-i)/u+2;break;case r:l=(i-s)/u+4}l/=6}return t.h=l,t.s=c,t.l=d,t}getRGB(t,e=tc.workingColorSpace){return tc.fromWorkingColorSpace(Wo.copy(this),e),t.r=Wo.r,t.g=Wo.g,t.b=Wo.b,t}getStyle(t=As){tc.fromWorkingColorSpace(Wo.copy(this),t);const e=Wo.r,i=Wo.g,s=Wo.b;return t!==As?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(255*e)},${Math.round(255*i)},${Math.round(255*s)})`}offsetHSL(t,e,i){return this.getHSL(nd),nd.h+=t,nd.s+=e,nd.l+=i,this.setHSL(nd.h,nd.s,nd.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(nd),t.getHSL(FE);const i=cC(nd.h,FE.h,e),s=cC(nd.s,FE.s,e),r=cC(nd.l,FE.l,e);return this.setHSL(i,s,r),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,s=this.b,r=t.elements;return this.r=r[0]*e+r[3]*i+r[6]*s,this.g=r[1]*e+r[4]*i+r[7]*s,this.b=r[2]*e+r[5]*i+r[8]*s,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Wo=new $t;$t.NAMES=Wj;class ep extends Uo{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new $t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Kw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const _h=rye();function rye(){const n=new ArrayBuffer(4),t=new Float32Array(n),e=new Uint32Array(n),i=new Uint32Array(512),s=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[256|l]=32768,s[l]=24,s[256|l]=24):c<-14?(i[l]=1024>>-c-14,i[256|l]=1024>>-c-14|32768,s[l]=-c-1,s[256|l]=-c-1):c<=15?(i[l]=c+15<<10,i[256|l]=c+15<<10|32768,s[l]=13,s[256|l]=13):c<128?(i[l]=31744,i[256|l]=64512,s[l]=24,s[256|l]=24):(i[l]=31744,i[256|l]=64512,s[l]=13,s[256|l]=13)}const r=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;!(8388608&c);)c<<=1,d-=8388608;c&=-8388609,d+=947912704,r[l]=c|d}for(let l=1024;l<2048;++l)r[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(a[l]=1024);return{floatView:t,uint32View:e,baseTable:i,shiftTable:s,mantissaTable:r,exponentTable:o,offsetTable:a}}function tl(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=dr(n,-65504,65504),_h.floatView[0]=n;const t=_h.uint32View[0],e=t>>23&511;return _h.baseTable[e]+((8388607&t)>>_h.shiftTable[e])}function mC(n){const t=n>>10;return _h.uint32View[0]=_h.mantissaTable[_h.offsetTable[t]+(1023&n)]+_h.exponentTable[t],_h.floatView[0]}const oye={toHalfFloat:tl,fromHalfFloat:mC},Or=new J,NE=new st;class ys{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=i,this.usage=aC,this.updateRange={offset:0,count:-1},this.gpuType=Kd,this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[t+s]=e.array[i+s];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,i=this.count;e<i;e++)NE.fromBufferAttribute(this,e),NE.applyMatrix3(t),this.setXY(e,NE.x,NE.y);else if(3===this.itemSize)for(let e=0,i=this.count;e<i;e++)Or.fromBufferAttribute(this,e),Or.applyMatrix3(t),this.setXYZ(e,Or.x,Or.y,Or.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)Or.fromBufferAttribute(this,e),Or.applyMatrix4(t),this.setXYZ(e,Or.x,Or.y,Or.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Or.fromBufferAttribute(this,e),Or.applyNormalMatrix(t),this.setXYZ(e,Or.x,Or.y,Or.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Or.fromBufferAttribute(this,e),Or.transformDirection(t),this.setXYZ(e,Or.x,Or.y,Or.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let i=this.array[t*this.itemSize+e];return this.normalized&&(i=Ka(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=si(i,this.array)),this.array[t*this.itemSize+e]=i,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=Ka(e,this.array)),e}setX(t,e){return this.normalized&&(e=si(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=Ka(e,this.array)),e}setY(t,e){return this.normalized&&(e=si(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=Ka(e,this.array)),e}setZ(t,e){return this.normalized&&(e=si(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=Ka(e,this.array)),e}setW(t,e){return this.normalized&&(e=si(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=si(e,this.array),i=si(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,s){return t*=this.itemSize,this.normalized&&(e=si(e,this.array),i=si(i,this.array),s=si(s,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this}setXYZW(t,e,i,s,r){return t*=this.itemSize,this.normalized&&(e=si(e,this.array),i=si(i,this.array),s=si(s,this.array),r=si(r,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==aC&&(t.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(t.updateRange=this.updateRange),t}}class aye extends ys{constructor(t,e,i){super(new Int8Array(t),e,i)}}class lye extends ys{constructor(t,e,i){super(new Uint8Array(t),e,i)}}class cye extends ys{constructor(t,e,i){super(new Uint8ClampedArray(t),e,i)}}class dye extends ys{constructor(t,e,i){super(new Int16Array(t),e,i)}}class o3 extends ys{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class uye extends ys{constructor(t,e,i){super(new Int32Array(t),e,i)}}class a3 extends ys{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class hye extends ys{constructor(t,e,i){super(new Uint16Array(t),e,i),this.isFloat16BufferAttribute=!0}getX(t){let e=mC(this.array[t*this.itemSize]);return this.normalized&&(e=Ka(e,this.array)),e}setX(t,e){return this.normalized&&(e=si(e,this.array)),this.array[t*this.itemSize]=tl(e),this}getY(t){let e=mC(this.array[t*this.itemSize+1]);return this.normalized&&(e=Ka(e,this.array)),e}setY(t,e){return this.normalized&&(e=si(e,this.array)),this.array[t*this.itemSize+1]=tl(e),this}getZ(t){let e=mC(this.array[t*this.itemSize+2]);return this.normalized&&(e=Ka(e,this.array)),e}setZ(t,e){return this.normalized&&(e=si(e,this.array)),this.array[t*this.itemSize+2]=tl(e),this}getW(t){let e=mC(this.array[t*this.itemSize+3]);return this.normalized&&(e=Ka(e,this.array)),e}setW(t,e){return this.normalized&&(e=si(e,this.array)),this.array[t*this.itemSize+3]=tl(e),this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=si(e,this.array),i=si(i,this.array)),this.array[t+0]=tl(e),this.array[t+1]=tl(i),this}setXYZ(t,e,i,s){return t*=this.itemSize,this.normalized&&(e=si(e,this.array),i=si(i,this.array),s=si(s,this.array)),this.array[t+0]=tl(e),this.array[t+1]=tl(i),this.array[t+2]=tl(s),this}setXYZW(t,e,i,s,r){return t*=this.itemSize,this.normalized&&(e=si(e,this.array),i=si(i,this.array),s=si(s,this.array),r=si(r,this.array)),this.array[t+0]=tl(e),this.array[t+1]=tl(i),this.array[t+2]=tl(s),this.array[t+3]=tl(r),this}}class en extends ys{constructor(t,e,i){super(new Float32Array(t),e,i)}}class fye extends ys{constructor(t,e,i){super(new Float64Array(t),e,i)}}let pye=0;const nc=new ei,l3=new zs,H0=new J,Cl=new Jd,gC=new Jd,fo=new J;class mi extends dh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:pye++}),this.uuid=xl(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return this.index=Array.isArray(t)?new(kj(t)?a3:o3)(t,1):t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const r=(new di).getNormalMatrix(t);i.applyNormalMatrix(r),i.needsUpdate=!0}const s=this.attributes.tangent;return void 0!==s&&(s.transformDirection(t),s.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return nc.makeRotationFromQuaternion(t),this.applyMatrix4(nc),this}rotateX(t){return nc.makeRotationX(t),this.applyMatrix4(nc),this}rotateY(t){return nc.makeRotationY(t),this.applyMatrix4(nc),this}rotateZ(t){return nc.makeRotationZ(t),this.applyMatrix4(nc),this}translate(t,e,i){return nc.makeTranslation(t,e,i),this.applyMatrix4(nc),this}scale(t,e,i){return nc.makeScale(t,e,i),this.applyMatrix4(nc),this}lookAt(t){return l3.lookAt(t),l3.updateMatrix(),this.applyMatrix4(l3.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(H0).negate(),this.translate(H0.x,H0.y,H0.z),this}setFromPoints(t){const e=[];for(let i=0,s=t.length;i<s;i++){const r=t[i];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new en(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Jd);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new J(-1/0,-1/0,-1/0),new J(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,s=e.length;i<s;i++)Cl.setFromBufferAttribute(e[i]),this.morphTargetsRelative?(fo.addVectors(this.boundingBox.min,Cl.min),this.boundingBox.expandByPoint(fo),fo.addVectors(this.boundingBox.max,Cl.max),this.boundingBox.expandByPoint(fo)):(this.boundingBox.expandByPoint(Cl.min),this.boundingBox.expandByPoint(Cl.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Jc);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new J,1/0);if(t){const i=this.boundingSphere.center;if(Cl.setFromBufferAttribute(t),e)for(let r=0,o=e.length;r<o;r++)gC.setFromBufferAttribute(e[r]),this.morphTargetsRelative?(fo.addVectors(Cl.min,gC.min),Cl.expandByPoint(fo),fo.addVectors(Cl.max,gC.max),Cl.expandByPoint(fo)):(Cl.expandByPoint(gC.min),Cl.expandByPoint(gC.max));Cl.getCenter(i);let s=0;for(let r=0,o=t.count;r<o;r++)fo.fromBufferAttribute(t,r),s=Math.max(s,i.distanceToSquared(fo));if(e)for(let r=0,o=e.length;r<o;r++){const a=e[r],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)fo.fromBufferAttribute(a,c),l&&(H0.fromBufferAttribute(t,c),fo.add(H0)),s=Math.max(s,i.distanceToSquared(fo))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=t.array,s=e.position.array,r=e.normal.array,o=e.uv.array,a=s.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new ys(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],d=[];for(let W=0;W<a;W++)c[W]=new J,d[W]=new J;const u=new J,f=new J,m=new J,g=new st,v=new st,_=new st,y=new J,C=new J;function w(W,re,we){u.fromArray(s,3*W),f.fromArray(s,3*re),m.fromArray(s,3*we),g.fromArray(o,2*W),v.fromArray(o,2*re),_.fromArray(o,2*we),f.sub(u),m.sub(u),v.sub(g),_.sub(g);const le=1/(v.x*_.y-_.x*v.y);isFinite(le)&&(y.copy(f).multiplyScalar(_.y).addScaledVector(m,-v.y).multiplyScalar(le),C.copy(m).multiplyScalar(v.x).addScaledVector(f,-_.x).multiplyScalar(le),c[W].add(y),c[re].add(y),c[we].add(y),d[W].add(C),d[re].add(C),d[we].add(C))}let S=this.groups;0===S.length&&(S=[{start:0,count:i.length}]);for(let W=0,re=S.length;W<re;++W){const we=S[W],le=we.start;for(let he=le,oe=le+we.count;he<oe;he+=3)w(i[he+0],i[he+1],i[he+2])}const R=new J,O=new J,H=new J,$=new J;function F(W){H.fromArray(r,3*W),$.copy(H);const re=c[W];R.copy(re),R.sub(H.multiplyScalar(H.dot(re))).normalize(),O.crossVectors($,re);const le=O.dot(d[W])<0?-1:1;l[4*W]=R.x,l[4*W+1]=R.y,l[4*W+2]=R.z,l[4*W+3]=le}for(let W=0,re=S.length;W<re;++W){const we=S[W],le=we.start;for(let he=le,oe=le+we.count;he<oe;he+=3)F(i[he+0]),F(i[he+1]),F(i[he+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let i=this.getAttribute("normal");if(void 0===i)i=new ys(new Float32Array(3*e.count),3),this.setAttribute("normal",i);else for(let f=0,m=i.count;f<m;f++)i.setXYZ(f,0,0,0);const s=new J,r=new J,o=new J,a=new J,l=new J,c=new J,d=new J,u=new J;if(t)for(let f=0,m=t.count;f<m;f+=3){const g=t.getX(f+0),v=t.getX(f+1),_=t.getX(f+2);s.fromBufferAttribute(e,g),r.fromBufferAttribute(e,v),o.fromBufferAttribute(e,_),d.subVectors(o,r),u.subVectors(s,r),d.cross(u),a.fromBufferAttribute(i,g),l.fromBufferAttribute(i,v),c.fromBufferAttribute(i,_),a.add(d),l.add(d),c.add(d),i.setXYZ(g,a.x,a.y,a.z),i.setXYZ(v,l.x,l.y,l.z),i.setXYZ(_,c.x,c.y,c.z)}else for(let f=0,m=e.count;f<m;f+=3)s.fromBufferAttribute(e,f+0),r.fromBufferAttribute(e,f+1),o.fromBufferAttribute(e,f+2),d.subVectors(o,r),u.subVectors(s,r),d.cross(u),i.setXYZ(f+0,d.x,d.y,d.z),i.setXYZ(f+1,d.x,d.y,d.z),i.setXYZ(f+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)fo.fromBufferAttribute(t,e),fo.normalize(),t.setXYZ(e,fo.x,fo.y,fo.z)}toNonIndexed(){function t(a,l){const c=a.array,d=a.itemSize,u=a.normalized,f=new c.constructor(l.length*d);let m=0,g=0;for(let v=0,_=l.length;v<_;v++){m=a.isInterleavedBufferAttribute?l[v]*a.data.stride+a.offset:l[v]*d;for(let y=0;y<d;y++)f[g++]=c[m++]}return new ys(f,d,u)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new mi,i=this.index.array,s=this.attributes;for(const a in s){const c=t(s[a],i);e.setAttribute(a,c)}const r=this.morphAttributes;for(const a in r){const l=[],c=r[a];for(let d=0,u=c.length;d<u;d++){const m=t(c[d],i);l.push(m)}e.morphAttributes[a]=l}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];e.addGroup(c.start,c.count,c.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(t[c]=l[c]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const l in i)t.data.attributes[l]=i[l].toJSON(t.data);const s={};let r=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let u=0,f=c.length;u<f;u++)d.push(c[u].toJSON(t.data));d.length>0&&(s[l]=d,r=!0)}r&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(t.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;null!==i&&this.setIndex(i.clone(e));const s=t.attributes;for(const c in s)this.setAttribute(c,s[c].clone(e));const r=t.morphAttributes;for(const c in r){const d=[],u=r[c];for(let f=0,m=u.length;f<m;f++)d.push(u[f].clone(e));this.morphAttributes[c]=d}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let c=0,d=o.length;c<d;c++){const u=o[c];this.addGroup(u.start,u.count,u.materialIndex)}const a=t.boundingBox;null!==a&&(this.boundingBox=a.clone());const l=t.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Yj=new ei,$m=new O0,VE=new Jc,Gj=new J,z0=new J,U0=new J,W0=new J,c3=new J,BE=new J,HE=new st,zE=new st,UE=new st,$j=new J,jj=new J,Xj=new J,WE=new J,YE=new J;class Lo extends zs{constructor(t=new mi,e=new ep){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(void 0!==s){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const a=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}getVertexPosition(t,e){const i=this.geometry,r=i.morphAttributes.position,o=i.morphTargetsRelative;e.fromBufferAttribute(i.attributes.position,t);const a=this.morphTargetInfluences;if(r&&a){BE.set(0,0,0);for(let l=0,c=r.length;l<c;l++){const d=a[l];0!==d&&(c3.fromBufferAttribute(r[l],t),BE.addScaledVector(o?c3:c3.sub(e),d))}e.add(BE)}return e}raycast(t,e){const i=this.geometry,r=this.matrixWorld;void 0!==this.material&&(null===i.boundingSphere&&i.computeBoundingSphere(),VE.copy(i.boundingSphere),VE.applyMatrix4(r),$m.copy(t.ray).recast(t.near),(!1!==VE.containsPoint($m.origin)||!(null===$m.intersectSphere(VE,Gj)||$m.origin.distanceToSquared(Gj)>(t.far-t.near)**2))&&(Yj.copy(r).invert(),$m.copy(t.ray).applyMatrix4(Yj),(null===i.boundingBox||!1!==$m.intersectsBox(i.boundingBox))&&this._computeIntersections(t,e,$m)))}_computeIntersections(t,e,i){let s;const r=this.geometry,o=this.material,a=r.index,l=r.attributes.position,c=r.attributes.uv,d=r.attributes.uv1,u=r.attributes.normal,f=r.groups,m=r.drawRange;if(null!==a)if(Array.isArray(o))for(let g=0,v=f.length;g<v;g++){const _=f[g],y=o[_.materialIndex];for(let S=Math.max(_.start,m.start),R=Math.min(a.count,Math.min(_.start+_.count,m.start+m.count));S<R;S+=3)s=GE(this,y,t,i,c,d,u,a.getX(S),a.getX(S+1),a.getX(S+2)),s&&(s.faceIndex=Math.floor(S/3),s.face.materialIndex=_.materialIndex,e.push(s))}else for(let _=Math.max(0,m.start),y=Math.min(a.count,m.start+m.count);_<y;_+=3)s=GE(this,o,t,i,c,d,u,a.getX(_),a.getX(_+1),a.getX(_+2)),s&&(s.faceIndex=Math.floor(_/3),e.push(s));else if(void 0!==l)if(Array.isArray(o))for(let g=0,v=f.length;g<v;g++){const _=f[g],y=o[_.materialIndex];for(let S=Math.max(_.start,m.start),R=Math.min(l.count,Math.min(_.start+_.count,m.start+m.count));S<R;S+=3)s=GE(this,y,t,i,c,d,u,S,S+1,S+2),s&&(s.faceIndex=Math.floor(S/3),s.face.materialIndex=_.materialIndex,e.push(s))}else for(let _=Math.max(0,m.start),y=Math.min(l.count,m.start+m.count);_<y;_+=3)s=GE(this,o,t,i,c,d,u,_,_+1,_+2),s&&(s.faceIndex=Math.floor(_/3),e.push(s))}}function GE(n,t,e,i,s,r,o,a,l,c){n.getVertexPosition(a,z0),n.getVertexPosition(l,U0),n.getVertexPosition(c,W0);const d=function mye(n,t,e,i,s,r,o,a){let l;if(l=t.side===Sa?i.intersectTriangle(o,r,s,!0,a):i.intersectTriangle(s,r,o,t.side===sh,a),null===l)return null;YE.copy(a),YE.applyMatrix4(n.matrixWorld);const c=e.ray.origin.distanceTo(YE);return c<e.near||c>e.far?null:{distance:c,point:YE.clone(),object:n}}(n,t,e,i,z0,U0,W0,WE);if(d){s&&(HE.fromBufferAttribute(s,a),zE.fromBufferAttribute(s,l),UE.fromBufferAttribute(s,c),d.uv=el.getInterpolation(WE,z0,U0,W0,HE,zE,UE,new st)),r&&(HE.fromBufferAttribute(r,a),zE.fromBufferAttribute(r,l),UE.fromBufferAttribute(r,c),d.uv1=el.getInterpolation(WE,z0,U0,W0,HE,zE,UE,new st),d.uv2=d.uv1),o&&($j.fromBufferAttribute(o,a),jj.fromBufferAttribute(o,l),Xj.fromBufferAttribute(o,c),d.normal=el.getInterpolation(WE,z0,U0,W0,$j,jj,Xj,new J),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const u={a,b:l,c,normal:new J,materialIndex:0};el.getNormal(z0,U0,W0,u.normal),d.face=u}return d}class jm extends mi{constructor(t=1,e=1,i=1,s=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:s,heightSegments:r,depthSegments:o};const a=this;s=Math.floor(s),r=Math.floor(r),o=Math.floor(o);const l=[],c=[],d=[],u=[];let f=0,m=0;function g(v,_,y,C,w,S,R,O,H,$,F){const W=S/H,re=R/$,we=S/2,le=R/2,ue=O/2,he=H+1,oe=$+1;let ce=0,pe=0;const xe=new J;for(let Ae=0;Ae<oe;Ae++){const fe=Ae*re-le;for(let Ce=0;Ce<he;Ce++)xe[v]=(Ce*W-we)*C,xe[_]=fe*w,xe[y]=ue,c.push(xe.x,xe.y,xe.z),xe[v]=0,xe[_]=0,xe[y]=O>0?1:-1,d.push(xe.x,xe.y,xe.z),u.push(Ce/H),u.push(1-Ae/$),ce+=1}for(let Ae=0;Ae<$;Ae++)for(let fe=0;fe<H;fe++){const ft=f+fe+he*(Ae+1),ot=f+(fe+1)+he*(Ae+1),kt=f+(fe+1)+he*Ae;l.push(f+fe+he*Ae,ft,kt),l.push(ft,ot,kt),pe+=6}a.addGroup(m,pe,F),m+=pe,f+=ce}g("z","y","x",-1,-1,i,e,t,o,r,0),g("z","y","x",1,-1,i,e,-t,o,r,1),g("x","z","y",1,1,t,i,e,s,o,2),g("x","z","y",1,-1,t,i,-e,s,o,3),g("x","y","z",1,-1,t,e,i,s,r,4),g("x","y","z",-1,-1,t,e,-i,s,r,5),this.setIndex(l),this.setAttribute("position",new en(c,3)),this.setAttribute("normal",new en(d,3)),this.setAttribute("uv",new en(u,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new jm(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Y0(n){const t={};for(const e in n){t[e]={};for(const i in n[e]){const s=n[e][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][i]=null):t[e][i]=s.clone():t[e][i]=Array.isArray(s)?s.slice():s}}return t}function Da(n){const t={};for(let e=0;e<n.length;e++){const i=Y0(n[e]);for(const s in i)t[s]=i[s]}return t}function qj(n){return null===n.getRenderTarget()?n.outputColorSpace:Kc}const Zj={clone:Y0,merge:Da};class eu extends Uo{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Y0(t.uniforms),this.uniformsGroups=function gye(n){const t=[];for(let e=0;e<n.length;e++)t.push(n[e].clone());return t}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const s in this.uniforms){const o=this.uniforms[s].value;e.uniforms[s]=o&&o.isTexture?{type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const s in this.extensions)!0===this.extensions[s]&&(i[s]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}class $E extends zs{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ei,this.projectionMatrix=new ei,this.projectionMatrixInverse=new ei,this.coordinateSystem=Qd}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class Ro extends $E{constructor(t=50,e=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*D0*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*Um*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*D0*Math.atan(Math.tan(.5*Um*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,i,s,r,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*Um*this.fov)/this.zoom,i=2*e,s=this.aspect*i,r=-.5*s;const o=this.view;if(null!==this.view&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;r+=o.offsetX*s/l,e-=o.offsetY*i/c,s*=o.width/l,i*=o.height/c}const a=this.filmOffset;0!==a&&(r+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,e,e-i,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}class Kj extends zs{constructor(t,e,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null;const s=new Ro(-90,1,t,e);s.layers=this.layers,this.add(s);const r=new Ro(-90,1,t,e);r.layers=this.layers,this.add(r);const o=new Ro(-90,1,t,e);o.layers=this.layers,this.add(o);const a=new Ro(-90,1,t,e);a.layers=this.layers,this.add(a);const l=new Ro(-90,1,t,e);l.layers=this.layers,this.add(l);const c=new Ro(-90,1,t,e);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,s,r,o,a,l]=e;for(const c of e)this.remove(c);if(t===Qd)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else{if(t!==lC)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1)}for(const c of e)this.add(c),c.updateMatrixWorld()}update(t,e){null===this.parent&&this.updateMatrixWorld();const i=this.renderTarget;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[s,r,o,a,l,c]=this.children,d=t.getRenderTarget(),u=t.xr.enabled;t.xr.enabled=!1;const f=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0),t.render(e,s),t.setRenderTarget(i,1),t.render(e,r),t.setRenderTarget(i,2),t.render(e,o),t.setRenderTarget(i,3),t.render(e,a),t.setRenderTarget(i,4),t.render(e,l),i.texture.generateMipmaps=f,t.setRenderTarget(i,5),t.render(e,c),t.setRenderTarget(d),t.xr.enabled=u,i.texture.needsPMREMUpdate=!0}}class _C extends Qa{constructor(t,e,i,s,r,o,a,l,c,d){super(t=void 0!==t?t:[],e=void 0!==e?e:ah,i,s,r,o,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class Qj extends Qc{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const i={width:t,height:t,depth:1},s=[i,i,i,i,i,i];void 0!==e.encoding&&(uC("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),e.colorSpace=e.encoding===jf?As:qf),this.texture=new _C(s,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:wr}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",s=new jm(5,5,5),r=new eu({name:"CubemapFromEquirect",uniforms:Y0(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:Sa,blending:rh});r.uniforms.tEquirect.value=e;const o=new Lo(s,r),a=e.minFilter;return e.minFilter===Yf&&(e.minFilter=wr),new Kj(1,10,this).update(t,o),e.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(t,e,i,s){const r=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,i,s);t.setRenderTarget(r)}}const d3=new J,yye=new J,bye=new di;class tp{constructor(t=new J(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,s){return this.normal.set(t,e,i),this.constant=s,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const s=d3.subVectors(i,e).cross(yye.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(s,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(d3),s=this.normal.dot(i);if(0===s)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const r=-(t.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:e.copy(t.start).addScaledVector(i,r)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||bye.getNormalMatrix(t),s=this.coplanarPoint(d3).applyMatrix4(t),r=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Xm=new Jc,jE=new J;class XE{constructor(t=new tp,e=new tp,i=new tp,s=new tp,r=new tp,o=new tp){this.planes=[t,e,i,s,r,o]}set(t,e,i,s,r,o){const a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(i),a[3].copy(s),a[4].copy(r),a[5].copy(o),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=Qd){const i=this.planes,s=t.elements,r=s[0],o=s[1],a=s[2],l=s[3],c=s[4],d=s[5],u=s[6],f=s[7],m=s[8],g=s[9],v=s[10],_=s[11],y=s[12],C=s[13],w=s[14],S=s[15];if(i[0].setComponents(l-r,f-c,_-m,S-y).normalize(),i[1].setComponents(l+r,f+c,_+m,S+y).normalize(),i[2].setComponents(l+o,f+d,_+g,S+C).normalize(),i[3].setComponents(l-o,f-d,_-g,S-C).normalize(),i[4].setComponents(l-a,f-u,_-v,S-w).normalize(),e===Qd)i[5].setComponents(l+a,f+u,_+v,S+w).normalize();else{if(e!==lC)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);i[5].setComponents(a,u,v,w).normalize()}return this}intersectsObject(t){if(void 0!==t.boundingSphere)null===t.boundingSphere&&t.computeBoundingSphere(),Xm.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere(),Xm.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(Xm)}intersectsSprite(t){return Xm.center.set(0,0,0),Xm.radius=.7071067811865476,Xm.applyMatrix4(t.matrixWorld),this.intersectsSphere(Xm)}intersectsSphere(t){const e=this.planes,i=t.center,s=-t.radius;for(let r=0;r<6;r++)if(e[r].distanceToPoint(i)<s)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const s=e[i];if(jE.x=s.normal.x>0?t.max.x:t.min.x,jE.y=s.normal.y>0?t.max.y:t.min.y,jE.z=s.normal.z>0?t.max.z:t.min.z,s.distanceToPoint(jE)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Jj(){let n=null,t=!1,e=null,i=null;function s(r,o){e(r,o),i=n.requestAnimationFrame(s)}return{start:function(){!0!==t&&null!==e&&(i=n.requestAnimationFrame(s),t=!0)},stop:function(){n.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(r){e=r},setContext:function(r){n=r}}}function xye(n,t){const e=t.isWebGL2,i=new WeakMap;return{get:function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)},remove:function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d&&(n.deleteBuffer(d.buffer),i.delete(c))},update:function l(c,d){if(c.isGLBufferAttribute){const f=i.get(c);return void((!f||f.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);void 0===u?i.set(c,function s(c,d){const u=c.array,f=c.usage,m=n.createBuffer();let g;if(n.bindBuffer(d,m),n.bufferData(d,u,f),c.onUploadCallback(),u instanceof Float32Array)g=n.FLOAT;else if(u instanceof Uint16Array)if(c.isFloat16BufferAttribute){if(!e)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");g=n.HALF_FLOAT}else g=n.UNSIGNED_SHORT;else if(u instanceof Int16Array)g=n.SHORT;else if(u instanceof Uint32Array)g=n.UNSIGNED_INT;else if(u instanceof Int32Array)g=n.INT;else if(u instanceof Int8Array)g=n.BYTE;else if(u instanceof Uint8Array)g=n.UNSIGNED_BYTE;else{if(!(u instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);g=n.UNSIGNED_BYTE}return{buffer:m,type:g,bytesPerElement:u.BYTES_PER_ELEMENT,version:c.version}}(c,d)):u.version<c.version&&(function r(c,d,u){const f=d.array,m=d.updateRange;n.bindBuffer(u,c),-1===m.count?n.bufferSubData(u,0,f):(e?n.bufferSubData(u,m.offset*f.BYTES_PER_ELEMENT,f,m.offset,m.count):n.bufferSubData(u,m.offset*f.BYTES_PER_ELEMENT,f.subarray(m.offset,m.offset+m.count)),m.count=-1),d.onUploadCallback()}(u.buffer,c,d),u.version=c.version)}}}class vC extends mi{constructor(t=1,e=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:s};const r=t/2,o=e/2,a=Math.floor(i),l=Math.floor(s),c=a+1,d=l+1,u=t/a,f=e/l,m=[],g=[],v=[],_=[];for(let y=0;y<d;y++){const C=y*f-o;for(let w=0;w<c;w++)g.push(w*u-r,-C,0),v.push(0,0,1),_.push(w/a),_.push(1-y/l)}for(let y=0;y<l;y++)for(let C=0;C<a;C++){const S=C+c*(y+1),R=C+1+c*(y+1),O=C+1+c*y;m.push(C+c*y,S,O),m.push(S,R,O)}this.setIndex(m),this.setAttribute("position",new en(g,3)),this.setAttribute("normal",new en(v,3)),this.setAttribute("uv",new en(_,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new vC(t.width,t.height,t.widthSegments,t.heightSegments)}}const ri={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Lt={common:{diffuse:{value:new $t(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new di},alphaMap:{value:null},alphaMapTransform:{value:new di},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new di}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new di}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new di}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new di},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new di},normalScale:{value:new st(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new di},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new di}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new di}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new di}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new $t(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new $t(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new di},alphaTest:{value:0},uvTransform:{value:new di}},sprite:{diffuse:{value:new $t(16777215)},opacity:{value:1},center:{value:new st(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new di},alphaMap:{value:null},alphaMapTransform:{value:new di},alphaTest:{value:0}}},id={basic:{uniforms:Da([Lt.common,Lt.specularmap,Lt.envmap,Lt.aomap,Lt.lightmap,Lt.fog]),vertexShader:ri.meshbasic_vert,fragmentShader:ri.meshbasic_frag},lambert:{uniforms:Da([Lt.common,Lt.specularmap,Lt.envmap,Lt.aomap,Lt.lightmap,Lt.emissivemap,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.fog,Lt.lights,{emissive:{value:new $t(0)}}]),vertexShader:ri.meshlambert_vert,fragmentShader:ri.meshlambert_frag},phong:{uniforms:Da([Lt.common,Lt.specularmap,Lt.envmap,Lt.aomap,Lt.lightmap,Lt.emissivemap,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.fog,Lt.lights,{emissive:{value:new $t(0)},specular:{value:new $t(1118481)},shininess:{value:30}}]),vertexShader:ri.meshphong_vert,fragmentShader:ri.meshphong_frag},standard:{uniforms:Da([Lt.common,Lt.envmap,Lt.aomap,Lt.lightmap,Lt.emissivemap,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.roughnessmap,Lt.metalnessmap,Lt.fog,Lt.lights,{emissive:{value:new $t(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ri.meshphysical_vert,fragmentShader:ri.meshphysical_frag},toon:{uniforms:Da([Lt.common,Lt.aomap,Lt.lightmap,Lt.emissivemap,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.gradientmap,Lt.fog,Lt.lights,{emissive:{value:new $t(0)}}]),vertexShader:ri.meshtoon_vert,fragmentShader:ri.meshtoon_frag},matcap:{uniforms:Da([Lt.common,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.fog,{matcap:{value:null}}]),vertexShader:ri.meshmatcap_vert,fragmentShader:ri.meshmatcap_frag},points:{uniforms:Da([Lt.points,Lt.fog]),vertexShader:ri.points_vert,fragmentShader:ri.points_frag},dashed:{uniforms:Da([Lt.common,Lt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ri.linedashed_vert,fragmentShader:ri.linedashed_frag},depth:{uniforms:Da([Lt.common,Lt.displacementmap]),vertexShader:ri.depth_vert,fragmentShader:ri.depth_frag},normal:{uniforms:Da([Lt.common,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,{opacity:{value:1}}]),vertexShader:ri.meshnormal_vert,fragmentShader:ri.meshnormal_frag},sprite:{uniforms:Da([Lt.sprite,Lt.fog]),vertexShader:ri.sprite_vert,fragmentShader:ri.sprite_frag},background:{uniforms:{uvTransform:{value:new di},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ri.background_vert,fragmentShader:ri.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ri.backgroundCube_vert,fragmentShader:ri.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ri.cube_vert,fragmentShader:ri.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ri.equirect_vert,fragmentShader:ri.equirect_frag},distanceRGBA:{uniforms:Da([Lt.common,Lt.displacementmap,{referencePosition:{value:new J},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ri.distanceRGBA_vert,fragmentShader:ri.distanceRGBA_frag},shadow:{uniforms:Da([Lt.lights,Lt.fog,{color:{value:new $t(0)},opacity:{value:1}}]),vertexShader:ri.shadow_vert,fragmentShader:ri.shadow_frag}};id.physical={uniforms:Da([id.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new di},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new di},clearcoatNormalScale:{value:new st(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new di},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new di},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new di},sheen:{value:0},sheenColor:{value:new $t(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new di},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new di},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new di},transmissionSamplerSize:{value:new st},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new di},attenuationDistance:{value:0},attenuationColor:{value:new $t(0)},specularColor:{value:new $t(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new di},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new di},anisotropyVector:{value:new st},anisotropyMap:{value:null},anisotropyMapTransform:{value:new di}}]),vertexShader:ri.meshphysical_vert,fragmentShader:ri.meshphysical_frag};const qE={r:0,b:0,g:0};function yxe(n,t,e,i,s,r,o){const a=new $t(0);let c,d,l=!0===r?0:1,u=null,f=0,m=null;function v(_,y){_.getRGB(qE,qj(n)),i.buffers.color.setClear(qE.r,qE.g,qE.b,y,o)}return{getClearColor:function(){return a},setClearColor:function(_,y=1){a.set(_),l=y,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,v(a,l)},render:function g(_,y){let C=!1,w=!0===y.isScene?y.background:null;w&&w.isTexture&&(w=(y.backgroundBlurriness>0?e:t).get(w)),null===w?v(a,l):w&&w.isColor&&(v(w,1),C=!0);const S=n.xr.getEnvironmentBlendMode();"additive"===S?i.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===S&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||C)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),w&&(w.isCubeTexture||w.mapping===T0)?(void 0===d&&(d=new Lo(new jm(1,1,1),new eu({name:"BackgroundCubeMaterial",uniforms:Y0(id.backgroundCube.uniforms),vertexShader:id.backgroundCube.vertexShader,fragmentShader:id.backgroundCube.fragmentShader,side:Sa,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(R,O,H){this.matrixWorld.copyPosition(H.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(d)),d.material.uniforms.envMap.value=w,d.material.uniforms.flipEnvMap.value=w.isCubeTexture&&!1===w.isRenderTargetTexture?-1:1,d.material.uniforms.backgroundBlurriness.value=y.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=y.backgroundIntensity,d.material.toneMapped=w.colorSpace!==As,(u!==w||f!==w.version||m!==n.toneMapping)&&(d.material.needsUpdate=!0,u=w,f=w.version,m=n.toneMapping),d.layers.enableAll(),_.unshift(d,d.geometry,d.material,0,0,null)):w&&w.isTexture&&(void 0===c&&(c=new Lo(new vC(2,2),new eu({name:"BackgroundMaterial",uniforms:Y0(id.background.uniforms),vertexShader:id.background.vertexShader,fragmentShader:id.background.fragmentShader,side:sh,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(c)),c.material.uniforms.t2D.value=w,c.material.uniforms.backgroundIntensity.value=y.backgroundIntensity,c.material.toneMapped=w.colorSpace!==As,!0===w.matrixAutoUpdate&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(u!==w||f!==w.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,u=w,f=w.version,m=n.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}}}function bxe(n,t,e,i){const s=n.getParameter(n.MAX_VERTEX_ATTRIBS),r=i.isWebGL2?null:t.get("OES_vertex_array_object"),o=i.isWebGL2||null!==r,a={},l=_(null);let c=l,d=!1;function m(ue){return i.isWebGL2?n.bindVertexArray(ue):r.bindVertexArrayOES(ue)}function g(ue){return i.isWebGL2?n.deleteVertexArray(ue):r.deleteVertexArrayOES(ue)}function _(ue){const he=[],oe=[],ce=[];for(let pe=0;pe<s;pe++)he[pe]=0,oe[pe]=0,ce[pe]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:he,enabledAttributes:oe,attributeDivisors:ce,object:ue,attributes:{},index:null}}function w(){const ue=c.newAttributes;for(let he=0,oe=ue.length;he<oe;he++)ue[he]=0}function S(ue){R(ue,0)}function R(ue,he){const ce=c.enabledAttributes,pe=c.attributeDivisors;c.newAttributes[ue]=1,0===ce[ue]&&(n.enableVertexAttribArray(ue),ce[ue]=1),pe[ue]!==he&&((i.isWebGL2?n:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](ue,he),pe[ue]=he)}function O(){const ue=c.newAttributes,he=c.enabledAttributes;for(let oe=0,ce=he.length;oe<ce;oe++)he[oe]!==ue[oe]&&(n.disableVertexAttribArray(oe),he[oe]=0)}function H(ue,he,oe,ce,pe,xe,Ae){!0===Ae?n.vertexAttribIPointer(ue,he,oe,pe,xe):n.vertexAttribPointer(ue,he,oe,ce,pe,xe)}function we(){le(),d=!0,c!==l&&(c=l,m(c.object))}function le(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function u(ue,he,oe,ce,pe){let xe=!1;if(o){const Ae=function v(ue,he,oe){const ce=!0===oe.wireframe;let pe=a[ue.id];void 0===pe&&(pe={},a[ue.id]=pe);let xe=pe[he.id];void 0===xe&&(xe={},pe[he.id]=xe);let Ae=xe[ce];return void 0===Ae&&(Ae=_(function f(){return i.isWebGL2?n.createVertexArray():r.createVertexArrayOES()}()),xe[ce]=Ae),Ae}(ce,oe,he);c!==Ae&&(c=Ae,m(c.object)),xe=function y(ue,he,oe,ce){const pe=c.attributes,xe=he.attributes;let Ae=0;const fe=oe.getAttributes();for(const Ce in fe)if(fe[Ce].location>=0){const ot=pe[Ce];let kt=xe[Ce];if(void 0===kt&&("instanceMatrix"===Ce&&ue.instanceMatrix&&(kt=ue.instanceMatrix),"instanceColor"===Ce&&ue.instanceColor&&(kt=ue.instanceColor)),void 0===ot||ot.attribute!==kt||kt&&ot.data!==kt.data)return!0;Ae++}return c.attributesNum!==Ae||c.index!==ce}(ue,ce,oe,pe),xe&&function C(ue,he,oe,ce){const pe={},xe=he.attributes;let Ae=0;const fe=oe.getAttributes();for(const Ce in fe)if(fe[Ce].location>=0){let ot=xe[Ce];void 0===ot&&("instanceMatrix"===Ce&&ue.instanceMatrix&&(ot=ue.instanceMatrix),"instanceColor"===Ce&&ue.instanceColor&&(ot=ue.instanceColor));const kt={};kt.attribute=ot,ot&&ot.data&&(kt.data=ot.data),pe[Ce]=kt,Ae++}c.attributes=pe,c.attributesNum=Ae,c.index=ce}(ue,ce,oe,pe)}else{const Ae=!0===he.wireframe;(c.geometry!==ce.id||c.program!==oe.id||c.wireframe!==Ae)&&(c.geometry=ce.id,c.program=oe.id,c.wireframe=Ae,xe=!0)}null!==pe&&e.update(pe,n.ELEMENT_ARRAY_BUFFER),(xe||d)&&(d=!1,function $(ue,he,oe,ce){if(!1===i.isWebGL2&&(ue.isInstancedMesh||ce.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;w();const pe=ce.attributes,xe=oe.getAttributes(),Ae=he.defaultAttributeValues;for(const fe in xe){const Ce=xe[fe];if(Ce.location>=0){let ft=pe[fe];if(void 0===ft&&("instanceMatrix"===fe&&ue.instanceMatrix&&(ft=ue.instanceMatrix),"instanceColor"===fe&&ue.instanceColor&&(ft=ue.instanceColor)),void 0!==ft){const ot=ft.normalized,kt=ft.itemSize,on=e.get(ft);if(void 0===on)continue;const yt=on.buffer,jt=on.type,et=on.bytesPerElement,zt=!0===i.isWebGL2&&(jt===n.INT||jt===n.UNSIGNED_INT||ft.gpuType===aN);if(ft.isInterleavedBufferAttribute){const bt=ft.data,X=bt.stride,at=ft.offset;if(bt.isInstancedInterleavedBuffer){for(let ke=0;ke<Ce.locationSize;ke++)R(Ce.location+ke,bt.meshPerAttribute);!0!==ue.isInstancedMesh&&void 0===ce._maxInstanceCount&&(ce._maxInstanceCount=bt.meshPerAttribute*bt.count)}else for(let ke=0;ke<Ce.locationSize;ke++)S(Ce.location+ke);n.bindBuffer(n.ARRAY_BUFFER,yt);for(let ke=0;ke<Ce.locationSize;ke++)H(Ce.location+ke,kt/Ce.locationSize,jt,ot,X*et,(at+kt/Ce.locationSize*ke)*et,zt)}else{if(ft.isInstancedBufferAttribute){for(let bt=0;bt<Ce.locationSize;bt++)R(Ce.location+bt,ft.meshPerAttribute);!0!==ue.isInstancedMesh&&void 0===ce._maxInstanceCount&&(ce._maxInstanceCount=ft.meshPerAttribute*ft.count)}else for(let bt=0;bt<Ce.locationSize;bt++)S(Ce.location+bt);n.bindBuffer(n.ARRAY_BUFFER,yt);for(let bt=0;bt<Ce.locationSize;bt++)H(Ce.location+bt,kt/Ce.locationSize,jt,ot,kt*et,kt/Ce.locationSize*bt*et,zt)}}else if(void 0!==Ae){const ot=Ae[fe];if(void 0!==ot)switch(ot.length){case 2:n.vertexAttrib2fv(Ce.location,ot);break;case 3:n.vertexAttrib3fv(Ce.location,ot);break;case 4:n.vertexAttrib4fv(Ce.location,ot);break;default:n.vertexAttrib1fv(Ce.location,ot)}}}}O()}(ue,he,oe,ce),null!==pe&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(pe).buffer))},reset:we,resetDefaultState:le,dispose:function F(){we();for(const ue in a){const he=a[ue];for(const oe in he){const ce=he[oe];for(const pe in ce)g(ce[pe].object),delete ce[pe];delete he[oe]}delete a[ue]}},releaseStatesOfGeometry:function W(ue){if(void 0===a[ue.id])return;const he=a[ue.id];for(const oe in he){const ce=he[oe];for(const pe in ce)g(ce[pe].object),delete ce[pe];delete he[oe]}delete a[ue.id]},releaseStatesOfProgram:function re(ue){for(const he in a){const oe=a[he];if(void 0===oe[ue.id])continue;const ce=oe[ue.id];for(const pe in ce)g(ce[pe].object),delete ce[pe];delete oe[ue.id]}},initAttributes:w,enableAttribute:S,disableUnusedAttributes:O}}function xxe(n,t,e,i){const s=i.isWebGL2;let r;this.setMode=function o(c){r=c},this.render=function a(c,d){n.drawArrays(r,c,d),e.update(d,r,1)},this.renderInstances=function l(c,d,u){if(0===u)return;let f,m;if(s)f=n,m="drawArraysInstanced";else if(f=t.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",null===f)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");f[m](r,c,d,u),e.update(d,r,u)}}function wxe(n,t,e){let i;function r(H){if("highp"===H){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";H="mediump"}return"mediump"===H&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&"WebGL2RenderingContext"===n.constructor.name;let a=void 0!==e.precision?e.precision:"highp";const l=r(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||t.has("WEBGL_draw_buffers"),d=!0===e.logarithmicDepthBuffer,u=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),f=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),g=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),v=n.getParameter(n.MAX_VERTEX_ATTRIBS),_=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),y=n.getParameter(n.MAX_VARYING_VECTORS),C=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),w=f>0,S=o||t.has("OES_texture_float");return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:function s(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){const H=t.get("EXT_texture_filter_anisotropic");i=n.getParameter(H.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:r,precision:a,logarithmicDepthBuffer:d,maxTextures:u,maxVertexTextures:f,maxTextureSize:m,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:_,maxVaryings:y,maxFragmentUniforms:C,vertexTextures:w,floatFragmentTextures:S,floatVertexTextures:w&&S,maxSamples:o?n.getParameter(n.MAX_SAMPLES):0}}function Cxe(n){const t=this;let e=null,i=0,s=!1,r=!1;const o=new tp,a=new di,l={value:null,needsUpdate:!1};function d(u,f,m,g){const v=null!==u?u.length:0;let _=null;if(0!==v){if(_=l.value,!0!==g||null===_){const y=m+4*v,C=f.matrixWorldInverse;a.getNormalMatrix(C),(null===_||_.length<y)&&(_=new Float32Array(y));for(let w=0,S=m;w!==v;++w,S+=4)o.copy(u[w]).applyMatrix4(C,a),o.normal.toArray(_,S),_[S+3]=o.constant}l.value=_,l.needsUpdate=!0}return t.numPlanes=v,t.numIntersection=0,_}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,f){const m=0!==u.length||f||0!==i||s;return s=f,i=u.length,m},this.beginShadows=function(){r=!0,d(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(u,f){e=d(u,f,0)},this.setState=function(u,f,m){const g=u.clippingPlanes,v=u.clipIntersection,_=u.clipShadows,y=n.get(u);if(!s||null===g||0===g.length||r&&!_)r?d(null):function c(){l.value!==e&&(l.value=e,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}();else{const C=r?0:i,w=4*C;let S=y.clippingState||null;l.value=S,S=d(g,f,w,m);for(let R=0;R!==w;++R)S[R]=e[R];y.clippingState=S,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=C}}}function Mxe(n){let t=new WeakMap;function e(o,a){return a===Qw?o.mapping=ah:a===Jw&&(o.mapping=Wf),o}function s(o){const a=o.target;a.removeEventListener("dispose",s);const l=t.get(a);void 0!==l&&(t.delete(a),l.dispose())}return{get:function i(o){if(o&&o.isTexture&&!1===o.isRenderTargetTexture){const a=o.mapping;if(a===Qw||a===Jw){if(t.has(o))return e(t.get(o).texture,o.mapping);{const l=o.image;if(l&&l.height>0){const c=new Qj(l.height/2);return c.fromEquirectangularTexture(n,o),t.set(o,c),o.addEventListener("dispose",s),e(c.texture,o.mapping)}return null}}}return o},dispose:function r(){t=new WeakMap}}}class ZE extends $E{constructor(t=-1,e=1,i=1,s=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=s,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,i,s,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=i-t,o=i+t,a=s+e,l=s-e;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,o=r+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(r,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}const e9=[.125,.215,.35,.446,.526,.582],u3=new ZE,t9=new $t;let h3=null;const Zm=(1+Math.sqrt(5))/2,X0=1/Zm,n9=[new J(1,1,1),new J(-1,1,1),new J(1,1,-1),new J(-1,1,-1),new J(0,Zm,X0),new J(0,Zm,-X0),new J(X0,0,Zm),new J(-X0,0,Zm),new J(Zm,X0,0),new J(-Zm,X0,0)];class f3{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,s=100){h3=this._renderer.getRenderTarget(),this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(t,i,s,r),e>0&&this._blur(r,0,0,e),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=r9(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=s9(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(h3),t.scissorTest=!1,KE(t,0,0,t.width,t.height)}_fromTexture(t,e){this._setSize(t.mapping===ah||t.mapping===Wf?0===t.image.length?16:t.image[0].width||t.image[0].image.width:t.image.width/4),h3=this._renderer.getRenderTarget();const i=e||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,i={magFilter:wr,minFilter:wr,generateMipmaps:!1,type:S0,format:bl,colorSpace:Kc,depthBuffer:!1},s=i9(t,e,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=i9(t,e,i);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function Txe(n){const t=[],e=[],i=[];let s=n;const r=n-4+1+e9.length;for(let o=0;o<r;o++){const a=Math.pow(2,s);e.push(a);let l=1/a;o>n-4?l=e9[o-n+4-1]:0===o&&(l=0),i.push(l);const c=1/(a-2),d=-c,u=1+c,f=[d,d,u,d,u,u,d,d,u,u,d,u],m=6,g=6,v=3,_=2,y=1,C=new Float32Array(v*g*m),w=new Float32Array(_*g*m),S=new Float32Array(y*g*m);for(let O=0;O<m;O++){const H=O%3*2/3-1,$=O>2?0:-1;C.set([H,$,0,H+2/3,$,0,H+2/3,$+1,0,H,$,0,H+2/3,$+1,0,H,$+1,0],v*g*O),w.set(f,_*g*O),S.set([O,O,O,O,O,O],y*g*O)}const R=new mi;R.setAttribute("position",new ys(C,v)),R.setAttribute("uv",new ys(w,_)),R.setAttribute("faceIndex",new ys(S,y)),t.push(R),s>4&&s--}return{lodPlanes:t,sizeLods:e,sigmas:i}}(r)),this._blurMaterial=function Sxe(n,t,e){const i=new Float32Array(20),s=new J(0,1,0);return new eu({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:rh,depthTest:!1,depthWrite:!1})}(r,t,e)}return s}_compileMaterial(t){const e=new Lo(this._lodPlanes[0],t);this._renderer.compile(e,u3)}_sceneToCubeUV(t,e,i,s){const a=new Ro(90,1,e,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,u=d.autoClear,f=d.toneMapping;d.getClearColor(t9),d.toneMapping=oh,d.autoClear=!1;const m=new ep({name:"PMREM.Background",side:Sa,depthWrite:!1,depthTest:!1}),g=new Lo(new jm,m);let v=!1;const _=t.background;_?_.isColor&&(m.color.copy(_),t.background=null,v=!0):(m.color.copy(t9),v=!0);for(let y=0;y<6;y++){const C=y%3;0===C?(a.up.set(0,l[y],0),a.lookAt(c[y],0,0)):1===C?(a.up.set(0,0,l[y]),a.lookAt(0,c[y],0)):(a.up.set(0,l[y],0),a.lookAt(0,0,c[y]));const w=this._cubeSize;KE(s,C*w,y>2?w:0,w,w),d.setRenderTarget(s),v&&d.render(g,a),d.render(t,a)}g.geometry.dispose(),g.material.dispose(),d.toneMapping=f,d.autoClear=u,t.background=_}_textureToCubeUV(t,e){const i=this._renderer,s=t.mapping===ah||t.mapping===Wf;s?(null===this._cubemapMaterial&&(this._cubemapMaterial=r9()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=s9());const r=s?this._cubemapMaterial:this._equirectMaterial,o=new Lo(this._lodPlanes[0],r);r.uniforms.envMap.value=t;const l=this._cubeSize;KE(e,0,0,3*l,2*l),i.setRenderTarget(e),i.render(o,u3)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;for(let s=1;s<this._lodPlanes.length;s++){const r=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]);this._blur(t,s-1,s,r,n9[(s-1)%n9.length])}e.autoClear=i}_blur(t,e,i,s,r){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,i,s,"latitudinal",r),this._halfBlur(o,t,i,i,s,"longitudinal",r)}_halfBlur(t,e,i,s,r,o,a){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const u=new Lo(this._lodPlanes[s],c),f=c.uniforms,m=this._sizeLods[i]-1,g=isFinite(r)?Math.PI/(2*m):2*Math.PI/39,v=r/g,_=isFinite(r)?1+Math.floor(3*v):20;_>20&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${_} samples when the maximum is set to 20`);const y=[];let C=0;for(let H=0;H<20;++H){const $=H/v,F=Math.exp(-$*$/2);y.push(F),0===H?C+=F:H<_&&(C+=2*F)}for(let H=0;H<y.length;H++)y[H]=y[H]/C;f.envMap.value=t.texture,f.samples.value=_,f.weights.value=y,f.latitudinal.value="latitudinal"===o,a&&(f.poleAxis.value=a);const{_lodMax:w}=this;f.dTheta.value=g,f.mipInt.value=w-i;const S=this._sizeLods[s];KE(e,3*S*(s>w-4?s-w+4:0),4*(this._cubeSize-S),3*S,2*S),l.setRenderTarget(e),l.render(u,u3)}}function i9(n,t,e){const i=new Qc(n,t,e);return i.texture.mapping=T0,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function KE(n,t,e,i,s){n.viewport.set(t,e,i,s),n.scissor.set(t,e,i,s)}function s9(){return new eu({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:rh,depthTest:!1,depthWrite:!1})}function r9(){return new eu({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:rh,depthTest:!1,depthWrite:!1})}function Dxe(n){let t=new WeakMap,e=null;function r(a){const l=a.target;l.removeEventListener("dispose",r);const c=t.get(l);void 0!==c&&(t.delete(l),c.dispose())}return{get:function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===Qw||l===Jw,d=l===ah||l===Wf;if(c||d){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let u=t.get(a);return null===e&&(e=new f3(n)),u=c?e.fromEquirectangular(a,u):e.fromCubemap(a,u),t.set(a,u),u.texture}if(t.has(a))return t.get(a).texture;{const u=a.image;if(c&&u&&u.height>0||d&&u&&function s(a){let l=0;for(let d=0;d<6;d++)void 0!==a[d]&&l++;return 6===l}(u)){null===e&&(e=new f3(n));const f=c?e.fromEquirectangular(a):e.fromCubemap(a);return t.set(a,f),a.addEventListener("dispose",r),f.texture}return null}}}return a},dispose:function o(){t=new WeakMap,null!==e&&(e.dispose(),e=null)}}}function Exe(n){const t={};function e(i){if(void 0!==t[i])return t[i];let s;switch(i){case"WEBGL_depth_texture":s=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=n.getExtension(i)}return t[i]=s,s}return{has:function(i){return null!==e(i)},init:function(i){i.isWebGL2?e("EXT_color_buffer_float"):(e("WEBGL_depth_texture"),e("OES_texture_float"),e("OES_texture_half_float"),e("OES_texture_half_float_linear"),e("OES_standard_derivatives"),e("OES_element_index_uint"),e("OES_vertex_array_object"),e("ANGLE_instanced_arrays")),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture")},get:function(i){const s=e(i);return null===s&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),s}}}function Axe(n,t,e,i){const s={},r=new WeakMap;function o(u){const f=u.target;null!==f.index&&t.remove(f.index);for(const g in f.attributes)t.remove(f.attributes[g]);for(const g in f.morphAttributes){const v=f.morphAttributes[g];for(let _=0,y=v.length;_<y;_++)t.remove(v[_])}f.removeEventListener("dispose",o),delete s[f.id];const m=r.get(f);m&&(t.remove(m),r.delete(f)),i.releaseStatesOfGeometry(f),!0===f.isInstancedBufferGeometry&&delete f._maxInstanceCount,e.memory.geometries--}function c(u){const f=[],m=u.index,g=u.attributes.position;let v=0;if(null!==m){const C=m.array;v=m.version;for(let w=0,S=C.length;w<S;w+=3){const R=C[w+0],O=C[w+1],H=C[w+2];f.push(R,O,O,H,H,R)}}else{if(void 0===g)return;v=g.version;for(let w=0,S=g.array.length/3-1;w<S;w+=3){const R=w+0,O=w+1,H=w+2;f.push(R,O,O,H,H,R)}}const _=new(kj(f)?a3:o3)(f,1);_.version=v;const y=r.get(u);y&&t.remove(y),r.set(u,_)}return{get:function a(u,f){return!0===s[f.id]||(f.addEventListener("dispose",o),s[f.id]=!0,e.memory.geometries++),f},update:function l(u){const f=u.attributes;for(const g in f)t.update(f[g],n.ARRAY_BUFFER);const m=u.morphAttributes;for(const g in m){const v=m[g];for(let _=0,y=v.length;_<y;_++)t.update(v[_],n.ARRAY_BUFFER)}},getWireframeAttribute:function d(u){const f=r.get(u);if(f){const m=u.index;null!==m&&f.version<m.version&&c(u)}else c(u);return r.get(u)}}}function kxe(n,t,e,i){const s=i.isWebGL2;let r,a,l;this.setMode=function o(f){r=f},this.setIndex=function c(f){a=f.type,l=f.bytesPerElement},this.render=function d(f,m){n.drawElements(r,m,a,f*l),e.update(m,r,1)},this.renderInstances=function u(f,m,g){if(0===g)return;let v,_;if(s)v=n,_="drawElementsInstanced";else if(v=t.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",null===v)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");v[_](r,m,a,f*l,g),e.update(m,r,g)}}function Ixe(n){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function s(){e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function i(r,o,a){switch(e.calls++,o){case n.TRIANGLES:e.triangles+=a*(r/3);break;case n.LINES:e.lines+=a*(r/2);break;case n.LINE_STRIP:e.lines+=a*(r-1);break;case n.LINE_LOOP:e.lines+=a*r;break;case n.POINTS:e.points+=a*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function Lxe(n,t){return n[0]-t[0]}function Rxe(n,t){return Math.abs(t[1])-Math.abs(n[1])}function Pxe(n,t,e){const i={},s=new Float32Array(8),r=new WeakMap,o=new rs,a=[];for(let c=0;c<8;c++)a[c]=[c,0];return{update:function l(c,d,u){const f=c.morphTargetInfluences;if(!0===t.isWebGL2){const m=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,g=void 0!==m?m.length:0;let v=r.get(d);if(void 0===v||v.count!==g){let ue=function(){we.dispose(),r.delete(d),d.removeEventListener("dispose",ue)};void 0!==v&&v.texture.dispose();const C=void 0!==d.morphAttributes.position,w=void 0!==d.morphAttributes.normal,S=void 0!==d.morphAttributes.color,R=d.morphAttributes.position||[],O=d.morphAttributes.normal||[],H=d.morphAttributes.color||[];let $=0;!0===C&&($=1),!0===w&&($=2),!0===S&&($=3);let F=d.attributes.position.count*$,W=1;F>t.maxTextureSize&&(W=Math.ceil(F/t.maxTextureSize),F=t.maxTextureSize);const re=new Float32Array(F*W*4*g),we=new DE(re,F,W,g);we.type=Kd,we.needsUpdate=!0;const le=4*$;for(let he=0;he<g;he++){const oe=R[he],ce=O[he],pe=H[he],xe=F*W*4*he;for(let Ae=0;Ae<oe.count;Ae++){const fe=Ae*le;!0===C&&(o.fromBufferAttribute(oe,Ae),re[xe+fe+0]=o.x,re[xe+fe+1]=o.y,re[xe+fe+2]=o.z,re[xe+fe+3]=0),!0===w&&(o.fromBufferAttribute(ce,Ae),re[xe+fe+4]=o.x,re[xe+fe+5]=o.y,re[xe+fe+6]=o.z,re[xe+fe+7]=0),!0===S&&(o.fromBufferAttribute(pe,Ae),re[xe+fe+8]=o.x,re[xe+fe+9]=o.y,re[xe+fe+10]=o.z,re[xe+fe+11]=4===pe.itemSize?o.w:1)}}v={count:g,texture:we,size:new st(F,W)},r.set(d,v),d.addEventListener("dispose",ue)}let _=0;for(let C=0;C<f.length;C++)_+=f[C];const y=d.morphTargetsRelative?1:1-_;u.getUniforms().setValue(n,"morphTargetBaseInfluence",y),u.getUniforms().setValue(n,"morphTargetInfluences",f),u.getUniforms().setValue(n,"morphTargetsTexture",v.texture,e),u.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}else{const m=void 0===f?0:f.length;let g=i[d.id];if(void 0===g||g.length!==m){g=[];for(let w=0;w<m;w++)g[w]=[w,0];i[d.id]=g}for(let w=0;w<m;w++){const S=g[w];S[0]=w,S[1]=f[w]}g.sort(Rxe);for(let w=0;w<8;w++)w<m&&g[w][1]?(a[w][0]=g[w][0],a[w][1]=g[w][1]):(a[w][0]=Number.MAX_SAFE_INTEGER,a[w][1]=0);a.sort(Lxe);const v=d.morphAttributes.position,_=d.morphAttributes.normal;let y=0;for(let w=0;w<8;w++){const S=a[w],R=S[0],O=S[1];R!==Number.MAX_SAFE_INTEGER&&O?(v&&d.getAttribute("morphTarget"+w)!==v[R]&&d.setAttribute("morphTarget"+w,v[R]),_&&d.getAttribute("morphNormal"+w)!==_[R]&&d.setAttribute("morphNormal"+w,_[R]),s[w]=O,y+=O):(v&&!0===d.hasAttribute("morphTarget"+w)&&d.deleteAttribute("morphTarget"+w),_&&!0===d.hasAttribute("morphNormal"+w)&&d.deleteAttribute("morphNormal"+w),s[w]=0)}const C=d.morphTargetsRelative?1:1-y;u.getUniforms().setValue(n,"morphTargetBaseInfluence",C),u.getUniforms().setValue(n,"morphTargetInfluences",s)}}}}function Oxe(n,t,e,i){let s=new WeakMap;function a(l){const c=l.target;c.removeEventListener("dispose",a),e.remove(c.instanceMatrix),null!==c.instanceColor&&e.remove(c.instanceColor)}return{update:function r(l){const c=i.render.frame,u=t.get(l,l.geometry);if(s.get(u)!==c&&(t.update(u),s.set(u,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),s.get(l)!==c&&(e.update(l.instanceMatrix,n.ARRAY_BUFFER),null!==l.instanceColor&&e.update(l.instanceColor,n.ARRAY_BUFFER),s.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;s.get(f)!==c&&(f.update(),s.set(f,c))}return u},dispose:function o(){s=new WeakMap}}}const o9=new Qa,a9=new DE,l9=new jN,c9=new _C,d9=[],u9=[],h9=new Float32Array(16),f9=new Float32Array(9),p9=new Float32Array(4);function q0(n,t,e){const i=n[0];if(i<=0||i>0)return n;const s=t*e;let r=d9[s];if(void 0===r&&(r=new Float32Array(s),d9[s]=r),0!==t){i.toArray(r,0);for(let o=1,a=0;o!==t;++o)a+=e,n[o].toArray(r,a)}return r}function qr(n,t){if(n.length!==t.length)return!1;for(let e=0,i=n.length;e<i;e++)if(n[e]!==t[e])return!1;return!0}function Zr(n,t){for(let e=0,i=t.length;e<i;e++)n[e]=t[e]}function QE(n,t){let e=u9[t];void 0===e&&(e=new Int32Array(t),u9[t]=e);for(let i=0;i!==t;++i)e[i]=n.allocateTextureUnit();return e}function Fxe(n,t){const e=this.cache;e[0]!==t&&(n.uniform1f(this.addr,t),e[0]=t)}function Nxe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(qr(e,t))return;n.uniform2fv(this.addr,t),Zr(e,t)}}function Vxe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(void 0!==t.r)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(n.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(qr(e,t))return;n.uniform3fv(this.addr,t),Zr(e,t)}}function Bxe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(qr(e,t))return;n.uniform4fv(this.addr,t),Zr(e,t)}}function Hxe(n,t){const e=this.cache,i=t.elements;if(void 0===i){if(qr(e,t))return;n.uniformMatrix2fv(this.addr,!1,t),Zr(e,t)}else{if(qr(e,i))return;p9.set(i),n.uniformMatrix2fv(this.addr,!1,p9),Zr(e,i)}}function zxe(n,t){const e=this.cache,i=t.elements;if(void 0===i){if(qr(e,t))return;n.uniformMatrix3fv(this.addr,!1,t),Zr(e,t)}else{if(qr(e,i))return;f9.set(i),n.uniformMatrix3fv(this.addr,!1,f9),Zr(e,i)}}function Uxe(n,t){const e=this.cache,i=t.elements;if(void 0===i){if(qr(e,t))return;n.uniformMatrix4fv(this.addr,!1,t),Zr(e,t)}else{if(qr(e,i))return;h9.set(i),n.uniformMatrix4fv(this.addr,!1,h9),Zr(e,i)}}function Wxe(n,t){const e=this.cache;e[0]!==t&&(n.uniform1i(this.addr,t),e[0]=t)}function Yxe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(qr(e,t))return;n.uniform2iv(this.addr,t),Zr(e,t)}}function Gxe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(qr(e,t))return;n.uniform3iv(this.addr,t),Zr(e,t)}}function $xe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(qr(e,t))return;n.uniform4iv(this.addr,t),Zr(e,t)}}function jxe(n,t){const e=this.cache;e[0]!==t&&(n.uniform1ui(this.addr,t),e[0]=t)}function Xxe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(qr(e,t))return;n.uniform2uiv(this.addr,t),Zr(e,t)}}function qxe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(qr(e,t))return;n.uniform3uiv(this.addr,t),Zr(e,t)}}function Zxe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(qr(e,t))return;n.uniform4uiv(this.addr,t),Zr(e,t)}}function Kxe(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTexture2D(t||o9,s)}function Qxe(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTexture3D(t||l9,s)}function Jxe(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTextureCube(t||c9,s)}function ewe(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTexture2DArray(t||a9,s)}function nwe(n,t){n.uniform1fv(this.addr,t)}function iwe(n,t){const e=q0(t,this.size,2);n.uniform2fv(this.addr,e)}function swe(n,t){const e=q0(t,this.size,3);n.uniform3fv(this.addr,e)}function rwe(n,t){const e=q0(t,this.size,4);n.uniform4fv(this.addr,e)}function owe(n,t){const e=q0(t,this.size,4);n.uniformMatrix2fv(this.addr,!1,e)}function awe(n,t){const e=q0(t,this.size,9);n.uniformMatrix3fv(this.addr,!1,e)}function lwe(n,t){const e=q0(t,this.size,16);n.uniformMatrix4fv(this.addr,!1,e)}function cwe(n,t){n.uniform1iv(this.addr,t)}function dwe(n,t){n.uniform2iv(this.addr,t)}function uwe(n,t){n.uniform3iv(this.addr,t)}function hwe(n,t){n.uniform4iv(this.addr,t)}function fwe(n,t){n.uniform1uiv(this.addr,t)}function pwe(n,t){n.uniform2uiv(this.addr,t)}function mwe(n,t){n.uniform3uiv(this.addr,t)}function gwe(n,t){n.uniform4uiv(this.addr,t)}function _we(n,t,e){const i=this.cache,s=t.length,r=QE(e,s);qr(i,r)||(n.uniform1iv(this.addr,r),Zr(i,r));for(let o=0;o!==s;++o)e.setTexture2D(t[o]||o9,r[o])}function vwe(n,t,e){const i=this.cache,s=t.length,r=QE(e,s);qr(i,r)||(n.uniform1iv(this.addr,r),Zr(i,r));for(let o=0;o!==s;++o)e.setTexture3D(t[o]||l9,r[o])}function ywe(n,t,e){const i=this.cache,s=t.length,r=QE(e,s);qr(i,r)||(n.uniform1iv(this.addr,r),Zr(i,r));for(let o=0;o!==s;++o)e.setTextureCube(t[o]||c9,r[o])}function bwe(n,t,e){const i=this.cache,s=t.length,r=QE(e,s);qr(i,r)||(n.uniform1iv(this.addr,r),Zr(i,r));for(let o=0;o!==s;++o)e.setTexture2DArray(t[o]||a9,r[o])}class wwe{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.setValue=function twe(n){switch(n){case 5126:return Fxe;case 35664:return Nxe;case 35665:return Vxe;case 35666:return Bxe;case 35674:return Hxe;case 35675:return zxe;case 35676:return Uxe;case 5124:case 35670:return Wxe;case 35667:case 35671:return Yxe;case 35668:case 35672:return Gxe;case 35669:case 35673:return $xe;case 5125:return jxe;case 36294:return Xxe;case 36295:return qxe;case 36296:return Zxe;case 35678:case 36198:case 36298:case 36306:case 35682:return Kxe;case 35679:case 36299:case 36307:return Qxe;case 35680:case 36300:case 36308:case 36293:return Jxe;case 36289:case 36303:case 36311:case 36292:return ewe}}(e.type)}}class Cwe{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.size=e.size,this.setValue=function xwe(n){switch(n){case 5126:return nwe;case 35664:return iwe;case 35665:return swe;case 35666:return rwe;case 35674:return owe;case 35675:return awe;case 35676:return lwe;case 5124:case 35670:return cwe;case 35667:case 35671:return dwe;case 35668:case 35672:return uwe;case 35669:case 35673:return hwe;case 5125:return fwe;case 36294:return pwe;case 36295:return mwe;case 36296:return gwe;case 35678:case 36198:case 36298:case 36306:case 35682:return _we;case 35679:case 36299:case 36307:return vwe;case 35680:case 36300:case 36308:case 36293:return ywe;case 36289:case 36303:case 36311:case 36292:return bwe}}(e.type)}}class Mwe{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,i){const s=this.seq;for(let r=0,o=s.length;r!==o;++r){const a=s[r];a.setValue(t,e[a.id],i)}}}const m3=/(\w+)(\])?(\[|\.)?/g;function m9(n,t){n.seq.push(t),n.map[t.id]=t}function Twe(n,t,e){const i=n.name,s=i.length;for(m3.lastIndex=0;;){const r=m3.exec(i);let a=r[1];const c=r[3];if("]"===r[2]&&(a|=0),void 0===c||"["===c&&m3.lastIndex+2===s){m9(e,void 0===c?new wwe(a,n,t):new Cwe(a,n,t));break}{let u=e.map[a];void 0===u&&(u=new Mwe(a),m9(e,u)),e=u}}}class JE{constructor(t,e){this.seq=[],this.map={};const i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let s=0;s<i;++s){const r=t.getActiveUniform(e,s);Twe(r,t.getUniformLocation(e,r.name),this)}}setValue(t,e,i,s){const r=this.map[e];void 0!==r&&r.setValue(t,i,s)}setOptional(t,e,i){const s=e[i];void 0!==s&&this.setValue(t,i,s)}static upload(t,e,i,s){for(let r=0,o=e.length;r!==o;++r){const a=e[r],l=i[a.id];!1!==l.needsUpdate&&a.setValue(t,l.value,s)}}static seqWithValue(t,e){const i=[];for(let s=0,r=t.length;s!==r;++s){const o=t[s];o.id in e&&i.push(o)}return i}}function g9(n,t,e){const i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}let Swe=0;function _9(n,t,e){const i=n.getShaderParameter(t,n.COMPILE_STATUS),s=n.getShaderInfoLog(t).trim();if(i&&""===s)return"";const r=/ERROR: 0:(\d+)/.exec(s);if(r){const o=parseInt(r[1]);return e.toUpperCase()+"\n\n"+s+"\n\n"+function Dwe(n,t){const e=n.split("\n"),i=[],s=Math.max(t-6,0),r=Math.min(t+6,e.length);for(let o=s;o<r;o++){const a=o+1;i.push(`${a===t?">":" "} ${a}: ${e[o]}`)}return i.join("\n")}(n.getShaderSource(t),o)}return s}function Awe(n,t){const e=function Ewe(n){switch(n){case Kc:return["Linear","( value )"];case As:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}(t);return"vec4 "+n+"( vec4 value ) { return LinearTo"+e[0]+e[1]+"; }"}function kwe(n,t){let e;switch(t){case J7:e="Linear";break;case ej:e="Reinhard";break;case tj:e="OptimizedCineon";break;case nj:e="ACESFilmic";break;case ij:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+n+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}function yC(n){return""!==n}function v9(n,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function y9(n,t){return n.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Pwe=/^[ \t]*#include +<([\w\d./]+)>/gm;function g3(n){return n.replace(Pwe,Fwe)}const Owe=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Fwe(n,t){let e=ri[t];if(void 0===e){const i=Owe.get(t);if(void 0===i)throw new Error("Can not resolve #include <"+t+">");e=ri[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,i)}return g3(e)}const Nwe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function b9(n){return n.replace(Nwe,Vwe)}function Vwe(n,t,e,i){let s="";for(let r=parseInt(t);r<parseInt(e);r++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return s}function x9(n){let t="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?t+="\n#define HIGH_PRECISION":"mediump"===n.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(t+="\n#define LOW_PRECISION"),t}function Ywe(n,t,e,i){const s=n.getContext(),r=e.defines;let o=e.vertexShader,a=e.fragmentShader;const l=function Bwe(n){let t="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===QF?t="SHADOWMAP_TYPE_PCF":n.shadowMapType===I7?t="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===qd&&(t="SHADOWMAP_TYPE_VSM"),t}(e),c=function Hwe(n){let t="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case ah:case Wf:t="ENVMAP_TYPE_CUBE";break;case T0:t="ENVMAP_TYPE_CUBE_UV"}return t}(e),d=function zwe(n){let t="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===Wf&&(t="ENVMAP_MODE_REFRACTION"),t}(e),u=function Uwe(n){let t="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Kw:t="ENVMAP_BLENDING_MULTIPLY";break;case K7:t="ENVMAP_BLENDING_MIX";break;case Q7:t="ENVMAP_BLENDING_ADD"}return t}(e),f=function Wwe(n){const t=n.envMapCubeUVHeight;if(null===t)return null;const e=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),112)),texelHeight:i,maxMip:e}}(e),m=e.isWebGL2?"":function Iwe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(yC).join("\n")}(e),g=function Lwe(n){const t=[];for(const e in n){const i=n[e];!1!==i&&t.push("#define "+e+" "+i)}return t.join("\n")}(r),v=s.createProgram();let _,y,C=e.glslVersion?"#version "+e.glslVersion+"\n":"";e.isRawShaderMaterial?(_=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,g].filter(yC).join("\n"),_.length>0&&(_+="\n"),y=[m,"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,g].filter(yC).join("\n"),y.length>0&&(y+="\n")):(_=[x9(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,g,e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+d:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&!1===e.flatShading?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&!1===e.flatShading?"#define USE_MORPHNORMALS":"",e.morphColors&&e.isWebGL2?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+l:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.useLegacyLights?"#define LEGACY_LIGHTS":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(yC).join("\n"),y=[m,x9(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,g,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+c:"",e.envMap?"#define "+d:"",e.envMap?"#define "+u:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&!1===e.flatShading?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+l:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.useLegacyLights?"#define LEGACY_LIGHTS":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==oh?"#define TONE_MAPPING":"",e.toneMapping!==oh?ri.tonemapping_pars_fragment:"",e.toneMapping!==oh?kwe("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",ri.colorspace_pars_fragment,Awe("linearToOutputTexel",e.outputColorSpace),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"","\n"].filter(yC).join("\n")),o=g3(o),o=v9(o,e),o=y9(o,e),a=g3(a),a=v9(a,e),a=y9(a,e),o=b9(o),a=b9(a),e.isWebGL2&&!0!==e.isRawShaderMaterial&&(C="#version 300 es\n",_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+_,y=["#define varying in",e.glslVersion===HN?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===HN?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+y);const S=C+y+a,R=g9(s,s.VERTEX_SHADER,C+_+o),O=g9(s,s.FRAGMENT_SHADER,S);if(s.attachShader(v,R),s.attachShader(v,O),void 0!==e.index0AttributeName?s.bindAttribLocation(v,0,e.index0AttributeName):!0===e.morphTargets&&s.bindAttribLocation(v,0,"position"),s.linkProgram(v),n.debug.checkShaderErrors){const F=s.getProgramInfoLog(v).trim(),W=s.getShaderInfoLog(R).trim(),re=s.getShaderInfoLog(O).trim();let we=!0,le=!0;if(!1===s.getProgramParameter(v,s.LINK_STATUS))if(we=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(s,v,R,O);else{const ue=_9(s,R,"vertex"),he=_9(s,O,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(v,s.VALIDATE_STATUS)+"\n\nProgram Info Log: "+F+"\n"+ue+"\n"+he)}else""!==F?console.warn("THREE.WebGLProgram: Program Info Log:",F):(""===W||""===re)&&(le=!1);le&&(this.diagnostics={runnable:we,programLog:F,vertexShader:{log:W,prefix:_},fragmentShader:{log:re,prefix:y}})}let H,$;return s.deleteShader(R),s.deleteShader(O),this.getUniforms=function(){return void 0===H&&(H=new JE(s,v)),H},this.getAttributes=function(){return void 0===$&&($=function Rwe(n,t){const e={},i=n.getProgramParameter(t,n.ACTIVE_ATTRIBUTES);for(let s=0;s<i;s++){const r=n.getActiveAttrib(t,s),o=r.name;let a=1;r.type===n.FLOAT_MAT2&&(a=2),r.type===n.FLOAT_MAT3&&(a=3),r.type===n.FLOAT_MAT4&&(a=4),e[o]={type:r.type,location:n.getAttribLocation(t,o),locationSize:a}}return e}(s,v)),$},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(v),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=Swe++,this.cacheKey=t,this.usedTimes=1,this.program=v,this.vertexShader=R,this.fragmentShader=O,this}let Gwe=0;class $we{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const i=t.fragmentShader,s=this._getShaderStage(t.vertexShader),r=this._getShaderStage(i),o=this._getShaderCacheForMaterial(t);return!1===o.has(s)&&(o.add(s),s.usedTimes++),!1===o.has(r)&&(o.add(r),r.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const i of e)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let i=e.get(t);return void 0===i&&(i=new Set,e.set(t,i)),i}_getShaderStage(t){const e=this.shaderCache;let i=e.get(t);return void 0===i&&(i=new jwe(t),e.set(t,i)),i}}class jwe{constructor(t){this.id=Gwe++,this.code=t,this.usedTimes=0}}function Xwe(n,t,e,i,s,r,o){const a=new RE,l=new $we,c=[],d=s.isWebGL2,u=s.logarithmicDepthBuffer,f=s.vertexTextures;let m=s.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(F){return 0===F?"uv":`uv${F}`}return{getParameters:function _(F,W,re,we,le){const ue=we.fog,he=le.geometry,ce=(F.isMeshStandardMaterial?e:t).get(F.envMap||(F.isMeshStandardMaterial?we.environment:null)),pe=ce&&ce.mapping===T0?ce.image.height:null,xe=g[F.type];null!==F.precision&&(m=s.getMaxPrecision(F.precision),m!==F.precision&&console.warn("THREE.WebGLProgram.getParameters:",F.precision,"not supported, using",m,"instead."));const Ae=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,fe=void 0!==Ae?Ae.length:0;let ft,ot,kt,on,Ce=0;if(void 0!==he.morphAttributes.position&&(Ce=1),void 0!==he.morphAttributes.normal&&(Ce=2),void 0!==he.morphAttributes.color&&(Ce=3),xe){const Ys=id[xe];ft=Ys.vertexShader,ot=Ys.fragmentShader}else ft=F.vertexShader,ot=F.fragmentShader,l.update(F),kt=l.getVertexShaderID(F),on=l.getFragmentShaderID(F);const yt=n.getRenderTarget(),jt=!0===le.isInstancedMesh,et=!!F.map,bt=!!ce,X=!!F.aoMap,at=!!F.lightMap,ke=!!F.bumpMap,ct=!!F.normalMap,Ze=!!F.displacementMap,lt=!!F.emissiveMap,xt=!!F.metalnessMap,Xt=!!F.roughnessMap,xn=F.anisotropy>0,Ni=F.clearcoat>0,fr=F.iridescence>0,te=F.sheen>0,j=F.transmission>0,Ee=xn&&!!F.anisotropyMap,Ct=Ni&&!!F.clearcoatMap,mt=Ni&&!!F.clearcoatNormalMap,Mt=Ni&&!!F.clearcoatRoughnessMap,mn=fr&&!!F.iridescenceMap,Tt=fr&&!!F.iridescenceThicknessMap,Re=te&&!!F.sheenColorMap,Tn=te&&!!F.sheenRoughnessMap,vn=!!F.specularMap,wn=!!F.specularColorMap,nn=!!F.specularIntensityMap,sn=j&&!!F.transmissionMap,Si=j&&!!F.thicknessMap,de=!!F.alphaMap,Dt=!!F.extensions,Wt=!!he.attributes.uv1,ji=!!he.attributes.uv2,or=!!he.attributes.uv3;let Br=oh;return F.toneMapped&&(null===yt||!0===yt.isXRRenderTarget)&&(Br=n.toneMapping),{isWebGL2:d,shaderID:xe,shaderType:F.type,shaderName:F.name,vertexShader:ft,fragmentShader:ot,defines:F.defines,customVertexShaderID:kt,customFragmentShaderID:on,isRawShaderMaterial:!0===F.isRawShaderMaterial,glslVersion:F.glslVersion,precision:m,instancing:jt,instancingColor:jt&&null!==le.instanceColor,supportsVertexTextures:f,outputColorSpace:null===yt?n.outputColorSpace:!0===yt.isXRRenderTarget?yt.texture.colorSpace:Kc,map:et,matcap:!!F.matcap,envMap:bt,envMapMode:bt&&ce.mapping,envMapCubeUVHeight:pe,aoMap:X,lightMap:at,bumpMap:ke,normalMap:ct,displacementMap:f&&Ze,emissiveMap:lt,normalMapObjectSpace:ct&&F.normalMapType===vj,normalMapTangentSpace:ct&&F.normalMapType===Xf,metalnessMap:xt,roughnessMap:Xt,anisotropy:xn,anisotropyMap:Ee,clearcoat:Ni,clearcoatMap:Ct,clearcoatNormalMap:mt,clearcoatRoughnessMap:Mt,iridescence:fr,iridescenceMap:mn,iridescenceThicknessMap:Tt,sheen:te,sheenColorMap:Re,sheenRoughnessMap:Tn,specularMap:vn,specularColorMap:wn,specularIntensityMap:nn,transmission:j,transmissionMap:sn,thicknessMap:Si,gradientMap:!!F.gradientMap,opaque:!1===F.transparent&&F.blending===Nm,alphaMap:de,alphaTest:F.alphaTest>0,alphaHash:!!F.alphaHash,combine:F.combine,mapUv:et&&v(F.map.channel),aoMapUv:X&&v(F.aoMap.channel),lightMapUv:at&&v(F.lightMap.channel),bumpMapUv:ke&&v(F.bumpMap.channel),normalMapUv:ct&&v(F.normalMap.channel),displacementMapUv:Ze&&v(F.displacementMap.channel),emissiveMapUv:lt&&v(F.emissiveMap.channel),metalnessMapUv:xt&&v(F.metalnessMap.channel),roughnessMapUv:Xt&&v(F.roughnessMap.channel),anisotropyMapUv:Ee&&v(F.anisotropyMap.channel),clearcoatMapUv:Ct&&v(F.clearcoatMap.channel),clearcoatNormalMapUv:mt&&v(F.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Mt&&v(F.clearcoatRoughnessMap.channel),iridescenceMapUv:mn&&v(F.iridescenceMap.channel),iridescenceThicknessMapUv:Tt&&v(F.iridescenceThicknessMap.channel),sheenColorMapUv:Re&&v(F.sheenColorMap.channel),sheenRoughnessMapUv:Tn&&v(F.sheenRoughnessMap.channel),specularMapUv:vn&&v(F.specularMap.channel),specularColorMapUv:wn&&v(F.specularColorMap.channel),specularIntensityMapUv:nn&&v(F.specularIntensityMap.channel),transmissionMapUv:sn&&v(F.transmissionMap.channel),thicknessMapUv:Si&&v(F.thicknessMap.channel),alphaMapUv:de&&v(F.alphaMap.channel),vertexTangents:!!he.attributes.tangent&&(ct||xn),vertexColors:F.vertexColors,vertexAlphas:!0===F.vertexColors&&!!he.attributes.color&&4===he.attributes.color.itemSize,vertexUv1s:Wt,vertexUv2s:ji,vertexUv3s:or,pointsUvs:!0===le.isPoints&&!!he.attributes.uv&&(et||de),fog:!!ue,useFog:!0===F.fog,fogExp2:ue&&ue.isFogExp2,flatShading:!0===F.flatShading,sizeAttenuation:!0===F.sizeAttenuation,logarithmicDepthBuffer:u,skinning:!0===le.isSkinnedMesh,morphTargets:void 0!==he.morphAttributes.position,morphNormals:void 0!==he.morphAttributes.normal,morphColors:void 0!==he.morphAttributes.color,morphTargetsCount:fe,morphTextureStride:Ce,numDirLights:W.directional.length,numPointLights:W.point.length,numSpotLights:W.spot.length,numSpotLightMaps:W.spotLightMap.length,numRectAreaLights:W.rectArea.length,numHemiLights:W.hemi.length,numDirLightShadows:W.directionalShadowMap.length,numPointLightShadows:W.pointShadowMap.length,numSpotLightShadows:W.spotShadowMap.length,numSpotLightShadowsWithMaps:W.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:F.dithering,shadowMapEnabled:n.shadowMap.enabled&&re.length>0,shadowMapType:n.shadowMap.type,toneMapping:Br,useLegacyLights:n._useLegacyLights,decodeVideoTexture:et&&!0===F.map.isVideoTexture&&F.map.colorSpace===As,premultipliedAlpha:F.premultipliedAlpha,doubleSided:F.side===Zd,flipSided:F.side===Sa,useDepthPacking:F.depthPacking>=0,depthPacking:F.depthPacking||0,index0AttributeName:F.index0AttributeName,extensionDerivatives:Dt&&!0===F.extensions.derivatives,extensionFragDepth:Dt&&!0===F.extensions.fragDepth,extensionDrawBuffers:Dt&&!0===F.extensions.drawBuffers,extensionShaderTextureLOD:Dt&&!0===F.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),customProgramCacheKey:F.customProgramCacheKey()}},getProgramCacheKey:function y(F){const W=[];if(F.shaderID?W.push(F.shaderID):(W.push(F.customVertexShaderID),W.push(F.customFragmentShaderID)),void 0!==F.defines)for(const re in F.defines)W.push(re),W.push(F.defines[re]);return!1===F.isRawShaderMaterial&&(function C(F,W){F.push(W.precision),F.push(W.outputColorSpace),F.push(W.envMapMode),F.push(W.envMapCubeUVHeight),F.push(W.mapUv),F.push(W.alphaMapUv),F.push(W.lightMapUv),F.push(W.aoMapUv),F.push(W.bumpMapUv),F.push(W.normalMapUv),F.push(W.displacementMapUv),F.push(W.emissiveMapUv),F.push(W.metalnessMapUv),F.push(W.roughnessMapUv),F.push(W.anisotropyMapUv),F.push(W.clearcoatMapUv),F.push(W.clearcoatNormalMapUv),F.push(W.clearcoatRoughnessMapUv),F.push(W.iridescenceMapUv),F.push(W.iridescenceThicknessMapUv),F.push(W.sheenColorMapUv),F.push(W.sheenRoughnessMapUv),F.push(W.specularMapUv),F.push(W.specularColorMapUv),F.push(W.specularIntensityMapUv),F.push(W.transmissionMapUv),F.push(W.thicknessMapUv),F.push(W.combine),F.push(W.fogExp2),F.push(W.sizeAttenuation),F.push(W.morphTargetsCount),F.push(W.morphAttributeCount),F.push(W.numDirLights),F.push(W.numPointLights),F.push(W.numSpotLights),F.push(W.numSpotLightMaps),F.push(W.numHemiLights),F.push(W.numRectAreaLights),F.push(W.numDirLightShadows),F.push(W.numPointLightShadows),F.push(W.numSpotLightShadows),F.push(W.numSpotLightShadowsWithMaps),F.push(W.shadowMapType),F.push(W.toneMapping),F.push(W.numClippingPlanes),F.push(W.numClipIntersection),F.push(W.depthPacking)}(W,F),function w(F,W){a.disableAll(),W.isWebGL2&&a.enable(0),W.supportsVertexTextures&&a.enable(1),W.instancing&&a.enable(2),W.instancingColor&&a.enable(3),W.matcap&&a.enable(4),W.envMap&&a.enable(5),W.normalMapObjectSpace&&a.enable(6),W.normalMapTangentSpace&&a.enable(7),W.clearcoat&&a.enable(8),W.iridescence&&a.enable(9),W.alphaTest&&a.enable(10),W.vertexColors&&a.enable(11),W.vertexAlphas&&a.enable(12),W.vertexUv1s&&a.enable(13),W.vertexUv2s&&a.enable(14),W.vertexUv3s&&a.enable(15),W.vertexTangents&&a.enable(16),W.anisotropy&&a.enable(17),F.push(a.mask),a.disableAll(),W.fog&&a.enable(0),W.useFog&&a.enable(1),W.flatShading&&a.enable(2),W.logarithmicDepthBuffer&&a.enable(3),W.skinning&&a.enable(4),W.morphTargets&&a.enable(5),W.morphNormals&&a.enable(6),W.morphColors&&a.enable(7),W.premultipliedAlpha&&a.enable(8),W.shadowMapEnabled&&a.enable(9),W.useLegacyLights&&a.enable(10),W.doubleSided&&a.enable(11),W.flipSided&&a.enable(12),W.useDepthPacking&&a.enable(13),W.dithering&&a.enable(14),W.transmission&&a.enable(15),W.sheen&&a.enable(16),W.opaque&&a.enable(17),W.pointsUvs&&a.enable(18),W.decodeVideoTexture&&a.enable(19),F.push(a.mask)}(W,F),W.push(n.outputColorSpace)),W.push(F.customProgramCacheKey),W.join()},getUniforms:function S(F){const W=g[F.type];let re;return re=W?Zj.clone(id[W].uniforms):F.uniforms,re},acquireProgram:function R(F,W){let re;for(let we=0,le=c.length;we<le;we++){const ue=c[we];if(ue.cacheKey===W){re=ue,++re.usedTimes;break}}return void 0===re&&(re=new Ywe(n,W,F,r),c.push(re)),re},releaseProgram:function O(F){if(0==--F.usedTimes){const W=c.indexOf(F);c[W]=c[c.length-1],c.pop(),F.destroy()}},releaseShaderCache:function H(F){l.remove(F)},programs:c,dispose:function $(){l.dispose()}}}function qwe(){let n=new WeakMap;return{get:function t(r){let o=n.get(r);return void 0===o&&(o={},n.set(r,o)),o},remove:function e(r){n.delete(r)},update:function i(r,o,a){n.get(r)[o]=a},dispose:function s(){n=new WeakMap}}}function Zwe(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.material.id!==t.material.id?n.material.id-t.material.id:n.z!==t.z?n.z-t.z:n.id-t.id}function w9(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.z!==t.z?t.z-n.z:n.id-t.id}function C9(){const n=[];let t=0;const e=[],i=[],s=[];function o(u,f,m,g,v,_){let y=n[t];return void 0===y?(y={id:u.id,object:u,geometry:f,material:m,groupOrder:g,renderOrder:u.renderOrder,z:v,group:_},n[t]=y):(y.id=u.id,y.object=u,y.geometry=f,y.material=m,y.groupOrder=g,y.renderOrder=u.renderOrder,y.z=v,y.group=_),t++,y}return{opaque:e,transmissive:i,transparent:s,init:function r(){t=0,e.length=0,i.length=0,s.length=0},push:function a(u,f,m,g,v,_){const y=o(u,f,m,g,v,_);m.transmission>0?i.push(y):!0===m.transparent?s.push(y):e.push(y)},unshift:function l(u,f,m,g,v,_){const y=o(u,f,m,g,v,_);m.transmission>0?i.unshift(y):!0===m.transparent?s.unshift(y):e.unshift(y)},finish:function d(){for(let u=t,f=n.length;u<f;u++){const m=n[u];if(null===m.id)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}},sort:function c(u,f){e.length>1&&e.sort(u||Zwe),i.length>1&&i.sort(f||w9),s.length>1&&s.sort(f||w9)}}}function Kwe(){let n=new WeakMap;return{get:function t(i,s){const r=n.get(i);let o;return void 0===r?(o=new C9,n.set(i,[o])):s>=r.length?(o=new C9,r.push(o)):o=r[s],o},dispose:function e(){n=new WeakMap}}}function Qwe(){const n={};return{get:function(t){if(void 0!==n[t.id])return n[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new J,color:new $t};break;case"SpotLight":e={position:new J,direction:new J,color:new $t,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new J,color:new $t,distance:0,decay:0};break;case"HemisphereLight":e={direction:new J,skyColor:new $t,groundColor:new $t};break;case"RectAreaLight":e={color:new $t,position:new J,halfWidth:new J,halfHeight:new J}}return n[t.id]=e,e}}}let eCe=0;function tCe(n,t){return(t.castShadow?2:0)-(n.castShadow?2:0)+(t.map?1:0)-(n.map?1:0)}function nCe(n,t){const e=new Qwe,i=function Jwe(){const n={};return{get:function(t){if(void 0!==n[t.id])return n[t.id];let e;switch(t.type){case"DirectionalLight":case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new st};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new st,shadowCameraNear:1,shadowCameraFar:1e3}}return n[t.id]=e,e}}}(),s={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let d=0;d<9;d++)s.probe.push(new J);const r=new J,o=new ei,a=new ei;return{setup:function l(d,u){let f=0,m=0,g=0;for(let re=0;re<9;re++)s.probe[re].set(0,0,0);let v=0,_=0,y=0,C=0,w=0,S=0,R=0,O=0,H=0,$=0;d.sort(tCe);const F=!0===u?Math.PI:1;for(let re=0,we=d.length;re<we;re++){const le=d[re],ue=le.color,he=le.intensity,oe=le.distance,ce=le.shadow&&le.shadow.map?le.shadow.map.texture:null;if(le.isAmbientLight)f+=ue.r*he*F,m+=ue.g*he*F,g+=ue.b*he*F;else if(le.isLightProbe)for(let pe=0;pe<9;pe++)s.probe[pe].addScaledVector(le.sh.coefficients[pe],he);else if(le.isDirectionalLight){const pe=e.get(le);if(pe.color.copy(le.color).multiplyScalar(le.intensity*F),le.castShadow){const xe=le.shadow,Ae=i.get(le);Ae.shadowBias=xe.bias,Ae.shadowNormalBias=xe.normalBias,Ae.shadowRadius=xe.radius,Ae.shadowMapSize=xe.mapSize,s.directionalShadow[v]=Ae,s.directionalShadowMap[v]=ce,s.directionalShadowMatrix[v]=le.shadow.matrix,S++}s.directional[v]=pe,v++}else if(le.isSpotLight){const pe=e.get(le);pe.position.setFromMatrixPosition(le.matrixWorld),pe.color.copy(ue).multiplyScalar(he*F),pe.distance=oe,pe.coneCos=Math.cos(le.angle),pe.penumbraCos=Math.cos(le.angle*(1-le.penumbra)),pe.decay=le.decay,s.spot[y]=pe;const xe=le.shadow;if(le.map&&(s.spotLightMap[H]=le.map,H++,xe.updateMatrices(le),le.castShadow&&$++),s.spotLightMatrix[y]=xe.matrix,le.castShadow){const Ae=i.get(le);Ae.shadowBias=xe.bias,Ae.shadowNormalBias=xe.normalBias,Ae.shadowRadius=xe.radius,Ae.shadowMapSize=xe.mapSize,s.spotShadow[y]=Ae,s.spotShadowMap[y]=ce,O++}y++}else if(le.isRectAreaLight){const pe=e.get(le);pe.color.copy(ue).multiplyScalar(he),pe.halfWidth.set(.5*le.width,0,0),pe.halfHeight.set(0,.5*le.height,0),s.rectArea[C]=pe,C++}else if(le.isPointLight){const pe=e.get(le);if(pe.color.copy(le.color).multiplyScalar(le.intensity*F),pe.distance=le.distance,pe.decay=le.decay,le.castShadow){const xe=le.shadow,Ae=i.get(le);Ae.shadowBias=xe.bias,Ae.shadowNormalBias=xe.normalBias,Ae.shadowRadius=xe.radius,Ae.shadowMapSize=xe.mapSize,Ae.shadowCameraNear=xe.camera.near,Ae.shadowCameraFar=xe.camera.far,s.pointShadow[_]=Ae,s.pointShadowMap[_]=ce,s.pointShadowMatrix[_]=le.shadow.matrix,R++}s.point[_]=pe,_++}else if(le.isHemisphereLight){const pe=e.get(le);pe.skyColor.copy(le.color).multiplyScalar(he*F),pe.groundColor.copy(le.groundColor).multiplyScalar(he*F),s.hemi[w]=pe,w++}}C>0&&(t.isWebGL2||!0===n.has("OES_texture_float_linear")?(s.rectAreaLTC1=Lt.LTC_FLOAT_1,s.rectAreaLTC2=Lt.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(s.rectAreaLTC1=Lt.LTC_HALF_1,s.rectAreaLTC2=Lt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),s.ambient[0]=f,s.ambient[1]=m,s.ambient[2]=g;const W=s.hash;(W.directionalLength!==v||W.pointLength!==_||W.spotLength!==y||W.rectAreaLength!==C||W.hemiLength!==w||W.numDirectionalShadows!==S||W.numPointShadows!==R||W.numSpotShadows!==O||W.numSpotMaps!==H)&&(s.directional.length=v,s.spot.length=y,s.rectArea.length=C,s.point.length=_,s.hemi.length=w,s.directionalShadow.length=S,s.directionalShadowMap.length=S,s.pointShadow.length=R,s.pointShadowMap.length=R,s.spotShadow.length=O,s.spotShadowMap.length=O,s.directionalShadowMatrix.length=S,s.pointShadowMatrix.length=R,s.spotLightMatrix.length=O+H-$,s.spotLightMap.length=H,s.numSpotLightShadowsWithMaps=$,W.directionalLength=v,W.pointLength=_,W.spotLength=y,W.rectAreaLength=C,W.hemiLength=w,W.numDirectionalShadows=S,W.numPointShadows=R,W.numSpotShadows=O,W.numSpotMaps=H,s.version=eCe++)},setupView:function c(d,u){let f=0,m=0,g=0,v=0,_=0;const y=u.matrixWorldInverse;for(let C=0,w=d.length;C<w;C++){const S=d[C];if(S.isDirectionalLight){const R=s.directional[f];R.direction.setFromMatrixPosition(S.matrixWorld),r.setFromMatrixPosition(S.target.matrixWorld),R.direction.sub(r),R.direction.transformDirection(y),f++}else if(S.isSpotLight){const R=s.spot[g];R.position.setFromMatrixPosition(S.matrixWorld),R.position.applyMatrix4(y),R.direction.setFromMatrixPosition(S.matrixWorld),r.setFromMatrixPosition(S.target.matrixWorld),R.direction.sub(r),R.direction.transformDirection(y),g++}else if(S.isRectAreaLight){const R=s.rectArea[v];R.position.setFromMatrixPosition(S.matrixWorld),R.position.applyMatrix4(y),a.identity(),o.copy(S.matrixWorld),o.premultiply(y),a.extractRotation(o),R.halfWidth.set(.5*S.width,0,0),R.halfHeight.set(0,.5*S.height,0),R.halfWidth.applyMatrix4(a),R.halfHeight.applyMatrix4(a),v++}else if(S.isPointLight){const R=s.point[m];R.position.setFromMatrixPosition(S.matrixWorld),R.position.applyMatrix4(y),m++}else if(S.isHemisphereLight){const R=s.hemi[_];R.direction.setFromMatrixPosition(S.matrixWorld),R.direction.transformDirection(y),_++}}},state:s}}function M9(n,t){const e=new nCe(n,t),i=[],s=[];return{init:function r(){i.length=0,s.length=0},state:{lightsArray:i,shadowsArray:s,lights:e},setupLights:function l(u){e.setup(i,u)},setupLightsView:function c(u){e.setupView(i,u)},pushLight:function o(u){i.push(u)},pushShadow:function a(u){s.push(u)}}}function iCe(n,t){let e=new WeakMap;return{get:function i(r,o=0){const a=e.get(r);let l;return void 0===a?(l=new M9(n,t),e.set(r,[l])):o>=a.length?(l=new M9(n,t),a.push(l)):l=a[o],l},dispose:function s(){e=new WeakMap}}}class _3 extends Uo{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=gj,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class v3 extends Uo{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function oCe(n,t,e){let i=new XE;const s=new st,r=new st,o=new rs,a=new _3({depthPacking:_j}),l=new v3,c={},d=e.maxTextureSize,u={[sh]:Sa,[Sa]:sh,[Zd]:Zd},f=new eu({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new st},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),m=f.clone();m.defines.HORIZONTAL_PASS=1;const g=new mi;g.setAttribute("position",new ys(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Lo(g,f),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=QF;let y=this.type;function C(R,O){const H=t.update(v);f.defines.VSM_SAMPLES!==R.blurSamples&&(f.defines.VSM_SAMPLES=R.blurSamples,m.defines.VSM_SAMPLES=R.blurSamples,f.needsUpdate=!0,m.needsUpdate=!0),null===R.mapPass&&(R.mapPass=new Qc(s.x,s.y)),f.uniforms.shadow_pass.value=R.map.texture,f.uniforms.resolution.value=R.mapSize,f.uniforms.radius.value=R.radius,n.setRenderTarget(R.mapPass),n.clear(),n.renderBufferDirect(O,null,H,f,v,null),m.uniforms.shadow_pass.value=R.mapPass.texture,m.uniforms.resolution.value=R.mapSize,m.uniforms.radius.value=R.radius,n.setRenderTarget(R.map),n.clear(),n.renderBufferDirect(O,null,H,m,v,null)}function w(R,O,H,$){let F=null;const W=!0===H.isPointLight?R.customDistanceMaterial:R.customDepthMaterial;if(void 0!==W)F=W;else if(F=!0===H.isPointLight?l:a,n.localClippingEnabled&&!0===O.clipShadows&&Array.isArray(O.clippingPlanes)&&0!==O.clippingPlanes.length||O.displacementMap&&0!==O.displacementScale||O.alphaMap&&O.alphaTest>0||O.map&&O.alphaTest>0){const re=F.uuid,we=O.uuid;let le=c[re];void 0===le&&(le={},c[re]=le);let ue=le[we];void 0===ue&&(ue=F.clone(),le[we]=ue),F=ue}return F.visible=O.visible,F.wireframe=O.wireframe,F.side=$===qd?null!==O.shadowSide?O.shadowSide:O.side:null!==O.shadowSide?O.shadowSide:u[O.side],F.alphaMap=O.alphaMap,F.alphaTest=O.alphaTest,F.map=O.map,F.clipShadows=O.clipShadows,F.clippingPlanes=O.clippingPlanes,F.clipIntersection=O.clipIntersection,F.displacementMap=O.displacementMap,F.displacementScale=O.displacementScale,F.displacementBias=O.displacementBias,F.wireframeLinewidth=O.wireframeLinewidth,F.linewidth=O.linewidth,!0===H.isPointLight&&!0===F.isMeshDistanceMaterial&&(n.properties.get(F).light=H),F}function S(R,O,H,$,F){if(!1===R.visible)return;if(R.layers.test(O.layers)&&(R.isMesh||R.isLine||R.isPoints)&&(R.castShadow||R.receiveShadow&&F===qd)&&(!R.frustumCulled||i.intersectsObject(R))){R.modelViewMatrix.multiplyMatrices(H.matrixWorldInverse,R.matrixWorld);const we=t.update(R),le=R.material;if(Array.isArray(le)){const ue=we.groups;for(let he=0,oe=ue.length;he<oe;he++){const ce=ue[he],pe=le[ce.materialIndex];if(pe&&pe.visible){const xe=w(R,pe,$,F);n.renderBufferDirect(H,null,we,xe,R,ce)}}}else if(le.visible){const ue=w(R,le,$,F);n.renderBufferDirect(H,null,we,ue,R,null)}}const re=R.children;for(let we=0,le=re.length;we<le;we++)S(re[we],O,H,$,F)}this.render=function(R,O,H){if(!1===_.enabled||!1===_.autoUpdate&&!1===_.needsUpdate||0===R.length)return;const $=n.getRenderTarget(),F=n.getActiveCubeFace(),W=n.getActiveMipmapLevel(),re=n.state;re.setBlending(rh),re.buffers.color.setClear(1,1,1,1),re.buffers.depth.setTest(!0),re.setScissorTest(!1);const we=y!==qd&&this.type===qd,le=y===qd&&this.type!==qd;for(let ue=0,he=R.length;ue<he;ue++){const oe=R[ue],ce=oe.shadow;if(void 0===ce){console.warn("THREE.WebGLShadowMap:",oe,"has no shadow.");continue}if(!1===ce.autoUpdate&&!1===ce.needsUpdate)continue;s.copy(ce.mapSize);const pe=ce.getFrameExtents();if(s.multiply(pe),r.copy(ce.mapSize),(s.x>d||s.y>d)&&(s.x>d&&(r.x=Math.floor(d/pe.x),s.x=r.x*pe.x,ce.mapSize.x=r.x),s.y>d&&(r.y=Math.floor(d/pe.y),s.y=r.y*pe.y,ce.mapSize.y=r.y)),null===ce.map||!0===we||!0===le){const Ae=this.type!==qd?{minFilter:xr,magFilter:xr}:{};null!==ce.map&&ce.map.dispose(),ce.map=new Qc(s.x,s.y,Ae),ce.map.texture.name=oe.name+".shadowMap",ce.camera.updateProjectionMatrix()}n.setRenderTarget(ce.map),n.clear();const xe=ce.getViewportCount();for(let Ae=0;Ae<xe;Ae++){const fe=ce.getViewport(Ae);o.set(r.x*fe.x,r.y*fe.y,r.x*fe.z,r.y*fe.w),re.viewport(o),ce.updateMatrices(oe,Ae),i=ce.getFrustum(),S(O,H,ce.camera,oe,this.type)}!0!==ce.isPointLightShadow&&this.type===qd&&C(ce,H),ce.needsUpdate=!1}y=this.type,_.needsUpdate=!1,n.setRenderTarget($,F,W)}}function aCe(n,t,e){const i=e.isWebGL2,a=new function s(){let de=!1;const Vt=new rs;let Pe=null;const Dt=new rs(0,0,0,0);return{setMask:function(Wt){Pe!==Wt&&!de&&(n.colorMask(Wt,Wt,Wt,Wt),Pe=Wt)},setLocked:function(Wt){de=Wt},setClear:function(Wt,ji,or,Br,Ep){!0===Ep&&(Wt*=Br,ji*=Br,or*=Br),Vt.set(Wt,ji,or,Br),!1===Dt.equals(Vt)&&(n.clearColor(Wt,ji,or,Br),Dt.copy(Vt))},reset:function(){de=!1,Pe=null,Dt.set(-1,0,0,0)}}},l=new function r(){let de=!1,Vt=null,Pe=null,Dt=null;return{setTest:function(Wt){Wt?yt(n.DEPTH_TEST):jt(n.DEPTH_TEST)},setMask:function(Wt){Vt!==Wt&&!de&&(n.depthMask(Wt),Vt=Wt)},setFunc:function(Wt){if(Pe!==Wt){switch(Wt){case Y7:n.depthFunc(n.NEVER);break;case G7:n.depthFunc(n.ALWAYS);break;case $7:n.depthFunc(n.LESS);break;case fE:n.depthFunc(n.LEQUAL);break;case j7:n.depthFunc(n.EQUAL);break;case X7:n.depthFunc(n.GEQUAL);break;case q7:n.depthFunc(n.GREATER);break;case Z7:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Pe=Wt}},setLocked:function(Wt){de=Wt},setClear:function(Wt){Dt!==Wt&&(n.clearDepth(Wt),Dt=Wt)},reset:function(){de=!1,Vt=null,Pe=null,Dt=null}}},c=new function o(){let de=!1,Vt=null,Pe=null,Dt=null,Wt=null,ji=null,or=null,Br=null,Ep=null;return{setTest:function(Ys){de||(Ys?yt(n.STENCIL_TEST):jt(n.STENCIL_TEST))},setMask:function(Ys){Vt!==Ys&&!de&&(n.stencilMask(Ys),Vt=Ys)},setFunc:function(Ys,vu,Pa){(Pe!==Ys||Dt!==vu||Wt!==Pa)&&(n.stencilFunc(Ys,vu,Pa),Pe=Ys,Dt=vu,Wt=Pa)},setOp:function(Ys,vu,Pa){(ji!==Ys||or!==vu||Br!==Pa)&&(n.stencilOp(Ys,vu,Pa),ji=Ys,or=vu,Br=Pa)},setLocked:function(Ys){de=Ys},setClear:function(Ys){Ep!==Ys&&(n.clearStencil(Ys),Ep=Ys)},reset:function(){de=!1,Vt=null,Pe=null,Dt=null,Wt=null,ji=null,or=null,Br=null,Ep=null}}},d=new WeakMap,u=new WeakMap;let f={},m={},g=new WeakMap,v=[],_=null,y=!1,C=null,w=null,S=null,R=null,O=null,H=null,$=null,F=!1,W=null,re=null,we=null,le=null,ue=null;const he=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let oe=!1,ce=0;const pe=n.getParameter(n.VERSION);-1!==pe.indexOf("WebGL")?(ce=parseFloat(/^WebGL (\d)/.exec(pe)[1]),oe=ce>=1):-1!==pe.indexOf("OpenGL ES")&&(ce=parseFloat(/^OpenGL ES (\d)/.exec(pe)[1]),oe=ce>=2);let xe=null,Ae={};const fe=n.getParameter(n.SCISSOR_BOX),Ce=n.getParameter(n.VIEWPORT),ft=(new rs).fromArray(fe),ot=(new rs).fromArray(Ce);function kt(de,Vt,Pe,Dt){const Wt=new Uint8Array(4),ji=n.createTexture();n.bindTexture(de,ji),n.texParameteri(de,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(de,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let or=0;or<Pe;or++)!i||de!==n.TEXTURE_3D&&de!==n.TEXTURE_2D_ARRAY?n.texImage2D(Vt+or,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Wt):n.texImage3D(Vt,0,n.RGBA,1,1,Dt,0,n.RGBA,n.UNSIGNED_BYTE,Wt);return ji}const on={};function yt(de){!0!==f[de]&&(n.enable(de),f[de]=!0)}function jt(de){!1!==f[de]&&(n.disable(de),f[de]=!1)}on[n.TEXTURE_2D]=kt(n.TEXTURE_2D,n.TEXTURE_2D,1),on[n.TEXTURE_CUBE_MAP]=kt(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(on[n.TEXTURE_2D_ARRAY]=kt(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),on[n.TEXTURE_3D]=kt(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),yt(n.DEPTH_TEST),l.setFunc(fE),Ze(!1),lt(KF),yt(n.CULL_FACE),ke(rh);const X={[Vm]:n.FUNC_ADD,[R7]:n.FUNC_SUBTRACT,[P7]:n.FUNC_REVERSE_SUBTRACT};if(i)X[nN]=n.MIN,X[iN]=n.MAX;else{const de=t.get("EXT_blend_minmax");null!==de&&(X[nN]=de.MIN_EXT,X[iN]=de.MAX_EXT)}const at={[O7]:n.ZERO,[F7]:n.ONE,[N7]:n.SRC_COLOR,[sN]:n.SRC_ALPHA,[W7]:n.SRC_ALPHA_SATURATE,[z7]:n.DST_COLOR,[B7]:n.DST_ALPHA,[V7]:n.ONE_MINUS_SRC_COLOR,[rN]:n.ONE_MINUS_SRC_ALPHA,[U7]:n.ONE_MINUS_DST_COLOR,[H7]:n.ONE_MINUS_DST_ALPHA};function ke(de,Vt,Pe,Dt,Wt,ji,or,Br){if(de!==rh){if(!1===y&&(yt(n.BLEND),y=!0),de===L7)Wt=Wt||Vt,ji=ji||Pe,or=or||Dt,(Vt!==w||Wt!==O)&&(n.blendEquationSeparate(X[Vt],X[Wt]),w=Vt,O=Wt),(Pe!==S||Dt!==R||ji!==H||or!==$)&&(n.blendFuncSeparate(at[Pe],at[Dt],at[ji],at[or]),S=Pe,R=Dt,H=ji,$=or),C=de,F=!1;else if(de!==C||Br!==F){if((w!==Vm||O!==Vm)&&(n.blendEquation(n.FUNC_ADD),w=Vm,O=Vm),Br)switch(de){case Nm:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case JF:n.blendFunc(n.ONE,n.ONE);break;case eN:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case tN:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",de)}else switch(de){case Nm:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case JF:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case eN:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case tN:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",de)}S=null,R=null,H=null,$=null,C=de,F=Br}}else!0===y&&(jt(n.BLEND),y=!1)}function Ze(de){W!==de&&(n.frontFace(de?n.CW:n.CCW),W=de)}function lt(de){de!==A7?(yt(n.CULL_FACE),de!==re&&n.cullFace(de===KF?n.BACK:de===k7?n.FRONT:n.FRONT_AND_BACK)):jt(n.CULL_FACE),re=de}function Xt(de,Vt,Pe){de?(yt(n.POLYGON_OFFSET_FILL),(le!==Vt||ue!==Pe)&&(n.polygonOffset(Vt,Pe),le=Vt,ue=Pe)):jt(n.POLYGON_OFFSET_FILL)}return{buffers:{color:a,depth:l,stencil:c},enable:yt,disable:jt,bindFramebuffer:function et(de,Vt){return m[de]!==Vt&&(n.bindFramebuffer(de,Vt),m[de]=Vt,i&&(de===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=Vt),de===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=Vt)),!0)},drawBuffers:function zt(de,Vt){let Pe=v,Dt=!1;if(de)if(Pe=g.get(Vt),void 0===Pe&&(Pe=[],g.set(Vt,Pe)),de.isWebGLMultipleRenderTargets){const Wt=de.texture;if(Pe.length!==Wt.length||Pe[0]!==n.COLOR_ATTACHMENT0){for(let ji=0,or=Wt.length;ji<or;ji++)Pe[ji]=n.COLOR_ATTACHMENT0+ji;Pe.length=Wt.length,Dt=!0}}else Pe[0]!==n.COLOR_ATTACHMENT0&&(Pe[0]=n.COLOR_ATTACHMENT0,Dt=!0);else Pe[0]!==n.BACK&&(Pe[0]=n.BACK,Dt=!0);Dt&&(e.isWebGL2?n.drawBuffers(Pe):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(Pe))},useProgram:function bt(de){return _!==de&&(n.useProgram(de),_=de,!0)},setBlending:ke,setMaterial:function ct(de,Vt){de.side===Zd?jt(n.CULL_FACE):yt(n.CULL_FACE);let Pe=de.side===Sa;Vt&&(Pe=!Pe),Ze(Pe),de.blending===Nm&&!1===de.transparent?ke(rh):ke(de.blending,de.blendEquation,de.blendSrc,de.blendDst,de.blendEquationAlpha,de.blendSrcAlpha,de.blendDstAlpha,de.premultipliedAlpha),l.setFunc(de.depthFunc),l.setTest(de.depthTest),l.setMask(de.depthWrite),a.setMask(de.colorWrite);const Dt=de.stencilWrite;c.setTest(Dt),Dt&&(c.setMask(de.stencilWriteMask),c.setFunc(de.stencilFunc,de.stencilRef,de.stencilFuncMask),c.setOp(de.stencilFail,de.stencilZFail,de.stencilZPass)),Xt(de.polygonOffset,de.polygonOffsetFactor,de.polygonOffsetUnits),!0===de.alphaToCoverage?yt(n.SAMPLE_ALPHA_TO_COVERAGE):jt(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:Ze,setCullFace:lt,setLineWidth:function xt(de){de!==we&&(oe&&n.lineWidth(de),we=de)},setPolygonOffset:Xt,setScissorTest:function xn(de){de?yt(n.SCISSOR_TEST):jt(n.SCISSOR_TEST)},activeTexture:function Ni(de){void 0===de&&(de=n.TEXTURE0+he-1),xe!==de&&(n.activeTexture(de),xe=de)},bindTexture:function fr(de,Vt,Pe){void 0===Pe&&(Pe=null===xe?n.TEXTURE0+he-1:xe);let Dt=Ae[Pe];void 0===Dt&&(Dt={type:void 0,texture:void 0},Ae[Pe]=Dt),(Dt.type!==de||Dt.texture!==Vt)&&(xe!==Pe&&(n.activeTexture(Pe),xe=Pe),n.bindTexture(de,Vt||on[de]),Dt.type=de,Dt.texture=Vt)},unbindTexture:function te(){const de=Ae[xe];void 0!==de&&void 0!==de.type&&(n.bindTexture(de.type,null),de.type=void 0,de.texture=void 0)},compressedTexImage2D:function j(){try{n.compressedTexImage2D.apply(n,arguments)}catch(de){console.error("THREE.WebGLState:",de)}},compressedTexImage3D:function Ee(){try{n.compressedTexImage3D.apply(n,arguments)}catch(de){console.error("THREE.WebGLState:",de)}},texImage2D:function Tn(){try{n.texImage2D.apply(n,arguments)}catch(de){console.error("THREE.WebGLState:",de)}},texImage3D:function vn(){try{n.texImage3D.apply(n,arguments)}catch(de){console.error("THREE.WebGLState:",de)}},updateUBOMapping:function sn(de,Vt){let Pe=u.get(Vt);void 0===Pe&&(Pe=new WeakMap,u.set(Vt,Pe));let Dt=Pe.get(de);void 0===Dt&&(Dt=n.getUniformBlockIndex(Vt,de.name),Pe.set(de,Dt))},uniformBlockBinding:function Si(de,Vt){const Dt=u.get(Vt).get(de);d.get(Vt)!==Dt&&(n.uniformBlockBinding(Vt,Dt,de.__bindingPointIndex),d.set(Vt,Dt))},texStorage2D:function Tt(){try{n.texStorage2D.apply(n,arguments)}catch(de){console.error("THREE.WebGLState:",de)}},texStorage3D:function Re(){try{n.texStorage3D.apply(n,arguments)}catch(de){console.error("THREE.WebGLState:",de)}},texSubImage2D:function Ct(){try{n.texSubImage2D.apply(n,arguments)}catch(de){console.error("THREE.WebGLState:",de)}},texSubImage3D:function mt(){try{n.texSubImage3D.apply(n,arguments)}catch(de){console.error("THREE.WebGLState:",de)}},compressedTexSubImage2D:function Mt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(de){console.error("THREE.WebGLState:",de)}},compressedTexSubImage3D:function mn(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(de){console.error("THREE.WebGLState:",de)}},scissor:function wn(de){!1===ft.equals(de)&&(n.scissor(de.x,de.y,de.z,de.w),ft.copy(de))},viewport:function nn(de){!1===ot.equals(de)&&(n.viewport(de.x,de.y,de.z,de.w),ot.copy(de))},reset:function Rs(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),!0===i&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},xe=null,Ae={},m={},g=new WeakMap,v=[],_=null,y=!1,C=null,w=null,S=null,R=null,O=null,H=null,$=null,F=!1,W=null,re=null,we=null,le=null,ue=null,ft.set(0,0,n.canvas.width,n.canvas.height),ot.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}}}function lCe(n,t,e,i,s,r,o){const a=s.isWebGL2,l=s.maxTextures,c=s.maxCubemapSize,d=s.maxTextureSize,u=s.maxSamples,f=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,m=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let v;const _=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function C(te,j){return y?new OffscreenCanvas(te,j):dC("canvas")}function w(te,j,Ee,Ct){let mt=1;if((te.width>Ct||te.height>Ct)&&(mt=Ct/Math.max(te.width,te.height)),mt<1||!0===j){if(typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&te instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&te instanceof ImageBitmap){const Mt=j?SE:Math.floor,mn=Mt(mt*te.width),Tt=Mt(mt*te.height);void 0===v&&(v=C(mn,Tt));const Re=Ee?C(mn,Tt):v;return Re.width=mn,Re.height=Tt,Re.getContext("2d").drawImage(te,0,0,mn,Tt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+te.width+"x"+te.height+") to ("+mn+"x"+Tt+")."),Re}return"data"in te&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+te.width+"x"+te.height+")."),te}return te}function S(te){return UN(te.width)&&UN(te.height)}function O(te,j){return te.generateMipmaps&&j&&te.minFilter!==xr&&te.minFilter!==wr}function H(te){n.generateMipmap(te)}function $(te,j,Ee,Ct,mt=!1){if(!1===a)return j;if(null!==te){if(void 0!==n[te])return n[te];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+te+"'")}let Mt=j;return j===n.RED&&(Ee===n.FLOAT&&(Mt=n.R32F),Ee===n.HALF_FLOAT&&(Mt=n.R16F),Ee===n.UNSIGNED_BYTE&&(Mt=n.R8)),j===n.RED_INTEGER&&(Ee===n.UNSIGNED_BYTE&&(Mt=n.R8UI),Ee===n.UNSIGNED_SHORT&&(Mt=n.R16UI),Ee===n.UNSIGNED_INT&&(Mt=n.R32UI),Ee===n.BYTE&&(Mt=n.R8I),Ee===n.SHORT&&(Mt=n.R16I),Ee===n.INT&&(Mt=n.R32I)),j===n.RG&&(Ee===n.FLOAT&&(Mt=n.RG32F),Ee===n.HALF_FLOAT&&(Mt=n.RG16F),Ee===n.UNSIGNED_BYTE&&(Mt=n.RG8)),j===n.RGBA&&(Ee===n.FLOAT&&(Mt=n.RGBA32F),Ee===n.HALF_FLOAT&&(Mt=n.RGBA16F),Ee===n.UNSIGNED_BYTE&&(Mt=Ct===As&&!1===mt?n.SRGB8_ALPHA8:n.RGBA8),Ee===n.UNSIGNED_SHORT_4_4_4_4&&(Mt=n.RGBA4),Ee===n.UNSIGNED_SHORT_5_5_5_1&&(Mt=n.RGB5_A1)),(Mt===n.R16F||Mt===n.R32F||Mt===n.RG16F||Mt===n.RG32F||Mt===n.RGBA16F||Mt===n.RGBA32F)&&t.get("EXT_color_buffer_float"),Mt}function F(te,j,Ee){return!0===O(te,Ee)||te.isFramebufferTexture&&te.minFilter!==xr&&te.minFilter!==wr?Math.log2(Math.max(j.width,j.height))+1:void 0!==te.mipmaps&&te.mipmaps.length>0?te.mipmaps.length:te.isCompressedTexture&&Array.isArray(te.image)?j.mipmaps.length:1}function W(te){return te===xr||te===mE||te===nC?n.NEAREST:n.LINEAR}function re(te){const j=te.target;j.removeEventListener("dispose",re),function le(te){const j=i.get(te);if(void 0===j.__webglInit)return;const Ee=te.source,Ct=_.get(Ee);if(Ct){const mt=Ct[j.__cacheKey];mt.usedTimes--,0===mt.usedTimes&&ue(te),0===Object.keys(Ct).length&&_.delete(Ee)}i.remove(te)}(j),j.isVideoTexture&&g.delete(j)}function we(te){const j=te.target;j.removeEventListener("dispose",we),function he(te){const j=te.texture,Ee=i.get(te),Ct=i.get(j);if(void 0!==Ct.__webglTexture&&(n.deleteTexture(Ct.__webglTexture),o.memory.textures--),te.depthTexture&&te.depthTexture.dispose(),te.isWebGLCubeRenderTarget)for(let mt=0;mt<6;mt++){if(Array.isArray(Ee.__webglFramebuffer[mt]))for(let Mt=0;Mt<Ee.__webglFramebuffer[mt].length;Mt++)n.deleteFramebuffer(Ee.__webglFramebuffer[mt][Mt]);else n.deleteFramebuffer(Ee.__webglFramebuffer[mt]);Ee.__webglDepthbuffer&&n.deleteRenderbuffer(Ee.__webglDepthbuffer[mt])}else{if(Array.isArray(Ee.__webglFramebuffer))for(let mt=0;mt<Ee.__webglFramebuffer.length;mt++)n.deleteFramebuffer(Ee.__webglFramebuffer[mt]);else n.deleteFramebuffer(Ee.__webglFramebuffer);if(Ee.__webglDepthbuffer&&n.deleteRenderbuffer(Ee.__webglDepthbuffer),Ee.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Ee.__webglMultisampledFramebuffer),Ee.__webglColorRenderbuffer)for(let mt=0;mt<Ee.__webglColorRenderbuffer.length;mt++)Ee.__webglColorRenderbuffer[mt]&&n.deleteRenderbuffer(Ee.__webglColorRenderbuffer[mt]);Ee.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Ee.__webglDepthRenderbuffer)}if(te.isWebGLMultipleRenderTargets)for(let mt=0,Mt=j.length;mt<Mt;mt++){const mn=i.get(j[mt]);mn.__webglTexture&&(n.deleteTexture(mn.__webglTexture),o.memory.textures--),i.remove(j[mt])}i.remove(j),i.remove(te)}(j)}function ue(te){const j=i.get(te);n.deleteTexture(j.__webglTexture),delete _.get(te.source)[j.__cacheKey],o.memory.textures--}let oe=0;function Ae(te,j){const Ee=i.get(te);if(te.isVideoTexture&&function Ni(te){const j=o.render.frame;g.get(te)!==j&&(g.set(te,j),te.update())}(te),!1===te.isRenderTargetTexture&&te.version>0&&Ee.__version!==te.version){const Ct=te.image;if(null===Ct)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Ct.complete)return void et(Ee,te,j);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}e.bindTexture(n.TEXTURE_2D,Ee.__webglTexture,n.TEXTURE0+j)}const ot={[eC]:n.REPEAT,[Ho]:n.CLAMP_TO_EDGE,[tC]:n.MIRRORED_REPEAT},kt={[xr]:n.NEAREST,[mE]:n.NEAREST_MIPMAP_NEAREST,[nC]:n.NEAREST_MIPMAP_LINEAR,[wr]:n.LINEAR,[oN]:n.LINEAR_MIPMAP_NEAREST,[Yf]:n.LINEAR_MIPMAP_LINEAR},on={[bj]:n.NEVER,[Dj]:n.ALWAYS,[xj]:n.LESS,[Cj]:n.LEQUAL,[wj]:n.EQUAL,[Sj]:n.GEQUAL,[Mj]:n.GREATER,[Tj]:n.NOTEQUAL};function yt(te,j,Ee){if(Ee?(n.texParameteri(te,n.TEXTURE_WRAP_S,ot[j.wrapS]),n.texParameteri(te,n.TEXTURE_WRAP_T,ot[j.wrapT]),(te===n.TEXTURE_3D||te===n.TEXTURE_2D_ARRAY)&&n.texParameteri(te,n.TEXTURE_WRAP_R,ot[j.wrapR]),n.texParameteri(te,n.TEXTURE_MAG_FILTER,kt[j.magFilter]),n.texParameteri(te,n.TEXTURE_MIN_FILTER,kt[j.minFilter])):(n.texParameteri(te,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(te,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(te===n.TEXTURE_3D||te===n.TEXTURE_2D_ARRAY)&&n.texParameteri(te,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(j.wrapS!==Ho||j.wrapT!==Ho)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(te,n.TEXTURE_MAG_FILTER,W(j.magFilter)),n.texParameteri(te,n.TEXTURE_MIN_FILTER,W(j.minFilter)),j.minFilter!==xr&&j.minFilter!==wr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),j.compareFunction&&(n.texParameteri(te,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(te,n.TEXTURE_COMPARE_FUNC,on[j.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){const Ct=t.get("EXT_texture_filter_anisotropic");if(j.magFilter===xr||j.minFilter!==nC&&j.minFilter!==Yf||j.type===Kd&&!1===t.has("OES_texture_float_linear")||!1===a&&j.type===S0&&!1===t.has("OES_texture_half_float_linear"))return;(j.anisotropy>1||i.get(j).__currentAnisotropy)&&(n.texParameterf(te,Ct.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(j.anisotropy,s.getMaxAnisotropy())),i.get(j).__currentAnisotropy=j.anisotropy)}}function jt(te,j){let Ee=!1;void 0===te.__webglInit&&(te.__webglInit=!0,j.addEventListener("dispose",re));const Ct=j.source;let mt=_.get(Ct);void 0===mt&&(mt={},_.set(Ct,mt));const Mt=function xe(te){const j=[];return j.push(te.wrapS),j.push(te.wrapT),j.push(te.wrapR||0),j.push(te.magFilter),j.push(te.minFilter),j.push(te.anisotropy),j.push(te.internalFormat),j.push(te.format),j.push(te.type),j.push(te.generateMipmaps),j.push(te.premultiplyAlpha),j.push(te.flipY),j.push(te.unpackAlignment),j.push(te.colorSpace),j.join()}(j);if(Mt!==te.__cacheKey){void 0===mt[Mt]&&(mt[Mt]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Ee=!0),mt[Mt].usedTimes++;const mn=mt[te.__cacheKey];void 0!==mn&&(mt[te.__cacheKey].usedTimes--,0===mn.usedTimes&&ue(j)),te.__cacheKey=Mt,te.__webglTexture=mt[Mt].texture}return Ee}function et(te,j,Ee){let Ct=n.TEXTURE_2D;(j.isDataArrayTexture||j.isCompressedArrayTexture)&&(Ct=n.TEXTURE_2D_ARRAY),j.isData3DTexture&&(Ct=n.TEXTURE_3D);const mt=jt(te,j),Mt=j.source;e.bindTexture(Ct,te.__webglTexture,n.TEXTURE0+Ee);const mn=i.get(Mt);if(Mt.version!==mn.__version||!0===mt){e.activeTexture(n.TEXTURE0+Ee),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,j.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,j.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Tt=function R(te){return!a&&(te.wrapS!==Ho||te.wrapT!==Ho||te.minFilter!==xr&&te.minFilter!==wr)}(j)&&!1===S(j.image);let Re=w(j.image,Tt,!1,d);Re=fr(j,Re);const Tn=S(Re)||a,vn=r.convert(j.format,j.colorSpace);let sn,wn=r.convert(j.type),nn=$(j.internalFormat,vn,wn,j.colorSpace,j.isVideoTexture);yt(Ct,j,Tn);const Si=j.mipmaps,Rs=a&&!0!==j.isVideoTexture,de=void 0===mn.__version||!0===mt,Vt=F(j,Re,Tn);if(j.isDepthTexture)nn=n.DEPTH_COMPONENT,a?nn=j.type===Kd?n.DEPTH_COMPONENT32F:j.type===ch?n.DEPTH_COMPONENT24:j.type===Gf?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT16:j.type===Kd&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),j.format===$f&&nn===n.DEPTH_COMPONENT&&j.type!==gE&&j.type!==ch&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),j.type=ch,wn=r.convert(j.type)),j.format===Bm&&nn===n.DEPTH_COMPONENT&&(nn=n.DEPTH_STENCIL,j.type!==Gf&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),j.type=Gf,wn=r.convert(j.type))),de&&(Rs?e.texStorage2D(n.TEXTURE_2D,1,nn,Re.width,Re.height):e.texImage2D(n.TEXTURE_2D,0,nn,Re.width,Re.height,0,vn,wn,null));else if(j.isDataTexture)if(Si.length>0&&Tn){Rs&&de&&e.texStorage2D(n.TEXTURE_2D,Vt,nn,Si[0].width,Si[0].height);for(let Pe=0,Dt=Si.length;Pe<Dt;Pe++)sn=Si[Pe],Rs?e.texSubImage2D(n.TEXTURE_2D,Pe,0,0,sn.width,sn.height,vn,wn,sn.data):e.texImage2D(n.TEXTURE_2D,Pe,nn,sn.width,sn.height,0,vn,wn,sn.data);j.generateMipmaps=!1}else Rs?(de&&e.texStorage2D(n.TEXTURE_2D,Vt,nn,Re.width,Re.height),e.texSubImage2D(n.TEXTURE_2D,0,0,0,Re.width,Re.height,vn,wn,Re.data)):e.texImage2D(n.TEXTURE_2D,0,nn,Re.width,Re.height,0,vn,wn,Re.data);else if(j.isCompressedTexture)if(j.isCompressedArrayTexture){Rs&&de&&e.texStorage3D(n.TEXTURE_2D_ARRAY,Vt,nn,Si[0].width,Si[0].height,Re.depth);for(let Pe=0,Dt=Si.length;Pe<Dt;Pe++)sn=Si[Pe],j.format!==bl?null!==vn?Rs?e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Pe,0,0,0,sn.width,sn.height,Re.depth,vn,sn.data,0,0):e.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Pe,nn,sn.width,sn.height,Re.depth,0,sn.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Rs?e.texSubImage3D(n.TEXTURE_2D_ARRAY,Pe,0,0,0,sn.width,sn.height,Re.depth,vn,wn,sn.data):e.texImage3D(n.TEXTURE_2D_ARRAY,Pe,nn,sn.width,sn.height,Re.depth,0,vn,wn,sn.data)}else{Rs&&de&&e.texStorage2D(n.TEXTURE_2D,Vt,nn,Si[0].width,Si[0].height);for(let Pe=0,Dt=Si.length;Pe<Dt;Pe++)sn=Si[Pe],j.format!==bl?null!==vn?Rs?e.compressedTexSubImage2D(n.TEXTURE_2D,Pe,0,0,sn.width,sn.height,vn,sn.data):e.compressedTexImage2D(n.TEXTURE_2D,Pe,nn,sn.width,sn.height,0,sn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Rs?e.texSubImage2D(n.TEXTURE_2D,Pe,0,0,sn.width,sn.height,vn,wn,sn.data):e.texImage2D(n.TEXTURE_2D,Pe,nn,sn.width,sn.height,0,vn,wn,sn.data)}else if(j.isDataArrayTexture)Rs?(de&&e.texStorage3D(n.TEXTURE_2D_ARRAY,Vt,nn,Re.width,Re.height,Re.depth),e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Re.width,Re.height,Re.depth,vn,wn,Re.data)):e.texImage3D(n.TEXTURE_2D_ARRAY,0,nn,Re.width,Re.height,Re.depth,0,vn,wn,Re.data);else if(j.isData3DTexture)Rs?(de&&e.texStorage3D(n.TEXTURE_3D,Vt,nn,Re.width,Re.height,Re.depth),e.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Re.width,Re.height,Re.depth,vn,wn,Re.data)):e.texImage3D(n.TEXTURE_3D,0,nn,Re.width,Re.height,Re.depth,0,vn,wn,Re.data);else if(j.isFramebufferTexture){if(de)if(Rs)e.texStorage2D(n.TEXTURE_2D,Vt,nn,Re.width,Re.height);else{let Pe=Re.width,Dt=Re.height;for(let Wt=0;Wt<Vt;Wt++)e.texImage2D(n.TEXTURE_2D,Wt,nn,Pe,Dt,0,vn,wn,null),Pe>>=1,Dt>>=1}}else if(Si.length>0&&Tn){Rs&&de&&e.texStorage2D(n.TEXTURE_2D,Vt,nn,Si[0].width,Si[0].height);for(let Pe=0,Dt=Si.length;Pe<Dt;Pe++)sn=Si[Pe],Rs?e.texSubImage2D(n.TEXTURE_2D,Pe,0,0,vn,wn,sn):e.texImage2D(n.TEXTURE_2D,Pe,nn,vn,wn,sn);j.generateMipmaps=!1}else Rs?(de&&e.texStorage2D(n.TEXTURE_2D,Vt,nn,Re.width,Re.height),e.texSubImage2D(n.TEXTURE_2D,0,0,0,vn,wn,Re)):e.texImage2D(n.TEXTURE_2D,0,nn,vn,wn,Re);O(j,Tn)&&H(Ct),mn.__version=Mt.version,j.onUpdate&&j.onUpdate(j)}te.__version=j.version}function bt(te,j,Ee,Ct,mt,Mt){const mn=r.convert(Ee.format,Ee.colorSpace),Tt=r.convert(Ee.type),Re=$(Ee.internalFormat,mn,Tt,Ee.colorSpace);if(!i.get(j).__hasExternalTextures){const vn=Math.max(1,j.width>>Mt),wn=Math.max(1,j.height>>Mt);mt===n.TEXTURE_3D||mt===n.TEXTURE_2D_ARRAY?e.texImage3D(mt,Mt,Re,vn,wn,j.depth,0,mn,Tt,null):e.texImage2D(mt,Mt,Re,vn,wn,0,mn,Tt,null)}e.bindFramebuffer(n.FRAMEBUFFER,te),xn(j)?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ct,mt,i.get(Ee).__webglTexture,0,Xt(j)):(mt===n.TEXTURE_2D||mt>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&mt<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ct,mt,i.get(Ee).__webglTexture,Mt),e.bindFramebuffer(n.FRAMEBUFFER,null)}function X(te,j,Ee){if(n.bindRenderbuffer(n.RENDERBUFFER,te),j.depthBuffer&&!j.stencilBuffer){let Ct=n.DEPTH_COMPONENT16;if(Ee||xn(j)){const mt=j.depthTexture;mt&&mt.isDepthTexture&&(mt.type===Kd?Ct=n.DEPTH_COMPONENT32F:mt.type===ch&&(Ct=n.DEPTH_COMPONENT24));const Mt=Xt(j);xn(j)?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Mt,Ct,j.width,j.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Mt,Ct,j.width,j.height)}else n.renderbufferStorage(n.RENDERBUFFER,Ct,j.width,j.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,te)}else if(j.depthBuffer&&j.stencilBuffer){const Ct=Xt(j);Ee&&!1===xn(j)?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ct,n.DEPTH24_STENCIL8,j.width,j.height):xn(j)?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ct,n.DEPTH24_STENCIL8,j.width,j.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,j.width,j.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,te)}else{const Ct=!0===j.isWebGLMultipleRenderTargets?j.texture:[j.texture];for(let mt=0;mt<Ct.length;mt++){const Mt=Ct[mt],mn=r.convert(Mt.format,Mt.colorSpace),Tt=r.convert(Mt.type),Re=$(Mt.internalFormat,mn,Tt,Mt.colorSpace),Tn=Xt(j);Ee&&!1===xn(j)?n.renderbufferStorageMultisample(n.RENDERBUFFER,Tn,Re,j.width,j.height):xn(j)?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Tn,Re,j.width,j.height):n.renderbufferStorage(n.RENDERBUFFER,Re,j.width,j.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ke(te){const j=i.get(te),Ee=!0===te.isWebGLCubeRenderTarget;if(te.depthTexture&&!j.__autoAllocateDepthBuffer){if(Ee)throw new Error("target.depthTexture not supported in Cube render targets");!function at(te,j){if(j&&j.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(n.FRAMEBUFFER,te),!j.depthTexture||!j.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(j.depthTexture).__webglTexture||j.depthTexture.image.width!==j.width||j.depthTexture.image.height!==j.height)&&(j.depthTexture.image.width=j.width,j.depthTexture.image.height=j.height,j.depthTexture.needsUpdate=!0),Ae(j.depthTexture,0);const Ct=i.get(j.depthTexture).__webglTexture,mt=Xt(j);if(j.depthTexture.format===$f)xn(j)?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ct,0,mt):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ct,0);else{if(j.depthTexture.format!==Bm)throw new Error("Unknown depthTexture format");xn(j)?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ct,0,mt):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ct,0)}}(j.__webglFramebuffer,te)}else if(Ee){j.__webglDepthbuffer=[];for(let Ct=0;Ct<6;Ct++)e.bindFramebuffer(n.FRAMEBUFFER,j.__webglFramebuffer[Ct]),j.__webglDepthbuffer[Ct]=n.createRenderbuffer(),X(j.__webglDepthbuffer[Ct],te,!1)}else e.bindFramebuffer(n.FRAMEBUFFER,j.__webglFramebuffer),j.__webglDepthbuffer=n.createRenderbuffer(),X(j.__webglDepthbuffer,te,!1);e.bindFramebuffer(n.FRAMEBUFFER,null)}function Xt(te){return Math.min(u,te.samples)}function xn(te){const j=i.get(te);return a&&te.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==j.__useRenderToTexture}function fr(te,j){const Ee=te.colorSpace,Ct=te.format,mt=te.type;return!0===te.isCompressedTexture||!0===te.isVideoTexture||te.format===TE||Ee!==Kc&&Ee!==qf&&(Ee===As||Ee===oC?!1===a?!0===t.has("EXT_sRGB")&&Ct===bl?(te.format=TE,te.minFilter=wr,te.generateMipmaps=!1):j=GN.sRGBToLinear(j):(Ct!==bl||mt!==lh)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ee)),j}this.allocateTextureUnit=function pe(){const te=oe;return te>=l&&console.warn("THREE.WebGLTextures: Trying to use "+te+" texture units while this GPU supports only "+l),oe+=1,te},this.resetTextureUnits=function ce(){oe=0},this.setTexture2D=Ae,this.setTexture2DArray=function fe(te,j){const Ee=i.get(te);te.version>0&&Ee.__version!==te.version?et(Ee,te,j):e.bindTexture(n.TEXTURE_2D_ARRAY,Ee.__webglTexture,n.TEXTURE0+j)},this.setTexture3D=function Ce(te,j){const Ee=i.get(te);te.version>0&&Ee.__version!==te.version?et(Ee,te,j):e.bindTexture(n.TEXTURE_3D,Ee.__webglTexture,n.TEXTURE0+j)},this.setTextureCube=function ft(te,j){const Ee=i.get(te);te.version>0&&Ee.__version!==te.version?function zt(te,j,Ee){if(6!==j.image.length)return;const Ct=jt(te,j),mt=j.source;e.bindTexture(n.TEXTURE_CUBE_MAP,te.__webglTexture,n.TEXTURE0+Ee);const Mt=i.get(mt);if(mt.version!==Mt.__version||!0===Ct){e.activeTexture(n.TEXTURE0+Ee),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,j.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,j.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const mn=j.isCompressedTexture||j.image[0].isCompressedTexture,Tt=j.image[0]&&j.image[0].isDataTexture,Re=[];for(let Pe=0;Pe<6;Pe++)Re[Pe]=mn||Tt?Tt?j.image[Pe].image:j.image[Pe]:w(j.image[Pe],!1,!0,c),Re[Pe]=fr(j,Re[Pe]);const Tn=Re[0],vn=S(Tn)||a,wn=r.convert(j.format,j.colorSpace),nn=r.convert(j.type),sn=$(j.internalFormat,wn,nn,j.colorSpace),Si=a&&!0!==j.isVideoTexture,Rs=void 0===Mt.__version||!0===Ct;let Vt,de=F(j,Tn,vn);if(yt(n.TEXTURE_CUBE_MAP,j,vn),mn){Si&&Rs&&e.texStorage2D(n.TEXTURE_CUBE_MAP,de,sn,Tn.width,Tn.height);for(let Pe=0;Pe<6;Pe++){Vt=Re[Pe].mipmaps;for(let Dt=0;Dt<Vt.length;Dt++){const Wt=Vt[Dt];j.format!==bl?null!==wn?Si?e.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Dt,0,0,Wt.width,Wt.height,wn,Wt.data):e.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Dt,sn,Wt.width,Wt.height,0,Wt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Si?e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Dt,0,0,Wt.width,Wt.height,wn,nn,Wt.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Dt,sn,Wt.width,Wt.height,0,wn,nn,Wt.data)}}}else{Vt=j.mipmaps,Si&&Rs&&(Vt.length>0&&de++,e.texStorage2D(n.TEXTURE_CUBE_MAP,de,sn,Re[0].width,Re[0].height));for(let Pe=0;Pe<6;Pe++)if(Tt){Si?e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,0,0,Re[Pe].width,Re[Pe].height,wn,nn,Re[Pe].data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,sn,Re[Pe].width,Re[Pe].height,0,wn,nn,Re[Pe].data);for(let Dt=0;Dt<Vt.length;Dt++){const ji=Vt[Dt].image[Pe].image;Si?e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Dt+1,0,0,ji.width,ji.height,wn,nn,ji.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Dt+1,sn,ji.width,ji.height,0,wn,nn,ji.data)}}else{Si?e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,0,0,wn,nn,Re[Pe]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,sn,wn,nn,Re[Pe]);for(let Dt=0;Dt<Vt.length;Dt++){const Wt=Vt[Dt];Si?e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Dt+1,0,0,wn,nn,Wt.image[Pe]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Dt+1,sn,wn,nn,Wt.image[Pe])}}}O(j,vn)&&H(n.TEXTURE_CUBE_MAP),Mt.__version=mt.version,j.onUpdate&&j.onUpdate(j)}te.__version=j.version}(Ee,te,j):e.bindTexture(n.TEXTURE_CUBE_MAP,Ee.__webglTexture,n.TEXTURE0+j)},this.rebindTextures=function ct(te,j,Ee){const Ct=i.get(te);void 0!==j&&bt(Ct.__webglFramebuffer,te,te.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),void 0!==Ee&&ke(te)},this.setupRenderTarget=function Ze(te){const j=te.texture,Ee=i.get(te),Ct=i.get(j);te.addEventListener("dispose",we),!0!==te.isWebGLMultipleRenderTargets&&(void 0===Ct.__webglTexture&&(Ct.__webglTexture=n.createTexture()),Ct.__version=j.version,o.memory.textures++);const mt=!0===te.isWebGLCubeRenderTarget,Mt=!0===te.isWebGLMultipleRenderTargets,mn=S(te)||a;if(mt){Ee.__webglFramebuffer=[];for(let Tt=0;Tt<6;Tt++)if(a&&j.mipmaps&&j.mipmaps.length>0){Ee.__webglFramebuffer[Tt]=[];for(let Re=0;Re<j.mipmaps.length;Re++)Ee.__webglFramebuffer[Tt][Re]=n.createFramebuffer()}else Ee.__webglFramebuffer[Tt]=n.createFramebuffer()}else{if(a&&j.mipmaps&&j.mipmaps.length>0){Ee.__webglFramebuffer=[];for(let Tt=0;Tt<j.mipmaps.length;Tt++)Ee.__webglFramebuffer[Tt]=n.createFramebuffer()}else Ee.__webglFramebuffer=n.createFramebuffer();if(Mt)if(s.drawBuffers){const Tt=te.texture;for(let Re=0,Tn=Tt.length;Re<Tn;Re++){const vn=i.get(Tt[Re]);void 0===vn.__webglTexture&&(vn.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&te.samples>0&&!1===xn(te)){const Tt=Mt?j:[j];Ee.__webglMultisampledFramebuffer=n.createFramebuffer(),Ee.__webglColorRenderbuffer=[],e.bindFramebuffer(n.FRAMEBUFFER,Ee.__webglMultisampledFramebuffer);for(let Re=0;Re<Tt.length;Re++){const Tn=Tt[Re];Ee.__webglColorRenderbuffer[Re]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ee.__webglColorRenderbuffer[Re]);const vn=r.convert(Tn.format,Tn.colorSpace),wn=r.convert(Tn.type),nn=$(Tn.internalFormat,vn,wn,Tn.colorSpace,!0===te.isXRRenderTarget),sn=Xt(te);n.renderbufferStorageMultisample(n.RENDERBUFFER,sn,nn,te.width,te.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Re,n.RENDERBUFFER,Ee.__webglColorRenderbuffer[Re])}n.bindRenderbuffer(n.RENDERBUFFER,null),te.depthBuffer&&(Ee.__webglDepthRenderbuffer=n.createRenderbuffer(),X(Ee.__webglDepthRenderbuffer,te,!0)),e.bindFramebuffer(n.FRAMEBUFFER,null)}}if(mt){e.bindTexture(n.TEXTURE_CUBE_MAP,Ct.__webglTexture),yt(n.TEXTURE_CUBE_MAP,j,mn);for(let Tt=0;Tt<6;Tt++)if(a&&j.mipmaps&&j.mipmaps.length>0)for(let Re=0;Re<j.mipmaps.length;Re++)bt(Ee.__webglFramebuffer[Tt][Re],te,j,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Tt,Re);else bt(Ee.__webglFramebuffer[Tt],te,j,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Tt,0);O(j,mn)&&H(n.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(Mt){const Tt=te.texture;for(let Re=0,Tn=Tt.length;Re<Tn;Re++){const vn=Tt[Re],wn=i.get(vn);e.bindTexture(n.TEXTURE_2D,wn.__webglTexture),yt(n.TEXTURE_2D,vn,mn),bt(Ee.__webglFramebuffer,te,vn,n.COLOR_ATTACHMENT0+Re,n.TEXTURE_2D,0),O(vn,mn)&&H(n.TEXTURE_2D)}e.unbindTexture()}else{let Tt=n.TEXTURE_2D;if((te.isWebGL3DRenderTarget||te.isWebGLArrayRenderTarget)&&(a?Tt=te.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),e.bindTexture(Tt,Ct.__webglTexture),yt(Tt,j,mn),a&&j.mipmaps&&j.mipmaps.length>0)for(let Re=0;Re<j.mipmaps.length;Re++)bt(Ee.__webglFramebuffer[Re],te,j,n.COLOR_ATTACHMENT0,Tt,Re);else bt(Ee.__webglFramebuffer,te,j,n.COLOR_ATTACHMENT0,Tt,0);O(j,mn)&&H(Tt),e.unbindTexture()}te.depthBuffer&&ke(te)},this.updateRenderTargetMipmap=function lt(te){const j=S(te)||a,Ee=!0===te.isWebGLMultipleRenderTargets?te.texture:[te.texture];for(let Ct=0,mt=Ee.length;Ct<mt;Ct++){const Mt=Ee[Ct];if(O(Mt,j)){const mn=te.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Tt=i.get(Mt).__webglTexture;e.bindTexture(mn,Tt),H(mn),e.unbindTexture()}}},this.updateMultisampleRenderTarget=function xt(te){if(a&&te.samples>0&&!1===xn(te)){const j=te.isWebGLMultipleRenderTargets?te.texture:[te.texture],Ee=te.width,Ct=te.height;let mt=n.COLOR_BUFFER_BIT;const Mt=[],mn=te.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Tt=i.get(te),Re=!0===te.isWebGLMultipleRenderTargets;if(Re)for(let Tn=0;Tn<j.length;Tn++)e.bindFramebuffer(n.FRAMEBUFFER,Tt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tn,n.RENDERBUFFER,null),e.bindFramebuffer(n.FRAMEBUFFER,Tt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tn,n.TEXTURE_2D,null,0);e.bindFramebuffer(n.READ_FRAMEBUFFER,Tt.__webglMultisampledFramebuffer),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,Tt.__webglFramebuffer);for(let Tn=0;Tn<j.length;Tn++){Mt.push(n.COLOR_ATTACHMENT0+Tn),te.depthBuffer&&Mt.push(mn);const vn=void 0!==Tt.__ignoreDepthValues&&Tt.__ignoreDepthValues;if(!1===vn&&(te.depthBuffer&&(mt|=n.DEPTH_BUFFER_BIT),te.stencilBuffer&&(mt|=n.STENCIL_BUFFER_BIT)),Re&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Tt.__webglColorRenderbuffer[Tn]),!0===vn&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[mn]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[mn])),Re){const wn=i.get(j[Tn]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,wn,0)}n.blitFramebuffer(0,0,Ee,Ct,0,0,Ee,Ct,mt,n.NEAREST),m&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Mt)}if(e.bindFramebuffer(n.READ_FRAMEBUFFER,null),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Re)for(let Tn=0;Tn<j.length;Tn++){e.bindFramebuffer(n.FRAMEBUFFER,Tt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tn,n.RENDERBUFFER,Tt.__webglColorRenderbuffer[Tn]);const vn=i.get(j[Tn]).__webglTexture;e.bindFramebuffer(n.FRAMEBUFFER,Tt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tn,n.TEXTURE_2D,vn,0)}e.bindFramebuffer(n.DRAW_FRAMEBUFFER,Tt.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=ke,this.setupFrameBufferTexture=bt,this.useMultisampledRTT=xn}const cCe=0,Kr=1;function T9(n,t,e){const i=e.isWebGL2;return{convert:function s(r,o=qf){let a;const l=o===As||o===oC?Kr:cCe;if(r===lh)return n.UNSIGNED_BYTE;if(r===lN)return n.UNSIGNED_SHORT_4_4_4_4;if(r===cN)return n.UNSIGNED_SHORT_5_5_5_1;if(r===sj)return n.BYTE;if(r===rj)return n.SHORT;if(r===gE)return n.UNSIGNED_SHORT;if(r===aN)return n.INT;if(r===ch)return n.UNSIGNED_INT;if(r===Kd)return n.FLOAT;if(r===S0)return i?n.HALF_FLOAT:(a=t.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(r===oj)return n.ALPHA;if(r===bl)return n.RGBA;if(r===aj)return n.LUMINANCE;if(r===lj)return n.LUMINANCE_ALPHA;if(r===$f)return n.DEPTH_COMPONENT;if(r===Bm)return n.DEPTH_STENCIL;if(r===TE)return a=t.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(r===cj)return n.RED;if(r===dN)return n.RED_INTEGER;if(r===dj)return n.RG;if(r===uN)return n.RG_INTEGER;if(r===hN)return n.RGBA_INTEGER;if(r===_E||r===vE||r===yE||r===bE)if(l===Kr){if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(r===_E)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===vE)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===yE)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===bE)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=t.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(r===_E)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===vE)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===yE)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===bE)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(r===fN||r===pN||r===mN||r===gN){if(a=t.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(r===fN)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===pN)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===mN)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===gN)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(r===uj)return a=t.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(r===_N||r===vN){if(a=t.get("WEBGL_compressed_texture_etc"),null===a)return null;if(r===_N)return l===Kr?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===vN)return l===Kr?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(r===yN||r===bN||r===xN||r===wN||r===CN||r===MN||r===TN||r===SN||r===DN||r===EN||r===AN||r===kN||r===IN||r===LN){if(a=t.get("WEBGL_compressed_texture_astc"),null===a)return null;if(r===yN)return l===Kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===bN)return l===Kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===xN)return l===Kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===wN)return l===Kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===CN)return l===Kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===MN)return l===Kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===TN)return l===Kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===SN)return l===Kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===DN)return l===Kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===EN)return l===Kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===AN)return l===Kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===kN)return l===Kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===IN)return l===Kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===LN)return l===Kr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(r===xE||r===RN||r===PN){if(a=t.get("EXT_texture_compression_bptc"),null===a)return null;if(r===xE)return l===Kr?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===RN)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===PN)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(r===hj||r===ON||r===FN||r===NN){if(a=t.get("EXT_texture_compression_rgtc"),null===a)return null;if(r===xE)return a.COMPRESSED_RED_RGTC1_EXT;if(r===ON)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===FN)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===NN)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return r===Gf?i?n.UNSIGNED_INT_24_8:(a=t.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==n[r]?n[r]:null}}}class S9 extends Ro{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class Z0 extends zs{constructor(){super(),this.isGroup=!0,this.type="Group"}}const dCe={type:"move"};class y3{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Z0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Z0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new J,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new J),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Z0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new J,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new J),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const i of t.hand.values())this._getHandJoint(e,i)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,i){let s=null,r=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState){if(c&&t.hand){o=!0;for(const v of t.hand.values()){const _=e.getJointPose(v,i),y=this._getHandJoint(c,v);null!==_&&(y.matrix.fromArray(_.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=_.radius),y.visible=null!==_}const f=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),m=.02,g=.005;c.inputState.pinching&&f>m+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!c.inputState.pinching&&f<=m-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==l&&t.gripSpace&&(r=e.getPose(t.gripSpace,i),null!==r&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1));null!==a&&(s=e.getPose(t.targetRaySpace,i),null===s&&null!==r&&(s=r),null!==s&&(a.matrix.fromArray(s.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,s.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(s.linearVelocity)):a.hasLinearVelocity=!1,s.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(s.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(dCe)))}return null!==a&&(a.visible=null!==s),null!==l&&(l.visible=null!==r),null!==c&&(c.visible=null!==o),this}_getHandJoint(t,e){if(void 0===t.joints[e.jointName]){const i=new Z0;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[e.jointName]=i,t.add(i)}return t.joints[e.jointName]}}class D9 extends Qa{constructor(t,e,i,s,r,o,a,l,c,d){if((d=void 0!==d?d:$f)!==$f&&d!==Bm)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&d===$f&&(i=ch),void 0===i&&d===Bm&&(i=Gf),super(null,s,r,o,a,l,d,i,c),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=void 0!==a?a:xr,this.minFilter=void 0!==l?l:xr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return null!==this.compareFunction&&(e.compareFunction=this.compareFunction),e}}class uCe extends dh{constructor(t,e){super();const i=this;let s=null,r=1,o=null,a="local-floor",l=1,c=null,d=null,u=null,f=null,m=null,g=null;const v=e.getContextAttributes();let _=null,y=null;const C=[],w=[],S=new Ro;S.layers.enable(1),S.viewport=new rs;const R=new Ro;R.layers.enable(2),R.viewport=new rs;const O=[S,R],H=new S9;H.layers.enable(1),H.layers.enable(2);let $=null,F=null;function W(fe){const Ce=w.indexOf(fe.inputSource);if(-1===Ce)return;const ft=C[Ce];void 0!==ft&&(ft.update(fe.inputSource,fe.frame,c||o),ft.dispatchEvent({type:fe.type,data:fe.inputSource}))}function re(){s.removeEventListener("select",W),s.removeEventListener("selectstart",W),s.removeEventListener("selectend",W),s.removeEventListener("squeeze",W),s.removeEventListener("squeezestart",W),s.removeEventListener("squeezeend",W),s.removeEventListener("end",re),s.removeEventListener("inputsourceschange",we);for(let fe=0;fe<C.length;fe++){const Ce=w[fe];null!==Ce&&(w[fe]=null,C[fe].disconnect(Ce))}$=null,F=null,t.setRenderTarget(_),m=null,f=null,u=null,s=null,y=null,Ae.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function we(fe){for(let Ce=0;Ce<fe.removed.length;Ce++){const ft=fe.removed[Ce],ot=w.indexOf(ft);ot>=0&&(w[ot]=null,C[ot].disconnect(ft))}for(let Ce=0;Ce<fe.added.length;Ce++){const ft=fe.added[Ce];let ot=w.indexOf(ft);if(-1===ot){for(let on=0;on<C.length;on++){if(on>=w.length){w.push(ft),ot=on;break}if(null===w[on]){w[on]=ft,ot=on;break}}if(-1===ot)break}const kt=C[ot];kt&&kt.connect(ft)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(fe){let Ce=C[fe];return void 0===Ce&&(Ce=new y3,C[fe]=Ce),Ce.getTargetRaySpace()},this.getControllerGrip=function(fe){let Ce=C[fe];return void 0===Ce&&(Ce=new y3,C[fe]=Ce),Ce.getGripSpace()},this.getHand=function(fe){let Ce=C[fe];return void 0===Ce&&(Ce=new y3,C[fe]=Ce),Ce.getHandSpace()},this.setFramebufferScaleFactor=function(fe){r=fe,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(fe){a=fe,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(fe){c=fe},this.getBaseLayer=function(){return null!==f?f:m},this.getBinding=function(){return u},this.getFrame=function(){return g},this.getSession=function(){return s},this.setSession=function(){var fe=tt(function*(Ce){if(s=Ce,null!==s){if(_=t.getRenderTarget(),s.addEventListener("select",W),s.addEventListener("selectstart",W),s.addEventListener("selectend",W),s.addEventListener("squeeze",W),s.addEventListener("squeezestart",W),s.addEventListener("squeezeend",W),s.addEventListener("end",re),s.addEventListener("inputsourceschange",we),!0!==v.xrCompatible&&(yield e.makeXRCompatible()),void 0===s.renderState.layers||!1===t.capabilities.isWebGL2)m=new XRWebGLLayer(s,e,{antialias:void 0!==s.renderState.layers||v.antialias,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:r}),s.updateRenderState({baseLayer:m}),y=new Qc(m.framebufferWidth,m.framebufferHeight,{format:bl,type:lh,colorSpace:t.outputColorSpace,stencilBuffer:v.stencil});else{let ft=null,ot=null,kt=null;v.depth&&(kt=v.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,ft=v.stencil?Bm:$f,ot=v.stencil?Gf:ch);const on={colorFormat:e.RGBA8,depthFormat:kt,scaleFactor:r};u=new XRWebGLBinding(s,e),f=u.createProjectionLayer(on),s.updateRenderState({layers:[f]}),y=new Qc(f.textureWidth,f.textureHeight,{format:bl,type:lh,depthTexture:new D9(f.textureWidth,f.textureHeight,ot,void 0,void 0,void 0,void 0,void 0,void 0,ft),stencilBuffer:v.stencil,colorSpace:t.outputColorSpace,samples:v.antialias?4:0}),t.properties.get(y).__ignoreDepthValues=f.ignoreDepthValues}y.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=yield s.requestReferenceSpace(a),Ae.setContext(s),Ae.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(Ce){return fe.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==s)return s.environmentBlendMode};const le=new J,ue=new J;function oe(fe,Ce){null===Ce?fe.matrixWorld.copy(fe.matrix):fe.matrixWorld.multiplyMatrices(Ce.matrixWorld,fe.matrix),fe.matrixWorldInverse.copy(fe.matrixWorld).invert()}this.updateCamera=function(fe){if(null===s)return;H.near=R.near=S.near=fe.near,H.far=R.far=S.far=fe.far,($!==H.near||F!==H.far)&&(s.updateRenderState({depthNear:H.near,depthFar:H.far}),$=H.near,F=H.far);const Ce=fe.parent,ft=H.cameras;oe(H,Ce);for(let ot=0;ot<ft.length;ot++)oe(ft[ot],Ce);2===ft.length?function he(fe,Ce,ft){le.setFromMatrixPosition(Ce.matrixWorld),ue.setFromMatrixPosition(ft.matrixWorld);const ot=le.distanceTo(ue),kt=Ce.projectionMatrix.elements,on=ft.projectionMatrix.elements,yt=kt[14]/(kt[10]-1),jt=kt[14]/(kt[10]+1),et=(kt[9]+1)/kt[5],zt=(kt[9]-1)/kt[5],bt=(kt[8]-1)/kt[0],X=(on[8]+1)/on[0],at=yt*bt,ke=yt*X,ct=ot/(-bt+X),Ze=ct*-bt;Ce.matrixWorld.decompose(fe.position,fe.quaternion,fe.scale),fe.translateX(Ze),fe.translateZ(ct),fe.matrixWorld.compose(fe.position,fe.quaternion,fe.scale),fe.matrixWorldInverse.copy(fe.matrixWorld).invert();const lt=yt+ct,xt=jt+ct;fe.projectionMatrix.makePerspective(at-Ze,ke+(ot-Ze),et*jt/xt*lt,zt*jt/xt*lt,lt,xt),fe.projectionMatrixInverse.copy(fe.projectionMatrix).invert()}(H,S,R):H.projectionMatrix.copy(S.projectionMatrix),function ce(fe,Ce,ft){null===ft?fe.matrix.copy(Ce.matrixWorld):(fe.matrix.copy(ft.matrixWorld),fe.matrix.invert(),fe.matrix.multiply(Ce.matrixWorld)),fe.matrix.decompose(fe.position,fe.quaternion,fe.scale),fe.updateMatrixWorld(!0),fe.projectionMatrix.copy(Ce.projectionMatrix),fe.projectionMatrixInverse.copy(Ce.projectionMatrixInverse),fe.isPerspectiveCamera&&(fe.fov=2*D0*Math.atan(1/fe.projectionMatrix.elements[5]),fe.zoom=1)}(fe,H,Ce)},this.getCamera=function(){return H},this.getFoveation=function(){if(null!==f||null!==m)return l},this.setFoveation=function(fe){l=fe,null!==f&&(f.fixedFoveation=fe),null!==m&&void 0!==m.fixedFoveation&&(m.fixedFoveation=fe)};let pe=null;const Ae=new Jj;Ae.setAnimationLoop(function xe(fe,Ce){if(d=Ce.getViewerPose(c||o),g=Ce,null!==d){const ft=d.views;null!==m&&(t.setRenderTargetFramebuffer(y,m.framebuffer),t.setRenderTarget(y));let ot=!1;ft.length!==H.cameras.length&&(H.cameras.length=0,ot=!0);for(let kt=0;kt<ft.length;kt++){const on=ft[kt];let yt=null;if(null!==m)yt=m.getViewport(on);else{const et=u.getViewSubImage(f,on);yt=et.viewport,0===kt&&(t.setRenderTargetTextures(y,et.colorTexture,f.ignoreDepthValues?void 0:et.depthStencilTexture),t.setRenderTarget(y))}let jt=O[kt];void 0===jt&&(jt=new Ro,jt.layers.enable(kt),jt.viewport=new rs,O[kt]=jt),jt.matrix.fromArray(on.transform.matrix),jt.matrix.decompose(jt.position,jt.quaternion,jt.scale),jt.projectionMatrix.fromArray(on.projectionMatrix),jt.projectionMatrixInverse.copy(jt.projectionMatrix).invert(),jt.viewport.set(yt.x,yt.y,yt.width,yt.height),0===kt&&(H.matrix.copy(jt.matrix),H.matrix.decompose(H.position,H.quaternion,H.scale)),!0===ot&&H.cameras.push(jt)}}for(let ft=0;ft<C.length;ft++){const ot=w[ft],kt=C[ft];null!==ot&&void 0!==kt&&kt.update(ot,Ce,c||o)}pe&&pe(fe,Ce),Ce.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Ce}),g=null}),this.setAnimationLoop=function(fe){pe=fe},this.dispose=function(){}}}function hCe(n,t){function e(_,y){!0===_.matrixAutoUpdate&&_.updateMatrix(),y.value.copy(_.matrix)}function r(_,y){_.opacity.value=y.opacity,y.color&&_.diffuse.value.copy(y.color),y.emissive&&_.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(_.map.value=y.map,e(y.map,_.mapTransform)),y.alphaMap&&(_.alphaMap.value=y.alphaMap,e(y.alphaMap,_.alphaMapTransform)),y.bumpMap&&(_.bumpMap.value=y.bumpMap,e(y.bumpMap,_.bumpMapTransform),_.bumpScale.value=y.bumpScale,y.side===Sa&&(_.bumpScale.value*=-1)),y.normalMap&&(_.normalMap.value=y.normalMap,e(y.normalMap,_.normalMapTransform),_.normalScale.value.copy(y.normalScale),y.side===Sa&&_.normalScale.value.negate()),y.displacementMap&&(_.displacementMap.value=y.displacementMap,e(y.displacementMap,_.displacementMapTransform),_.displacementScale.value=y.displacementScale,_.displacementBias.value=y.displacementBias),y.emissiveMap&&(_.emissiveMap.value=y.emissiveMap,e(y.emissiveMap,_.emissiveMapTransform)),y.specularMap&&(_.specularMap.value=y.specularMap,e(y.specularMap,_.specularMapTransform)),y.alphaTest>0&&(_.alphaTest.value=y.alphaTest);const C=t.get(y).envMap;if(C&&(_.envMap.value=C,_.flipEnvMap.value=C.isCubeTexture&&!1===C.isRenderTargetTexture?-1:1,_.reflectivity.value=y.reflectivity,_.ior.value=y.ior,_.refractionRatio.value=y.refractionRatio),y.lightMap){_.lightMap.value=y.lightMap;const w=!0===n._useLegacyLights?Math.PI:1;_.lightMapIntensity.value=y.lightMapIntensity*w,e(y.lightMap,_.lightMapTransform)}y.aoMap&&(_.aoMap.value=y.aoMap,_.aoMapIntensity.value=y.aoMapIntensity,e(y.aoMap,_.aoMapTransform))}return{refreshFogUniforms:function i(_,y){y.color.getRGB(_.fogColor.value,qj(n)),y.isFog?(_.fogNear.value=y.near,_.fogFar.value=y.far):y.isFogExp2&&(_.fogDensity.value=y.density)},refreshMaterialUniforms:function s(_,y,C,w,S){y.isMeshBasicMaterial||y.isMeshLambertMaterial?r(_,y):y.isMeshToonMaterial?(r(_,y),function u(_,y){y.gradientMap&&(_.gradientMap.value=y.gradientMap)}(_,y)):y.isMeshPhongMaterial?(r(_,y),function d(_,y){_.specular.value.copy(y.specular),_.shininess.value=Math.max(y.shininess,1e-4)}(_,y)):y.isMeshStandardMaterial?(r(_,y),function f(_,y){_.metalness.value=y.metalness,y.metalnessMap&&(_.metalnessMap.value=y.metalnessMap,e(y.metalnessMap,_.metalnessMapTransform)),_.roughness.value=y.roughness,y.roughnessMap&&(_.roughnessMap.value=y.roughnessMap,e(y.roughnessMap,_.roughnessMapTransform)),t.get(y).envMap&&(_.envMapIntensity.value=y.envMapIntensity)}(_,y),y.isMeshPhysicalMaterial&&function m(_,y,C){_.ior.value=y.ior,y.sheen>0&&(_.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),_.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(_.sheenColorMap.value=y.sheenColorMap,e(y.sheenColorMap,_.sheenColorMapTransform)),y.sheenRoughnessMap&&(_.sheenRoughnessMap.value=y.sheenRoughnessMap,e(y.sheenRoughnessMap,_.sheenRoughnessMapTransform))),y.clearcoat>0&&(_.clearcoat.value=y.clearcoat,_.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(_.clearcoatMap.value=y.clearcoatMap,e(y.clearcoatMap,_.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,e(y.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(_.clearcoatNormalMap.value=y.clearcoatNormalMap,e(y.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===Sa&&_.clearcoatNormalScale.value.negate())),y.iridescence>0&&(_.iridescence.value=y.iridescence,_.iridescenceIOR.value=y.iridescenceIOR,_.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(_.iridescenceMap.value=y.iridescenceMap,e(y.iridescenceMap,_.iridescenceMapTransform)),y.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=y.iridescenceThicknessMap,e(y.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),y.transmission>0&&(_.transmission.value=y.transmission,_.transmissionSamplerMap.value=C.texture,_.transmissionSamplerSize.value.set(C.width,C.height),y.transmissionMap&&(_.transmissionMap.value=y.transmissionMap,e(y.transmissionMap,_.transmissionMapTransform)),_.thickness.value=y.thickness,y.thicknessMap&&(_.thicknessMap.value=y.thicknessMap,e(y.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=y.attenuationDistance,_.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(_.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(_.anisotropyMap.value=y.anisotropyMap,e(y.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=y.specularIntensity,_.specularColor.value.copy(y.specularColor),y.specularColorMap&&(_.specularColorMap.value=y.specularColorMap,e(y.specularColorMap,_.specularColorMapTransform)),y.specularIntensityMap&&(_.specularIntensityMap.value=y.specularIntensityMap,e(y.specularIntensityMap,_.specularIntensityMapTransform))}(_,y,S)):y.isMeshMatcapMaterial?(r(_,y),function g(_,y){y.matcap&&(_.matcap.value=y.matcap)}(_,y)):y.isMeshDepthMaterial?r(_,y):y.isMeshDistanceMaterial?(r(_,y),function v(_,y){const C=t.get(y).light;_.referencePosition.value.setFromMatrixPosition(C.matrixWorld),_.nearDistance.value=C.shadow.camera.near,_.farDistance.value=C.shadow.camera.far}(_,y)):y.isMeshNormalMaterial?r(_,y):y.isLineBasicMaterial?(function o(_,y){_.diffuse.value.copy(y.color),_.opacity.value=y.opacity,y.map&&(_.map.value=y.map,e(y.map,_.mapTransform))}(_,y),y.isLineDashedMaterial&&function a(_,y){_.dashSize.value=y.dashSize,_.totalSize.value=y.dashSize+y.gapSize,_.scale.value=y.scale}(_,y)):y.isPointsMaterial?function l(_,y,C,w){_.diffuse.value.copy(y.color),_.opacity.value=y.opacity,_.size.value=y.size*C,_.scale.value=.5*w,y.map&&(_.map.value=y.map,e(y.map,_.uvTransform)),y.alphaMap&&(_.alphaMap.value=y.alphaMap,e(y.alphaMap,_.alphaMapTransform)),y.alphaTest>0&&(_.alphaTest.value=y.alphaTest)}(_,y,C,w):y.isSpriteMaterial?function c(_,y){_.diffuse.value.copy(y.color),_.opacity.value=y.opacity,_.rotation.value=y.rotation,y.map&&(_.map.value=y.map,e(y.map,_.mapTransform)),y.alphaMap&&(_.alphaMap.value=y.alphaMap,e(y.alphaMap,_.alphaMapTransform)),y.alphaTest>0&&(_.alphaTest.value=y.alphaTest)}(_,y):y.isShadowMaterial?(_.color.value.copy(y.color),_.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}}}function fCe(n,t,e,i){let s={},r={},o=[];const a=e.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function m(C,w,S){const R=C.value;if(void 0===S[w]){if("number"==typeof R)S[w]=R;else{const O=Array.isArray(R)?R:[R],H=[];for(let $=0;$<O.length;$++)H.push(O[$].clone());S[w]=H}return!0}if("number"==typeof R){if(S[w]!==R)return S[w]=R,!0}else{const O=Array.isArray(S[w])?S[w]:[S[w]],H=Array.isArray(R)?R:[R];for(let $=0;$<O.length;$++){const F=O[$];if(!1===F.equals(H[$]))return F.copy(H[$]),!0}}return!1}function v(C){const w={boundary:0,storage:0};return"number"==typeof C?(w.boundary=4,w.storage=4):C.isVector2?(w.boundary=8,w.storage=8):C.isVector3||C.isColor?(w.boundary=16,w.storage=12):C.isVector4?(w.boundary=16,w.storage=16):C.isMatrix3?(w.boundary=48,w.storage=48):C.isMatrix4?(w.boundary=64,w.storage=64):C.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",C),w}function _(C){const w=C.target;w.removeEventListener("dispose",_);const S=o.indexOf(w.__bindingPointIndex);o.splice(S,1),n.deleteBuffer(s[w.id]),delete s[w.id],delete r[w.id]}return{bind:function l(C,w){i.uniformBlockBinding(C,w.program)},update:function c(C,w){let S=s[C.id];void 0===S&&(function g(C){const w=C.uniforms;let S=0;let O=0;for(let H=0,$=w.length;H<$;H++){const F=w[H],W={boundary:0,storage:0},re=Array.isArray(F.value)?F.value:[F.value];for(let we=0,le=re.length;we<le;we++){const he=v(re[we]);W.boundary+=he.boundary,W.storage+=he.storage}F.__data=new Float32Array(W.storage/Float32Array.BYTES_PER_ELEMENT),F.__offset=S,H>0&&(O=S%16,0!==O&&16-O-W.boundary<0&&(S+=16-O,F.__offset=S)),S+=W.storage}O=S%16,O>0&&(S+=16-O),C.__size=S,C.__cache={}}(C),S=function d(C){const w=function u(){for(let C=0;C<a;C++)if(-1===o.indexOf(C))return o.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();C.__bindingPointIndex=w;const S=n.createBuffer(),R=C.__size,O=C.usage;return n.bindBuffer(n.UNIFORM_BUFFER,S),n.bufferData(n.UNIFORM_BUFFER,R,O),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,w,S),S}(C),s[C.id]=S,C.addEventListener("dispose",_)),i.updateUBOMapping(C,w.program);const O=t.render.frame;r[C.id]!==O&&(function f(C){const S=C.uniforms,R=C.__cache;n.bindBuffer(n.UNIFORM_BUFFER,s[C.id]);for(let O=0,H=S.length;O<H;O++){const $=S[O];if(!0===m($,O,R)){const F=$.__offset,W=Array.isArray($.value)?$.value:[$.value];let re=0;for(let we=0;we<W.length;we++){const le=W[we],ue=v(le);"number"==typeof le?($.__data[0]=le,n.bufferSubData(n.UNIFORM_BUFFER,F+re,$.__data)):le.isMatrix3?($.__data[0]=le.elements[0],$.__data[1]=le.elements[1],$.__data[2]=le.elements[2],$.__data[3]=le.elements[0],$.__data[4]=le.elements[3],$.__data[5]=le.elements[4],$.__data[6]=le.elements[5],$.__data[7]=le.elements[0],$.__data[8]=le.elements[6],$.__data[9]=le.elements[7],$.__data[10]=le.elements[8],$.__data[11]=le.elements[0]):(le.toArray($.__data,re),re+=ue.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,F,$.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(C),r[C.id]=O)},dispose:function y(){for(const C in s)n.deleteBuffer(s[C]);o=[],s={},r={}}}}class E9{constructor(t={}){const{canvas:e=Ij(),context:i=null,depth:s=!0,stencil:r=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:u=!1}=t;let f;this.isWebGLRenderer=!0,f=null!==i?i.getContextAttributes().alpha:o;const m=new Uint32Array(4),g=new Int32Array(4);let v=null,_=null;const y=[],C=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=As,this._useLegacyLights=!1,this.toneMapping=oh,this.toneMappingExposure=1;const w=this;let S=!1,R=0,O=0,H=null,$=-1,F=null;const W=new rs,re=new rs;let we=null;const le=new $t(0);let ue=0,he=e.width,oe=e.height,ce=1,pe=null,xe=null;const Ae=new rs(0,0,he,oe),fe=new rs(0,0,he,oe);let Ce=!1;const ft=new XE;let ot=!1,kt=!1,on=null;const yt=new ei,jt=new st,et=new J,zt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function bt(){return null===H?ce:1}let ke,ct,Ze,lt,xt,Xt,xn,Ni,fr,te,j,Ee,Ct,mt,Mt,mn,Tt,Re,Tn,vn,wn,nn,sn,Si,X=i;function at(Q,Me){for(let He=0;He<Q.length;He++){const ze=e.getContext(Q[He],Me);if(null!==ze)return ze}return null}try{const Q={alpha:!0,depth:s,stencil:r,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${hE}`),e.addEventListener("webglcontextlost",Vt,!1),e.addEventListener("webglcontextrestored",Pe,!1),e.addEventListener("webglcontextcreationerror",Dt,!1),null===X){const Me=["webgl2","webgl","experimental-webgl"];if(!0===w.isWebGL1Renderer&&Me.shift(),X=at(Me,Q),null===X)throw at(Me)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&X instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===X.getShaderPrecisionFormat&&(X.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Q){throw console.error("THREE.WebGLRenderer: "+Q.message),Q}function Rs(){ke=new Exe(X),ct=new wxe(X,ke,t),ke.init(ct),nn=new T9(X,ke,ct),Ze=new aCe(X,ke,ct),lt=new Ixe(X),xt=new qwe,Xt=new lCe(X,ke,Ze,xt,ct,nn,lt),xn=new Mxe(w),Ni=new Dxe(w),fr=new xye(X,ct),sn=new bxe(X,ke,fr,ct),te=new Axe(X,fr,lt,sn),j=new Oxe(X,te,fr,lt),Tn=new Pxe(X,ct,Xt),mn=new Cxe(xt),Ee=new Xwe(w,xn,Ni,ke,ct,sn,mn),Ct=new hCe(w,xt),mt=new Kwe,Mt=new iCe(ke,ct),Re=new yxe(w,xn,Ni,Ze,j,f,l),Tt=new oCe(w,j,ct),Si=new fCe(X,lt,ct,Ze),vn=new xxe(X,ke,lt,ct),wn=new kxe(X,ke,lt,ct),lt.programs=Ee.programs,w.capabilities=ct,w.extensions=ke,w.properties=xt,w.renderLists=mt,w.shadowMap=Tt,w.state=Ze,w.info=lt}Rs();const de=new uCe(w,X);function Vt(Q){Q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function Pe(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const Q=lt.autoReset,Me=Tt.enabled,He=Tt.autoUpdate,Se=Tt.needsUpdate,ze=Tt.type;Rs(),lt.autoReset=Q,Tt.enabled=Me,Tt.autoUpdate=He,Tt.needsUpdate=Se,Tt.type=ze}function Dt(Q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Q.statusMessage)}function Wt(Q){const Me=Q.target;Me.removeEventListener("dispose",Wt),function ji(Q){(function or(Q){const Me=xt.get(Q).programs;void 0!==Me&&(Me.forEach(function(He){Ee.releaseProgram(He)}),Q.isShaderMaterial&&Ee.releaseShaderCache(Q))})(Q),xt.remove(Q)}(Me)}this.xr=de,this.getContext=function(){return X},this.getContextAttributes=function(){return X.getContextAttributes()},this.forceContextLoss=function(){const Q=ke.get("WEBGL_lose_context");Q&&Q.loseContext()},this.forceContextRestore=function(){const Q=ke.get("WEBGL_lose_context");Q&&Q.restoreContext()},this.getPixelRatio=function(){return ce},this.setPixelRatio=function(Q){void 0!==Q&&(ce=Q,this.setSize(he,oe,!1))},this.getSize=function(Q){return Q.set(he,oe)},this.setSize=function(Q,Me,He=!0){de.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(he=Q,oe=Me,e.width=Math.floor(Q*ce),e.height=Math.floor(Me*ce),!0===He&&(e.style.width=Q+"px",e.style.height=Me+"px"),this.setViewport(0,0,Q,Me))},this.getDrawingBufferSize=function(Q){return Q.set(he*ce,oe*ce).floor()},this.setDrawingBufferSize=function(Q,Me,He){he=Q,oe=Me,ce=He,e.width=Math.floor(Q*He),e.height=Math.floor(Me*He),this.setViewport(0,0,Q,Me)},this.getCurrentViewport=function(Q){return Q.copy(W)},this.getViewport=function(Q){return Q.copy(Ae)},this.setViewport=function(Q,Me,He,Se){Q.isVector4?Ae.set(Q.x,Q.y,Q.z,Q.w):Ae.set(Q,Me,He,Se),Ze.viewport(W.copy(Ae).multiplyScalar(ce).floor())},this.getScissor=function(Q){return Q.copy(fe)},this.setScissor=function(Q,Me,He,Se){Q.isVector4?fe.set(Q.x,Q.y,Q.z,Q.w):fe.set(Q,Me,He,Se),Ze.scissor(re.copy(fe).multiplyScalar(ce).floor())},this.getScissorTest=function(){return Ce},this.setScissorTest=function(Q){Ze.setScissorTest(Ce=Q)},this.setOpaqueSort=function(Q){pe=Q},this.setTransparentSort=function(Q){xe=Q},this.getClearColor=function(Q){return Q.copy(Re.getClearColor())},this.setClearColor=function(){Re.setClearColor.apply(Re,arguments)},this.getClearAlpha=function(){return Re.getClearAlpha()},this.setClearAlpha=function(){Re.setClearAlpha.apply(Re,arguments)},this.clear=function(Q=!0,Me=!0,He=!0){let Se=0;if(Q){let ze=!1;if(null!==H){const Kt=H.texture.format;ze=Kt===hN||Kt===uN||Kt===dN}if(ze){const Kt=H.texture.type,kn=Kt===lh||Kt===ch||Kt===gE||Kt===Gf||Kt===lN||Kt===cN,$n=Re.getClearColor(),jn=Re.getClearAlpha(),Di=$n.r,Yn=$n.g,ui=$n.b;kn?(m[0]=Di,m[1]=Yn,m[2]=ui,m[3]=jn,X.clearBufferuiv(X.COLOR,0,m)):(g[0]=Di,g[1]=Yn,g[2]=ui,g[3]=jn,X.clearBufferiv(X.COLOR,0,g))}else Se|=X.COLOR_BUFFER_BIT}Me&&(Se|=X.DEPTH_BUFFER_BIT),He&&(Se|=X.STENCIL_BUFFER_BIT),X.clear(Se)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Vt,!1),e.removeEventListener("webglcontextrestored",Pe,!1),e.removeEventListener("webglcontextcreationerror",Dt,!1),mt.dispose(),Mt.dispose(),xt.dispose(),xn.dispose(),Ni.dispose(),j.dispose(),sn.dispose(),Si.dispose(),Ee.dispose(),de.dispose(),de.removeEventListener("sessionstart",Ys),de.removeEventListener("sessionend",vu),on&&(on.dispose(),on=null),Pa.stop()},this.renderBufferDirect=function(Q,Me,He,Se,ze,Kt){null===Me&&(Me=zt);const kn=ze.isMesh&&ze.matrixWorld.determinant()<0,$n=function L7e(Q,Me,He,Se,ze){!0!==Me.isScene&&(Me=zt),Xt.resetTextureUnits();const Kt=Me.fog,$n=null===H?w.outputColorSpace:!0===H.isXRRenderTarget?H.texture.colorSpace:Kc,jn=(Se.isMeshStandardMaterial?Ni:xn).get(Se.envMap||(Se.isMeshStandardMaterial?Me.environment:null)),Di=!0===Se.vertexColors&&!!He.attributes.color&&4===He.attributes.color.itemSize,Yn=!!He.attributes.tangent&&(!!Se.normalMap||Se.anisotropy>0),ui=!!He.morphAttributes.position,pr=!!He.morphAttributes.normal,Tr=!!He.morphAttributes.color;let Cc=oh;Se.toneMapped&&(null===H||!0===H.isXRRenderTarget)&&(Cc=w.toneMapping);const Gh=He.morphAttributes.position||He.morphAttributes.normal||He.morphAttributes.color,Hr=void 0!==Gh?Gh.length:0,Ri=xt.get(Se),S5=_.state.lights;!0!==ot||!0!==kt&&Q===F||mn.setState(Se,Q,Q===F&&Se.id===$);let zr=!1;Se.version===Ri.__version?(Ri.needsLights&&Ri.lightsStateVersion!==S5.state.version||Ri.outputColorSpace!==$n||ze.isInstancedMesh&&!1===Ri.instancing||!ze.isInstancedMesh&&!0===Ri.instancing||ze.isSkinnedMesh&&!1===Ri.skinning||!ze.isSkinnedMesh&&!0===Ri.skinning||ze.isInstancedMesh&&!0===Ri.instancingColor&&null===ze.instanceColor||ze.isInstancedMesh&&!1===Ri.instancingColor&&null!==ze.instanceColor||Ri.envMap!==jn||!0===Se.fog&&Ri.fog!==Kt||void 0!==Ri.numClippingPlanes&&(Ri.numClippingPlanes!==mn.numPlanes||Ri.numIntersection!==mn.numIntersection)||Ri.vertexAlphas!==Di||Ri.vertexTangents!==Yn||Ri.morphTargets!==ui||Ri.morphNormals!==pr||Ri.morphColors!==Tr||Ri.toneMapping!==Cc||!0===ct.isWebGL2&&Ri.morphTargetsCount!==Hr)&&(zr=!0):(zr=!0,Ri.__version=Se.version);let s_=Ri.currentProgram;!0===zr&&(s_=SI(Se,Me,ze));let pre=!1,fM=!1,D5=!1;const Oa=s_.getUniforms(),r_=Ri.uniforms;if(Ze.useProgram(s_.program)&&(pre=!0,fM=!0,D5=!0),Se.id!==$&&($=Se.id,fM=!0),pre||F!==Q){Oa.setValue(X,"projectionMatrix",Q.projectionMatrix),Oa.setValue(X,"viewMatrix",Q.matrixWorldInverse);const Ol=Oa.map.cameraPosition;void 0!==Ol&&Ol.setValue(X,et.setFromMatrixPosition(Q.matrixWorld)),ct.logarithmicDepthBuffer&&Oa.setValue(X,"logDepthBufFC",2/(Math.log(Q.far+1)/Math.LN2)),(Se.isMeshPhongMaterial||Se.isMeshToonMaterial||Se.isMeshLambertMaterial||Se.isMeshBasicMaterial||Se.isMeshStandardMaterial||Se.isShaderMaterial)&&Oa.setValue(X,"isOrthographic",!0===Q.isOrthographicCamera),F!==Q&&(F=Q,fM=!0,D5=!0)}if(ze.isSkinnedMesh){Oa.setOptional(X,ze,"bindMatrix"),Oa.setOptional(X,ze,"bindMatrixInverse");const Ol=ze.skeleton;Ol&&(ct.floatVertexTextures?(null===Ol.boneTexture&&Ol.computeBoneTexture(),Oa.setValue(X,"boneTexture",Ol.boneTexture,Xt),Oa.setValue(X,"boneTextureSize",Ol.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const E5=He.morphAttributes;if((void 0!==E5.position||void 0!==E5.normal||void 0!==E5.color&&!0===ct.isWebGL2)&&Tn.update(ze,He,s_),(fM||Ri.receiveShadow!==ze.receiveShadow)&&(Ri.receiveShadow=ze.receiveShadow,Oa.setValue(X,"receiveShadow",ze.receiveShadow)),Se.isMeshGouraudMaterial&&null!==Se.envMap&&(r_.envMap.value=jn,r_.flipEnvMap.value=jn.isCubeTexture&&!1===jn.isRenderTargetTexture?-1:1),fM&&(Oa.setValue(X,"toneMappingExposure",w.toneMappingExposure),Ri.needsLights&&function R7e(Q,Me){Q.ambientLightColor.needsUpdate=Me,Q.lightProbe.needsUpdate=Me,Q.directionalLights.needsUpdate=Me,Q.directionalLightShadows.needsUpdate=Me,Q.pointLights.needsUpdate=Me,Q.pointLightShadows.needsUpdate=Me,Q.spotLights.needsUpdate=Me,Q.spotLightShadows.needsUpdate=Me,Q.rectAreaLights.needsUpdate=Me,Q.hemisphereLights.needsUpdate=Me}(r_,D5),Kt&&!0===Se.fog&&Ct.refreshFogUniforms(r_,Kt),Ct.refreshMaterialUniforms(r_,Se,ce,oe,on),JE.upload(X,Ri.uniformsList,r_,Xt)),Se.isShaderMaterial&&!0===Se.uniformsNeedUpdate&&(JE.upload(X,Ri.uniformsList,r_,Xt),Se.uniformsNeedUpdate=!1),Se.isSpriteMaterial&&Oa.setValue(X,"center",ze.center),Oa.setValue(X,"modelViewMatrix",ze.modelViewMatrix),Oa.setValue(X,"normalMatrix",ze.normalMatrix),Oa.setValue(X,"modelMatrix",ze.matrixWorld),Se.isShaderMaterial||Se.isRawShaderMaterial){const Ol=Se.uniformsGroups;for(let A5=0,O7e=Ol.length;A5<O7e;A5++)if(ct.isWebGL2){const mre=Ol[A5];Si.update(mre,s_),Si.bind(mre,s_)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return s_}(Q,Me,He,Se,ze);Ze.setMaterial(Se,kn);let jn=He.index,Di=1;if(!0===Se.wireframe){if(jn=te.getWireframeAttribute(He),void 0===jn)return;Di=2}const Yn=He.drawRange,ui=He.attributes.position;let pr=Yn.start*Di,Tr=(Yn.start+Yn.count)*Di;null!==Kt&&(pr=Math.max(pr,Kt.start*Di),Tr=Math.min(Tr,(Kt.start+Kt.count)*Di)),null!==jn?(pr=Math.max(pr,0),Tr=Math.min(Tr,jn.count)):null!=ui&&(pr=Math.max(pr,0),Tr=Math.min(Tr,ui.count));const Cc=Tr-pr;if(Cc<0||Cc===1/0)return;sn.setup(ze,Se,$n,He,jn);let Gh,Hr=vn;if(null!==jn&&(Gh=fr.get(jn),Hr=wn,Hr.setIndex(Gh)),ze.isMesh)!0===Se.wireframe?(Ze.setLineWidth(Se.wireframeLinewidth*bt()),Hr.setMode(X.LINES)):Hr.setMode(X.TRIANGLES);else if(ze.isLine){let Ri=Se.linewidth;void 0===Ri&&(Ri=1),Ze.setLineWidth(Ri*bt()),Hr.setMode(ze.isLineSegments?X.LINES:ze.isLineLoop?X.LINE_LOOP:X.LINE_STRIP)}else ze.isPoints?Hr.setMode(X.POINTS):ze.isSprite&&Hr.setMode(X.TRIANGLES);if(ze.isInstancedMesh)Hr.renderInstances(pr,Cc,ze.count);else if(He.isInstancedBufferGeometry){const S5=Math.min(He.instanceCount,void 0!==He._maxInstanceCount?He._maxInstanceCount:1/0);Hr.renderInstances(pr,Cc,S5)}else Hr.render(pr,Cc)},this.compile=function(Q,Me){function He(Se,ze,Kt){!0===Se.transparent&&Se.side===Zd&&!1===Se.forceSinglePass?(Se.side=Sa,Se.needsUpdate=!0,SI(Se,ze,Kt),Se.side=sh,Se.needsUpdate=!0,SI(Se,ze,Kt),Se.side=Zd):SI(Se,ze,Kt)}_=Mt.get(Q),_.init(),C.push(_),Q.traverseVisible(function(Se){Se.isLight&&Se.layers.test(Me.layers)&&(_.pushLight(Se),Se.castShadow&&_.pushShadow(Se))}),_.setupLights(w._useLegacyLights),Q.traverse(function(Se){const ze=Se.material;if(ze)if(Array.isArray(ze))for(let Kt=0;Kt<ze.length;Kt++)He(ze[Kt],Q,Se);else He(ze,Q,Se)}),C.pop(),_=null};let Br=null;function Ys(){Pa.stop()}function vu(){Pa.start()}const Pa=new Jj;function dre(Q,Me,He,Se){if(!1===Q.visible)return;if(Q.layers.test(Me.layers))if(Q.isGroup)He=Q.renderOrder;else if(Q.isLOD)!0===Q.autoUpdate&&Q.update(Me);else if(Q.isLight)_.pushLight(Q),Q.castShadow&&_.pushShadow(Q);else if(Q.isSprite){if(!Q.frustumCulled||ft.intersectsSprite(Q)){Se&&et.setFromMatrixPosition(Q.matrixWorld).applyMatrix4(yt);const kn=j.update(Q),$n=Q.material;$n.visible&&v.push(Q,kn,$n,He,et.z,null)}}else if((Q.isMesh||Q.isLine||Q.isPoints)&&(!Q.frustumCulled||ft.intersectsObject(Q))){const kn=j.update(Q),$n=Q.material;if(Se&&(void 0!==Q.boundingSphere?(null===Q.boundingSphere&&Q.computeBoundingSphere(),et.copy(Q.boundingSphere.center)):(null===kn.boundingSphere&&kn.computeBoundingSphere(),et.copy(kn.boundingSphere.center)),et.applyMatrix4(Q.matrixWorld).applyMatrix4(yt)),Array.isArray($n)){const jn=kn.groups;for(let Di=0,Yn=jn.length;Di<Yn;Di++){const ui=jn[Di],pr=$n[ui.materialIndex];pr&&pr.visible&&v.push(Q,kn,pr,He,et.z,ui)}}else $n.visible&&v.push(Q,kn,$n,He,et.z,null)}const Kt=Q.children;for(let kn=0,$n=Kt.length;kn<$n;kn++)dre(Kt[kn],Me,He,Se)}function ure(Q,Me,He,Se){const ze=Q.opaque,Kt=Q.transmissive,kn=Q.transparent;_.setupLightsView(He),!0===ot&&mn.setGlobalState(w.clippingPlanes,He),Kt.length>0&&function I7e(Q,Me,He,Se){const ze=ct.isWebGL2;null===on&&(on=new Qc(1,1,{generateMipmaps:!0,type:ke.has("EXT_color_buffer_half_float")?S0:lh,minFilter:Yf,samples:ze?4:0})),w.getDrawingBufferSize(jt),ze?on.setSize(jt.x,jt.y):on.setSize(SE(jt.x),SE(jt.y));const Kt=w.getRenderTarget();w.setRenderTarget(on),w.getClearColor(le),ue=w.getClearAlpha(),ue<1&&w.setClearColor(16777215,.5),w.clear();const kn=w.toneMapping;w.toneMapping=oh,TI(Q,He,Se),Xt.updateMultisampleRenderTarget(on),Xt.updateRenderTargetMipmap(on);let $n=!1;for(let jn=0,Di=Me.length;jn<Di;jn++){const Yn=Me[jn],ui=Yn.object,pr=Yn.geometry,Tr=Yn.material,Cc=Yn.group;if(Tr.side===Zd&&ui.layers.test(Se.layers)){const Gh=Tr.side;Tr.side=Sa,Tr.needsUpdate=!0,hre(ui,He,Se,pr,Tr,Cc),Tr.side=Gh,Tr.needsUpdate=!0,$n=!0}}!0===$n&&(Xt.updateMultisampleRenderTarget(on),Xt.updateRenderTargetMipmap(on)),w.setRenderTarget(Kt),w.setClearColor(le,ue),w.toneMapping=kn}(ze,Kt,Me,He),Se&&Ze.viewport(W.copy(Se)),ze.length>0&&TI(ze,Me,He),Kt.length>0&&TI(Kt,Me,He),kn.length>0&&TI(kn,Me,He),Ze.buffers.depth.setTest(!0),Ze.buffers.depth.setMask(!0),Ze.buffers.color.setMask(!0),Ze.setPolygonOffset(!1)}function TI(Q,Me,He){const Se=!0===Me.isScene?Me.overrideMaterial:null;for(let ze=0,Kt=Q.length;ze<Kt;ze++){const kn=Q[ze],$n=kn.object,jn=kn.geometry,Di=null===Se?kn.material:Se,Yn=kn.group;$n.layers.test(He.layers)&&hre($n,Me,He,jn,Di,Yn)}}function hre(Q,Me,He,Se,ze,Kt){Q.onBeforeRender(w,Me,He,Se,ze,Kt),Q.modelViewMatrix.multiplyMatrices(He.matrixWorldInverse,Q.matrixWorld),Q.normalMatrix.getNormalMatrix(Q.modelViewMatrix),ze.onBeforeRender(w,Me,He,Se,Q,Kt),!0===ze.transparent&&ze.side===Zd&&!1===ze.forceSinglePass?(ze.side=Sa,ze.needsUpdate=!0,w.renderBufferDirect(He,Me,Se,ze,Q,Kt),ze.side=sh,ze.needsUpdate=!0,w.renderBufferDirect(He,Me,Se,ze,Q,Kt),ze.side=Zd):w.renderBufferDirect(He,Me,Se,ze,Q,Kt),Q.onAfterRender(w,Me,He,Se,ze,Kt)}function SI(Q,Me,He){!0!==Me.isScene&&(Me=zt);const Se=xt.get(Q),ze=_.state.lights,kn=ze.state.version,$n=Ee.getParameters(Q,ze.state,_.state.shadowsArray,Me,He),jn=Ee.getProgramCacheKey($n);let Di=Se.programs;Se.environment=Q.isMeshStandardMaterial?Me.environment:null,Se.fog=Me.fog,Se.envMap=(Q.isMeshStandardMaterial?Ni:xn).get(Q.envMap||Se.environment),void 0===Di&&(Q.addEventListener("dispose",Wt),Di=new Map,Se.programs=Di);let Yn=Di.get(jn);if(void 0!==Yn){if(Se.currentProgram===Yn&&Se.lightsStateVersion===kn)return fre(Q,$n),Yn}else $n.uniforms=Ee.getUniforms(Q),Q.onBuild(He,$n,w),Q.onBeforeCompile($n,w),Yn=Ee.acquireProgram($n,jn),Di.set(jn,Yn),Se.uniforms=$n.uniforms;const ui=Se.uniforms;(!Q.isShaderMaterial&&!Q.isRawShaderMaterial||!0===Q.clipping)&&(ui.clippingPlanes=mn.uniform),fre(Q,$n),Se.needsLights=function P7e(Q){return Q.isMeshLambertMaterial||Q.isMeshToonMaterial||Q.isMeshPhongMaterial||Q.isMeshStandardMaterial||Q.isShadowMaterial||Q.isShaderMaterial&&!0===Q.lights}(Q),Se.lightsStateVersion=kn,Se.needsLights&&(ui.ambientLightColor.value=ze.state.ambient,ui.lightProbe.value=ze.state.probe,ui.directionalLights.value=ze.state.directional,ui.directionalLightShadows.value=ze.state.directionalShadow,ui.spotLights.value=ze.state.spot,ui.spotLightShadows.value=ze.state.spotShadow,ui.rectAreaLights.value=ze.state.rectArea,ui.ltc_1.value=ze.state.rectAreaLTC1,ui.ltc_2.value=ze.state.rectAreaLTC2,ui.pointLights.value=ze.state.point,ui.pointLightShadows.value=ze.state.pointShadow,ui.hemisphereLights.value=ze.state.hemi,ui.directionalShadowMap.value=ze.state.directionalShadowMap,ui.directionalShadowMatrix.value=ze.state.directionalShadowMatrix,ui.spotShadowMap.value=ze.state.spotShadowMap,ui.spotLightMatrix.value=ze.state.spotLightMatrix,ui.spotLightMap.value=ze.state.spotLightMap,ui.pointShadowMap.value=ze.state.pointShadowMap,ui.pointShadowMatrix.value=ze.state.pointShadowMatrix);const pr=Yn.getUniforms(),Tr=JE.seqWithValue(pr.seq,ui);return Se.currentProgram=Yn,Se.uniformsList=Tr,Yn}function fre(Q,Me){const He=xt.get(Q);He.outputColorSpace=Me.outputColorSpace,He.instancing=Me.instancing,He.instancingColor=Me.instancingColor,He.skinning=Me.skinning,He.morphTargets=Me.morphTargets,He.morphNormals=Me.morphNormals,He.morphColors=Me.morphColors,He.morphTargetsCount=Me.morphTargetsCount,He.numClippingPlanes=Me.numClippingPlanes,He.numIntersection=Me.numClipIntersection,He.vertexAlphas=Me.vertexAlphas,He.vertexTangents=Me.vertexTangents,He.toneMapping=Me.toneMapping}Pa.setAnimationLoop(function Ep(Q){Br&&Br(Q)}),typeof self<"u"&&Pa.setContext(self),this.setAnimationLoop=function(Q){Br=Q,de.setAnimationLoop(Q),null===Q?Pa.stop():Pa.start()},de.addEventListener("sessionstart",Ys),de.addEventListener("sessionend",vu),this.render=function(Q,Me){if(void 0===Me||!0===Me.isCamera){if(!0!==S){if(!0===Q.matrixWorldAutoUpdate&&Q.updateMatrixWorld(),null===Me.parent&&!0===Me.matrixWorldAutoUpdate&&Me.updateMatrixWorld(),!0===de.enabled&&!0===de.isPresenting&&(!0===de.cameraAutoUpdate&&de.updateCamera(Me),Me=de.getCamera()),!0===Q.isScene&&Q.onBeforeRender(w,Q,Me,H),_=Mt.get(Q,C.length),_.init(),C.push(_),yt.multiplyMatrices(Me.projectionMatrix,Me.matrixWorldInverse),ft.setFromProjectionMatrix(yt),kt=this.localClippingEnabled,ot=mn.init(this.clippingPlanes,kt),v=mt.get(Q,y.length),v.init(),y.push(v),dre(Q,Me,0,w.sortObjects),v.finish(),!0===w.sortObjects&&v.sort(pe,xe),this.info.render.frame++,!0===ot&&mn.beginShadows(),Tt.render(_.state.shadowsArray,Q,Me),!0===ot&&mn.endShadows(),!0===this.info.autoReset&&this.info.reset(),Re.render(v,Q),_.setupLights(w._useLegacyLights),Me.isArrayCamera){const Se=Me.cameras;for(let ze=0,Kt=Se.length;ze<Kt;ze++){const kn=Se[ze];ure(v,Q,kn,kn.viewport)}}else ure(v,Q,Me);null!==H&&(Xt.updateMultisampleRenderTarget(H),Xt.updateRenderTargetMipmap(H)),!0===Q.isScene&&Q.onAfterRender(w,Q,Me),sn.resetDefaultState(),$=-1,F=null,C.pop(),_=C.length>0?C[C.length-1]:null,y.pop(),v=y.length>0?y[y.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return O},this.getRenderTarget=function(){return H},this.setRenderTargetTextures=function(Q,Me,He){xt.get(Q.texture).__webglTexture=Me,xt.get(Q.depthTexture).__webglTexture=He;const Se=xt.get(Q);Se.__hasExternalTextures=!0,Se.__hasExternalTextures&&(Se.__autoAllocateDepthBuffer=void 0===He,Se.__autoAllocateDepthBuffer||!0===ke.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Se.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Q,Me){const He=xt.get(Q);He.__webglFramebuffer=Me,He.__useDefaultFramebuffer=void 0===Me},this.setRenderTarget=function(Q,Me=0,He=0){H=Q,R=Me,O=He;let Se=!0,ze=null,Kt=!1,kn=!1;if(Q){const jn=xt.get(Q);void 0!==jn.__useDefaultFramebuffer?(Ze.bindFramebuffer(X.FRAMEBUFFER,null),Se=!1):void 0===jn.__webglFramebuffer?Xt.setupRenderTarget(Q):jn.__hasExternalTextures&&Xt.rebindTextures(Q,xt.get(Q.texture).__webglTexture,xt.get(Q.depthTexture).__webglTexture);const Di=Q.texture;(Di.isData3DTexture||Di.isDataArrayTexture||Di.isCompressedArrayTexture)&&(kn=!0);const Yn=xt.get(Q).__webglFramebuffer;Q.isWebGLCubeRenderTarget?(ze=Array.isArray(Yn[Me])?Yn[Me][He]:Yn[Me],Kt=!0):ze=ct.isWebGL2&&Q.samples>0&&!1===Xt.useMultisampledRTT(Q)?xt.get(Q).__webglMultisampledFramebuffer:Array.isArray(Yn)?Yn[He]:Yn,W.copy(Q.viewport),re.copy(Q.scissor),we=Q.scissorTest}else W.copy(Ae).multiplyScalar(ce).floor(),re.copy(fe).multiplyScalar(ce).floor(),we=Ce;if(Ze.bindFramebuffer(X.FRAMEBUFFER,ze)&&ct.drawBuffers&&Se&&Ze.drawBuffers(Q,ze),Ze.viewport(W),Ze.scissor(re),Ze.setScissorTest(we),Kt){const jn=xt.get(Q.texture);X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_CUBE_MAP_POSITIVE_X+Me,jn.__webglTexture,He)}else if(kn){const jn=xt.get(Q.texture);X.framebufferTextureLayer(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,jn.__webglTexture,He||0,Me||0)}$=-1},this.readRenderTargetPixels=function(Q,Me,He,Se,ze,Kt,kn){if(!Q||!Q.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let $n=xt.get(Q).__webglFramebuffer;if(Q.isWebGLCubeRenderTarget&&void 0!==kn&&($n=$n[kn]),$n){Ze.bindFramebuffer(X.FRAMEBUFFER,$n);try{const jn=Q.texture,Di=jn.format,Yn=jn.type;if(Di!==bl&&nn.convert(Di)!==X.getParameter(X.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const ui=Yn===S0&&(ke.has("EXT_color_buffer_half_float")||ct.isWebGL2&&ke.has("EXT_color_buffer_float"));if(!(Yn===lh||nn.convert(Yn)===X.getParameter(X.IMPLEMENTATION_COLOR_READ_TYPE)||Yn===Kd&&(ct.isWebGL2||ke.has("OES_texture_float")||ke.has("WEBGL_color_buffer_float"))||ui))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Me>=0&&Me<=Q.width-Se&&He>=0&&He<=Q.height-ze&&X.readPixels(Me,He,Se,ze,nn.convert(Di),nn.convert(Yn),Kt)}finally{const jn=null!==H?xt.get(H).__webglFramebuffer:null;Ze.bindFramebuffer(X.FRAMEBUFFER,jn)}}},this.copyFramebufferToTexture=function(Q,Me,He=0){const Se=Math.pow(2,-He),ze=Math.floor(Me.image.width*Se),Kt=Math.floor(Me.image.height*Se);Xt.setTexture2D(Me,0),X.copyTexSubImage2D(X.TEXTURE_2D,He,0,0,Q.x,Q.y,ze,Kt),Ze.unbindTexture()},this.copyTextureToTexture=function(Q,Me,He,Se=0){const ze=Me.image.width,Kt=Me.image.height,kn=nn.convert(He.format),$n=nn.convert(He.type);Xt.setTexture2D(He,0),X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,He.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,He.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,He.unpackAlignment),Me.isDataTexture?X.texSubImage2D(X.TEXTURE_2D,Se,Q.x,Q.y,ze,Kt,kn,$n,Me.image.data):Me.isCompressedTexture?X.compressedTexSubImage2D(X.TEXTURE_2D,Se,Q.x,Q.y,Me.mipmaps[0].width,Me.mipmaps[0].height,kn,Me.mipmaps[0].data):X.texSubImage2D(X.TEXTURE_2D,Se,Q.x,Q.y,kn,$n,Me.image),0===Se&&He.generateMipmaps&&X.generateMipmap(X.TEXTURE_2D),Ze.unbindTexture()},this.copyTextureToTexture3D=function(Q,Me,He,Se,ze=0){if(w.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const Kt=Q.max.x-Q.min.x+1,kn=Q.max.y-Q.min.y+1,$n=Q.max.z-Q.min.z+1,jn=nn.convert(Se.format),Di=nn.convert(Se.type);let Yn;if(Se.isData3DTexture)Xt.setTexture3D(Se,0),Yn=X.TEXTURE_3D;else{if(!Se.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Xt.setTexture2DArray(Se,0),Yn=X.TEXTURE_2D_ARRAY}X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,Se.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Se.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,Se.unpackAlignment);const ui=X.getParameter(X.UNPACK_ROW_LENGTH),pr=X.getParameter(X.UNPACK_IMAGE_HEIGHT),Tr=X.getParameter(X.UNPACK_SKIP_PIXELS),Cc=X.getParameter(X.UNPACK_SKIP_ROWS),Gh=X.getParameter(X.UNPACK_SKIP_IMAGES),Hr=He.isCompressedTexture?He.mipmaps[0]:He.image;X.pixelStorei(X.UNPACK_ROW_LENGTH,Hr.width),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,Hr.height),X.pixelStorei(X.UNPACK_SKIP_PIXELS,Q.min.x),X.pixelStorei(X.UNPACK_SKIP_ROWS,Q.min.y),X.pixelStorei(X.UNPACK_SKIP_IMAGES,Q.min.z),He.isDataTexture||He.isData3DTexture?X.texSubImage3D(Yn,ze,Me.x,Me.y,Me.z,Kt,kn,$n,jn,Di,Hr.data):He.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),X.compressedTexSubImage3D(Yn,ze,Me.x,Me.y,Me.z,Kt,kn,$n,jn,Hr.data)):X.texSubImage3D(Yn,ze,Me.x,Me.y,Me.z,Kt,kn,$n,jn,Di,Hr),X.pixelStorei(X.UNPACK_ROW_LENGTH,ui),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,pr),X.pixelStorei(X.UNPACK_SKIP_PIXELS,Tr),X.pixelStorei(X.UNPACK_SKIP_ROWS,Cc),X.pixelStorei(X.UNPACK_SKIP_IMAGES,Gh),0===ze&&Se.generateMipmaps&&X.generateMipmap(Yn),Ze.unbindTexture()},this.initTexture=function(Q){Q.isCubeTexture?Xt.setTextureCube(Q,0):Q.isData3DTexture?Xt.setTexture3D(Q,0):Q.isDataArrayTexture||Q.isCompressedArrayTexture?Xt.setTexture2DArray(Q,0):Xt.setTexture2D(Q,0),Ze.unbindTexture()},this.resetState=function(){R=0,O=0,H=null,Ze.reset(),sn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Qd}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(t){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!t}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===As?jf:BN}set outputEncoding(t){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=t===jf?As:Kc}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(t){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=t}}class A9 extends E9{}A9.prototype.isWebGL1Renderer=!0;class eA{constructor(t,e=25e-5){this.isFogExp2=!0,this.name="",this.color=new $t(t),this.density=e}clone(){return new eA(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class tA{constructor(t,e=1,i=1e3){this.isFog=!0,this.name="",this.color=new $t(t),this.near=e,this.far=i}clone(){return new tA(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class k9 extends zs{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.object.backgroundIntensity=this.backgroundIntensity),e}}class nA{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=aC,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=xl()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let s=0,r=this.stride;s<r;s++)this.array[t+s]=e.array[i+s];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=xl()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=xl()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ea=new J;class Km{constructor(t,e,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)Ea.fromBufferAttribute(this,e),Ea.applyMatrix4(t),this.setXYZ(e,Ea.x,Ea.y,Ea.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Ea.fromBufferAttribute(this,e),Ea.applyNormalMatrix(t),this.setXYZ(e,Ea.x,Ea.y,Ea.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Ea.fromBufferAttribute(this,e),Ea.transformDirection(t),this.setXYZ(e,Ea.x,Ea.y,Ea.z);return this}setX(t,e){return this.normalized&&(e=si(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=si(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=si(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=si(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=Ka(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=Ka(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=Ka(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=Ka(e,this.array)),e}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=si(e,this.array),i=si(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,s){return t=t*this.data.stride+this.offset,this.normalized&&(e=si(e,this.array),i=si(i,this.array),s=si(s,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this}setXYZW(t,e,i,s,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=si(e,this.array),i=si(i,this.array),s=si(s,this.array),r=si(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this.data.array[t+3]=r,this}clone(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[s+r])}return new ys(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Km(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[s+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class b3 extends Uo{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new $t(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let K0;const bC=new J,Q0=new J,J0=new J,ey=new st,xC=new st,I9=new ei,iA=new J,wC=new J,sA=new J,L9=new st,x3=new st,R9=new st;class P9 extends zs{constructor(t){if(super(),this.isSprite=!0,this.type="Sprite",void 0===K0){K0=new mi;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new nA(e,5);K0.setIndex([0,1,2,0,2,3]),K0.setAttribute("position",new Km(i,3,0,!1)),K0.setAttribute("uv",new Km(i,2,3,!1))}this.geometry=K0,this.material=void 0!==t?t:new b3,this.center=new st(.5,.5)}raycast(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Q0.setFromMatrixScale(this.matrixWorld),I9.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),J0.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Q0.multiplyScalar(-J0.z);const i=this.material.rotation;let s,r;0!==i&&(r=Math.cos(i),s=Math.sin(i));const o=this.center;rA(iA.set(-.5,-.5,0),J0,o,Q0,s,r),rA(wC.set(.5,-.5,0),J0,o,Q0,s,r),rA(sA.set(.5,.5,0),J0,o,Q0,s,r),L9.set(0,0),x3.set(1,0),R9.set(1,1);let a=t.ray.intersectTriangle(iA,wC,sA,!1,bC);if(null===a&&(rA(wC.set(-.5,.5,0),J0,o,Q0,s,r),x3.set(0,1),a=t.ray.intersectTriangle(iA,sA,wC,!1,bC),null===a))return;const l=t.ray.origin.distanceTo(bC);l<t.near||l>t.far||e.push({distance:l,point:bC.clone(),uv:el.getInterpolation(bC,iA,wC,sA,L9,x3,R9,new st),face:null,object:this})}copy(t,e){return super.copy(t,e),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}function rA(n,t,e,i,s,r){ey.subVectors(n,e).addScalar(.5).multiply(i),void 0!==s?(xC.x=r*ey.x-s*ey.y,xC.y=s*ey.x+r*ey.y):xC.copy(ey),n.copy(t),n.x+=xC.x,n.y+=xC.y,n.applyMatrix4(I9)}const oA=new J,O9=new J;class F9 extends zs{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let i=0,s=e.length;i<s;i++){const r=e[i];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,i=0){e=Math.abs(e);const s=this.levels;let r;for(r=0;r<s.length&&!(e<s[r].distance);r++);return s.splice(r,0,{distance:e,hysteresis:i,object:t}),this.add(t),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let i,s;for(i=1,s=e.length;i<s;i++){let r=e[i].distance;if(e[i].object.visible&&(r-=r*e[i].hysteresis),t<r)break}return e[i-1].object}return null}raycast(t,e){if(this.levels.length>0){oA.setFromMatrixPosition(this.matrixWorld);const s=t.ray.origin.distanceTo(oA);this.getObjectForDistance(s).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){oA.setFromMatrixPosition(t.matrixWorld),O9.setFromMatrixPosition(this.matrixWorld);const i=oA.distanceTo(O9)/t.zoom;let s,r;for(e[0].object.visible=!0,s=1,r=e.length;s<r;s++){let o=e[s].distance;if(e[s].object.visible&&(o-=o*e[s].hysteresis),!(i>=o))break;e[s-1].object.visible=!1,e[s].object.visible=!0}for(this._currentLevel=s-1;s<r;s++)e[s].object.visible=!1}}toJSON(t){const e=super.toJSON(t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];const i=this.levels;for(let s=0,r=i.length;s<r;s++){const o=i[s];e.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return e}}const N9=new J,V9=new rs,B9=new rs,pCe=new J,H9=new ei,ty=new J,w3=new Jc,z9=new ei,C3=new O0;class U9 extends Lo{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ei,this.bindMatrixInverse=new ei,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;null===this.boundingBox&&(this.boundingBox=new Jd),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)ty.fromBufferAttribute(e,i),this.applyBoneTransform(i,ty),this.boundingBox.expandByPoint(ty)}computeBoundingSphere(){const t=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Jc),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)ty.fromBufferAttribute(e,i),this.applyBoneTransform(i,ty),this.boundingSphere.expandByPoint(ty)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const s=this.matrixWorld;void 0!==this.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),w3.copy(this.boundingSphere),w3.applyMatrix4(s),!1!==t.ray.intersectsSphere(w3)&&(z9.copy(s).invert(),C3.copy(t.ray).applyMatrix4(z9),(null===this.boundingBox||!1!==C3.intersectsBox(this.boundingBox))&&this._computeIntersections(t,e,C3)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new rs,e=this.geometry.attributes.skinWeight;for(let i=0,s=e.count;i<s;i++){t.fromBufferAttribute(e,i);const r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const i=this.skeleton,s=this.geometry;V9.fromBufferAttribute(s.attributes.skinIndex,t),B9.fromBufferAttribute(s.attributes.skinWeight,t),N9.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let r=0;r<4;r++){const o=B9.getComponent(r);if(0!==o){const a=V9.getComponent(r);H9.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),e.addScaledVector(pCe.copy(N9).applyMatrix4(H9),o)}}return e.applyMatrix4(this.bindMatrixInverse)}boneTransform(t,e){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(t,e)}}class M3 extends zs{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ny extends Qa{constructor(t=null,e=1,i=1,s,r,o,a,l,c=xr,d=xr,u,f){super(null,o,a,l,c,d,s,r,u,f),this.isDataTexture=!0,this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const W9=new ei,mCe=new ei;class aA{constructor(t=[],e=[]){this.uuid=xl(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new ei)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const i=new ei;this.bones[t]&&i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&i.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let r=0,o=t.length;r<o;r++)W9.multiplyMatrices(t[r]?t[r].matrixWorld:mCe,e[r]),W9.toArray(i,16*r);null!==s&&(s.needsUpdate=!0)}clone(){return new aA(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length);t=Aj(t),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const i=new ny(e,t,t,bl,Kd);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this.boneTextureSize=t,this}getBoneByName(t){for(let e=0,i=this.bones.length;e<i;e++){const s=this.bones[e];if(s.name===t)return s}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,s=t.bones.length;i<s;i++){const r=t.bones[i];let o=e[r];void 0===o&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),o=new M3),this.bones.push(o),this.boneInverses.push((new ei).fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let s=0,r=e.length;s<r;s++)t.bones.push(e[s].uuid),t.boneInverses.push(i[s].toArray());return t}}class iy extends ys{constructor(t,e,i,s=1){super(t,e,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const sy=new ei,Y9=new ei,lA=[],G9=new Jd,gCe=new ei,CC=new Lo,MC=new Jc;class $9 extends Lo{constructor(t,e,i){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new iy(new Float32Array(16*i),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<i;s++)this.setMatrixAt(s,gCe)}computeBoundingBox(){const t=this.geometry,e=this.count;null===this.boundingBox&&(this.boundingBox=new Jd),null===t.boundingBox&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,sy),G9.copy(t.boundingBox).applyMatrix4(sy),this.boundingBox.union(G9)}computeBoundingSphere(){const t=this.geometry,e=this.count;null===this.boundingSphere&&(this.boundingSphere=new Jc),null===t.boundingSphere&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,sy),MC.copy(t.boundingSphere).applyMatrix4(sy),this.boundingSphere.union(MC)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,16*t)}raycast(t,e){const i=this.matrixWorld,s=this.count;if(CC.geometry=this.geometry,CC.material=this.material,void 0!==CC.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),MC.copy(this.boundingSphere),MC.applyMatrix4(i),!1!==t.ray.intersectsSphere(MC)))for(let r=0;r<s;r++){this.getMatrixAt(r,sy),Y9.multiplyMatrices(i,sy),CC.matrixWorld=Y9,CC.raycast(t,lA);for(let o=0,a=lA.length;o<a;o++){const l=lA[o];l.instanceId=r,l.object=this,e.push(l)}lA.length=0}}setColorAt(t,e){null===this.instanceColor&&(this.instanceColor=new iy(new Float32Array(3*this.instanceMatrix.count),3)),e.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,16*t)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Aa extends Uo{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new $t(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const j9=new J,X9=new J,q9=new ei,T3=new O0,cA=new Jc;class np extends zs{constructor(t=new mi,e=new Aa){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,i=[0];for(let s=1,r=e.count;s<r;s++)j9.fromBufferAttribute(e,s-1),X9.fromBufferAttribute(e,s),i[s]=i[s-1],i[s]+=j9.distanceTo(X9);t.setAttribute("lineDistance",new en(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,r=t.params.Line.threshold,o=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),cA.copy(i.boundingSphere),cA.applyMatrix4(s),cA.radius+=r,!1===t.ray.intersectsSphere(cA))return;q9.copy(s).invert(),T3.copy(t.ray).applyMatrix4(q9);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new J,d=new J,u=new J,f=new J,m=this.isLineSegments?2:1,g=i.index,_=i.attributes.position;if(null!==g)for(let w=Math.max(0,o.start),S=Math.min(g.count,o.start+o.count)-1;w<S;w+=m){const R=g.getX(w),O=g.getX(w+1);if(c.fromBufferAttribute(_,R),d.fromBufferAttribute(_,O),T3.distanceSqToSegment(c,d,f,u)>l)continue;f.applyMatrix4(this.matrixWorld);const $=t.ray.origin.distanceTo(f);$<t.near||$>t.far||e.push({distance:$,point:u.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}else for(let w=Math.max(0,o.start),S=Math.min(_.count,o.start+o.count)-1;w<S;w+=m){if(c.fromBufferAttribute(_,w),d.fromBufferAttribute(_,w+1),T3.distanceSqToSegment(c,d,f,u)>l)continue;f.applyMatrix4(this.matrixWorld);const O=t.ray.origin.distanceTo(f);O<t.near||O>t.far||e.push({distance:O,point:u.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(void 0!==s){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const a=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}const Z9=new J,K9=new J;class tu extends np{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,i=[];for(let s=0,r=e.count;s<r;s+=2)Z9.fromBufferAttribute(e,s),K9.fromBufferAttribute(e,s+1),i[s]=0===s?0:i[s-1],i[s+1]=i[s]+Z9.distanceTo(K9);t.setAttribute("lineDistance",new en(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Q9 extends np{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class S3 extends Uo{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new $t(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const J9=new ei,D3=new O0,dA=new Jc,uA=new J;class eX extends zs{constructor(t=new mi,e=new S3){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,r=t.params.Points.threshold,o=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),dA.copy(i.boundingSphere),dA.applyMatrix4(s),dA.radius+=r,!1===t.ray.intersectsSphere(dA))return;J9.copy(s).invert(),D3.copy(t.ray).applyMatrix4(J9);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,u=i.attributes.position;if(null!==c)for(let g=Math.max(0,o.start),v=Math.min(c.count,o.start+o.count);g<v;g++){const _=c.getX(g);uA.fromBufferAttribute(u,_),tX(uA,_,l,s,t,e,this)}else for(let g=Math.max(0,o.start),v=Math.min(u.count,o.start+o.count);g<v;g++)uA.fromBufferAttribute(u,g),tX(uA,g,l,s,t,e,this)}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(void 0!==s){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const a=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}function tX(n,t,e,i,s,r,o){const a=D3.distanceSqToPoint(n);if(a<e){const l=new J;D3.closestPointToPoint(n,l),l.applyMatrix4(i);const c=s.ray.origin.distanceTo(l);if(c<s.near||c>s.far)return;r.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:t,face:null,object:o})}}class _Ce extends Qa{constructor(t,e,i,s,r,o,a,l,c){super(t,e,i,s,r,o,a,l,c),this.isVideoTexture=!0,this.minFilter=void 0!==o?o:wr,this.magFilter=void 0!==r?r:wr,this.generateMipmaps=!1;const d=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(function u(){d.needsUpdate=!0,t.requestVideoFrameCallback(u)})}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t==0&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class vCe extends Qa{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=xr,this.minFilter=xr,this.generateMipmaps=!1,this.needsUpdate=!0}}class hA extends Qa{constructor(t,e,i,s,r,o,a,l,c,d,u,f){super(null,o,a,l,c,d,s,r,u,f),this.isCompressedTexture=!0,this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class yCe extends hA{constructor(t,e,i,s,r,o){super(t,e,i,r,o),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=Ho}}class bCe extends hA{constructor(t,e,i){super(void 0,t[0].width,t[0].height,e,i,ah),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class xCe extends Qa{constructor(t,e,i,s,r,o,a,l,c){super(t,e,i,s,r,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class sd{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,s=this.getPoint(0),r=0;e.push(0);for(let o=1;o<=t;o++)i=this.getPoint(o/t),r+=i.distanceTo(s),e.push(r),s=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const i=this.getLengths();let s=0;const r=i.length;let o;o=e||t*i[r-1];let c,a=0,l=r-1;for(;a<=l;)if(s=Math.floor(a+(l-a)/2),c=i[s]-o,c<0)a=s+1;else{if(!(c>0)){l=s;break}l=s-1}if(s=l,i[s]===o)return s/(r-1);const d=i[s];return(s+(o-d)/(i[s+1]-d))/(r-1)}getTangent(t,e){let s=t-1e-4,r=t+1e-4;s<0&&(s=0),r>1&&(r=1);const o=this.getPoint(s),a=this.getPoint(r),l=e||(o.isVector2?new st:new J);return l.copy(a).sub(o).normalize(),l}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e){const i=new J,s=[],r=[],o=[],a=new J,l=new ei;for(let m=0;m<=t;m++)s[m]=this.getTangentAt(m/t,new J);r[0]=new J,o[0]=new J;let c=Number.MAX_VALUE;const d=Math.abs(s[0].x),u=Math.abs(s[0].y),f=Math.abs(s[0].z);d<=c&&(c=d,i.set(1,0,0)),u<=c&&(c=u,i.set(0,1,0)),f<=c&&i.set(0,0,1),a.crossVectors(s[0],i).normalize(),r[0].crossVectors(s[0],a),o[0].crossVectors(s[0],r[0]);for(let m=1;m<=t;m++){if(r[m]=r[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(s[m-1],s[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(dr(s[m-1].dot(s[m]),-1,1));r[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(s[m],r[m])}if(!0===e){let m=Math.acos(dr(r[0].dot(r[t]),-1,1));m/=t,s[0].dot(a.crossVectors(r[0],r[t]))>0&&(m=-m);for(let g=1;g<=t;g++)r[g].applyMatrix4(l.makeRotationAxis(s[g],m*g)),o[g].crossVectors(s[g],r[g])}return{tangents:s,normals:r,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class fA extends sd{constructor(t=0,e=0,i=1,s=1,r=0,o=2*Math.PI,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=s,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(t,e){const i=e||new st,s=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=s;for(;r>s;)r-=s;r<Number.EPSILON&&(r=o?0:s),!0===this.aClockwise&&!o&&(r===s?r=-s:r-=s);const a=this.aStartAngle+t*r;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const d=Math.cos(this.aRotation),u=Math.sin(this.aRotation),f=l-this.aX,m=c-this.aY;l=f*d-m*u+this.aX,c=f*u+m*d+this.aY}return i.set(l,c)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class nX extends fA{constructor(t,e,i,s,r,o){super(t,e,i,i,s,r,o),this.isArcCurve=!0,this.type="ArcCurve"}}function E3(){let n=0,t=0,e=0,i=0;function s(r,o,a,l){n=r,t=a,e=-3*r+3*o-2*a-l,i=2*r-2*o+a+l}return{initCatmullRom:function(r,o,a,l,c){s(o,a,c*(a-r),c*(l-o))},initNonuniformCatmullRom:function(r,o,a,l,c,d,u){let f=(o-r)/c-(a-r)/(c+d)+(a-o)/d,m=(a-o)/d-(l-o)/(d+u)+(l-a)/u;f*=d,m*=d,s(o,a,f,m)},calc:function(r){const o=r*r;return n+t*r+e*o+i*(o*r)}}}const pA=new J,A3=new E3,k3=new E3,I3=new E3;class iX extends sd{constructor(t=[],e=!1,i="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=s}getPoint(t,e=new J){const i=e,s=this.points,r=s.length,o=(r-(this.closed?0:1))*t;let c,d,a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/r)+1)*r:0===l&&a===r-1&&(a=r-2,l=1),this.closed||a>0?c=s[(a-1)%r]:(pA.subVectors(s[0],s[1]).add(s[0]),c=pA);const u=s[a%r],f=s[(a+1)%r];if(this.closed||a+2<r?d=s[(a+2)%r]:(pA.subVectors(s[r-1],s[r-2]).add(s[r-1]),d=pA),"centripetal"===this.curveType||"chordal"===this.curveType){const m="chordal"===this.curveType?.5:.25;let g=Math.pow(c.distanceToSquared(u),m),v=Math.pow(u.distanceToSquared(f),m),_=Math.pow(f.distanceToSquared(d),m);v<1e-4&&(v=1),g<1e-4&&(g=v),_<1e-4&&(_=v),A3.initNonuniformCatmullRom(c.x,u.x,f.x,d.x,g,v,_),k3.initNonuniformCatmullRom(c.y,u.y,f.y,d.y,g,v,_),I3.initNonuniformCatmullRom(c.z,u.z,f.z,d.z,g,v,_)}else"catmullrom"===this.curveType&&(A3.initCatmullRom(c.x,u.x,f.x,d.x,this.tension),k3.initCatmullRom(c.y,u.y,f.y,d.y,this.tension),I3.initCatmullRom(c.z,u.z,f.z,d.z,this.tension));return i.set(A3.calc(l),k3.calc(l),I3.calc(l)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++)this.points.push(t.points[e].clone());return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++)t.points.push(this.points[e].toArray());return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push((new J).fromArray(s))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function sX(n,t,e,i,s){const r=.5*(i-t),o=.5*(s-e),a=n*n;return(2*e-2*i+r+o)*(n*a)+(-3*e+3*i-2*r-o)*a+r*n+e}function TC(n,t,e,i){return function wCe(n,t){const e=1-n;return e*e*t}(n,t)+function CCe(n,t){return 2*(1-n)*n*t}(n,e)+function MCe(n,t){return n*n*t}(n,i)}function SC(n,t,e,i,s){return function TCe(n,t){const e=1-n;return e*e*e*t}(n,t)+function SCe(n,t){const e=1-n;return 3*e*e*n*t}(n,e)+function DCe(n,t){return 3*(1-n)*n*n*t}(n,i)+function ECe(n,t){return n*n*n*t}(n,s)}class L3 extends sd{constructor(t=new st,e=new st,i=new st,s=new st){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new st){const i=e,s=this.v0,r=this.v1,o=this.v2,a=this.v3;return i.set(SC(t,s.x,r.x,o.x,a.x),SC(t,s.y,r.y,o.y,a.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class rX extends sd{constructor(t=new J,e=new J,i=new J,s=new J){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new J){const i=e,s=this.v0,r=this.v1,o=this.v2,a=this.v3;return i.set(SC(t,s.x,r.x,o.x,a.x),SC(t,s.y,r.y,o.y,a.y),SC(t,s.z,r.z,o.z,a.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class mA extends sd{constructor(t=new st,e=new st){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new st){const i=e;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new st){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class oX extends sd{constructor(t=new J,e=new J){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new J){const i=e;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new J){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class R3 extends sd{constructor(t=new st,e=new st,i=new st){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new st){const i=e,s=this.v0,r=this.v1,o=this.v2;return i.set(TC(t,s.x,r.x,o.x),TC(t,s.y,r.y,o.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class P3 extends sd{constructor(t=new J,e=new J,i=new J){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new J){const i=e,s=this.v0,r=this.v1,o=this.v2;return i.set(TC(t,s.x,r.x,o.x),TC(t,s.y,r.y,o.y),TC(t,s.z,r.z,o.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class O3 extends sd{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new st){const i=e,s=this.points,r=(s.length-1)*t,o=Math.floor(r),a=r-o,l=s[0===o?o:o-1],c=s[o],d=s[o>s.length-2?s.length-1:o+1],u=s[o>s.length-3?s.length-1:o+2];return i.set(sX(a,l.x,c.x,d.x,u.x),sX(a,l.y,c.y,d.y,u.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++)this.points.push(t.points[e].clone());return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++)t.points.push(this.points[e].toArray());return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push((new st).fromArray(s))}return this}}var F3=Object.freeze({__proto__:null,ArcCurve:nX,CatmullRomCurve3:iX,CubicBezierCurve:L3,CubicBezierCurve3:rX,EllipseCurve:fA,LineCurve:mA,LineCurve3:oX,QuadraticBezierCurve:R3,QuadraticBezierCurve3:P3,SplineCurve:O3});class aX extends sd{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new mA(e,t))}getPoint(t,e){const i=t*this.getLength(),s=this.getCurveLengths();let r=0;for(;r<s.length;){if(s[r]>=i){const o=s[r]-i,a=this.curves[r],l=a.getLength();return a.getPointAt(0===l?0:1-o/l,e)}r++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,s=this.curves.length;i<s;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let s=0,r=this.curves;s<r.length;s++){const o=r[s],l=o.getPoints(o.isEllipseCurve?2*t:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?t*o.points.length:t);for(let c=0;c<l.length;c++){const d=l[c];i&&i.equals(d)||(e.push(d),i=d)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++)this.curves.push(t.curves[e].clone());return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++)t.curves.push(this.curves[e].toJSON());return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const s=t.curves[e];this.curves.push((new F3[s.type]).fromJSON(s))}return this}}class DC extends aX{constructor(t){super(),this.type="Path",this.currentPoint=new st,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new mA(this.currentPoint.clone(),new st(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,s){const r=new R3(this.currentPoint.clone(),new st(t,e),new st(i,s));return this.curves.push(r),this.currentPoint.set(i,s),this}bezierCurveTo(t,e,i,s,r,o){const a=new L3(this.currentPoint.clone(),new st(t,e),new st(i,s),new st(r,o));return this.curves.push(a),this.currentPoint.set(r,o),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new O3(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,s,r,o){return this.absarc(t+this.currentPoint.x,e+this.currentPoint.y,i,s,r,o),this}absarc(t,e,i,s,r,o){return this.absellipse(t,e,i,i,s,r,o),this}ellipse(t,e,i,s,r,o,a,l){return this.absellipse(t+this.currentPoint.x,e+this.currentPoint.y,i,s,r,o,a,l),this}absellipse(t,e,i,s,r,o,a,l){const c=new fA(t,e,i,s,r,o,a,l);if(this.curves.length>0){const u=c.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class EC extends mi{constructor(t=[new st(0,-.5),new st(.5,0),new st(0,.5)],e=12,i=0,s=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:s},e=Math.floor(e),s=dr(s,0,2*Math.PI);const r=[],o=[],a=[],l=[],c=[],d=1/e,u=new J,f=new st,m=new J,g=new J,v=new J;let _=0,y=0;for(let C=0;C<=t.length-1;C++)switch(C){case 0:_=t[C+1].x-t[C].x,y=t[C+1].y-t[C].y,m.x=1*y,m.y=-_,m.z=0*y,v.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case t.length-1:l.push(v.x,v.y,v.z);break;default:_=t[C+1].x-t[C].x,y=t[C+1].y-t[C].y,m.x=1*y,m.y=-_,m.z=0*y,g.copy(m),m.x+=v.x,m.y+=v.y,m.z+=v.z,m.normalize(),l.push(m.x,m.y,m.z),v.copy(g)}for(let C=0;C<=e;C++){const w=i+C*d*s,S=Math.sin(w),R=Math.cos(w);for(let O=0;O<=t.length-1;O++)u.x=t[O].x*S,u.y=t[O].y,u.z=t[O].x*R,o.push(u.x,u.y,u.z),f.x=C/e,f.y=O/(t.length-1),a.push(f.x,f.y),c.push(l[3*O+0]*S,l[3*O+1],l[3*O+0]*R)}for(let C=0;C<e;C++)for(let w=0;w<t.length-1;w++){const S=w+C*t.length,O=S+t.length,H=S+t.length+1,$=S+1;r.push(S,O,$),r.push(H,$,O)}this.setIndex(r),this.setAttribute("position",new en(o,3)),this.setAttribute("uv",new en(a,2)),this.setAttribute("normal",new en(c,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new EC(t.points,t.segments,t.phiStart,t.phiLength)}}class gA extends EC{constructor(t=1,e=1,i=4,s=8){const r=new DC;r.absarc(0,-e/2,t,1.5*Math.PI,0),r.absarc(0,e/2,t,0,.5*Math.PI),super(r.getPoints(i),s),this.type="CapsuleGeometry",this.parameters={radius:t,length:e,capSegments:i,radialSegments:s}}static fromJSON(t){return new gA(t.radius,t.length,t.capSegments,t.radialSegments)}}class _A extends mi{constructor(t=1,e=32,i=0,s=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:s},e=Math.max(3,e);const r=[],o=[],a=[],l=[],c=new J,d=new st;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let u=0,f=3;u<=e;u++,f+=3){const m=i+u/e*s;c.x=t*Math.cos(m),c.y=t*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),d.x=(o[f]/t+1)/2,d.y=(o[f+1]/t+1)/2,l.push(d.x,d.y)}for(let u=1;u<=e;u++)r.push(u,u+1,0);this.setIndex(r),this.setAttribute("position",new en(o,3)),this.setAttribute("normal",new en(a,3)),this.setAttribute("uv",new en(l,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new _A(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class ry extends mi{constructor(t=1,e=1,i=1,s=32,r=1,o=!1,a=0,l=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:s,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:l};const c=this;s=Math.floor(s),r=Math.floor(r);const d=[],u=[],f=[],m=[];let g=0;const v=[],_=i/2;let y=0;function w(S){const R=g,O=new st,H=new J;let $=0;const F=!0===S?t:e,W=!0===S?1:-1;for(let we=1;we<=s;we++)u.push(0,_*W,0),f.push(0,W,0),m.push(.5,.5),g++;const re=g;for(let we=0;we<=s;we++){const ue=we/s*l+a,he=Math.cos(ue),oe=Math.sin(ue);H.x=F*oe,H.y=_*W,H.z=F*he,u.push(H.x,H.y,H.z),f.push(0,W,0),O.x=.5*he+.5,O.y=.5*oe*W+.5,m.push(O.x,O.y),g++}for(let we=0;we<s;we++){const le=R+we,ue=re+we;!0===S?d.push(ue,ue+1,le):d.push(ue+1,ue,le),$+=3}c.addGroup(y,$,!0===S?1:2),y+=$}(function C(){const S=new J,R=new J;let O=0;const H=(e-t)/i;for(let $=0;$<=r;$++){const F=[],W=$/r,re=W*(e-t)+t;for(let we=0;we<=s;we++){const le=we/s,ue=le*l+a,he=Math.sin(ue),oe=Math.cos(ue);R.x=re*he,R.y=-W*i+_,R.z=re*oe,u.push(R.x,R.y,R.z),S.set(he,H,oe).normalize(),f.push(S.x,S.y,S.z),m.push(le,1-W),F.push(g++)}v.push(F)}for(let $=0;$<s;$++)for(let F=0;F<r;F++){const re=v[F+1][$],we=v[F+1][$+1],le=v[F][$+1];d.push(v[F][$],re,le),d.push(re,we,le),O+=6}c.addGroup(y,O,0),y+=O})(),!1===o&&(t>0&&w(!0),e>0&&w(!1)),this.setIndex(d),this.setAttribute("position",new en(u,3)),this.setAttribute("normal",new en(f,3)),this.setAttribute("uv",new en(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ry(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class vA extends ry{constructor(t=1,e=1,i=32,s=1,r=!1,o=0,a=2*Math.PI){super(0,t,e,i,s,r,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:s,openEnded:r,thetaStart:o,thetaLength:a}}static fromJSON(t){return new vA(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class ip extends mi{constructor(t=[],e=[],i=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:s};const r=[],o=[];function l(C,w,S,R){const O=R+1,H=[];for(let $=0;$<=O;$++){H[$]=[];const F=C.clone().lerp(S,$/O),W=w.clone().lerp(S,$/O),re=O-$;for(let we=0;we<=re;we++)H[$][we]=0===we&&$===O?F:F.clone().lerp(W,we/re)}for(let $=0;$<O;$++)for(let F=0;F<2*(O-$)-1;F++){const W=Math.floor(F/2);F%2==0?(f(H[$][W+1]),f(H[$+1][W]),f(H[$][W])):(f(H[$][W+1]),f(H[$+1][W+1]),f(H[$+1][W]))}}function f(C){r.push(C.x,C.y,C.z)}function m(C,w){const S=3*C;w.x=t[S+0],w.y=t[S+1],w.z=t[S+2]}function v(C,w,S,R){R<0&&1===C.x&&(o[w]=C.x-1),0===S.x&&0===S.z&&(o[w]=R/2/Math.PI+.5)}function _(C){return Math.atan2(C.z,-C.x)}function y(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}(function a(C){const w=new J,S=new J,R=new J;for(let O=0;O<e.length;O+=3)m(e[O+0],w),m(e[O+1],S),m(e[O+2],R),l(w,S,R,C)})(s),function c(C){const w=new J;for(let S=0;S<r.length;S+=3)w.x=r[S+0],w.y=r[S+1],w.z=r[S+2],w.normalize().multiplyScalar(C),r[S+0]=w.x,r[S+1]=w.y,r[S+2]=w.z}(i),function d(){const C=new J;for(let w=0;w<r.length;w+=3){C.x=r[w+0],C.y=r[w+1],C.z=r[w+2];const S=_(C)/2/Math.PI+.5,R=y(C)/Math.PI+.5;o.push(S,1-R)}(function g(){const C=new J,w=new J,S=new J,R=new J,O=new st,H=new st,$=new st;for(let F=0,W=0;F<r.length;F+=9,W+=6){C.set(r[F+0],r[F+1],r[F+2]),w.set(r[F+3],r[F+4],r[F+5]),S.set(r[F+6],r[F+7],r[F+8]),O.set(o[W+0],o[W+1]),H.set(o[W+2],o[W+3]),$.set(o[W+4],o[W+5]),R.copy(C).add(w).add(S).divideScalar(3);const re=_(R);v(O,W+0,C,re),v(H,W+2,w,re),v($,W+4,S,re)}})(),function u(){for(let C=0;C<o.length;C+=6){const w=o[C+0],S=o[C+2],R=o[C+4],O=Math.max(w,S,R),H=Math.min(w,S,R);O>.9&&H<.1&&(w<.2&&(o[C+0]+=1),S<.2&&(o[C+2]+=1),R<.2&&(o[C+4]+=1))}}()}(),this.setAttribute("position",new en(r,3)),this.setAttribute("normal",new en(r.slice(),3)),this.setAttribute("uv",new en(o,2)),0===s?this.computeVertexNormals():this.normalizeNormals()}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ip(t.vertices,t.indices,t.radius,t.details)}}class yA extends ip{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,s=1/i;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new yA(t.radius,t.detail)}}const bA=new J,xA=new J,N3=new J,wA=new el;class lX extends mi{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},null!==t){const s=Math.pow(10,4),r=Math.cos(Um*e),o=t.getIndex(),a=t.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],d=["a","b","c"],u=new Array(3),f={},m=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:v,b:_,c:y}=wA;if(v.fromBufferAttribute(a,c[0]),_.fromBufferAttribute(a,c[1]),y.fromBufferAttribute(a,c[2]),wA.getNormal(N3),u[0]=`${Math.round(v.x*s)},${Math.round(v.y*s)},${Math.round(v.z*s)}`,u[1]=`${Math.round(_.x*s)},${Math.round(_.y*s)},${Math.round(_.z*s)}`,u[2]=`${Math.round(y.x*s)},${Math.round(y.y*s)},${Math.round(y.z*s)}`,u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let C=0;C<3;C++){const w=(C+1)%3,S=u[C],R=u[w],O=wA[d[C]],H=wA[d[w]],$=`${S}_${R}`,F=`${R}_${S}`;F in f&&f[F]?(N3.dot(f[F].normal)<=r&&(m.push(O.x,O.y,O.z),m.push(H.x,H.y,H.z)),f[F]=null):$ in f||(f[$]={index0:c[C],index1:c[w],normal:N3.clone()})}}for(const g in f)if(f[g]){const{index0:v,index1:_}=f[g];bA.fromBufferAttribute(a,v),xA.fromBufferAttribute(a,_),m.push(bA.x,bA.y,bA.z),m.push(xA.x,xA.y,xA.z)}this.setAttribute("position",new en(m,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class Qm extends DC{constructor(t){super(t),this.uuid=xl(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,s=this.holes.length;i<s;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++)this.holes.push(t.holes[e].clone());return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++)t.holes.push(this.holes[e].toJSON());return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const s=t.holes[e];this.holes.push((new DC).fromJSON(s))}return this}}function cX(n,t,e,i,s){let r,o;if(s===function GCe(n,t,e,i){let s=0;for(let r=t,o=e-i;r<e;r+=i)s+=(n[o]-n[r])*(n[r+1]+n[o+1]),o=r;return s}(n,t,e,i)>0)for(r=t;r<e;r+=i)o=hX(r,n[r],n[r+1],o);else for(r=e-i;r>=t;r-=i)o=hX(r,n[r],n[r+1],o);return o&&CA(o,o.next)&&(IC(o),o=o.next),o}function Jm(n,t){if(!n)return n;t||(t=n);let i,e=n;do{if(i=!1,e.steiner||!CA(e,e.next)&&0!==ir(e.prev,e,e.next))e=e.next;else{if(IC(e),e=t=e.prev,e===e.next)break;i=!0}}while(i||e!==t);return t}function AC(n,t,e,i,s,r,o){if(!n)return;!o&&r&&function BCe(n,t,e,i){let s=n;do{0===s.z&&(s.z=V3(s.x,s.y,t,e,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next}while(s!==n);s.prevZ.nextZ=null,s.prevZ=null,function HCe(n){let t,e,i,s,r,o,a,l,c=1;do{for(e=n,n=null,r=null,o=0;e;){for(o++,i=e,a=0,t=0;t<c&&(a++,i=i.nextZ,i);t++);for(l=c;a>0||l>0&&i;)0!==a&&(0===l||!i||e.z<=i.z)?(s=e,e=e.nextZ,a--):(s=i,i=i.nextZ,l--),r?r.nextZ=s:n=s,s.prevZ=r,r=s;e=i}r.nextZ=null,c*=2}while(o>1)}(s)}(n,i,s,r);let l,c,a=n;for(;n.prev!==n.next;)if(l=n.prev,c=n.next,r?ICe(n,i,s,r):kCe(n))t.push(l.i/e|0),t.push(n.i/e|0),t.push(c.i/e|0),IC(n),n=c.next,a=c.next;else if((n=c)===a){o?1===o?AC(n=LCe(Jm(n),t,e),t,e,i,s,r,2):2===o&&RCe(n,t,e,i,s,r):AC(Jm(n),t,e,i,s,r,1);break}}function kCe(n){const t=n.prev,e=n,i=n.next;if(ir(t,e,i)>=0)return!1;const s=t.x,r=e.x,o=i.x,a=t.y,l=e.y,c=i.y,d=s<r?s<o?s:o:r<o?r:o,u=a<l?a<c?a:c:l<c?l:c,f=s>r?s>o?s:o:r>o?r:o,m=a>l?a>c?a:c:l>c?l:c;let g=i.next;for(;g!==t;){if(g.x>=d&&g.x<=f&&g.y>=u&&g.y<=m&&oy(s,a,r,l,o,c,g.x,g.y)&&ir(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function ICe(n,t,e,i){const s=n.prev,r=n,o=n.next;if(ir(s,r,o)>=0)return!1;const a=s.x,l=r.x,c=o.x,d=s.y,u=r.y,f=o.y,m=a<l?a<c?a:c:l<c?l:c,g=d<u?d<f?d:f:u<f?u:f,v=a>l?a>c?a:c:l>c?l:c,_=d>u?d>f?d:f:u>f?u:f,y=V3(m,g,t,e,i),C=V3(v,_,t,e,i);let w=n.prevZ,S=n.nextZ;for(;w&&w.z>=y&&S&&S.z<=C;){if(w.x>=m&&w.x<=v&&w.y>=g&&w.y<=_&&w!==s&&w!==o&&oy(a,d,l,u,c,f,w.x,w.y)&&ir(w.prev,w,w.next)>=0||(w=w.prevZ,S.x>=m&&S.x<=v&&S.y>=g&&S.y<=_&&S!==s&&S!==o&&oy(a,d,l,u,c,f,S.x,S.y)&&ir(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;w&&w.z>=y;){if(w.x>=m&&w.x<=v&&w.y>=g&&w.y<=_&&w!==s&&w!==o&&oy(a,d,l,u,c,f,w.x,w.y)&&ir(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;S&&S.z<=C;){if(S.x>=m&&S.x<=v&&S.y>=g&&S.y<=_&&S!==s&&S!==o&&oy(a,d,l,u,c,f,S.x,S.y)&&ir(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function LCe(n,t,e){let i=n;do{const s=i.prev,r=i.next.next;!CA(s,r)&&dX(s,i,i.next,r)&&kC(s,r)&&kC(r,s)&&(t.push(s.i/e|0),t.push(i.i/e|0),t.push(r.i/e|0),IC(i),IC(i.next),i=n=r),i=i.next}while(i!==n);return Jm(i)}function RCe(n,t,e,i,s,r){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&UCe(o,a)){let l=uX(o,a);return o=Jm(o,o.next),l=Jm(l,l.next),AC(o,t,e,i,s,r,0),void AC(l,t,e,i,s,r,0)}a=a.next}o=o.next}while(o!==n)}function OCe(n,t){return n.x-t.x}function FCe(n,t){const e=function NCe(n,t){let s,e=t,i=-1/0;const r=n.x,o=n.y;do{if(o<=e.y&&o>=e.next.y&&e.next.y!==e.y){const f=e.x+(o-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(f<=r&&f>i&&(i=f,s=e.x<e.next.x?e:e.next,f===r))return s}e=e.next}while(e!==t);if(!s)return null;const a=s,l=s.x,c=s.y;let u,d=1/0;e=s;do{r>=e.x&&e.x>=l&&r!==e.x&&oy(o<c?r:i,o,l,c,o<c?i:r,o,e.x,e.y)&&(u=Math.abs(o-e.y)/(r-e.x),kC(e,n)&&(u<d||u===d&&(e.x>s.x||e.x===s.x&&VCe(s,e)))&&(s=e,d=u)),e=e.next}while(e!==a);return s}(n,t);if(!e)return t;const i=uX(e,n);return Jm(i,i.next),Jm(e,e.next)}function VCe(n,t){return ir(n.prev,n,t.prev)<0&&ir(t.next,n,n.next)<0}function V3(n,t,e,i,s){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-e)*s|0)|n<<8))|n<<4))|n<<2))|n<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*s|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function zCe(n){let t=n,e=n;do{(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next}while(t!==n);return e}function oy(n,t,e,i,s,r,o,a){return(s-o)*(t-a)>=(n-o)*(r-a)&&(n-o)*(i-a)>=(e-o)*(t-a)&&(e-o)*(r-a)>=(s-o)*(i-a)}function UCe(n,t){return n.next.i!==t.i&&n.prev.i!==t.i&&!function WCe(n,t){let e=n;do{if(e.i!==n.i&&e.next.i!==n.i&&e.i!==t.i&&e.next.i!==t.i&&dX(e,e.next,n,t))return!0;e=e.next}while(e!==n);return!1}(n,t)&&(kC(n,t)&&kC(t,n)&&function YCe(n,t){let e=n,i=!1;const s=(n.x+t.x)/2,r=(n.y+t.y)/2;do{e.y>r!=e.next.y>r&&e.next.y!==e.y&&s<(e.next.x-e.x)*(r-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next}while(e!==n);return i}(n,t)&&(ir(n.prev,n,t.prev)||ir(n,t.prev,t))||CA(n,t)&&ir(n.prev,n,n.next)>0&&ir(t.prev,t,t.next)>0)}function ir(n,t,e){return(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y)}function CA(n,t){return n.x===t.x&&n.y===t.y}function dX(n,t,e,i){const s=TA(ir(n,t,e)),r=TA(ir(n,t,i)),o=TA(ir(e,i,n)),a=TA(ir(e,i,t));return!!(s!==r&&o!==a||0===s&&MA(n,e,t)||0===r&&MA(n,i,t)||0===o&&MA(e,n,i)||0===a&&MA(e,t,i))}function MA(n,t,e){return t.x<=Math.max(n.x,e.x)&&t.x>=Math.min(n.x,e.x)&&t.y<=Math.max(n.y,e.y)&&t.y>=Math.min(n.y,e.y)}function TA(n){return n>0?1:n<0?-1:0}function kC(n,t){return ir(n.prev,n,n.next)<0?ir(n,t,n.next)>=0&&ir(n,n.prev,t)>=0:ir(n,t,n.prev)<0||ir(n,n.next,t)<0}function uX(n,t){const e=new B3(n.i,n.x,n.y),i=new B3(t.i,t.x,t.y),s=n.next,r=t.prev;return n.next=t,t.prev=n,e.next=s,s.prev=e,i.next=e,e.prev=i,r.next=i,i.prev=r,i}function hX(n,t,e,i){const s=new B3(n,t,e);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function IC(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function B3(n,t,e){this.i=n,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class nu{static area(t){const e=t.length;let i=0;for(let s=e-1,r=0;r<e;s=r++)i+=t[s].x*t[r].y-t[r].x*t[s].y;return.5*i}static isClockWise(t){return nu.area(t)<0}static triangulateShape(t,e){const i=[],s=[],r=[];fX(t),pX(i,t);let o=t.length;e.forEach(fX);for(let l=0;l<e.length;l++)s.push(o),o+=e[l].length,pX(i,e[l]);const a=function(n,t,e=2){const i=t&&t.length,s=i?t[0]*e:n.length;let r=cX(n,0,s,e,!0);const o=[];if(!r||r.next===r.prev)return o;let a,l,c,d,u,f,m;if(i&&(r=function PCe(n,t,e,i){const s=[];let r,o,a,l,c;for(r=0,o=t.length;r<o;r++)a=t[r]*i,l=r<o-1?t[r+1]*i:n.length,c=cX(n,a,l,i,!1),c===c.next&&(c.steiner=!0),s.push(zCe(c));for(s.sort(OCe),r=0;r<s.length;r++)e=FCe(s[r],e);return e}(n,t,r,e)),n.length>80*e){a=c=n[0],l=d=n[1];for(let g=e;g<s;g+=e)u=n[g],f=n[g+1],u<a&&(a=u),f<l&&(l=f),u>c&&(c=u),f>d&&(d=f);m=Math.max(c-a,d-l),m=0!==m?32767/m:0}return AC(r,o,e,a,l,m,0),o}(i,s);for(let l=0;l<a.length;l+=3)r.push(a.slice(l,l+3));return r}}function fX(n){const t=n.length;t>2&&n[t-1].equals(n[0])&&n.pop()}function pX(n,t){for(let e=0;e<t.length;e++)n.push(t[e].x),n.push(t[e].y)}class SA extends mi{constructor(t=new Qm([new st(.5,.5),new st(-.5,.5),new st(-.5,-.5),new st(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,s=[],r=[];for(let a=0,l=t.length;a<l;a++)o(t[a]);function o(a){const l=[],c=void 0!==e.curveSegments?e.curveSegments:12,d=void 0!==e.steps?e.steps:1,u=void 0!==e.depth?e.depth:1;let f=void 0===e.bevelEnabled||e.bevelEnabled,m=void 0!==e.bevelThickness?e.bevelThickness:.2,g=void 0!==e.bevelSize?e.bevelSize:m-.1,v=void 0!==e.bevelOffset?e.bevelOffset:0,_=void 0!==e.bevelSegments?e.bevelSegments:3;const y=e.extrudePath,C=void 0!==e.UVGenerator?e.UVGenerator:$Ce;let w,R,O,H,$,S=!1;y&&(w=y.getSpacedPoints(d),S=!0,f=!1,R=y.computeFrenetFrames(d,!1),O=new J,H=new J,$=new J),f||(_=0,m=0,g=0,v=0);const F=a.extractPoints(c);let W=F.shape;const re=F.holes;if(!nu.isClockWise(W)){W=W.reverse();for(let X=0,at=re.length;X<at;X++){const ke=re[X];nu.isClockWise(ke)&&(re[X]=ke.reverse())}}const le=nu.triangulateShape(W,re),ue=W;for(let X=0,at=re.length;X<at;X++)W=W.concat(re[X]);function he(X,at,ke){return at||console.error("THREE.ExtrudeGeometry: vec does not exist"),X.clone().addScaledVector(at,ke)}const oe=W.length,ce=le.length;function pe(X,at,ke){let ct,Ze,lt;const xt=X.x-at.x,Xt=X.y-at.y,xn=ke.x-X.x,Ni=ke.y-X.y,fr=xt*xt+Xt*Xt;if(Math.abs(xt*Ni-Xt*xn)>Number.EPSILON){const j=Math.sqrt(fr),Ee=Math.sqrt(xn*xn+Ni*Ni),Ct=at.x-Xt/j,mt=at.y+xt/j,Tt=((ke.x-Ni/Ee-Ct)*Ni-(ke.y+xn/Ee-mt)*xn)/(xt*Ni-Xt*xn);ct=Ct+xt*Tt-X.x,Ze=mt+Xt*Tt-X.y;const Re=ct*ct+Ze*Ze;if(Re<=2)return new st(ct,Ze);lt=Math.sqrt(Re/2)}else{let j=!1;xt>Number.EPSILON?xn>Number.EPSILON&&(j=!0):xt<-Number.EPSILON?xn<-Number.EPSILON&&(j=!0):Math.sign(Xt)===Math.sign(Ni)&&(j=!0),j?(ct=-Xt,Ze=xt,lt=Math.sqrt(fr)):(ct=xt,Ze=Xt,lt=Math.sqrt(fr/2))}return new st(ct/lt,Ze/lt)}const xe=[];for(let X=0,at=ue.length,ke=at-1,ct=X+1;X<at;X++,ke++,ct++)ke===at&&(ke=0),ct===at&&(ct=0),xe[X]=pe(ue[X],ue[ke],ue[ct]);const Ae=[];let fe,Ce=xe.concat();for(let X=0,at=re.length;X<at;X++){const ke=re[X];fe=[];for(let ct=0,Ze=ke.length,lt=Ze-1,xt=ct+1;ct<Ze;ct++,lt++,xt++)lt===Ze&&(lt=0),xt===Ze&&(xt=0),fe[ct]=pe(ke[ct],ke[lt],ke[xt]);Ae.push(fe),Ce=Ce.concat(fe)}for(let X=0;X<_;X++){const at=X/_,ke=m*Math.cos(at*Math.PI/2),ct=g*Math.sin(at*Math.PI/2)+v;for(let Ze=0,lt=ue.length;Ze<lt;Ze++){const xt=he(ue[Ze],xe[Ze],ct);yt(xt.x,xt.y,-ke)}for(let Ze=0,lt=re.length;Ze<lt;Ze++){const xt=re[Ze];fe=Ae[Ze];for(let Xt=0,xn=xt.length;Xt<xn;Xt++){const Ni=he(xt[Xt],fe[Xt],ct);yt(Ni.x,Ni.y,-ke)}}}const ft=g+v;for(let X=0;X<oe;X++){const at=f?he(W[X],Ce[X],ft):W[X];S?(H.copy(R.normals[0]).multiplyScalar(at.x),O.copy(R.binormals[0]).multiplyScalar(at.y),$.copy(w[0]).add(H).add(O),yt($.x,$.y,$.z)):yt(at.x,at.y,0)}for(let X=1;X<=d;X++)for(let at=0;at<oe;at++){const ke=f?he(W[at],Ce[at],ft):W[at];S?(H.copy(R.normals[X]).multiplyScalar(ke.x),O.copy(R.binormals[X]).multiplyScalar(ke.y),$.copy(w[X]).add(H).add(O),yt($.x,$.y,$.z)):yt(ke.x,ke.y,u/d*X)}for(let X=_-1;X>=0;X--){const at=X/_,ke=m*Math.cos(at*Math.PI/2),ct=g*Math.sin(at*Math.PI/2)+v;for(let Ze=0,lt=ue.length;Ze<lt;Ze++){const xt=he(ue[Ze],xe[Ze],ct);yt(xt.x,xt.y,u+ke)}for(let Ze=0,lt=re.length;Ze<lt;Ze++){const xt=re[Ze];fe=Ae[Ze];for(let Xt=0,xn=xt.length;Xt<xn;Xt++){const Ni=he(xt[Xt],fe[Xt],ct);S?yt(Ni.x,Ni.y+w[d-1].y,w[d-1].x+ke):yt(Ni.x,Ni.y,u+ke)}}}function on(X,at){let ke=X.length;for(;--ke>=0;){const ct=ke;let Ze=ke-1;Ze<0&&(Ze=X.length-1);for(let lt=0,xt=d+2*_;lt<xt;lt++){const Xt=oe*lt,xn=oe*(lt+1);et(at+ct+Xt,at+Ze+Xt,at+Ze+xn,at+ct+xn)}}}function yt(X,at,ke){l.push(X),l.push(at),l.push(ke)}function jt(X,at,ke){zt(X),zt(at),zt(ke);const ct=s.length/3,Ze=C.generateTopUV(i,s,ct-3,ct-2,ct-1);bt(Ze[0]),bt(Ze[1]),bt(Ze[2])}function et(X,at,ke,ct){zt(X),zt(at),zt(ct),zt(at),zt(ke),zt(ct);const Ze=s.length/3,lt=C.generateSideWallUV(i,s,Ze-6,Ze-3,Ze-2,Ze-1);bt(lt[0]),bt(lt[1]),bt(lt[3]),bt(lt[1]),bt(lt[2]),bt(lt[3])}function zt(X){s.push(l[3*X+0]),s.push(l[3*X+1]),s.push(l[3*X+2])}function bt(X){r.push(X.x),r.push(X.y)}(function ot(){const X=s.length/3;if(f){let at=0,ke=oe*at;for(let ct=0;ct<ce;ct++){const Ze=le[ct];jt(Ze[2]+ke,Ze[1]+ke,Ze[0]+ke)}at=d+2*_,ke=oe*at;for(let ct=0;ct<ce;ct++){const Ze=le[ct];jt(Ze[0]+ke,Ze[1]+ke,Ze[2]+ke)}}else{for(let at=0;at<ce;at++){const ke=le[at];jt(ke[2],ke[1],ke[0])}for(let at=0;at<ce;at++){const ke=le[at];jt(ke[0]+oe*d,ke[1]+oe*d,ke[2]+oe*d)}}i.addGroup(X,s.length/3-X,0)})(),function kt(){const X=s.length/3;let at=0;on(ue,at),at+=ue.length;for(let ke=0,ct=re.length;ke<ct;ke++){const Ze=re[ke];on(Ze,at),at+=Ze.length}i.addGroup(X,s.length/3-X,1)}()}this.setAttribute("position",new en(s,3)),this.setAttribute("uv",new en(r,2)),this.computeVertexNormals()}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return function jCe(n,t,e){if(e.shapes=[],Array.isArray(n))for(let i=0,s=n.length;i<s;i++)e.shapes.push(n[i].uuid);else e.shapes.push(n.uuid);return e.options=Object.assign({},t),void 0!==t.extrudePath&&(e.options.extrudePath=t.extrudePath.toJSON()),e}(this.parameters.shapes,this.parameters.options,t)}static fromJSON(t,e){const i=[];for(let r=0,o=t.shapes.length;r<o;r++)i.push(e[t.shapes[r]]);const s=t.options.extrudePath;return void 0!==s&&(t.options.extrudePath=(new F3[s.type]).fromJSON(s)),new SA(i,t.options)}}const $Ce={generateTopUV:function(n,t,e,i,s){const a=t[3*i],l=t[3*i+1],c=t[3*s],d=t[3*s+1];return[new st(t[3*e],t[3*e+1]),new st(a,l),new st(c,d)]},generateSideWallUV:function(n,t,e,i,s,r){const o=t[3*e],a=t[3*e+1],l=t[3*e+2],c=t[3*i],d=t[3*i+1],u=t[3*i+2],f=t[3*s],m=t[3*s+1],g=t[3*s+2],v=t[3*r],_=t[3*r+1],y=t[3*r+2];return Math.abs(a-d)<Math.abs(o-c)?[new st(o,1-l),new st(c,1-u),new st(f,1-g),new st(v,1-y)]:[new st(a,1-l),new st(d,1-u),new st(m,1-g),new st(_,1-y)]}};class DA extends ip{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2;super([-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new DA(t.radius,t.detail)}}class LC extends ip{constructor(t=1,e=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new LC(t.radius,t.detail)}}class EA extends mi{constructor(t=.5,e=1,i=32,s=1,r=0,o=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:s,thetaStart:r,thetaLength:o},i=Math.max(3,i);const a=[],l=[],c=[],d=[];let u=t;const f=(e-t)/(s=Math.max(1,s)),m=new J,g=new st;for(let v=0;v<=s;v++){for(let _=0;_<=i;_++){const y=r+_/i*o;m.x=u*Math.cos(y),m.y=u*Math.sin(y),l.push(m.x,m.y,m.z),c.push(0,0,1),g.x=(m.x/e+1)/2,g.y=(m.y/e+1)/2,d.push(g.x,g.y)}u+=f}for(let v=0;v<s;v++){const _=v*(i+1);for(let y=0;y<i;y++){const C=y+_,S=C+i+1,R=C+i+2,O=C+1;a.push(C,S,O),a.push(S,R,O)}}this.setIndex(a),this.setAttribute("position",new en(l,3)),this.setAttribute("normal",new en(c,3)),this.setAttribute("uv",new en(d,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new EA(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class AA extends mi{constructor(t=new Qm([new st(0,.5),new st(-.5,-.5),new st(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const i=[],s=[],r=[],o=[];let a=0,l=0;if(!1===Array.isArray(t))c(t);else for(let d=0;d<t.length;d++)c(t[d]),this.addGroup(a,l,d),a+=l,l=0;function c(d){const u=s.length/3,f=d.extractPoints(e);let m=f.shape;const g=f.holes;!1===nu.isClockWise(m)&&(m=m.reverse());for(let _=0,y=g.length;_<y;_++){const C=g[_];!0===nu.isClockWise(C)&&(g[_]=C.reverse())}const v=nu.triangulateShape(m,g);for(let _=0,y=g.length;_<y;_++)m=m.concat(g[_]);for(let _=0,y=m.length;_<y;_++){const C=m[_];s.push(C.x,C.y,0),r.push(0,0,1),o.push(C.x,C.y)}for(let _=0,y=v.length;_<y;_++){const C=v[_];i.push(C[0]+u,C[1]+u,C[2]+u),l+=3}}this.setIndex(i),this.setAttribute("position",new en(s,3)),this.setAttribute("normal",new en(r,3)),this.setAttribute("uv",new en(o,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return function XCe(n,t){if(t.shapes=[],Array.isArray(n))for(let e=0,i=n.length;e<i;e++)t.shapes.push(n[e].uuid);else t.shapes.push(n.uuid);return t}(this.parameters.shapes,t)}static fromJSON(t,e){const i=[];for(let s=0,r=t.shapes.length;s<r;s++)i.push(e[t.shapes[s]]);return new AA(i,t.curveSegments)}}class RC extends mi{constructor(t=1,e=32,i=16,s=0,r=2*Math.PI,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:s,phiLength:r,thetaStart:o,thetaLength:a},e=Math.max(3,Math.floor(e)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const d=[],u=new J,f=new J,m=[],g=[],v=[],_=[];for(let y=0;y<=i;y++){const C=[],w=y/i;let S=0;0===y&&0===o?S=.5/e:y===i&&l===Math.PI&&(S=-.5/e);for(let R=0;R<=e;R++){const O=R/e;u.x=-t*Math.cos(s+O*r)*Math.sin(o+w*a),u.y=t*Math.cos(o+w*a),u.z=t*Math.sin(s+O*r)*Math.sin(o+w*a),g.push(u.x,u.y,u.z),f.copy(u).normalize(),v.push(f.x,f.y,f.z),_.push(O+S,1-w),C.push(c++)}d.push(C)}for(let y=0;y<i;y++)for(let C=0;C<e;C++){const S=d[y][C],R=d[y+1][C],O=d[y+1][C+1];(0!==y||o>0)&&m.push(d[y][C+1],S,O),(y!==i-1||l<Math.PI)&&m.push(S,R,O)}this.setIndex(m),this.setAttribute("position",new en(g,3)),this.setAttribute("normal",new en(v,3)),this.setAttribute("uv",new en(_,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new RC(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class kA extends ip{constructor(t=1,e=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new kA(t.radius,t.detail)}}class IA extends mi{constructor(t=1,e=.4,i=12,s=48,r=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:s,arc:r},i=Math.floor(i),s=Math.floor(s);const o=[],a=[],l=[],c=[],d=new J,u=new J,f=new J;for(let m=0;m<=i;m++)for(let g=0;g<=s;g++){const v=g/s*r,_=m/i*Math.PI*2;u.x=(t+e*Math.cos(_))*Math.cos(v),u.y=(t+e*Math.cos(_))*Math.sin(v),u.z=e*Math.sin(_),a.push(u.x,u.y,u.z),d.x=t*Math.cos(v),d.y=t*Math.sin(v),f.subVectors(u,d).normalize(),l.push(f.x,f.y,f.z),c.push(g/s),c.push(m/i)}for(let m=1;m<=i;m++)for(let g=1;g<=s;g++){const _=(s+1)*(m-1)+g-1,y=(s+1)*(m-1)+g,C=(s+1)*m+g;o.push((s+1)*m+g-1,_,C),o.push(_,y,C)}this.setIndex(o),this.setAttribute("position",new en(a,3)),this.setAttribute("normal",new en(l,3)),this.setAttribute("uv",new en(c,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new IA(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class LA extends mi{constructor(t=1,e=.4,i=64,s=8,r=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:s,p:r,q:o},i=Math.floor(i),s=Math.floor(s);const a=[],l=[],c=[],d=[],u=new J,f=new J,m=new J,g=new J,v=new J,_=new J,y=new J;for(let w=0;w<=i;++w){const S=w/i*r*Math.PI*2;C(S,r,o,t,m),C(S+.01,r,o,t,g),_.subVectors(g,m),y.addVectors(g,m),v.crossVectors(_,y),y.crossVectors(v,_),v.normalize(),y.normalize();for(let R=0;R<=s;++R){const O=R/s*Math.PI*2,H=-e*Math.cos(O),$=e*Math.sin(O);u.x=m.x+(H*y.x+$*v.x),u.y=m.y+(H*y.y+$*v.y),u.z=m.z+(H*y.z+$*v.z),l.push(u.x,u.y,u.z),f.subVectors(u,m).normalize(),c.push(f.x,f.y,f.z),d.push(w/i),d.push(R/s)}}for(let w=1;w<=i;w++)for(let S=1;S<=s;S++){const O=(s+1)*w+(S-1),H=(s+1)*w+S,$=(s+1)*(w-1)+S;a.push((s+1)*(w-1)+(S-1),O,$),a.push(O,H,$)}function C(w,S,R,O,H){const $=Math.cos(w),F=Math.sin(w),W=R/S*w,re=Math.cos(W);H.x=O*(2+re)*.5*$,H.y=O*(2+re)*F*.5,H.z=O*Math.sin(W)*.5}this.setIndex(a),this.setAttribute("position",new en(l,3)),this.setAttribute("normal",new en(c,3)),this.setAttribute("uv",new en(d,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new LA(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class RA extends mi{constructor(t=new P3(new J(-1,-1,0),new J(-1,1,0),new J(1,1,0)),e=64,i=1,s=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:s,closed:r};const o=t.computeFrenetFrames(e,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new J,l=new J,c=new st;let d=new J;const u=[],f=[],m=[],g=[];function _(w){d=t.getPointAt(w/e,d);const S=o.normals[w],R=o.binormals[w];for(let O=0;O<=s;O++){const H=O/s*Math.PI*2,$=Math.sin(H),F=-Math.cos(H);l.x=F*S.x+$*R.x,l.y=F*S.y+$*R.y,l.z=F*S.z+$*R.z,l.normalize(),f.push(l.x,l.y,l.z),a.x=d.x+i*l.x,a.y=d.y+i*l.y,a.z=d.z+i*l.z,u.push(a.x,a.y,a.z)}}(function v(){for(let w=0;w<e;w++)_(w);_(!1===r?e:0),function C(){for(let w=0;w<=e;w++)for(let S=0;S<=s;S++)c.x=w/e,c.y=S/s,m.push(c.x,c.y)}(),function y(){for(let w=1;w<=e;w++)for(let S=1;S<=s;S++){const O=(s+1)*w+(S-1),H=(s+1)*w+S,$=(s+1)*(w-1)+S;g.push((s+1)*(w-1)+(S-1),O,$),g.push(O,H,$)}}()})(),this.setIndex(g),this.setAttribute("position",new en(u,3)),this.setAttribute("normal",new en(f,3)),this.setAttribute("uv",new en(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new RA((new F3[t.path.type]).fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class mX extends mi{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},null!==t){const e=[],i=new Set,s=new J,r=new J;if(null!==t.index){const o=t.attributes.position,a=t.index;let l=t.groups;0===l.length&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const u=l[c],f=u.start;for(let g=f,v=f+u.count;g<v;g+=3)for(let _=0;_<3;_++){const y=a.getX(g+_),C=a.getX(g+(_+1)%3);s.fromBufferAttribute(o,y),r.fromBufferAttribute(o,C),!0===gX(s,r,i)&&(e.push(s.x,s.y,s.z),e.push(r.x,r.y,r.z))}}}else{const o=t.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+(c+1)%3;s.fromBufferAttribute(o,3*a+c),r.fromBufferAttribute(o,u),!0===gX(s,r,i)&&(e.push(s.x,s.y,s.z),e.push(r.x,r.y,r.z))}}this.setAttribute("position",new en(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function gX(n,t,e){const i=`${n.x},${n.y},${n.z}-${t.x},${t.y},${t.z}`,s=`${t.x},${t.y},${t.z}-${n.x},${n.y},${n.z}`;return!0!==e.has(i)&&!0!==e.has(s)&&(e.add(i),e.add(s),!0)}var _X=Object.freeze({__proto__:null,BoxGeometry:jm,CapsuleGeometry:gA,CircleGeometry:_A,ConeGeometry:vA,CylinderGeometry:ry,DodecahedronGeometry:yA,EdgesGeometry:lX,ExtrudeGeometry:SA,IcosahedronGeometry:DA,LatheGeometry:EC,OctahedronGeometry:LC,PlaneGeometry:vC,PolyhedronGeometry:ip,RingGeometry:EA,ShapeGeometry:AA,SphereGeometry:RC,TetrahedronGeometry:kA,TorusGeometry:IA,TorusKnotGeometry:LA,TubeGeometry:RA,WireframeGeometry:mX});class vX extends Uo{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new $t(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class yX extends eu{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class H3 extends Uo{constructor(t){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new $t(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xf,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class bX extends H3{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new st(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return dr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new $t(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new $t(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new $t(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class xX extends Uo{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new $t(16777215),this.specular=new $t(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xf,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Kw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class wX extends Uo{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new $t(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xf,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class CX extends Uo{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xf,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class MX extends Uo{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new $t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xf,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Kw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class TX extends Uo{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new $t(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xf,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class SX extends Aa{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function ic(n,t,e){return z3(n)?new n.constructor(n.subarray(t,void 0!==e?e:n.length)):n.slice(t,e)}function eg(n,t,e){return!n||!e&&n.constructor===t?n:"number"==typeof t.BYTES_PER_ELEMENT?new t(n):Array.prototype.slice.call(n)}function z3(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function DX(n){const e=n.length,i=new Array(e);for(let s=0;s!==e;++s)i[s]=s;return i.sort(function t(s,r){return n[s]-n[r]}),i}function U3(n,t,e){const i=n.length,s=new n.constructor(i);for(let r=0,o=0;o!==i;++r){const a=e[r]*t;for(let l=0;l!==t;++l)s[o++]=n[a+l]}return s}function W3(n,t,e,i){let s=1,r=n[0];for(;void 0!==r&&void 0===r[i];)r=n[s++];if(void 0===r)return;let o=r[i];if(void 0!==o)if(Array.isArray(o))do{o=r[i],void 0!==o&&(t.push(r.time),e.push.apply(e,o)),r=n[s++]}while(void 0!==r);else if(void 0!==o.toArray)do{o=r[i],void 0!==o&&(t.push(r.time),o.toArray(e,e.length)),r=n[s++]}while(void 0!==r);else do{o=r[i],void 0!==o&&(t.push(r.time),e.push(o)),r=n[s++]}while(void 0!==r)}const KCe={arraySlice:ic,convertArray:eg,isTypedArray:z3,getKeyframeOrder:DX,sortedArray:U3,flattenJSON:W3,subclip:function qCe(n,t,e,i,s=30){const r=n.clone();r.name=t;const o=[];for(let l=0;l<r.tracks.length;++l){const c=r.tracks[l],d=c.getValueSize(),u=[],f=[];for(let m=0;m<c.times.length;++m){const g=c.times[m]*s;if(!(g<e||g>=i)){u.push(c.times[m]);for(let v=0;v<d;++v)f.push(c.values[m*d+v])}}0!==u.length&&(c.times=eg(u,c.times.constructor),c.values=eg(f,c.values.constructor),o.push(c))}r.tracks=o;let a=1/0;for(let l=0;l<r.tracks.length;++l)a>r.tracks[l].times[0]&&(a=r.tracks[l].times[0]);for(let l=0;l<r.tracks.length;++l)r.tracks[l].shift(-1*a);return r.resetDuration(),r},makeClipAdditive:function ZCe(n,t=0,e=n,i=30){i<=0&&(i=30);const s=e.tracks.length,r=t/i;for(let o=0;o<s;++o){const a=e.tracks[o],l=a.ValueTypeName;if("bool"===l||"string"===l)continue;const c=n.tracks.find(function(y){return y.name===a.name&&y.ValueTypeName===l});if(void 0===c)continue;let d=0;const u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=u/3);let f=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=m/3);const g=a.times.length-1;let v;if(r<=a.times[0])v=ic(a.values,d,u-d);else if(r>=a.times[g]){const y=g*u+d;v=ic(a.values,y,y+u-d)}else{const y=a.createInterpolant(),C=d,w=u-d;y.evaluate(r),v=ic(y.resultBuffer,C,w)}"quaternion"===l&&(new Ja).fromArray(v).normalize().conjugate().toArray(v);const _=c.times.length;for(let y=0;y<_;++y){const C=y*m+f;if("quaternion"===l)Ja.multiplyQuaternionsFlat(c.values,C,v,0,c.values,C);else{const w=m-2*f;for(let S=0;S<w;++S)c.values[C+S]-=v[S]}}}return n.blendMode=VN,n}};class PC{constructor(t,e,i,s){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==s?s:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,s=e[i],r=e[i-1];e:{t:{let o;n:{i:if(!(t<s)){for(let a=i+2;;){if(void 0===s){if(t<r)break i;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(r=s,s=e[++i],t<s)break t}o=e.length;break n}if(t>=r)break e;{const a=e[1];t<a&&(i=2,r=a);for(let l=i-2;;){if(void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(s=r,r=e[--i-1],t>=r)break t}o=i,i=0}}for(;i<o;){const a=i+o>>>1;t<e[a]?o=a:i=a+1}if(s=e[i],r=e[i-1],void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===s)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,s)}return this.interpolate_(i,r,t,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=t*s;for(let o=0;o!==s;++o)e[o]=i[r+o];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class EX extends PC{constructor(t,e,i,s){super(t,e,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Hm,endingEnd:Hm}}intervalChanged_(t,e,i){const s=this.parameterPositions;let r=t-2,o=t+1,a=s[r],l=s[o];if(void 0===a)switch(this.getSettings_().endingStart){case zm:r=t,a=2*e-i;break;case rC:r=s.length-2,a=e+s[r]-s[r+1];break;default:r=t,a=i}if(void 0===l)switch(this.getSettings_().endingEnd){case zm:o=t,l=2*i-e;break;case rC:o=1,l=i+s[1]-s[0];break;default:o=t-1,l=e}const c=.5*(i-e),d=this.valueSize;this._weightPrev=c/(e-a),this._weightNext=c/(l-i),this._offsetPrev=r*d,this._offsetNext=o*d}interpolate_(t,e,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=t*a,c=l-a,d=this._offsetPrev,u=this._offsetNext,f=this._weightPrev,m=this._weightNext,g=(i-e)/(s-e),v=g*g,_=v*g,y=-f*_+2*f*v-f*g,C=(1+f)*_+(-1.5-2*f)*v+(-.5+f)*g+1,w=(-1-m)*_+(1.5+m)*v+.5*g,S=m*_-m*v;for(let R=0;R!==a;++R)r[R]=y*o[d+R]+C*o[c+R]+w*o[l+R]+S*o[u+R];return r}}class Y3 extends PC{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=t*a,c=l-a,d=(i-e)/(s-e),u=1-d;for(let f=0;f!==a;++f)r[f]=o[c+f]*u+o[l+f]*d;return r}}class AX extends PC{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t){return this.copySampleValue_(t-1)}}class rd{constructor(t,e,i,s){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=eg(e,this.TimeBufferType),this.values=eg(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:eg(t.times,Array),values:eg(t.values,Array)};const s=t.getInterpolation();s!==t.DefaultInterpolation&&(i.interpolation=s)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new AX(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new Y3(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new EX(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case iC:e=this.InterpolantFactoryMethodDiscrete;break;case sC:e=this.InterpolantFactoryMethodLinear;break;case wE:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return iC;case this.InterpolantFactoryMethodLinear:return sC;case this.InterpolantFactoryMethodSmooth:return wE}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]*=t}return this}trim(t,e){const i=this.times,s=i.length;let r=0,o=s-1;for(;r!==s&&i[r]<t;)++r;for(;-1!==o&&i[o]>e;)--o;if(++o,0!==r||o!==s){r>=o&&(o=Math.max(o,1),r=o-1);const a=this.getValueSize();this.times=ic(i,r,o),this.values=ic(this.values,r*a,o*a)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,s=this.values,r=i.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let a=0;a!==r;a++){const l=i[a];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),t=!1;break}if(null!==o&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),t=!1;break}o=l}if(void 0!==s&&z3(s))for(let a=0,l=s.length;a!==l;++a){const c=s[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),t=!1;break}}return t}optimize(){const t=ic(this.times),e=ic(this.values),i=this.getValueSize(),s=this.getInterpolation()===wE,r=t.length-1;let o=1;for(let a=1;a<r;++a){let l=!1;const c=t[a];if(c!==t[a+1]&&(1!==a||c!==t[0]))if(s)l=!0;else{const u=a*i,f=u-i,m=u+i;for(let g=0;g!==i;++g){const v=e[u+g];if(v!==e[f+g]||v!==e[m+g]){l=!0;break}}}if(l){if(a!==o){t[o]=t[a];const u=a*i,f=o*i;for(let m=0;m!==i;++m)e[f+m]=e[u+m]}++o}}if(r>0){t[o]=t[r];for(let a=r*i,l=o*i,c=0;c!==i;++c)e[l+c]=e[a+c];++o}return o!==t.length?(this.times=ic(t,0,o),this.values=ic(e,0,o*i)):(this.times=t,this.values=e),this}clone(){const t=ic(this.times,0),e=ic(this.values,0),s=new(0,this.constructor)(this.name,t,e);return s.createInterpolant=this.createInterpolant,s}}rd.prototype.TimeBufferType=Float32Array,rd.prototype.ValueBufferType=Float32Array,rd.prototype.DefaultInterpolation=sC;class tg extends rd{}tg.prototype.ValueTypeName="bool",tg.prototype.ValueBufferType=Array,tg.prototype.DefaultInterpolation=iC,tg.prototype.InterpolantFactoryMethodLinear=void 0,tg.prototype.InterpolantFactoryMethodSmooth=void 0;class G3 extends rd{}G3.prototype.ValueTypeName="color";class OC extends rd{}OC.prototype.ValueTypeName="number";class kX extends PC{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-e)/(s-e);let c=t*a;for(let d=c+a;c!==d;c+=4)Ja.slerpFlat(r,0,o,c-a,o,c,l);return r}}class ay extends rd{InterpolantFactoryMethodLinear(t){return new kX(this.times,this.values,this.getValueSize(),t)}}ay.prototype.ValueTypeName="quaternion",ay.prototype.DefaultInterpolation=sC,ay.prototype.InterpolantFactoryMethodSmooth=void 0;class ng extends rd{}ng.prototype.ValueTypeName="string",ng.prototype.ValueBufferType=Array,ng.prototype.DefaultInterpolation=iC,ng.prototype.InterpolantFactoryMethodLinear=void 0,ng.prototype.InterpolantFactoryMethodSmooth=void 0;class FC extends rd{}FC.prototype.ValueTypeName="vector";class NC{constructor(t,e=-1,i,s=CE){this.name=t,this.tracks=i,this.duration=e,this.blendMode=s,this.uuid=xl(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,s=1/(t.fps||1);for(let o=0,a=i.length;o!==a;++o)e.push(JCe(i[o]).scale(s));const r=new this(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r}static toJSON(t){const e=[],i=t.tracks,s={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let r=0,o=i.length;r!==o;++r)e.push(rd.toJSON(i[r]));return s}static CreateFromMorphTargetSequence(t,e,i,s){const r=e.length,o=[];for(let a=0;a<r;a++){let l=[],c=[];l.push((a+r-1)%r,a,(a+1)%r),c.push(0,1,0);const d=DX(l);l=U3(l,1,d),c=U3(c,1,d),!s&&0===l[0]&&(l.push(r),c.push(c[0])),o.push(new OC(".morphTargetInfluences["+e[a].name+"]",l,c).scale(1/i))}return new this(t,-1,o)}static findByName(t,e){let i=t;Array.isArray(t)||(i=t.geometry&&t.geometry.animations||t.animations);for(let s=0;s<i.length;s++)if(i[s].name===e)return i[s];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const s={},r=/^([\w-]*?)([\d]+)$/;for(let a=0,l=t.length;a<l;a++){const c=t[a],d=c.name.match(r);if(d&&d.length>1){const u=d[1];let f=s[u];f||(s[u]=f=[]),f.push(c)}}const o=[];for(const a in s)o.push(this.CreateFromMorphTargetSequence(a,s[a],e,i));return o}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(u,f,m,g,v){if(0!==m.length){const _=[],y=[];W3(m,_,y,g),0!==_.length&&v.push(new u(f,_,y))}},s=[],r=t.name||"default",o=t.fps||30,a=t.blendMode;let l=t.length||-1;const c=t.hierarchy||[];for(let u=0;u<c.length;u++){const f=c[u].keys;if(f&&0!==f.length)if(f[0].morphTargets){const m={};let g;for(g=0;g<f.length;g++)if(f[g].morphTargets)for(let v=0;v<f[g].morphTargets.length;v++)m[f[g].morphTargets[v]]=-1;for(const v in m){const _=[],y=[];for(let C=0;C!==f[g].morphTargets.length;++C){const w=f[g];_.push(w.time),y.push(w.morphTarget===v?1:0)}s.push(new OC(".morphTargetInfluence["+v+"]",_,y))}l=m.length*o}else{const m=".bones["+e[u].name+"]";i(FC,m+".position",f,"pos",s),i(ay,m+".quaternion",f,"rot",s),i(FC,m+".scale",f,"scl",s)}}return 0===s.length?null:new this(r,l,s,a)}resetDuration(){let e=0;for(let i=0,s=this.tracks.length;i!==s;++i){const r=this.tracks[i];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function JCe(n){if(void 0===n.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function QCe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return OC;case"vector":case"vector2":case"vector3":case"vector4":return FC;case"color":return G3;case"quaternion":return ay;case"bool":case"boolean":return tg;case"string":return ng}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}(n.type);if(void 0===n.times){const e=[],i=[];W3(n.keys,e,i,"value"),n.times=e,n.values=i}return void 0!==t.parse?t.parse(n):new t(n.name,n.times,n.values,n.interpolation)}const ig={enabled:!1,files:{},add:function(n,t){!1!==this.enabled&&(this.files[n]=t)},get:function(n){if(!1!==this.enabled)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class $3{constructor(t,e,i){const s=this;let l,r=!1,o=0,a=0;const c=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(d){a++,!1===r&&void 0!==s.onStart&&s.onStart(d,o,a),r=!0},this.itemEnd=function(d){o++,void 0!==s.onProgress&&s.onProgress(d,o,a),o===a&&(r=!1,void 0!==s.onLoad&&s.onLoad())},this.itemError=function(d){void 0!==s.onError&&s.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,u){return c.push(d,u),this},this.removeHandler=function(d){const u=c.indexOf(d);return-1!==u&&c.splice(u,2),this},this.getHandler=function(d){for(let u=0,f=c.length;u<f;u+=2){const m=c[u],g=c[u+1];if(m.global&&(m.lastIndex=0),m.test(d))return g}return null}}}const IX=new $3;let Ml=(()=>{class n{constructor(e){this.manager=void 0!==e?e:IX,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,i){const s=this;return new Promise(function(r,o){s.load(e,r,i,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}return n.DEFAULT_MATERIAL_NAME="__DEFAULT",n})();const vh={};class e1e extends Error{constructor(t,e){super(t),this.response=e}}class yh extends Ml{constructor(t){super(t)}load(t,e,i,s){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=ig.get(t);if(void 0!==r)return this.manager.itemStart(t),setTimeout(()=>{e&&e(r),this.manager.itemEnd(t)},0),r;if(void 0!==vh[t])return void vh[t].push({onLoad:e,onProgress:i,onError:s});vh[t]=[],vh[t].push({onLoad:e,onProgress:i,onError:s});const o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(200===c.status||0===c.status){if(0===c.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===c.body||void 0===c.body.getReader)return c;const d=vh[t],u=c.body.getReader(),f=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=f?parseInt(f):0,g=0!==m;let v=0;const _=new ReadableStream({start(y){!function C(){u.read().then(({done:w,value:S})=>{if(w)y.close();else{v+=S.byteLength;const R=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:m});for(let O=0,H=d.length;O<H;O++){const $=d[O];$.onProgress&&$.onProgress(R)}y.enqueue(S),C()}})}()}});return new Response(_)}throw new e1e(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>(new DOMParser).parseFromString(d,a));case"json":return c.json();default:if(void 0===a)return c.text();{const u=/charset="?([^;"\s]*)"?/i.exec(a),f=u&&u[1]?u[1].toLowerCase():void 0,m=new TextDecoder(f);return c.arrayBuffer().then(g=>m.decode(g))}}}).then(c=>{ig.add(t,c);const d=vh[t];delete vh[t];for(let u=0,f=d.length;u<f;u++){const m=d[u];m.onLoad&&m.onLoad(c)}}).catch(c=>{const d=vh[t];if(void 0===d)throw this.manager.itemError(t),c;delete vh[t];for(let u=0,f=d.length;u<f;u++){const m=d[u];m.onError&&m.onError(c)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class t1e extends Ml{constructor(t){super(t)}load(t,e,i,s){const r=this,o=new yh(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(a){try{e(r.parse(JSON.parse(a)))}catch(l){s?s(l):console.error(l),r.manager.itemError(t)}},i,s)}parse(t){const e=[];for(let i=0;i<t.length;i++){const s=NC.parse(t[i]);e.push(s)}return e}}class n1e extends Ml{constructor(t){super(t)}load(t,e,i,s){const r=this,o=[],a=new hA,l=new yh(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(r.withCredentials);let c=0;function d(u){l.load(t[u],function(f){const m=r.parse(f,!0);o[u]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,6===c&&(1===m.mipmapCount&&(a.minFilter=wr),a.image=o,a.format=m.format,a.needsUpdate=!0,e&&e(a))},i,s)}if(Array.isArray(t))for(let u=0,f=t.length;u<f;++u)d(u);else l.load(t,function(u){const f=r.parse(u,!0);if(f.isCubemap){const m=f.mipmaps.length/f.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let v=0;v<f.mipmapCount;v++)o[g].mipmaps.push(f.mipmaps[g*f.mipmapCount+v]),o[g].format=f.format,o[g].width=f.width,o[g].height=f.height}a.image=o}else a.image.width=f.width,a.image.height=f.height,a.mipmaps=f.mipmaps;1===f.mipmapCount&&(a.minFilter=wr),a.format=f.format,a.needsUpdate=!0,e&&e(a)},i,s);return a}}class VC extends Ml{constructor(t){super(t)}load(t,e,i,s){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=ig.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout(function(){e&&e(o),r.manager.itemEnd(t)},0),o;const a=dC("img");function l(){d(),ig.add(t,this),e&&e(this),r.manager.itemEnd(t)}function c(u){d(),s&&s(u),r.manager.itemError(t),r.manager.itemEnd(t)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(t),a.src=t,a}}class i1e extends Ml{constructor(t){super(t)}load(t,e,i,s){const r=new _C;r.colorSpace=As;const o=new VC(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(t[c],function(d){r.images[c]=d,a++,6===a&&(r.needsUpdate=!0,e&&e(r))},void 0,s)}for(let c=0;c<t.length;++c)l(c);return r}}class s1e extends Ml{constructor(t){super(t)}load(t,e,i,s){const r=this,o=new ny,a=new yh(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(r.withCredentials),a.load(t,function(l){let c;try{c=r.parse(l)}catch(d){if(void 0===s)return void console.error(d);s(d)}void 0!==c.image?o.image=c.image:void 0!==c.data&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=void 0!==c.wrapS?c.wrapS:Ho,o.wrapT=void 0!==c.wrapT?c.wrapT:Ho,o.magFilter=void 0!==c.magFilter?c.magFilter:wr,o.minFilter=void 0!==c.minFilter?c.minFilter:wr,o.anisotropy=void 0!==c.anisotropy?c.anisotropy:1,void 0!==c.colorSpace?o.colorSpace=c.colorSpace:void 0!==c.encoding&&(o.encoding=c.encoding),void 0!==c.flipY&&(o.flipY=c.flipY),void 0!==c.format&&(o.format=c.format),void 0!==c.type&&(o.type=c.type),void 0!==c.mipmaps&&(o.mipmaps=c.mipmaps,o.minFilter=Yf),1===c.mipmapCount&&(o.minFilter=wr),void 0!==c.generateMipmaps&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,e&&e(o,c)},i,s),o}}class r1e extends Ml{constructor(t){super(t)}load(t,e,i,s){const r=new Qa,o=new VC(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(a){r.image=a,r.needsUpdate=!0,void 0!==e&&e(r)},i,s),r}}class sp extends zs{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new $t(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}class LX extends sp{constructor(t,e,i){super(t,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(zs.DEFAULT_UP),this.updateMatrix(),this.groundColor=new $t(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const j3=new ei,RX=new J,PX=new J;class X3{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new st(512,512),this.map=null,this.mapPass=null,this.matrix=new ei,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new XE,this._frameExtents=new st(1,1),this._viewportCount=1,this._viewports=[new rs(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;RX.setFromMatrixPosition(t.matrixWorld),e.position.copy(RX),PX.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(PX),e.updateMatrixWorld(),j3.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(j3),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(j3)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class o1e extends X3{constructor(){super(new Ro(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,i=2*D0*t.angle*this.focus,s=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;(i!==e.fov||s!==e.aspect||r!==e.far)&&(e.fov=i,e.aspect=s,e.far=r,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class OX extends sp{constructor(t,e,i=0,s=Math.PI/3,r=0,o=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(zs.DEFAULT_UP),this.updateMatrix(),this.target=new zs,this.distance=i,this.angle=s,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new o1e}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const FX=new ei,BC=new J,q3=new J;class a1e extends X3{constructor(){super(new Ro(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new st(4,2),this._viewportCount=6,this._viewports=[new rs(2,1,1,1),new rs(0,1,1,1),new rs(3,1,1,1),new rs(1,1,1,1),new rs(3,0,1,1),new rs(1,0,1,1)],this._cubeDirections=[new J(1,0,0),new J(-1,0,0),new J(0,0,1),new J(0,0,-1),new J(0,1,0),new J(0,-1,0)],this._cubeUps=[new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,0,1),new J(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,s=this.matrix,r=t.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),BC.setFromMatrixPosition(t.matrixWorld),i.position.copy(BC),q3.copy(i.position),q3.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(q3),i.updateMatrixWorld(),s.makeTranslation(-BC.x,-BC.y,-BC.z),FX.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(FX)}}class NX extends sp{constructor(t,e,i=0,s=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new a1e}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class l1e extends X3{constructor(){super(new ZE(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class VX extends sp{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(zs.DEFAULT_UP),this.updateMatrix(),this.target=new zs,this.shadow=new l1e}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class BX extends sp{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class HX extends sp{constructor(t,e,i=10,s=10){super(t,e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class zX{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new J)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,s=t.y,r=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*s),e.addScaledVector(o[2],.488603*r),e.addScaledVector(o[3],.488603*i),e.addScaledVector(o[4],i*s*1.092548),e.addScaledVector(o[5],s*r*1.092548),e.addScaledVector(o[6],.315392*(3*r*r-1)),e.addScaledVector(o[7],i*r*1.092548),e.addScaledVector(o[8],.546274*(i*i-s*s)),e}getIrradianceAt(t,e){const i=t.x,s=t.y,r=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],1.023328*s),e.addScaledVector(o[2],1.023328*r),e.addScaledVector(o[3],1.023328*i),e.addScaledVector(o[4],.858086*i*s),e.addScaledVector(o[5],.858086*s*r),e.addScaledVector(o[6],.743125*r*r-.247708),e.addScaledVector(o[7],.858086*i*r),e.addScaledVector(o[8],.429043*(i*i-s*s)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(t,e+3*s);return this}toArray(t=[],e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(t,e+3*s);return t}static getBasisAt(t,e){const i=t.x,s=t.y,r=t.z;e[0]=.282095,e[1]=.488603*s,e[2]=.488603*r,e[3]=.488603*i,e[4]=1.092548*i*s,e[5]=1.092548*s*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*i*r,e[8]=.546274*(i*i-s*s)}}class PA extends sp{constructor(t=new zX,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class OA extends Ml{constructor(t){super(t),this.textures={}}load(t,e,i,s){const r=this,o=new yh(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,function(a){try{e(r.parse(JSON.parse(a)))}catch(l){s?s(l):console.error(l),r.manager.itemError(t)}},i,s)}parse(t){const e=this.textures;function i(r){return void 0===e[r]&&console.warn("THREE.MaterialLoader: Undefined texture",r),e[r]}const s=OA.createMaterialFromType(t.type);if(void 0!==t.uuid&&(s.uuid=t.uuid),void 0!==t.name&&(s.name=t.name),void 0!==t.color&&void 0!==s.color&&s.color.setHex(t.color),void 0!==t.roughness&&(s.roughness=t.roughness),void 0!==t.metalness&&(s.metalness=t.metalness),void 0!==t.sheen&&(s.sheen=t.sheen),void 0!==t.sheenColor&&(s.sheenColor=(new $t).setHex(t.sheenColor)),void 0!==t.sheenRoughness&&(s.sheenRoughness=t.sheenRoughness),void 0!==t.emissive&&void 0!==s.emissive&&s.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==s.specular&&s.specular.setHex(t.specular),void 0!==t.specularIntensity&&(s.specularIntensity=t.specularIntensity),void 0!==t.specularColor&&void 0!==s.specularColor&&s.specularColor.setHex(t.specularColor),void 0!==t.shininess&&(s.shininess=t.shininess),void 0!==t.clearcoat&&(s.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(s.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.iridescence&&(s.iridescence=t.iridescence),void 0!==t.iridescenceIOR&&(s.iridescenceIOR=t.iridescenceIOR),void 0!==t.iridescenceThicknessRange&&(s.iridescenceThicknessRange=t.iridescenceThicknessRange),void 0!==t.transmission&&(s.transmission=t.transmission),void 0!==t.thickness&&(s.thickness=t.thickness),void 0!==t.attenuationDistance&&(s.attenuationDistance=t.attenuationDistance),void 0!==t.attenuationColor&&void 0!==s.attenuationColor&&s.attenuationColor.setHex(t.attenuationColor),void 0!==t.anisotropy&&(s.anisotropy=t.anisotropy),void 0!==t.anisotropyRotation&&(s.anisotropyRotation=t.anisotropyRotation),void 0!==t.fog&&(s.fog=t.fog),void 0!==t.flatShading&&(s.flatShading=t.flatShading),void 0!==t.blending&&(s.blending=t.blending),void 0!==t.combine&&(s.combine=t.combine),void 0!==t.side&&(s.side=t.side),void 0!==t.shadowSide&&(s.shadowSide=t.shadowSide),void 0!==t.opacity&&(s.opacity=t.opacity),void 0!==t.transparent&&(s.transparent=t.transparent),void 0!==t.alphaTest&&(s.alphaTest=t.alphaTest),void 0!==t.alphaHash&&(s.alphaHash=t.alphaHash),void 0!==t.depthTest&&(s.depthTest=t.depthTest),void 0!==t.depthWrite&&(s.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(s.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(s.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(s.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(s.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(s.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(s.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(s.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(s.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(s.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(s.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(s.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(s.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(s.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(s.rotation=t.rotation),1!==t.linewidth&&(s.linewidth=t.linewidth),void 0!==t.dashSize&&(s.dashSize=t.dashSize),void 0!==t.gapSize&&(s.gapSize=t.gapSize),void 0!==t.scale&&(s.scale=t.scale),void 0!==t.polygonOffset&&(s.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(s.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(s.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.dithering&&(s.dithering=t.dithering),void 0!==t.alphaToCoverage&&(s.alphaToCoverage=t.alphaToCoverage),void 0!==t.premultipliedAlpha&&(s.premultipliedAlpha=t.premultipliedAlpha),void 0!==t.forceSinglePass&&(s.forceSinglePass=t.forceSinglePass),void 0!==t.visible&&(s.visible=t.visible),void 0!==t.toneMapped&&(s.toneMapped=t.toneMapped),void 0!==t.userData&&(s.userData=t.userData),void 0!==t.vertexColors&&(s.vertexColors="number"==typeof t.vertexColors?t.vertexColors>0:t.vertexColors),void 0!==t.uniforms)for(const r in t.uniforms){const o=t.uniforms[r];switch(s.uniforms[r]={},o.type){case"t":s.uniforms[r].value=i(o.value);break;case"c":s.uniforms[r].value=(new $t).setHex(o.value);break;case"v2":s.uniforms[r].value=(new st).fromArray(o.value);break;case"v3":s.uniforms[r].value=(new J).fromArray(o.value);break;case"v4":s.uniforms[r].value=(new rs).fromArray(o.value);break;case"m3":s.uniforms[r].value=(new di).fromArray(o.value);break;case"m4":s.uniforms[r].value=(new ei).fromArray(o.value);break;default:s.uniforms[r].value=o.value}}if(void 0!==t.defines&&(s.defines=t.defines),void 0!==t.vertexShader&&(s.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(s.fragmentShader=t.fragmentShader),void 0!==t.glslVersion&&(s.glslVersion=t.glslVersion),void 0!==t.extensions)for(const r in t.extensions)s.extensions[r]=t.extensions[r];if(void 0!==t.lights&&(s.lights=t.lights),void 0!==t.clipping&&(s.clipping=t.clipping),void 0!==t.size&&(s.size=t.size),void 0!==t.sizeAttenuation&&(s.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(s.map=i(t.map)),void 0!==t.matcap&&(s.matcap=i(t.matcap)),void 0!==t.alphaMap&&(s.alphaMap=i(t.alphaMap)),void 0!==t.bumpMap&&(s.bumpMap=i(t.bumpMap)),void 0!==t.bumpScale&&(s.bumpScale=t.bumpScale),void 0!==t.normalMap&&(s.normalMap=i(t.normalMap)),void 0!==t.normalMapType&&(s.normalMapType=t.normalMapType),void 0!==t.normalScale){let r=t.normalScale;!1===Array.isArray(r)&&(r=[r,r]),s.normalScale=(new st).fromArray(r)}return void 0!==t.displacementMap&&(s.displacementMap=i(t.displacementMap)),void 0!==t.displacementScale&&(s.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(s.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(s.roughnessMap=i(t.roughnessMap)),void 0!==t.metalnessMap&&(s.metalnessMap=i(t.metalnessMap)),void 0!==t.emissiveMap&&(s.emissiveMap=i(t.emissiveMap)),void 0!==t.emissiveIntensity&&(s.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(s.specularMap=i(t.specularMap)),void 0!==t.specularIntensityMap&&(s.specularIntensityMap=i(t.specularIntensityMap)),void 0!==t.specularColorMap&&(s.specularColorMap=i(t.specularColorMap)),void 0!==t.envMap&&(s.envMap=i(t.envMap)),void 0!==t.envMapIntensity&&(s.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(s.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(s.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(s.lightMap=i(t.lightMap)),void 0!==t.lightMapIntensity&&(s.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(s.aoMap=i(t.aoMap)),void 0!==t.aoMapIntensity&&(s.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(s.gradientMap=i(t.gradientMap)),void 0!==t.clearcoatMap&&(s.clearcoatMap=i(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(s.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(s.clearcoatNormalMap=i(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(s.clearcoatNormalScale=(new st).fromArray(t.clearcoatNormalScale)),void 0!==t.iridescenceMap&&(s.iridescenceMap=i(t.iridescenceMap)),void 0!==t.iridescenceThicknessMap&&(s.iridescenceThicknessMap=i(t.iridescenceThicknessMap)),void 0!==t.transmissionMap&&(s.transmissionMap=i(t.transmissionMap)),void 0!==t.thicknessMap&&(s.thicknessMap=i(t.thicknessMap)),void 0!==t.anisotropyMap&&(s.anisotropyMap=i(t.anisotropyMap)),void 0!==t.sheenColorMap&&(s.sheenColorMap=i(t.sheenColorMap)),void 0!==t.sheenRoughnessMap&&(s.sheenRoughnessMap=i(t.sheenRoughnessMap)),s}setTextures(t){return this.textures=t,this}static createMaterialFromType(t){return new{ShadowMaterial:vX,SpriteMaterial:b3,RawShaderMaterial:yX,ShaderMaterial:eu,PointsMaterial:S3,MeshPhysicalMaterial:bX,MeshStandardMaterial:H3,MeshPhongMaterial:xX,MeshToonMaterial:wX,MeshNormalMaterial:CX,MeshLambertMaterial:MX,MeshDepthMaterial:_3,MeshDistanceMaterial:v3,MeshBasicMaterial:ep,MeshMatcapMaterial:TX,LineDashedMaterial:SX,LineBasicMaterial:Aa,Material:Uo}[t]}}class Z3{static decodeText(t){if(typeof TextDecoder<"u")return(new TextDecoder).decode(t);let e="";for(let i=0,s=t.length;i<s;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch{return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return-1===e?"./":t.slice(0,e+1)}static resolveURL(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class UX extends mi{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class WX extends Ml{constructor(t){super(t)}load(t,e,i,s){const r=this,o=new yh(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,function(a){try{e(r.parse(JSON.parse(a)))}catch(l){s?s(l):console.error(l),r.manager.itemError(t)}},i,s)}parse(t){const e={},i={};function s(m,g){if(void 0!==e[g])return e[g];const _=m.interleavedBuffers[g],y=function r(m,g){if(void 0!==i[g])return i[g];const y=new Uint32Array(m.arrayBuffers[g]).buffer;return i[g]=y,y}(m,_.buffer),C=E0(_.type,y),w=new nA(C,_.stride);return w.uuid=_.uuid,e[g]=w,w}const o=t.isInstancedBufferGeometry?new UX:new mi,a=t.data.index;if(void 0!==a){const m=E0(a.type,a.array);o.setIndex(new ys(m,1))}const l=t.data.attributes;for(const m in l){const g=l[m];let v;if(g.isInterleavedBufferAttribute){const _=s(t.data,g.data);v=new Km(_,g.itemSize,g.offset,g.normalized)}else{const _=E0(g.type,g.array);v=new(g.isInstancedBufferAttribute?iy:ys)(_,g.itemSize,g.normalized)}void 0!==g.name&&(v.name=g.name),void 0!==g.usage&&v.setUsage(g.usage),void 0!==g.updateRange&&(v.updateRange.offset=g.updateRange.offset,v.updateRange.count=g.updateRange.count),o.setAttribute(m,v)}const c=t.data.morphAttributes;if(c)for(const m in c){const g=c[m],v=[];for(let _=0,y=g.length;_<y;_++){const C=g[_];let w;if(C.isInterleavedBufferAttribute){const S=s(t.data,C.data);w=new Km(S,C.itemSize,C.offset,C.normalized)}else{const S=E0(C.type,C.array);w=new ys(S,C.itemSize,C.normalized)}void 0!==C.name&&(w.name=C.name),v.push(w)}o.morphAttributes[m]=v}t.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const u=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==u)for(let m=0,g=u.length;m!==g;++m){const v=u[m];o.addGroup(v.start,v.count,v.materialIndex)}const f=t.data.boundingSphere;if(void 0!==f){const m=new J;void 0!==f.center&&m.fromArray(f.center),o.boundingSphere=new Jc(m,f.radius)}return t.name&&(o.name=t.name),t.userData&&(o.userData=t.userData),o}}class c1e extends Ml{constructor(t){super(t)}load(t,e,i,s){const r=this,o=""===this.path?Z3.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||o;const a=new yh(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(l){let c=null;try{c=JSON.parse(l)}catch(u){return void 0!==s&&s(u),void console.error("THREE:ObjectLoader: Can't parse "+t+".",u.message)}const d=c.metadata;if(void 0===d||void 0===d.type||"geometry"===d.type.toLowerCase())return void 0!==s&&s(new Error("THREE.ObjectLoader: Can't load "+t)),void console.error("THREE.ObjectLoader: Can't load "+t);r.parse(c,e)},i,s)}loadAsync(t,e){var i=this;return tt(function*(){const s=i,r=""===i.path?Z3.extractUrlBase(t):i.path;i.resourcePath=i.resourcePath||r;const o=new yh(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials);const a=yield o.loadAsync(t,e),l=JSON.parse(a),c=l.metadata;if(void 0===c||void 0===c.type||"geometry"===c.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+t);return yield s.parseAsync(l)})()}parse(t,e){const i=this.parseAnimations(t.animations),s=this.parseShapes(t.shapes),r=this.parseGeometries(t.geometries,s),o=this.parseImages(t.images,function(){void 0!==e&&e(c)}),a=this.parseTextures(t.textures,o),l=this.parseMaterials(t.materials,a),c=this.parseObject(t.object,r,l,a,i),d=this.parseSkeletons(t.skeletons,c);if(this.bindSkeletons(c,d),void 0!==e){let u=!1;for(const f in o)if(o[f].data instanceof HTMLImageElement){u=!0;break}!1===u&&e(c)}return c}parseAsync(t){var e=this;return tt(function*(){const i=e.parseAnimations(t.animations),s=e.parseShapes(t.shapes),r=e.parseGeometries(t.geometries,s),o=yield e.parseImagesAsync(t.images),a=e.parseTextures(t.textures,o),l=e.parseMaterials(t.materials,a),c=e.parseObject(t.object,r,l,a,i),d=e.parseSkeletons(t.skeletons,c);return e.bindSkeletons(c,d),c})()}parseShapes(t){const e={};if(void 0!==t)for(let i=0,s=t.length;i<s;i++){const r=(new Qm).fromJSON(t[i]);e[r.uuid]=r}return e}parseSkeletons(t,e){const i={},s={};if(e.traverse(function(r){r.isBone&&(s[r.uuid]=r)}),void 0!==t)for(let r=0,o=t.length;r<o;r++){const a=(new aA).fromJSON(t[r],s);i[a.uuid]=a}return i}parseGeometries(t,e){const i={};if(void 0!==t){const s=new WX;for(let r=0,o=t.length;r<o;r++){let a;const l=t[r];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=s.parse(l);break;default:l.type in _X?a=_X[l.type].fromJSON(l,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,void 0!==l.name&&(a.name=l.name),void 0!==l.userData&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(t,e){const i={},s={};if(void 0!==t){const r=new OA;r.setTextures(e);for(let o=0,a=t.length;o<a;o++){const l=t[o];void 0===i[l.uuid]&&(i[l.uuid]=r.parse(l)),s[l.uuid]=i[l.uuid]}}return s}parseAnimations(t){const e={};if(void 0!==t)for(let i=0;i<t.length;i++){const r=NC.parse(t[i]);e[r.uuid]=r}return e}parseImages(t,e){const i=this,s={};let r;function a(l){if("string"==typeof l){const c=l;return function o(l){return i.manager.itemStart(l),r.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c)}return l.data?{data:E0(l.type,l.data),width:l.width,height:l.height}:null}if(void 0!==t&&t.length>0){const l=new $3(e);r=new VC(l),r.setCrossOrigin(this.crossOrigin);for(let c=0,d=t.length;c<d;c++){const u=t[c],f=u.url;if(Array.isArray(f)){const m=[];for(let g=0,v=f.length;g<v;g++){const y=a(f[g]);null!==y&&(y instanceof HTMLImageElement?m.push(y):m.push(new ny(y.data,y.width,y.height)))}s[u.uuid]=new Wm(m)}else{const m=a(u.url);s[u.uuid]=new Wm(m)}}}return s}parseImagesAsync(t){var e=this;return tt(function*(){const i=e,s={};let r;function o(l){return a.apply(this,arguments)}function a(){return(a=tt(function*(l){if("string"==typeof l){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return yield r.loadAsync(d)}return l.data?{data:E0(l.type,l.data),width:l.width,height:l.height}:null})).apply(this,arguments)}if(void 0!==t&&t.length>0){r=new VC(e.manager),r.setCrossOrigin(e.crossOrigin);for(let l=0,c=t.length;l<c;l++){const d=t[l],u=d.url;if(Array.isArray(u)){const f=[];for(let m=0,g=u.length;m<g;m++){const v=u[m],_=yield o(v);null!==_&&(_ instanceof HTMLImageElement?f.push(_):f.push(new ny(_.data,_.width,_.height)))}s[d.uuid]=new Wm(f)}else{const f=yield o(d.url);s[d.uuid]=new Wm(f)}}}return s})()}parseTextures(t,e){function i(r,o){return"number"==typeof r?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),o[r])}const s={};if(void 0!==t)for(let r=0,o=t.length;r<o;r++){const a=t[r];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===e[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=e[a.image],c=l.data;let d;Array.isArray(c)?(d=new _C,6===c.length&&(d.needsUpdate=!0)):(d=c&&c.data?new ny:new Qa,c&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,void 0!==a.name&&(d.name=a.name),void 0!==a.mapping&&(d.mapping=i(a.mapping,d1e)),void 0!==a.channel&&(d.channel=a.channel),void 0!==a.offset&&d.offset.fromArray(a.offset),void 0!==a.repeat&&d.repeat.fromArray(a.repeat),void 0!==a.center&&d.center.fromArray(a.center),void 0!==a.rotation&&(d.rotation=a.rotation),void 0!==a.wrap&&(d.wrapS=i(a.wrap[0],YX),d.wrapT=i(a.wrap[1],YX)),void 0!==a.format&&(d.format=a.format),void 0!==a.internalFormat&&(d.internalFormat=a.internalFormat),void 0!==a.type&&(d.type=a.type),void 0!==a.colorSpace&&(d.colorSpace=a.colorSpace),void 0!==a.encoding&&(d.encoding=a.encoding),void 0!==a.minFilter&&(d.minFilter=i(a.minFilter,GX)),void 0!==a.magFilter&&(d.magFilter=i(a.magFilter,GX)),void 0!==a.anisotropy&&(d.anisotropy=a.anisotropy),void 0!==a.flipY&&(d.flipY=a.flipY),void 0!==a.generateMipmaps&&(d.generateMipmaps=a.generateMipmaps),void 0!==a.premultiplyAlpha&&(d.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(d.unpackAlignment=a.unpackAlignment),void 0!==a.compareFunction&&(d.compareFunction=a.compareFunction),void 0!==a.userData&&(d.userData=a.userData),s[a.uuid]=d}return s}parseObject(t,e,i,s,r){let o,d,u;function a(f){return void 0===e[f]&&console.warn("THREE.ObjectLoader: Undefined geometry",f),e[f]}function l(f){if(void 0!==f){if(Array.isArray(f)){const m=[];for(let g=0,v=f.length;g<v;g++){const _=f[g];void 0===i[_]&&console.warn("THREE.ObjectLoader: Undefined material",_),m.push(i[_])}return m}return void 0===i[f]&&console.warn("THREE.ObjectLoader: Undefined material",f),i[f]}}function c(f){return void 0===s[f]&&console.warn("THREE.ObjectLoader: Undefined texture",f),s[f]}switch(t.type){case"Scene":o=new k9,void 0!==t.background&&(o.background=Number.isInteger(t.background)?new $t(t.background):c(t.background)),void 0!==t.environment&&(o.environment=c(t.environment)),void 0!==t.fog&&("Fog"===t.fog.type?o.fog=new tA(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(o.fog=new eA(t.fog.color,t.fog.density))),void 0!==t.backgroundBlurriness&&(o.backgroundBlurriness=t.backgroundBlurriness),void 0!==t.backgroundIntensity&&(o.backgroundIntensity=t.backgroundIntensity);break;case"PerspectiveCamera":o=new Ro(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(o.focus=t.focus),void 0!==t.zoom&&(o.zoom=t.zoom),void 0!==t.filmGauge&&(o.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(o.filmOffset=t.filmOffset),void 0!==t.view&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new ZE(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(o.zoom=t.zoom),void 0!==t.view&&(o.view=Object.assign({},t.view));break;case"AmbientLight":o=new BX(t.color,t.intensity);break;case"DirectionalLight":o=new VX(t.color,t.intensity);break;case"PointLight":o=new NX(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new HX(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new OX(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":o=new LX(t.color,t.groundColor,t.intensity);break;case"LightProbe":o=(new PA).fromJSON(t);break;case"SkinnedMesh":d=a(t.geometry),u=l(t.material),o=new U9(d,u),void 0!==t.bindMode&&(o.bindMode=t.bindMode),void 0!==t.bindMatrix&&o.bindMatrix.fromArray(t.bindMatrix),void 0!==t.skeleton&&(o.skeleton=t.skeleton);break;case"Mesh":d=a(t.geometry),u=l(t.material),o=new Lo(d,u);break;case"InstancedMesh":d=a(t.geometry),u=l(t.material);const m=t.instanceMatrix,g=t.instanceColor;o=new $9(d,u,t.count),o.instanceMatrix=new iy(new Float32Array(m.array),16),void 0!==g&&(o.instanceColor=new iy(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new F9;break;case"Line":o=new np(a(t.geometry),l(t.material));break;case"LineLoop":o=new Q9(a(t.geometry),l(t.material));break;case"LineSegments":o=new tu(a(t.geometry),l(t.material));break;case"PointCloud":case"Points":o=new eX(a(t.geometry),l(t.material));break;case"Sprite":o=new P9(l(t.material));break;case"Group":o=new Z0;break;case"Bone":o=new M3;break;default:o=new zs}if(o.uuid=t.uuid,void 0!==t.name&&(o.name=t.name),void 0!==t.matrix?(o.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(o.matrixAutoUpdate=t.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(void 0!==t.position&&o.position.fromArray(t.position),void 0!==t.rotation&&o.rotation.fromArray(t.rotation),void 0!==t.quaternion&&o.quaternion.fromArray(t.quaternion),void 0!==t.scale&&o.scale.fromArray(t.scale)),void 0!==t.up&&o.up.fromArray(t.up),void 0!==t.castShadow&&(o.castShadow=t.castShadow),void 0!==t.receiveShadow&&(o.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(o.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(o.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(o.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&o.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(o.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(o.visible=t.visible),void 0!==t.frustumCulled&&(o.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(o.renderOrder=t.renderOrder),void 0!==t.userData&&(o.userData=t.userData),void 0!==t.layers&&(o.layers.mask=t.layers),void 0!==t.children){const f=t.children;for(let m=0;m<f.length;m++)o.add(this.parseObject(f[m],e,i,s,r))}if(void 0!==t.animations){const f=t.animations;for(let m=0;m<f.length;m++)o.animations.push(r[f[m]])}if("LOD"===t.type){void 0!==t.autoUpdate&&(o.autoUpdate=t.autoUpdate);const f=t.levels;for(let m=0;m<f.length;m++){const g=f[m],v=o.getObjectByProperty("uuid",g.object);void 0!==v&&o.addLevel(v,g.distance,g.hysteresis)}}return o}bindSkeletons(t,e){0!==Object.keys(e).length&&t.traverse(function(i){if(!0===i.isSkinnedMesh&&void 0!==i.skeleton){const s=e[i.skeleton];void 0===s?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(s,i.bindMatrix)}})}}const d1e={UVMapping:pE,CubeReflectionMapping:ah,CubeRefractionMapping:Wf,EquirectangularReflectionMapping:Qw,EquirectangularRefractionMapping:Jw,CubeUVReflectionMapping:T0},YX={RepeatWrapping:eC,ClampToEdgeWrapping:Ho,MirroredRepeatWrapping:tC},GX={NearestFilter:xr,NearestMipmapNearestFilter:mE,NearestMipmapLinearFilter:nC,LinearFilter:wr,LinearMipmapNearestFilter:oN,LinearMipmapLinearFilter:Yf};class u1e extends Ml{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,i,s){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=ig.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout(function(){e&&e(o),r.manager.itemEnd(t)},0),o;const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(t,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(l){ig.add(t,l),e&&e(l),r.manager.itemEnd(t)}).catch(function(l){s&&s(l),r.manager.itemError(t),r.manager.itemEnd(t)}),r.manager.itemStart(t)}}let FA;class K3{static getContext(){return void 0===FA&&(FA=new(window.AudioContext||window.webkitAudioContext)),FA}static setContext(t){FA=t}}class h1e extends Ml{constructor(t){super(t)}load(t,e,i,s){const r=this,o=new yh(this.manager);function a(l){s?s(l):console.error(l),r.manager.itemError(t)}o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(l){try{const c=l.slice(0);K3.getContext().decodeAudioData(c,function(u){e(u)},a)}catch(c){a(c)}},i,s)}}class f1e extends PA{constructor(t,e,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const s=(new $t).set(t),r=(new $t).set(e),o=new J(s.r,s.g,s.b),a=new J(r.r,r.g,r.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class p1e extends PA{constructor(t,e=1){super(void 0,e),this.isAmbientLightProbe=!0;const i=(new $t).set(t);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const $X=new ei,jX=new ei,sg=new ei;class m1e{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ro,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ro,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,sg.copy(t.projectionMatrix);const s=e.eyeSep/2,r=s*e.near/e.focus,o=e.near*Math.tan(Um*e.fov*.5)/e.zoom;let a,l;jX.elements[12]=-s,$X.elements[12]=s,a=-o*e.aspect+r,l=o*e.aspect+r,sg.elements[0]=2*e.near/(l-a),sg.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(sg),a=-o*e.aspect-r,l=o*e.aspect-r,sg.elements[0]=2*e.near/(l-a),sg.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(sg)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(jX),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply($X)}}class XX{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=qX(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=qX();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function qX(){return(typeof performance>"u"?Date:performance).now()}const rg=new J,ZX=new Ja,g1e=new J,og=new J;class _1e extends zs{constructor(){super(),this.type="AudioListener",this.context=K3.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new XX}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(rg,ZX,g1e),og.set(0,0,-1).applyQuaternion(ZX),e.positionX){const s=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(rg.x,s),e.positionY.linearRampToValueAtTime(rg.y,s),e.positionZ.linearRampToValueAtTime(rg.z,s),e.forwardX.linearRampToValueAtTime(og.x,s),e.forwardY.linearRampToValueAtTime(og.y,s),e.forwardZ.linearRampToValueAtTime(og.z,s),e.upX.linearRampToValueAtTime(i.x,s),e.upY.linearRampToValueAtTime(i.y,s),e.upZ.linearRampToValueAtTime(i.z,s)}else e.setPosition(rg.x,rg.y,rg.z),e.setOrientation(og.x,og.y,og.z,i.x,i.y,i.z)}}class KX extends zs{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}const ag=new J,QX=new Ja,v1e=new J,lg=new J;class y1e extends KX{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(ag,QX,v1e),lg.set(0,0,1).applyQuaternion(QX);const e=this.panner;if(e.positionX){const i=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(ag.x,i),e.positionY.linearRampToValueAtTime(ag.y,i),e.positionZ.linearRampToValueAtTime(ag.z,i),e.orientationX.linearRampToValueAtTime(lg.x,i),e.orientationY.linearRampToValueAtTime(lg.y,i),e.orientationZ.linearRampToValueAtTime(lg.z,i)}else e.setPosition(ag.x,ag.y,ag.z),e.setOrientation(lg.x,lg.y,lg.z)}}class b1e{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let i=0;i<e.length;i++)t+=e[i];return t/e.length}}class JX{constructor(t,e,i){let s,r,o;switch(this.binding=t,this.valueSize=i,e){case"quaternion":s=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*i),this._workIndex=5;break;case"string":case"bool":s=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*i);break;default:s=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,s=this.valueSize,r=t*s+s;let o=this.cumulativeWeight;if(0===o){for(let a=0;a!==s;++a)i[r+a]=i[a];o=e}else o+=e,this._mixBufferRegion(i,r,0,e/o,s);this.cumulativeWeight=o}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,s=i*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,s,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,s=t*e+e,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1&&this._mixBufferRegion(i,s,e*this._origIndex,1-r,e),o>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*e,1,e);for(let l=e,c=e+e;l!==c;++l)if(i[l]!==i[l+e]){a.setValue(i,s);break}}saveOriginalState(){const e=this.buffer,i=this.valueSize,s=i*this._origIndex;this.binding.getValue(e,s);for(let r=i,o=s;r!==o;++r)e[r]=e[s+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,s,r){if(s>=.5)for(let o=0;o!==r;++o)t[e+o]=t[i+o]}_slerp(t,e,i,s){Ja.slerpFlat(t,e,t,e,t,i,s)}_slerpAdditive(t,e,i,s,r){const o=this._workIndex*r;Ja.multiplyQuaternionsFlat(t,o,t,e,t,i),Ja.slerpFlat(t,e,t,e,t,o,s)}_lerp(t,e,i,s,r){const o=1-s;for(let a=0;a!==r;++a){const l=e+a;t[l]=t[l]*o+t[i+a]*s}}_lerpAdditive(t,e,i,s,r){for(let o=0;o!==r;++o){const a=e+o;t[a]=t[a]+t[i+o]*s}}}const Q3="\\[\\]\\.:\\/",x1e=new RegExp("["+Q3+"]","g"),J3="[^"+Q3+"]",w1e="[^"+Q3.replace("\\.","")+"]",D1e=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",J3)+/(WCOD+)?/.source.replace("WCOD",w1e)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",J3)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",J3)+"$"),E1e=["material","materials","bones","map"];class A1e{constructor(t,e,i){const s=i||ks.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,s)}getValue(t,e){this.bind();const s=this._bindings[this._targetGroup.nCachedObjects_];void 0!==s&&s.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=i.length;s!==r;++s)i[s].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}let ks=(()=>{class n{constructor(e,i,s){this.path=i,this.parsedPath=s||n.parseTrackName(i),this.node=n.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,i,s){return e&&e.isAnimationObjectGroup?new n.Composite(e,i,s):new n(e,i,s)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(x1e,"")}static parseTrackName(e){const i=D1e.exec(e);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const s={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},r=s.nodeName&&s.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const o=s.nodeName.substring(r+1);-1!==E1e.indexOf(o)&&(s.nodeName=s.nodeName.substring(0,r),s.objectName=o)}if(null===s.propertyName||0===s.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return s}static findNode(e,i){if(void 0===i||""===i||"."===i||-1===i||i===e.name||i===e.uuid)return e;if(e.skeleton){const s=e.skeleton.getBoneByName(i);if(void 0!==s)return s}if(e.children){const s=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===i||l.uuid===i)return l;const c=s(l.children);if(c)return c}return null},r=s(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,i){e[i]=this.targetObject[this.propertyName]}_getValue_array(e,i){const s=this.resolvedProperty;for(let r=0,o=s.length;r!==o;++r)e[i++]=s[r]}_getValue_arrayElement(e,i){e[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,i){this.resolvedProperty.toArray(e,i)}_setValue_direct(e,i){this.targetObject[this.propertyName]=e[i]}_setValue_direct_setNeedsUpdate(e,i){this.targetObject[this.propertyName]=e[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,i){this.targetObject[this.propertyName]=e[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,i){const s=this.resolvedProperty;for(let r=0,o=s.length;r!==o;++r)s[r]=e[i++]}_setValue_array_setNeedsUpdate(e,i){const s=this.resolvedProperty;for(let r=0,o=s.length;r!==o;++r)s[r]=e[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,i){const s=this.resolvedProperty;for(let r=0,o=s.length;r!==o;++r)s[r]=e[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,i){this.resolvedProperty[this.propertyIndex]=e[i]}_setValue_arrayElement_setNeedsUpdate(e,i){this.resolvedProperty[this.propertyIndex]=e[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,i){this.resolvedProperty[this.propertyIndex]=e[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,i){this.resolvedProperty.fromArray(e,i)}_setValue_fromArray_setNeedsUpdate(e,i){this.resolvedProperty.fromArray(e,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,i){this.resolvedProperty.fromArray(e,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,i){this.bind(),this.getValue(e,i)}_setValue_unbound(e,i){this.bind(),this.setValue(e,i)}bind(){let e=this.node;const i=this.parsedPath,s=i.objectName,r=i.propertyName;let o=i.propertyIndex;if(e||(e=n.findNode(this.rootNode,i.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(s){let d=i.objectIndex;switch(s){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===d){d=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[s])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[s]}if(void 0!==d){if(void 0===e[d])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[d]}}const a=e[r];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+r+" but it wasn't found.",e);let l=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[o]&&(o=e.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=A1e,n})();ks.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},ks.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},ks.prototype.GetterByBindingType=[ks.prototype._getValue_direct,ks.prototype._getValue_array,ks.prototype._getValue_arrayElement,ks.prototype._getValue_toArray],ks.prototype.SetterByBindingTypeAndVersioning=[[ks.prototype._setValue_direct,ks.prototype._setValue_direct_setNeedsUpdate,ks.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ks.prototype._setValue_array,ks.prototype._setValue_array_setNeedsUpdate,ks.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ks.prototype._setValue_arrayElement,ks.prototype._setValue_arrayElement_setNeedsUpdate,ks.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ks.prototype._setValue_fromArray,ks.prototype._setValue_fromArray_setNeedsUpdate,ks.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class k1e{constructor(){this.isAnimationObjectGroup=!0,this.uuid=xl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let i=0,s=arguments.length;i!==s;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,i=this._paths,s=this._parsedPaths,r=this._bindings,o=r.length;let a,l=t.length,c=this.nCachedObjects_;for(let d=0,u=arguments.length;d!==u;++d){const f=arguments[d],m=f.uuid;let g=e[m];if(void 0===g){g=l++,e[m]=g,t.push(f);for(let v=0,_=o;v!==_;++v)r[v].push(new ks(f,i[v],s[v]))}else if(g<c){a=t[g];const v=--c,_=t[v];e[_.uuid]=g,t[g]=_,e[m]=v,t[v]=f;for(let y=0,C=o;y!==C;++y){const w=r[y];let R=w[g];w[g]=w[v],void 0===R&&(R=new ks(f,i[y],s[y])),w[v]=R}}else t[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,d=e[c];if(void 0!==d&&d>=r){const u=r++,f=t[u];e[f.uuid]=d,t[d]=f,e[c]=u,t[u]=l;for(let m=0,g=s;m!==g;++m){const v=i[m],y=v[d];v[d]=v[u],v[u]=y}}}this.nCachedObjects_=r}uncache(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_,o=t.length;for(let a=0,l=arguments.length;a!==l;++a){const d=arguments[a].uuid,u=e[d];if(void 0!==u)if(delete e[d],u<r){const f=--r,m=t[f],g=--o,v=t[g];e[m.uuid]=u,t[u]=m,e[v.uuid]=f,t[f]=v,t.pop();for(let _=0,y=s;_!==y;++_){const C=i[_],S=C[g];C[u]=C[f],C[f]=S,C.pop()}}else{const f=--o,m=t[f];f>0&&(e[m.uuid]=u),t[u]=m,t.pop();for(let g=0,v=s;g!==v;++g){const _=i[g];_[u]=_[f],_.pop()}}}this.nCachedObjects_=r}subscribe_(t,e){const i=this._bindingsIndicesByPath;let s=i[t];const r=this._bindings;if(void 0!==s)return r[s];const o=this._paths,a=this._parsedPaths,l=this._objects,d=this.nCachedObjects_,u=new Array(l.length);s=r.length,i[t]=s,o.push(t),a.push(e),r.push(u);for(let f=d,m=l.length;f!==m;++f)u[f]=new ks(l[f],t,e);return u}unsubscribe_(t){const e=this._bindingsIndicesByPath,i=e[t];if(void 0!==i){const s=this._paths,r=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a];e[t[a]]=i,o[i]=l,o.pop(),r[i]=r[a],r.pop(),s[i]=s[a],s.pop()}}}class eq{constructor(t,e,i=null,s=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=s;const r=e.tracks,o=r.length,a=new Array(o),l={endingStart:Hm,endingEnd:Hm};for(let c=0;c!==o;++c){const d=r[c].createInterpolant(null);a[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=pj,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){const s=this._clip.duration,r=t._clip.duration,a=s/r;t.warp(1,r/s,e),this.warp(a,1,e)}return this}crossFadeTo(t,e,i){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const s=this._mixer,r=s.time,o=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=s._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=r,l[1]=r+i,c[0]=t/o,c[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,s){if(!this.enabled)return void this._updateWeight(t);const r=this._startTime;if(null!==r){const l=(t-r)*i;l<0||0===i?e=0:(this._startTime=null,e=i*l)}e*=this._updateTimeScale(t);const o=this._updateTime(e),a=this._updateWeight(t);if(a>0){const l=this._interpolants,c=this._propertyBindings;if(this.blendMode===VN)for(let d=0,u=l.length;d!==u;++d)l[d].evaluate(o),c[d].accumulateAdditive(a);else for(let d=0,u=l.length;d!==u;++d)l[d].evaluate(o),c[d].accumulate(s,a)}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(null!==i){const s=i.evaluate(t)[0];e*=s,t>i.parameterPositions[1]&&(this.stopFading(),0===s&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;null!==i&&(e*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let s=this.time+t,r=this._loopCount;const o=i===mj;if(0===t)return-1===r?s:o&&1==(1&r)?e-s:s;if(i===fj){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=e)s=e;else{if(!(s<0)){this.time=s;break e}s=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),s>=e||s<0){const a=Math.floor(s/e);s-=e*a,r+=Math.abs(a);const l=this.repetitions-r;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=t>0?e:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===l){const c=t<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=s;if(o&&1==(1&r))return e-s}return s}_setEndings(t,e,i){const s=this._interpolantSettings;i?(s.endingStart=zm,s.endingEnd=zm):(s.endingStart=t?this.zeroSlopeAtStart?zm:Hm:rC,s.endingEnd=e?this.zeroSlopeAtEnd?zm:Hm:rC)}_scheduleFading(t,e,i){const s=this._mixer,r=s.time;let o=this._weightInterpolant;null===o&&(o=s._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=r,l[0]=e,a[1]=r+t,l[1]=i,this}}const I1e=new Float32Array(1);class L1e extends dh{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const i=t._localRoot||this._root,s=t._clip.tracks,r=s.length,o=t._propertyBindings,a=t._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let d=c[l];void 0===d&&(d={},c[l]=d);for(let u=0;u!==r;++u){const f=s[u],m=f.name;let g=d[m];if(void 0!==g)++g.referenceCount,o[u]=g;else{if(g=o[u],void 0!==g){null===g._cacheIndex&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}g=new JX(ks.create(i,m,e&&e._propertyBindings[u].binding.parsedPath),f.ValueTypeName,f.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[u]=g}a[u].resultBuffer=g.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const i=(t._localRoot||this._root).uuid,s=t._clip.uuid,r=this._actionsByClip[s];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,s,i)}const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];0==r.useCount++&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions}_addInactiveAction(t,e,i){const s=this._actions,r=this._actionsByClip;let o=r[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=o;else{const a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=s.length,s.push(t),o.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],s=t._cacheIndex;i._cacheIndex=s,e[s]=i,e.pop(),t._cacheIndex=null;const r=t._clip.uuid,o=this._actionsByClip,a=o[r],l=a.knownActions,c=l[l.length-1],d=t._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(t._localRoot||this._root).uuid],0===l.length&&delete o[r],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];0==--r.referenceCount&&this._removeInactiveBinding(r)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,s=this._nActiveActions++,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,s=--this._nActiveActions,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_addInactiveBinding(t,e,i){const s=this._bindingsByRootAndName,r=this._bindings;let o=s[e];void 0===o&&(o={},s[e]=o),o[i]=t,t._cacheIndex=r.length,r.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,s=i.rootNode.uuid,r=i.path,o=this._bindingsByRootAndName,a=o[s],l=e[e.length-1],c=t._cacheIndex;l._cacheIndex=c,e[c]=l,e.pop(),delete a[r],0===Object.keys(a).length&&delete o[s]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,s=this._nActiveBindings++,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,s=--this._nActiveBindings,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return void 0===i&&(i=new Y3(new Float32Array(2),new Float32Array(2),1,I1e),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,s=--this._nActiveControlInterpolants,r=e[s];t.__cacheIndex=s,e[s]=t,r.__cacheIndex=i,e[i]=r}clipAction(t,e,i){const s=e||this._root,r=s.uuid;let o="string"==typeof t?NC.findByName(s,t):t;const a=null!==o?o.uuid:t,l=this._actionsByClip[a];let c=null;if(void 0===i&&(i=null!==o?o.blendMode:CE),void 0!==l){const u=l.actionByRoot[r];if(void 0!==u&&u.blendMode===i)return u;c=l.knownActions[0],null===o&&(o=c._clip)}if(null===o)return null;const d=new eq(this,o,e,i);return this._bindAction(d,c),this._addInactiveAction(d,a,r),d}existingAction(t,e){const i=e||this._root,s=i.uuid,r="string"==typeof t?NC.findByName(i,t):t,a=this._actionsByClip[r?r.uuid:t];return void 0!==a&&a.actionByRoot[s]||null}stopAllAction(){const t=this._actions;for(let i=this._nActiveActions-1;i>=0;--i)t[i].stop();return this}update(t){const e=this._actions,i=this._nActiveActions,s=this.time+=t*=this.timeScale,r=Math.sign(t),o=this._accuIndex^=1;for(let c=0;c!==i;++c)e[c]._update(s,t,r,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,s=this._actionsByClip,r=s[i];if(void 0!==r){const o=r.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const d=c._cacheIndex,u=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,u._cacheIndex=d,e[d]=u,e.pop(),this._removeInactiveBindingsForAction(c)}delete s[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const o in i){const l=i[o].actionByRoot[e];void 0!==l&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName[e];if(void 0!==r)for(const o in r){const a=r[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(t,e){const i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class eV{constructor(t){this.value=t}clone(){return new eV(void 0===this.value.clone?this.value:this.value.clone())}}let R1e=0;class P1e extends dh{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:R1e++}),this.name="",this.usage=aC,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return-1!==e&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let i=0,s=e.length;i<s;i++)this.uniforms.push(e[i].clone());return this}clone(){return(new this.constructor).copy(this)}}class O1e extends nA{constructor(t,e,i=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class F1e{constructor(t,e,i,s,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=e,this.itemSize=i,this.elementSize=s,this.count=r,this.version=0}set needsUpdate(t){!0===t&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}class N1e{constructor(t,e,i=0,s=1/0){this.ray=new O0(t,e),this.near=i,this.far=s,this.camera=null,this.layers=new RE,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}intersectObject(t,e=!0,i=[]){return tV(t,this,i,e),i.sort(tq),i}intersectObjects(t,e=!0,i=[]){for(let s=0,r=t.length;s<r;s++)tV(t[s],this,i,e);return i.sort(tq),i}}function tq(n,t){return n.distance-t.distance}function tV(n,t,e,i){if(n.layers.test(t.layers)&&n.raycast(t,e),!0===i){const s=n.children;for(let r=0,o=s.length;r<o;r++)tV(s[r],t,e,!0)}}class V1e{constructor(t=1,e=0,i=0){return this.radius=t,this.phi=e,this.theta=i,this}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(dr(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class B1e{constructor(t=1,e=0,i=0){return this.radius=t,this.theta=e,this.y=i,this}set(t,e,i){return this.radius=t,this.theta=e,this.y=i,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}clone(){return(new this.constructor).copy(this)}}const nq=new st;class H1e{constructor(t=new st(1/0,1/0),e=new st(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=nq.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,nq).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const iq=new J,NA=new J;class z1e{constructor(t=new J,e=new J){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){iq.subVectors(t,this.start),NA.subVectors(this.end,this.start);const i=NA.dot(NA);let r=NA.dot(iq)/i;return e&&(r=dr(r,0,1)),r}closestPointToPoint(t,e,i){const s=this.closestPointToPointParameter(t,e);return this.delta(i).multiplyScalar(s).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const sq=new J;class U1e extends zs{constructor(t,e){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e,this.type="SpotLightHelper";const i=new mi,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,d=a/l*Math.PI*2;s.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new en(s,3));const r=new Aa({fog:!1,toneMapped:!1});this.cone=new tu(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),sq.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(sq),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const rp=new J,VA=new ei,nV=new ei;class W1e extends tu{constructor(t){const e=rq(t),i=new mi,s=[],r=[],o=new $t(0,0,1),a=new $t(0,1,0);for(let c=0;c<e.length;c++){const d=e[c];d.parent&&d.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),r.push(o.r,o.g,o.b),r.push(a.r,a.g,a.b))}i.setAttribute("position",new en(s,3)),i.setAttribute("color",new en(r,3)),super(i,new Aa({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,i=this.geometry,s=i.getAttribute("position");nV.copy(this.root.matrixWorld).invert();for(let r=0,o=0;r<e.length;r++){const a=e[r];a.parent&&a.parent.isBone&&(VA.multiplyMatrices(nV,a.matrixWorld),rp.setFromMatrixPosition(VA),s.setXYZ(o,rp.x,rp.y,rp.z),VA.multiplyMatrices(nV,a.parent.matrixWorld),rp.setFromMatrixPosition(VA),s.setXYZ(o+1,rp.x,rp.y,rp.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose()}}function rq(n){const t=[];!0===n.isBone&&t.push(n);for(let e=0;e<n.children.length;e++)t.push.apply(t,rq(n.children[e]));return t}class Y1e extends Lo{constructor(t,e,i){super(new RC(e,4,2),new ep({wireframe:!0,fog:!1,toneMapped:!1})),this.light=t,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const G1e=new J,oq=new $t,aq=new $t;class $1e extends zs{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const s=new LC(e);s.rotateY(.5*Math.PI),this.material=new ep({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const r=s.getAttribute("position"),o=new Float32Array(3*r.count);s.setAttribute("color",new ys(o,3)),this.add(new Lo(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");oq.copy(this.light.color),aq.copy(this.light.groundColor);for(let i=0,s=e.count;i<s;i++){const r=i<s/2?oq:aq;e.setXYZ(i,r.r,r.g,r.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(G1e.setFromMatrixPosition(this.light.matrixWorld).negate())}}class j1e extends tu{constructor(t=10,e=10,i=4473924,s=8947848){i=new $t(i),s=new $t(s);const r=e/2,o=t/e,a=t/2,l=[],c=[];for(let f=0,m=0,g=-a;f<=e;f++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const v=f===r?i:s;v.toArray(c,m),m+=3,v.toArray(c,m),m+=3,v.toArray(c,m),m+=3,v.toArray(c,m),m+=3}const d=new mi;d.setAttribute("position",new en(l,3)),d.setAttribute("color",new en(c,3)),super(d,new Aa({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class X1e extends tu{constructor(t=10,e=16,i=8,s=64,r=4473924,o=8947848){r=new $t(r),o=new $t(o);const a=[],l=[];if(e>1)for(let u=0;u<e;u++){const f=u/e*(2*Math.PI),m=Math.sin(f)*t,g=Math.cos(f)*t;a.push(0,0,0),a.push(m,0,g);const v=1&u?r:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let u=0;u<i;u++){const f=1&u?r:o,m=t-t/i*u;for(let g=0;g<s;g++){let v=g/s*(2*Math.PI),_=Math.sin(v)*m,y=Math.cos(v)*m;a.push(_,0,y),l.push(f.r,f.g,f.b),v=(g+1)/s*(2*Math.PI),_=Math.sin(v)*m,y=Math.cos(v)*m,a.push(_,0,y),l.push(f.r,f.g,f.b)}}const c=new mi;c.setAttribute("position",new en(a,3)),c.setAttribute("color",new en(l,3)),super(c,new Aa({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const lq=new J,BA=new J,cq=new J;class q1e extends zs{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",void 0===e&&(e=1);let s=new mi;s.setAttribute("position",new en([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const r=new Aa({fog:!1,toneMapped:!1});this.lightPlane=new np(s,r),this.add(this.lightPlane),s=new mi,s.setAttribute("position",new en([0,0,0,0,0,1],3)),this.targetLine=new np(s,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),lq.setFromMatrixPosition(this.light.matrixWorld),BA.setFromMatrixPosition(this.light.target.matrixWorld),cq.subVectors(BA,lq),this.lightPlane.lookAt(BA),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(BA),this.targetLine.scale.z=cq.length()}}const HA=new J,ur=new $E;class Z1e extends tu{constructor(t){const e=new mi,i=new Aa({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],r=[],o={};function a(g,v){l(g),l(v)}function l(g){s.push(0,0,0),r.push(0,0,0),void 0===o[g]&&(o[g]=[]),o[g].push(s.length/3-1)}a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4"),e.setAttribute("position",new en(s,3)),e.setAttribute("color",new en(r,3)),super(e,i),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new $t(16755200),d=new $t(16711680),u=new $t(43775),f=new $t(16777215),m=new $t(3355443);this.setColors(c,d,u,f,m)}setColors(t,e,i,s,r){const a=this.geometry.getAttribute("color");a.setXYZ(0,t.r,t.g,t.b),a.setXYZ(1,t.r,t.g,t.b),a.setXYZ(2,t.r,t.g,t.b),a.setXYZ(3,t.r,t.g,t.b),a.setXYZ(4,t.r,t.g,t.b),a.setXYZ(5,t.r,t.g,t.b),a.setXYZ(6,t.r,t.g,t.b),a.setXYZ(7,t.r,t.g,t.b),a.setXYZ(8,t.r,t.g,t.b),a.setXYZ(9,t.r,t.g,t.b),a.setXYZ(10,t.r,t.g,t.b),a.setXYZ(11,t.r,t.g,t.b),a.setXYZ(12,t.r,t.g,t.b),a.setXYZ(13,t.r,t.g,t.b),a.setXYZ(14,t.r,t.g,t.b),a.setXYZ(15,t.r,t.g,t.b),a.setXYZ(16,t.r,t.g,t.b),a.setXYZ(17,t.r,t.g,t.b),a.setXYZ(18,t.r,t.g,t.b),a.setXYZ(19,t.r,t.g,t.b),a.setXYZ(20,t.r,t.g,t.b),a.setXYZ(21,t.r,t.g,t.b),a.setXYZ(22,t.r,t.g,t.b),a.setXYZ(23,t.r,t.g,t.b),a.setXYZ(24,e.r,e.g,e.b),a.setXYZ(25,e.r,e.g,e.b),a.setXYZ(26,e.r,e.g,e.b),a.setXYZ(27,e.r,e.g,e.b),a.setXYZ(28,e.r,e.g,e.b),a.setXYZ(29,e.r,e.g,e.b),a.setXYZ(30,e.r,e.g,e.b),a.setXYZ(31,e.r,e.g,e.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,s.r,s.g,s.b),a.setXYZ(39,s.r,s.g,s.b),a.setXYZ(40,r.r,r.g,r.b),a.setXYZ(41,r.r,r.g,r.b),a.setXYZ(42,r.r,r.g,r.b),a.setXYZ(43,r.r,r.g,r.b),a.setXYZ(44,r.r,r.g,r.b),a.setXYZ(45,r.r,r.g,r.b),a.setXYZ(46,r.r,r.g,r.b),a.setXYZ(47,r.r,r.g,r.b),a.setXYZ(48,r.r,r.g,r.b),a.setXYZ(49,r.r,r.g,r.b),a.needsUpdate=!0}update(){const t=this.geometry,e=this.pointMap;ur.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Cr("c",e,t,ur,0,0,-1),Cr("t",e,t,ur,0,0,1),Cr("n1",e,t,ur,-1,-1,-1),Cr("n2",e,t,ur,1,-1,-1),Cr("n3",e,t,ur,-1,1,-1),Cr("n4",e,t,ur,1,1,-1),Cr("f1",e,t,ur,-1,-1,1),Cr("f2",e,t,ur,1,-1,1),Cr("f3",e,t,ur,-1,1,1),Cr("f4",e,t,ur,1,1,1),Cr("u1",e,t,ur,.7,1.1,-1),Cr("u2",e,t,ur,-.7,1.1,-1),Cr("u3",e,t,ur,0,2,-1),Cr("cf1",e,t,ur,-1,0,1),Cr("cf2",e,t,ur,1,0,1),Cr("cf3",e,t,ur,0,-1,1),Cr("cf4",e,t,ur,0,1,1),Cr("cn1",e,t,ur,-1,0,-1),Cr("cn2",e,t,ur,1,0,-1),Cr("cn3",e,t,ur,0,-1,-1),Cr("cn4",e,t,ur,0,1,-1),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Cr(n,t,e,i,s,r,o){HA.set(s,r,o).unproject(i);const a=t[n];if(void 0!==a){const l=e.getAttribute("position");for(let c=0,d=a.length;c<d;c++)l.setXYZ(a[c],HA.x,HA.y,HA.z)}}const zA=new Jd;class K1e extends tu{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(24),r=new mi;r.setIndex(new ys(i,1)),r.setAttribute("position",new ys(s,3)),super(r,new Aa({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&zA.setFromObject(this.object),zA.isEmpty())return;const e=zA.min,i=zA.max,s=this.geometry.attributes.position,r=s.array;r[0]=i.x,r[1]=i.y,r[2]=i.z,r[3]=e.x,r[4]=i.y,r[5]=i.z,r[6]=e.x,r[7]=e.y,r[8]=i.z,r[9]=i.x,r[10]=e.y,r[11]=i.z,r[12]=i.x,r[13]=i.y,r[14]=e.z,r[15]=e.x,r[16]=i.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=i.x,r[22]=e.y,r[23]=e.z,s.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Q1e extends tu{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new mi;r.setIndex(new ys(i,1)),r.setAttribute("position",new en([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new Aa({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class J1e extends np{constructor(t,e=1,i=16776960){const s=i,o=new mi;o.setAttribute("position",new en([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),o.computeBoundingSphere(),super(o,new Aa({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const l=new mi;l.setAttribute("position",new en([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),l.computeBoundingSphere(),this.add(new Lo(l,new ep({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const dq=new J;let UA,iV;class eMe extends zs{constructor(t=new J(0,0,1),e=new J(0,0,0),i=1,s=16776960,r=.2*i,o=.2*r){super(),this.type="ArrowHelper",void 0===UA&&(UA=new mi,UA.setAttribute("position",new en([0,0,0,0,1,0],3)),iV=new ry(0,.5,1,5,1),iV.translate(0,-.5,0)),this.position.copy(e),this.line=new np(UA,new Aa({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Lo(iV,new ep({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,r,o)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{dq.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(dq,e)}}setLength(t,e=.2*t,i=.2*e){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class tMe extends tu{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],s=new mi;s.setAttribute("position",new en(e,3)),s.setAttribute("color",new en([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(s,new Aa({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(t,e,i){const s=new $t,r=this.geometry.attributes.color.array;return s.set(t),s.toArray(r,0),s.toArray(r,3),s.set(e),s.toArray(r,6),s.toArray(r,9),s.set(i),s.toArray(r,12),s.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class nMe{constructor(){this.type="ShapePath",this.color=new $t,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new DC,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,i,s){return this.currentPath.quadraticCurveTo(t,e,i,s),this}bezierCurveTo(t,e,i,s,r,o){return this.currentPath.bezierCurveTo(t,e,i,s,r,o),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function i(y,C){const w=C.length;let S=!1;for(let R=w-1,O=0;O<w;R=O++){let H=C[R],$=C[O],F=$.x-H.x,W=$.y-H.y;if(Math.abs(W)>Number.EPSILON){if(W<0&&(H=C[O],F=-F,$=C[R],W=-W),y.y<H.y||y.y>$.y)continue;if(y.y===H.y){if(y.x===H.x)return!0}else{const re=W*(y.x-H.x)-F*(y.y-H.y);if(0===re)return!0;if(re<0)continue;S=!S}}else{if(y.y!==H.y)continue;if($.x<=y.x&&y.x<=H.x||H.x<=y.x&&y.x<=$.x)return!0}}return S}const s=nu.isClockWise,r=this.subPaths;if(0===r.length)return[];let o,a,l;const c=[];if(1===r.length)return a=r[0],l=new Qm,l.curves=a.curves,c.push(l),c;let d=!s(r[0].getPoints());d=t?!d:d;const u=[],f=[];let v,_,m=[],g=0;f[g]=void 0,m[g]=[];for(let y=0,C=r.length;y<C;y++)a=r[y],v=a.getPoints(),o=s(v),o=t?!o:o,o?(!d&&f[g]&&g++,f[g]={s:new Qm,p:v},f[g].s.curves=a.curves,d&&g++,m[g]=[]):m[g].push({h:a,p:v[0]});if(!f[0])return function e(y){const C=[];for(let w=0,S=y.length;w<S;w++){const R=y[w],O=new Qm;O.curves=R.curves,C.push(O)}return C}(r);if(f.length>1){let y=!1,C=0;for(let w=0,S=f.length;w<S;w++)u[w]=[];for(let w=0,S=f.length;w<S;w++){const R=m[w];for(let O=0;O<R.length;O++){const H=R[O];let $=!0;for(let F=0;F<f.length;F++)i(H.p,f[F].p)&&(w!==F&&C++,$?($=!1,u[F].push(H)):y=!0);$&&u[w].push(H)}}C>0&&!1===y&&(m=u)}for(let y=0,C=f.length;y<C;y++){l=f[y].s,c.push(l),_=m[y];for(let w=0,S=_.length;w<S;w++)l.holes.push(_[w].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:hE}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=hE);var iMe=Qe(309),uq=Qe.n(iMe),sMe=Qe(128),sV=Qe.n(sMe),rMe=Qe(505),hq=Qe.n(rMe),oMe=Qe(857),fq=Qe.n(oMe),aMe=Qe(55),pq=Qe.n(aMe),lMe=Qe(646),mq=Qe.n(lMe),cMe=Qe(31),gq=Qe.n(cMe),dMe=Qe(845),_q=Qe.n(dMe),uMe=Qe(61),vq=Qe.n(uMe),hMe=Qe(72),yq=Qe.n(hMe),fMe=Qe(629),bq=Qe.n(fMe),pMe=Qe(711),xq=Qe.n(pMe),mMe=Qe(156),wq=Qe.n(mMe),Cq=Qe(990);class WA{}class YA{}class Yo{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),r=s.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Yo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Yo;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Yo?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const r=t.value;if(r){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===r.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(r=>r.toString()),s=t.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(t,s)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class gMe{encodeKey(t){return Mq(t)}encodeValue(t){return Mq(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const vMe=/%(\d[a-f0-9])/gi,yMe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Mq(n){return encodeURIComponent(n).replace(vMe,(t,e)=>yMe[e]??t)}function GA(n){return`${n}`}class op{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new gMe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _Me(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const r=s.indexOf("="),[o,a]=-1==r?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,r)),t.decodeValue(s.slice(r+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],s=Array.isArray(i)?i.map(GA):[GA(i)];this.map.set(e,s)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new op({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(GA(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(GA(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class bMe{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Tq(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Sq(n){return typeof Blob<"u"&&n instanceof Blob}function Dq(n){return typeof FormData<"u"&&n instanceof FormData}class HC{constructor(t,e,i,s){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function xMe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,r=s):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new Yo,this.context??=new bMe,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new op,this.urlWithParams=e}serializeBody(){return null===this.body?null:Tq(this.body)||Sq(this.body)||Dq(this.body)||function wMe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof op?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Dq(this.body)?null:Sq(this.body)?this.body.type||null:Tq(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof op?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,s=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((u,f)=>u.set(f,t.setHeaders[f]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((u,f)=>u.set(f,t.setParams[f]),c)),new HC(e,i,r,{params:c,headers:l,context:d,reportProgress:a,responseType:s,withCredentials:o})}}var ap=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ap||{});class rV{constructor(t,e=zC.Ok,i="OK"){this.headers=t.headers||new Yo,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class $A extends rV{constructor(t={}){super(t),this.type=ap.ResponseHeader}clone(t={}){return new $A({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class cg extends rV{constructor(t={}){super(t),this.type=ap.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new cg({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ly extends rV{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}var zC=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(zC||{});function oV(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let nl=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let r;if(e instanceof HC)r=e;else{let l,c;l=s.headers instanceof Yo?s.headers:new Yo(s.headers),s.params&&(c=s.params instanceof op?s.params:new op({fromObject:s.params})),r=new HC(e,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:c,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}const o=rn(r).pipe(d0(l=>this.handler.handle(l)));if(e instanceof HC||"events"===s.observe)return o;const a=o.pipe(vs(l=>l instanceof cg));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(Vn(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Vn(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Vn(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Vn(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new op).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,oV(s,i))}post(e,i,s={}){return this.request("POST",e,oV(s,i))}put(e,i,s={}){return this.request("PUT",e,oV(s,i))}static#e=this.\u0275fac=function(i){return new(i||n)(be(WA))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();function Aq(n,t){return t(n)}function DMe(n,t){return(e,i)=>t.intercept(e,{handle:s=>n(s,i)})}const kq=new Xe(""),UC=new Xe(""),Iq=new Xe(""),Lq=new Xe("");function AMe(){let n=null;return(t,e)=>{null===n&&(n=(Ke(kq,{optional:!0})??[]).reduceRight(DMe,Aq));const i=Ke(Cm),s=i.add();return n(t,e).pipe(u0(()=>i.remove(s)))}}let Rq=(()=>{class n extends WA{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=Ke(Cm);const s=Ke(Lq,{optional:!0});this.backend=s??e}handle(e){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(UC),...this.injector.get(Iq,[])]));this.chain=s.reduceRight((r,o)=>function EMe(n,t,e){return(i,s)=>Ad(e,()=>t(i,r=>n(r,s)))}(r,o,this.injector),Aq)}const i=this.pendingTasks.add();return this.chain(e,s=>this.backend.handle(s)).pipe(u0(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(be(YA),be(fa))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();const PMe=/^\)\]\}',?\n/;let Oq=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new De(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Pr(i.\u0275loadImpl()):rn(null)).pipe(Kl(()=>new Qi(r=>{const o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((v,_)=>o.setRequestHeader(v,_.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const v=e.detectContentTypeHeader();null!==v&&o.setRequestHeader("Content-Type",v)}if(e.responseType){const v=e.responseType.toLowerCase();o.responseType="json"!==v?v:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const v=o.statusText||"OK",_=new Yo(o.getAllResponseHeaders()),y=function OMe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return l=new $A({headers:_,status:o.status,statusText:v,url:y}),l},d=()=>{let{headers:v,status:_,statusText:y,url:C}=c(),w=null;_!==zC.NoContent&&(w=typeof o.response>"u"?o.responseText:o.response),0===_&&(_=w?zC.Ok:0);let S=_>=200&&_<300;if("json"===e.responseType&&"string"==typeof w){const R=w;w=w.replace(PMe,"");try{w=""!==w?JSON.parse(w):null}catch(O){w=R,S&&(S=!1,w={error:O,text:w})}}S?(r.next(new cg({body:w,headers:v,status:_,statusText:y,url:C||void 0})),r.complete()):r.error(new ly({error:w,headers:v,status:_,statusText:y,url:C||void 0}))},u=v=>{const{url:_}=c(),y=new ly({error:v,status:o.status||0,statusText:o.statusText||"Unknown Error",url:_||void 0});r.error(y)};let f=!1;const m=v=>{f||(r.next(c()),f=!0);let _={type:ap.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(_.total=v.total),"text"===e.responseType&&o.responseText&&(_.partialText=o.responseText),r.next(_)},g=v=>{let _={type:ap.UploadProgress,loaded:v.loaded};v.lengthComputable&&(_.total=v.total),r.next(_)};return o.addEventListener("load",d),o.addEventListener("error",u),o.addEventListener("timeout",u),o.addEventListener("abort",u),e.reportProgress&&(o.addEventListener("progress",m),null!==a&&o.upload&&o.upload.addEventListener("progress",g)),o.send(a),r.next({type:ap.Sent}),()=>{o.removeEventListener("error",u),o.removeEventListener("abort",u),o.removeEventListener("load",d),o.removeEventListener("timeout",u),e.reportProgress&&(o.removeEventListener("progress",m),null!==a&&o.upload&&o.upload.removeEventListener("progress",g)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(be(R8))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();const cV=new Xe(""),Fq=new Xe("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Nq=new Xe("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Vq{}let VMe=(()=>{class n{constructor(e,i,s){this.doc=e,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=C8(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(be(Gn),be(To),be(Fq))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();function BMe(n,t){const e=n.url.toLowerCase();if(!Ke(cV)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=Ke(Vq).getToken(),s=Ke(Nq);return null!=i&&!n.headers.has(s)&&(n=n.clone({headers:n.headers.set(s,i)})),t(n)}var lp=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(lp||{});function HMe(...n){const t=[nl,Oq,Rq,{provide:WA,useExisting:Rq},{provide:YA,useExisting:Oq},{provide:UC,useValue:BMe,multi:!0},{provide:cV,useValue:!0},{provide:Vq,useClass:VMe}];for(const e of n)t.push(...e.\u0275providers);return function Z_(n){return{\u0275providers:n}}(t)}const Bq=new Xe("");function zMe(){return function dg(n,t){return{\u0275kind:n,\u0275providers:t}}(lp.LegacyInterceptors,[{provide:Bq,useFactory:AMe},{provide:UC,useExisting:Bq,multi:!0}])}let UMe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({providers:[HMe(zMe())]})}return n})();function dV(n){this.message=n}(dV.prototype=new Error).name="InvalidCharacterError";var $q=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(n){var t=String(n).replace(/=+$/,"");if(t.length%4==1)throw new dV("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,i,s=0,r=0,o="";i=t.charAt(r++);~i&&(e=s%4?64*e+i:i,s++%4)?o+=String.fromCharCode(255&e>>(-2*s&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return o};function XA(n){this.message=n}(XA.prototype=new Error).name="InvalidTokenError";const cp=function qMe(n,t){if("string"!=typeof n)throw new XA("Invalid token specified");var e=!0===(t=t||{}).header?0:1;try{return JSON.parse(function XMe(n){var t=n.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent($q(t).replace(/(.)/g,function(i,s){var r=s.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch{return $q(t)}}(n.split(".")[e]))}catch(i){throw new XA("Invalid token specified: "+i.message)}},os="https://api.naplex.uk";let uV,dp=(()=>{class n{constructor(e,i){this.http=e,this.router=i,this._isAuthenticated=new xs(this.isLoggedIn()&&!this.isTokenExpired()),this.isAuthenticated$=this._isAuthenticated.asObservable(),this.isTokenExpired()&&this.handleExpiredToken()}setLoggedInStatus(e){this._isAuthenticated.next(e)}logout(){localStorage.removeItem("access_token"),this._isAuthenticated.next(!1),this.router.navigate(["/login"])}isLoggedIn(){return!!localStorage.getItem("access_token")}login(e){return this.http.post(`${os}/Auth/login`,e,{withCredentials:!0}).pipe(br(()=>{this._isAuthenticated.next(!0)}))}getAuthenticatedUserName(){const e=localStorage.getItem("access_token");return e?cp(e).unique_name:""}registerEmployee(e){const i=localStorage.getItem("access_token"),s=(new Yo).set("Authorization","Bearer "+i);return this.http.post(`${os}/Auth/register`,e,{headers:s})}removeEmployee(e){const i=localStorage.getItem("access_token"),s=(new Yo).set("Authorization","Bearer "+i);return this.http.delete(`${os}/Staff/${e}`,{headers:s})}isTokenExpired(){const e=localStorage.getItem("access_token");if(!e)return!0;const i=cp(e),s=(new Date).getTime()/1e3;return i.exp<s}isAdmin(){const e=localStorage.getItem("access_token");return!!e&&"Admin"===cp(e).role}handleExpiredToken(){this.logout()}lendEmployee(e,i){const s=localStorage.getItem("access_token"),r=(new Yo).set("Authorization",`Bearer ${s}`);return this.http.post(`${os}/Staff/users/${e}/assign-store/${i}`,{},{headers:r,responseType:"text"})}promoteEmployee(e,i){const s=new Yo({Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"});return this.http.put(`${os}/Staff/changeRole`,{userId:e,newRoleId:i},{headers:s,responseType:"text"})}static#e=this.\u0275fac=function(i){return new(i||n)(be(nl),be(ho))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();try{uV=typeof Intl<"u"&&Intl.v8BreakIterator}catch{uV=!1}let WC,ug,hV,Po=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Of(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!uV)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(be(To))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iu(n){return function ZMe(){if(null==WC&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>WC=!0}))}finally{WC=WC||!1}return WC}()?n:!!n.capture}function KMe(){if(null==ug){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ug=!1,ug;if("scrollBehavior"in document.documentElement.style)ug=!0;else{const n=Element.prototype.scrollTo;ug=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ug}function fV(n){if(function QMe(){if(null==hV){const n=typeof document<"u"?document.head:null;hV=!(!n||!n.createShadowRoot&&!n.attachShadow)}return hV}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function sc(n){return n.composedPath?n.composedPath()[0]:n.target}function pV(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Xq(n){return vs((t,e)=>n<=e)}function KA(n,t=_d){return n=n??oTe,Ks((e,i)=>{let s,r=!0;e.subscribe(Ps(i,o=>{const a=t(o);(r||!n(s,a))&&(r=!1,s=a,i.next(o))}))})}function oTe(n,t){return n===t}let aTe=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({providers:[aTe]})}return n})();function GC(n){return Array.isArray(n)?n:[n]}function Fr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Qr(n){return n instanceof gn?n.nativeElement:n}class cTe extends ti{constructor(t,e){super()}schedule(t,e=0){return this}}const QA={setInterval(n,t,...e){const{delegate:i}=QA;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=QA;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class JA extends cTe{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const s=this.id,r=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(r,s,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return QA.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&QA.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(r){i=!0,s=r||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Dr(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const Kq={now:()=>(Kq.delegate||Date).now(),delegate:void 0};class $C{constructor(t,e=$C.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}$C.now=Kq.now;class ek extends $C{constructor(t,e=$C.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const tk=new ek(JA),dTe=tk;const Jq=new Set;let hg,uTe=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):fTe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function hTe(n,t){if(!Jq.has(n))try{hg||(hg=document.createElement("style"),t&&(hg.nonce=t),hg.setAttribute("type","text/css"),document.head.appendChild(hg)),hg.sheet&&(hg.sheet.insertRule(`@media ${n} {body{ }}`,0),Jq.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(be(Po),be(dx,8))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fTe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let eZ=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Gt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return tZ(GC(e)).some(s=>this._registerQuery(s).mql.matches)}observe(e){let r=Nw(tZ(GC(e)).map(o=>this._registerQuery(o).observable));return r=XD(r.pipe(Ta(1)),r.pipe(Xq(1),function Qq(n,t=tk){return Ks((e,i)=>{let s=null,r=null,o=null;const a=()=>{if(s){s.unsubscribe(),s=null;const c=r;r=null,i.next(c)}};function l(){const c=o+n,d=t.now();if(d<c)return s=this.schedule(void 0,c-d),void i.add(s);a()}e.subscribe(Ps(i,c=>{r=c,o=t.now(),s||(s=t.schedule(l,n),i.add(s))},()=>{a(),i.complete()},void 0,()=>{r=s=null}))})}(0))),r.pipe(Vn(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),r={observable:new Qi(o=>{const a=l=>this._zone.run(()=>o.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Hf(i),Vn(({matches:o})=>({query:e,matches:o})),Ql(this._destroySubject)),mql:i};return this._queries.set(e,r),r}static#e=this.\u0275fac=function(i){return new(i||n)(be(uTe),be(ln))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tZ(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let _Te=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function yTe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function vTe(n){try{return n.frameElement}catch{return null}}(function DTe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===rZ(i)||!this.isVisible(i)))return!1;let s=e.nodeName.toLowerCase(),r=rZ(e);return e.hasAttribute("contenteditable")?-1!==r:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function TTe(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===s?!!e.hasAttribute("controls")&&-1!==r:"video"===s?-1!==r&&(null!==r||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function STe(n){return!function xTe(n){return function CTe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function bTe(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function wTe(n){return function MTe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||sZ(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||n)(be(Po))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sZ(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function rZ(n){if(!sZ(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class ETe{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,s,r=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const s=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(s)return s}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const s=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(s)return s}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ta(1)).subscribe(t)}}let ATe=(()=>{class n{constructor(e,i,s){this._checker=e,this._ngZone=i,this._document=s}create(e,i=!1){return new ETe(e,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(be(_Te),be(ln),be(Gn))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kTe=(()=>{class n{get enabled(){return this.focusTrap?.enabled||!1}set enabled(e){this.focusTrap&&(this.focusTrap.enabled=e)}constructor(e,i,s){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,Ke(Po).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=function JMe(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}(),this.focusTrap?.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(i){return new(i||n)(K(gn),K(ATe),K(Gn))};static#t=this.\u0275dir=ee({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[St.HasDecoratorInputTransform,"cdkTrapFocus","enabled",lr],autoCapture:[St.HasDecoratorInputTransform,"cdkTrapFocusAutoCapture","autoCapture",lr]},exportAs:["cdkTrapFocus"],standalone:!0,features:[Yl,Ii]})}return n})();function CV(n){return 0===n.buttons||0===n.detail}function MV(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const ITe=new Xe("cdk-input-modality-detector-options"),LTe={ignoreKeys:[18,17,224,91,16]},hy=iu({passive:!0,capture:!0});let RTe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,s,r){this._platform=e,this._mostRecentTarget=null,this._modality=new xs(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=sc(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(CV(o)?"keyboard":"mouse"),this._mostRecentTarget=sc(o))},this._onTouchstart=o=>{MV(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=sc(o))},this._options={...LTe,...r},this.modalityDetected=this._modality.pipe(Xq(1)),this.modalityChanged=this.modalityDetected.pipe(KA()),e.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,hy),s.addEventListener("mousedown",this._onMousedown,hy),s.addEventListener("touchstart",this._onTouchstart,hy)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,hy),document.removeEventListener("mousedown",this._onMousedown,hy),document.removeEventListener("touchstart",this._onTouchstart,hy))}static#e=this.\u0275fac=function(i){return new(i||n)(be(Po),be(ln),be(Gn),be(ITe,8))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const PTe=new Xe("liveAnnouncerElement",{providedIn:"root",factory:function OTe(){return null}}),FTe=new Xe("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let NTe=0,VTe=(()=>{class n{constructor(e,i,s,r){this._ngZone=i,this._defaultOptions=r,this._document=s,this._liveElement=e||this._createLiveElement()}announce(e,...i){const s=this._defaultOptions;let r,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[r,o]=i,this.clear(),clearTimeout(this._previousTimeout),r||(r=s&&s.politeness?s.politeness:"polite"),null==o&&s&&(o=s.duration),this._liveElement.setAttribute("aria-live",r),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),s=this._document.createElement("div");for(let r=0;r<i.length;r++)i[r].remove();return s.classList.add(e),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),s.id="cdk-live-announcer-"+NTe++,this._document.body.appendChild(s),s}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<i.length;s++){const r=i[s],o=r.getAttribute("aria-owns");o?-1===o.indexOf(e)&&r.setAttribute("aria-owns",o+" "+e):r.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(i){return new(i||n)(be(PTe,8),be(ln),be(Gn),be(FTe,8))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nk=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(nk||{});const BTe=new Xe("cdk-focus-monitor-default-options"),ik=iu({passive:!0,capture:!0});let aZ=(()=>{class n{constructor(e,i,s,r,o){this._ngZone=e,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Gt,this._rootNodeFocusAndBlurListener=a=>{for(let c=sc(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=r,this._detectionMode=o?.detectionMode||nk.IMMEDIATE}monitor(e,i=!1){const s=Qr(e);if(!this._platform.isBrowser||1!==s.nodeType)return rn();const r=fV(s)||this._getDocument(),o=this._elementInfo.get(s);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new Gt,rootNode:r};return this._elementInfo.set(s,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=Qr(e),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(e,i,s){const r=Qr(e);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof r.focus&&r.focus(s))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===nk.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,this._detectionMode===nk.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const s=this._elementInfo.get(i),r=sc(e);!s||!s.checkChildren&&i!==r||this._originChanged(i,this._getFocusOrigin(r),s)}_onBlur(e,i){const s=this._elementInfo.get(i);!s||s.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(s,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ik),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ik)}),this._rootNodeFocusListenerCount.set(i,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ql(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ik),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ik),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,s){this._setClasses(e,i),this._emitOrigin(s,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((s,r)=>{(r===e||s.checkChildren&&r.contains(e))&&i.push([r,s])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:s}=this._inputModalityDetector;if("mouse"!==s||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const r=e.labels;if(r)for(let o=0;o<r.length;o++)if(r[o].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(be(ln),be(Po),be(RTe),be(Gn,8),be(BTe,8))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HTe=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new Fe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(K(gn),K(aZ))};static#t=this.\u0275dir=ee({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return n})();var fg=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(fg||{});const lZ="cdk-high-contrast-black-on-white",cZ="cdk-high-contrast-white-on-black",TV="cdk-high-contrast-active";let dZ=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Ke(eZ).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return fg.NONE;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(e):null,r=(s&&s.backgroundColor||"").replace(/ /g,"");switch(e.remove(),r){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return fg.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return fg.BLACK_ON_WHITE}return fg.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(TV,lZ,cZ),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===fg.BLACK_ON_WHITE?e.add(TV,lZ):i===fg.WHITE_ON_BLACK&&e.add(TV,cZ)}}static#e=this.\u0275fac=function(i){return new(i||n)(be(Po),be(Gn))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zTe=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(be(dZ))};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({imports:[qq]})}return n})();const UTe=new Xe("cdk-dir-doc",{providedIn:"root",factory:function WTe(){return Ke(Gn)}}),YTe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let fy=(()=>{class n{constructor(e){this.value="ltr",this.change=new Fe,e&&(this.value=function GTe(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?YTe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(be(UTe,8))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({})}return n})();const jTe=new Xe("mat-sanity-checks",{providedIn:"root",factory:function $Te(){return!0}});let ka=(()=>{class n{constructor(e,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!pV()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(be(dZ),be(jTe,8),be(Gn))};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({imports:[jC,jC]})}return n})();const fZ=new Xe("MAT_DATE_LOCALE",{providedIn:"root",factory:function qTe(){return Ke(Wd)}});class Go{constructor(){this._localeChanges=new Gt,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),s=this.isValid(e);return i&&s?!this.compareDate(t,e):i==s}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const pg=new Xe("mat-date-formats"),ZTe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function SV(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let KTe=(()=>{class n extends Go{constructor(e){super(),this.useUtcForDisplay=!1,this._matDateLocale=Ke(fZ,{optional:!0}),void 0!==e&&(this._matDateLocale=e),super.setLocale(this._matDateLocale)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return SV(12,s=>this._format(i,new Date(2017,s,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return SV(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return SV(7,s=>this._format(i,new Date(2017,0,s+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,s){let r=this._createDateWithOverflow(e,i,s);return r.getMonth(),r}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const s=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(s,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let s=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(s)!=((this.getMonth(e)+i)%12+12)%12&&(s=this._createDateWithOverflow(this.getYear(s),this.getMonth(s),0)),s}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(ZTe.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,s){const r=new Date;return r.setFullYear(e,i,s),r.setHours(0,0,0,0),r}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const s=new Date;return s.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),s.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(s)}static#e=this.\u0275fac=function(i){return new(i||n)(be(fZ,8))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();const QTe={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let JTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({providers:[eSe()]})}return n})();function eSe(n=QTe){return[{provide:Go,useClass:KTe},{provide:pg,useValue:n}]}var rc=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(rc||{});class tSe{constructor(t,e,i,s=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=s,this.state=rc.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const pZ=iu({passive:!0,capture:!0});class nSe{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=sc(t);e&&this._events.get(t.type)?.forEach((i,s)=>{(s===e||s.contains(e))&&i.forEach(r=>r.handleEvent(t))})}}addHandler(t,e,i,s){const r=this._events.get(e);if(r){const o=r.get(i);o?o.add(s):r.set(i,new Set([s]))}else this._events.set(e,new Map([[i,new Set([s])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,pZ)})}removeHandler(t,e,i){const s=this._events.get(t);if(!s)return;const r=s.get(e);r&&(r.delete(i),0===r.size&&s.delete(e),0===s.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,pZ)))}}const mZ={enterDuration:225,exitDuration:150},gZ=iu({passive:!0,capture:!0}),_Z=["mousedown","touchstart"],vZ=["mouseup","mouseleave","touchend","touchcancel"];class sk{static#e=this._eventManager=new nSe;constructor(t,e,i,s){this._target=t,this._ngZone=e,this._platform=s,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=Qr(i))}fadeInRipple(t,e,i={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r={...mZ,...i.animation};i.centered&&(t=s.left+s.width/2,e=s.top+s.height/2);const o=i.radius||function sSe(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),s=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+s*s)}(t,e,s),a=t-s.left,l=e-s.top,c=r.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-o+"px",d.style.top=l-o+"px",d.style.height=2*o+"px",d.style.width=2*o+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);const u=window.getComputedStyle(d),m=u.transitionDuration,g="none"===u.transitionProperty||"0s"===m||"0s, 0s"===m||0===s.width&&0===s.height,v=new tSe(this,d,i,g);d.style.transform="scale3d(1, 1, 1)",v.state=rc.FADING_IN,i.persistent||(this._mostRecentTransientRipple=v);let _=null;return!g&&(c||r.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const y=()=>this._finishRippleTransition(v),C=()=>this._destroyRipple(v);d.addEventListener("transitionend",y),d.addEventListener("transitioncancel",C),_={onTransitionEnd:y,onTransitionCancel:C}}),this._activeRipples.set(v,_),(g||!c)&&this._finishRippleTransition(v),v}fadeOutRipple(t){if(t.state===rc.FADING_OUT||t.state===rc.HIDDEN)return;const e=t.element,i={...mZ,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=rc.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Qr(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,_Z.forEach(i=>{sk._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{vZ.forEach(e=>{this._triggerElement.addEventListener(e,this,gZ)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===rc.FADING_IN?this._startFadeOutTransition(t):t.state===rc.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=rc.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=rc.HIDDEN,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=CV(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!MV(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(t.state===rc.VISIBLE||t.config.terminateOnPointerUp&&t.state===rc.FADING_IN)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(_Z.forEach(e=>sk._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&vZ.forEach(e=>t.removeEventListener(e,this,gZ)))}}const yZ=new Xe("mat-ripple-global-options");let rSe=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,s,r,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new sk(this,i,e,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,s){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...s}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(K(gn),K(ln),K(Po),K(yZ,8),K($u,8))};static#t=this.\u0275dir=ee({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,s){2&i&&dn("mat-ripple-unbounded",s.unbounded)},inputs:{color:[St.None,"matRippleColor","color"],unbounded:[St.None,"matRippleUnbounded","unbounded"],centered:[St.None,"matRippleCentered","centered"],radius:[St.None,"matRippleRadius","radius"],animation:[St.None,"matRippleAnimation","animation"],disabled:[St.None,"matRippleDisabled","disabled"],trigger:[St.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return n})(),bZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({imports:[ka,ka]})}return n})(),oSe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({imports:[ka]})}return n})(),xZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({imports:[bZ,ka,oSe]})}return n})();const wZ={capture:!0},CZ=["focus","click","mouseenter","touchstart"],DV="mat-ripple-loader-uninitialized",EV="mat-ripple-loader-class-name",MZ="mat-ripple-loader-centered",rk="mat-ripple-loader-disabled";let aSe=(()=>{class n{constructor(){this._document=Ke(Gn,{optional:!0}),this._animationMode=Ke($u,{optional:!0}),this._globalRippleOptions=Ke(yZ,{optional:!0}),this._platform=Ke(Po),this._ngZone=Ke(ln),this._hosts=new Map,this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const s=e.target.closest(`[${DV}]`);s&&this._createRipple(s)},this._ngZone.runOutsideAngular(()=>{for(const e of CZ)this._document?.addEventListener(e,this._onInteraction,wZ)})}ngOnDestroy(){const e=this._hosts.keys();for(const i of e)this.destroyRipple(i);for(const i of CZ)this._document?.removeEventListener(i,this._onInteraction,wZ)}configureRipple(e,i){e.setAttribute(DV,""),(i.className||!e.hasAttribute(EV))&&e.setAttribute(EV,i.className||""),i.centered&&e.setAttribute(MZ,""),i.disabled&&e.setAttribute(rk,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,i){const s=this._hosts.get(e);s?s.disabled=i:i?e.setAttribute(rk,""):e.removeAttribute(rk)}_createRipple(e){if(!this._document)return;const i=this._hosts.get(e);if(i)return i;e.querySelector(".mat-ripple")?.remove();const s=this._document.createElement("span");s.classList.add("mat-ripple",e.getAttribute(EV)),e.append(s);const r=new rSe(new gn(s),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(MZ),r.disabled=e.hasAttribute(rk),this.attachRipple(e,r),r}attachRipple(e,i){e.removeAttribute(DV),this._hosts.set(e,i)}destroyRipple(e){const i=this._hosts.get(e);i&&(i.ngOnDestroy(),this._hosts.delete(e))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const lSe=["mat-button",""],cSe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],dSe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],hSe=["mat-icon-button",""],fSe=["*"],pSe=new Xe("MAT_BUTTON_CONFIG"),mSe=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let TZ=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,i,s,r){this._elementRef=e,this._platform=i,this._ngZone=s,this._animationMode=r,this._focusMonitor=Ke(aZ),this._rippleLoader=Ke(aSe),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const o=Ke(pSe,{optional:!0}),a=e.nativeElement,l=a.classList;this.disabledInteractive=o?.disabledInteractive??!1,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(const{attribute:c,mdcClasses:d}of mSe)a.hasAttribute(c)&&l.add(...d)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){kS()};static#t=this.\u0275dir=ee({type:n,inputs:{color:"color",disableRipple:[St.HasDecoratorInputTransform,"disableRipple","disableRipple",lr],disabled:[St.HasDecoratorInputTransform,"disabled","disabled",lr],ariaDisabled:[St.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",lr],disabledInteractive:[St.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",lr]},features:[Yl]})}return n})(),AV=(()=>{class n extends TZ{constructor(e,i,s,r){super(e,i,s,r)}static#e=this.\u0275fac=function(i){return new(i||n)(K(gn),K(Po),K(ln),K($u,8))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,s){2&i&&(Nt("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),uo(s.color?"mat-"+s.color:""),dn("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Jn,tr],attrs:lSe,ngContentSelectors:dSe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,s){1&i&&(jl(cSe),Te(0,"span",0),Bo(1),L(2,"span",1),Bo(3,1),k(),Bo(4,2),Te(5,"span",2)(6,"span",3)),2&i&&dn("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),SZ=(()=>{class n extends TZ{constructor(e,i,s,r){super(e,i,s,r),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(K(gn),K(Po),K(ln),K($u,8))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,s){2&i&&(Nt("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),uo(s.color?"mat-"+s.color:""),dn("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Jn,tr],attrs:hSe,ngContentSelectors:fSe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,s){1&i&&(jl(),Te(0,"span",0),Bo(1),Te(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;border-radius:50%;flex-shrink:0;text-align:center;font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),DZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({imports:[ka,bZ,ka]})}return n})();var Fn=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Fn||{});const bh="*";function Tl(n,t){return{type:Fn.Trigger,name:n,definitions:t,options:{}}}function sr(n,t=null){return{type:Fn.Animate,styles:t,timings:n}}function gi(n){return{type:Fn.Style,styles:n,offset:null}}function su(n,t,e){return{type:Fn.State,name:n,styles:t,options:e}}function kV(n){return{type:Fn.Keyframes,steps:n}}function js(n,t,e=null){return{type:Fn.Transition,expr:n,animation:t,options:e}}class qC{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class EZ{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const r=this.players.length;0==r?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==r&&this._onFinish()}),o.onDestroy(()=>{++i==r&&this._onDestroy()}),o.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class LV{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ZC extends LV{constructor(t,e,i,s,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=s,this.projectableNodes=r}}class AZ extends LV{constructor(t,e,i,s){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=s}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class CSe extends LV{constructor(t){super(),this.element=t instanceof gn?t.nativeElement:t}}class RV{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ZC?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof AZ?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof CSe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class kZ extends RV{constructor(t,e,i,s,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=r}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let s;return t.viewContainerRef?(s=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>s.destroy())):(s=i.create(t.injector||this._defaultInjector||Fs.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=t,s}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=e.indexOf(i);-1!==s&&e.remove(s)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let ok=(()=>{class n extends RV{constructor(e,i,s){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Fe,this.attachDomPortal=r=>{const o=r.element,a=this._document.createComment("dom-portal");r.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=r,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=s}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=i.createComponent(r,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(K(Nd),K(Ao),K(Gn))};static#t=this.\u0275dir=ee({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[St.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Jn]})}return n})(),PV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({})}return n})();const MSe=["addListener","removeListener"],TSe=["addEventListener","removeEventListener"],SSe=["on","off"];function py(n,t,e,i){if(Dn(e)&&(i=e,e=void 0),i)return py(n,t,e).pipe(rF(i));const[s,r]=function ASe(n){return Dn(n.addEventListener)&&Dn(n.removeEventListener)}(n)?TSe.map(o=>a=>n[o](t,a,e)):function DSe(n){return Dn(n.addListener)&&Dn(n.removeListener)}(n)?MSe.map(IZ(n,t)):function ESe(n){return Dn(n.on)&&Dn(n.off)}(n)?SSe.map(IZ(n,t)):[];if(!s&&nF(n))return Io(o=>py(o,t,e))(wa(n));if(!s)throw new TypeError("Invalid event target");return new Qi(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return s(a),()=>r(a)})}function IZ(n,t){return e=>i=>n[e](t,i)}const KC={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=KC;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const s=t(r=>{e=void 0,n(r)});return new ti(()=>e?.(s))},requestAnimationFrame(...n){const{delegate:t}=KC;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=KC;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},OV=new class ISe extends ek{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let s;t=t||i.shift();do{if(s=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,s){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw s}}}(class kSe extends JA{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=KC.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var s;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:r}=t;null!=e&&(null===(s=r[r.length-1])||void 0===s?void 0:s.id)!==e&&(KC.cancelAnimationFrame(e),t._scheduled=void 0)}});let FV,LSe=1;const ak={};function LZ(n){return n in ak&&(delete ak[n],!0)}const RSe={setImmediate(n){const t=LSe++;return ak[t]=!0,FV||(FV=Promise.resolve()),FV.then(()=>LZ(t)&&n()),t},clearImmediate(n){LZ(n)}},{setImmediate:PSe,clearImmediate:OSe}=RSe,lk={setImmediate(...n){const{delegate:t}=lk;return(t?.setImmediate||PSe)(...n)},clearImmediate(n){const{delegate:t}=lk;return(t?.clearImmediate||OSe)(n)},delegate:void 0};new class NSe extends ek{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let s;t=t||i.shift();do{if(s=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,s){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw s}}}(class FSe extends JA{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=lk.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var s;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:r}=t;null!=e&&(null===(s=r[r.length-1])||void 0===s?void 0:s.id)!==e&&(lk.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function NV(n=0,t,e=dTe){let i=-1;return null!=t&&(gG(t)?e=t:i=t),new Qi(s=>{let r=function HSe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;r<0&&(r=0);let o=0;return e.schedule(function(){s.closed||(s.next(o++),0<=i?this.schedule(void 0,i):s.complete())},r)})}function RZ(n,t=tk){return function BSe(n){return Ks((t,e)=>{let i=!1,s=null,r=null,o=!1;const a=()=>{if(r?.unsubscribe(),r=null,i){i=!1;const c=s;s=null,e.next(c)}o&&e.complete()},l=()=>{r=null,o&&e.complete()};t.subscribe(Ps(e,c=>{i=!0,s=c,r||wa(n(c)).subscribe(r=Ps(e,a,l))},()=>{o=!0,(!i||!r||r.closed)&&e.complete()}))})}(()=>NV(n,t))}let PZ=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new Gt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Qi(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(RZ(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):rn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(vs(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=Qr(i),r=e.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>py(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(be(ln),be(Po),be(Gn,8))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VV=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new Gt,this._changeListener=r=>{this._change.next(r)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,r=s.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-r.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(RZ(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(be(Po),be(ln),be(Gn,8))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({})}return n})(),OZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({imports:[jC,QC,jC,QC]})}return n})();function mg(...n){const t=Sw(n),e=function yme(n,t){return"number"==typeof sF(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?wa(i[0]):l0(e)(Pr(i,t)):Yd}const FZ=KMe();class WSe{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Fr(-this._previousScrollPosition.left),t.style.top=Fr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,s=this._document.body.style,r=i.scrollBehavior||"",o=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),FZ&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),FZ&&(i.scrollBehavior=r,s.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class YSe{constructor(t,e,i,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(vs(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class NZ{enable(){}disable(){}attach(){}}function BV(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function VZ(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class GSe{constructor(t,e,i,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();BV(e,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let $Se=(()=>{class n{constructor(e,i,s,r){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new NZ,this.close=o=>new YSe(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new WSe(this._viewportRuler,this._document),this.reposition=o=>new GSe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=r}static#e=this.\u0275fac=function(i){return new(i||n)(be(PZ),be(VV),be(ln),be(Gn))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class BZ{constructor(t){if(this.scrollStrategy=new NZ,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class jSe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let HZ=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(be(Gn))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),XSe=(()=>{class n extends HZ{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=s=>{const r=this._attachedOverlays;for(let o=r.length-1;o>-1;o--)if(r[o]._keydownEvents.observers.length>0){const a=r[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(s)):a.next(s);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(be(Gn),be(ln,8))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qSe=(()=>{class n extends HZ{constructor(e,i,s){super(e),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=sc(r)},this._clickListener=r=>{const o=sc(r),a="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const d=l[c];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(o)||d.overlayElement.contains(a))break;const u=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(be(Gn),be(Po),be(ln,8))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zZ=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||pV()){const s=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let r=0;r<s.length;r++)s[r].remove()}const i=this._document.createElement("div");i.classList.add(e),pV()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(be(Gn),be(Po))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class ZSe{constructor(t,e,i,s,r,o,a,l,c,d=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=s,this._ngZone=r,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new Gt,this._attachments=new Gt,this._detachments=new Gt,this._locationChanges=ti.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new Gt,this._outsidePointerEvents=new Gt,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ta(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Fr(this._config.width),t.height=Fr(this._config.height),t.minWidth=Fr(this._config.minWidth),t.minHeight=Fr(this._config.minHeight),t.maxWidth=Fr(this._config.maxWidth),t.maxHeight=Fr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const s=GC(e||[]).filter(r=>!!r);s.length&&(i?t.classList.add(...s):t.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Ql(mg(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const UZ="cdk-overlay-connected-position-bounding-box",KSe=/([A-Za-z%]+)$/;class QSe{get positions(){return this._preferredPositions}constructor(t,e,i,s,r){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Gt,this._resizeSubscription=ti.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(UZ),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,s=this._containerRect,r=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,s,a),c=this._getOverlayPoint(l,e,a),d=this._getOverlayFit(c,e,i,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(d,c,i)?r.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<d.visibleArea)&&(o={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(r.length){let a=null,l=-1;for(const c of r){const d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&gg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(UZ),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let s,r;if("center"==i.originX)s=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;s="start"==i.originX?o:a}return e.left<0&&(s-=e.left),r="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(r-=e.top),{x:s,y:r}}_getOverlayPoint(t,e,i){let s,r;return s="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+s,y:t.y+r}}_getOverlayFit(t,e,i,s){const r=YZ(e);let{x:o,y:a}=t,l=this._getOffset(s,"x"),c=this._getOffset(s,"y");l&&(o+=l),c&&(a+=c);let f=0-a,m=a+r.height-i.height,g=this._subtractOverflows(r.width,0-o,o+r.width-i.width),v=this._subtractOverflows(r.height,f,m),_=g*v;return{visibleArea:_,isCompletelyWithinViewport:r.width*r.height===_,fitsInViewportVertically:v===r.height,fitsInViewportHorizontally:g==r.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const s=i.bottom-e.y,r=i.right-e.x,o=WZ(this._overlayRef.getConfig().minHeight),a=WZ(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=o&&o<=s)&&(t.fitsInViewportHorizontally||null!=a&&a<=r)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=YZ(e),r=this._viewportRect,o=Math.max(t.x+s.width-r.width,0),a=Math.max(t.y+s.height-r.height,0),l=Math.max(r.top-i.top-t.y,0),c=Math.max(r.left-i.left-t.x,0);let d=0,u=0;return d=s.width<=r.width?c||-o:t.x<this._viewportMargin?r.left-i.left-t.x:0,u=s.height<=r.height?l||-a:t.y<this._viewportMargin?r.top-i.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),s=new jSe(t,i);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,s=this._isRtl();let r,o,a,d,u,f;if("top"===e.overlayY)o=t.y,r=i.height-o+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,r=i.height-a+this._viewportMargin;else{const m=Math.min(i.bottom-t.y+i.top,t.y),g=this._lastBoundingBoxSize.height;r=2*m,o=t.y-m,r>g&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-g/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)f=i.width-t.x+this._viewportMargin,d=t.x-this._viewportMargin;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)u=t.x,d=i.right-t.x;else{const m=Math.min(i.right-t.x+i.left,t.x),g=this._lastBoundingBoxSize.width;d=2*m,u=t.x-m,d>g&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-g/2)}return{top:o,left:u,bottom:a,right:f,width:d,height:r}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const r=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;s.height=Fr(i.height),s.top=Fr(i.top),s.bottom=Fr(i.bottom),s.width=Fr(i.width),s.left=Fr(i.left),s.right=Fr(i.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",r&&(s.maxHeight=Fr(r)),o&&(s.maxWidth=Fr(o))}this._lastBoundingBoxSize=i,gg(this._boundingBox.style,s)}_resetBoundingBoxStyles(){gg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){gg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},s=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(s){const d=this._viewportRuler.getViewportScrollPosition();gg(i,this._getExactOverlayY(e,t,d)),gg(i,this._getExactOverlayX(e,t,d))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(s?i.maxHeight=Fr(o.maxHeight):r&&(i.maxHeight="")),o.maxWidth&&(s?i.maxWidth=Fr(o.maxWidth):r&&(i.maxWidth="")),gg(this._pane.style,i)}_getExactOverlayY(t,e,i){let s={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),"bottom"===t.overlayY?s.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":s.top=Fr(r.y),s}_getExactOverlayX(t,e,i){let o,s={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?s.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":s.left=Fr(r.x),s}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:VZ(t,i),isOriginOutsideView:BV(t,i),isOverlayClipped:VZ(e,i),isOverlayOutsideView:BV(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,s)=>i-Math.max(s,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&GC(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof gn)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function gg(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function WZ(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(KSe);return e&&"px"!==e?null:parseFloat(t)}return n||null}function YZ(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const GZ="cdk-global-overlay-wrapper";class JSe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(GZ),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:r,maxWidth:o,maxHeight:a}=i,l=!("100%"!==s&&"100vw"!==s||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==r&&"100vh"!==r||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,u=this._xOffset,f="rtl"===this._overlayRef.getConfig().direction;let m="",g="",v="";l?v="flex-start":"center"===d?(v="center",f?g=u:m=u):f?"left"===d||"end"===d?(v="flex-end",m=u):("right"===d||"start"===d)&&(v="flex-start",g=u):"left"===d||"start"===d?(v="flex-start",m=u):("right"===d||"end"===d)&&(v="flex-end",g=u),t.position=this._cssPosition,t.marginLeft=l?"0":m,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":g,e.justifyContent=v,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(GZ),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let eDe=(()=>{class n{constructor(e,i,s,r){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=r}global(){return new JSe}flexibleConnectedTo(e){return new QSe(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(be(VV),be(Gn),be(Po),be(zZ))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tDe=0,up=(()=>{class n{constructor(e,i,s,r,o,a,l,c,d,u,f,m){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=r,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=d,this._location=u,this._outsideClickDispatcher=f,this._animationsModuleType=m}create(e){const i=this._createHostElement(),s=this._createPaneElement(i),r=this._createPortalOutlet(s),o=new BZ(e);return o.direction=o.direction||this._directionality.value,new ZSe(r,i,s,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+tDe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ud)),new kZ(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(be($Se),be(zZ),be(Nd),be(eDe),be(XSe),be(Fs),be(ln),be(Gn),be(fy),be(t0),be(qSe),be($u,8))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const sDe={provide:new Xe("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=Ke(up);return()=>n.scrollStrategies.reposition()}}),deps:[up],useFactory:function iDe(n){return()=>n.scrollStrategies.reposition()}};let HV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({providers:[up,sDe],imports:[jC,PV,OZ,OZ]})}return n})();function rDe(n,t){if(1&n){const e=vt();L(0,"div",1)(1,"button",2),ye("click",function(){return ie(e),se(N().action())}),U(2),k()()}if(2&n){const e=N();I(2),Ot(" ",e.data.action," ")}}const oDe=["label"];function aDe(n,t){}const lDe=Math.pow(2,31)-1;class zV{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Gt,this._afterOpened=new Gt,this._onAction=new Gt,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,lDe))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const $Z=new Xe("MatSnackBarData");class ck{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let jZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ee({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return n})(),XZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ee({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return n})(),qZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ee({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return n})(),ZZ=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(i){return new(i||n)(K(zV),K($Z))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[tr],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,s){1&i&&(L(0,"div",0),U(1),k(),me(2,rDe,3,1,"div",1)),2&i&&(I(),Ot(" ",s.data.message,"\n"),I(),Xv(2,s.hasAction?2:-1))},dependencies:[AV,jZ,XZ,qZ],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return n})();const cDe={snackBarState:Tl("state",[su("void, hidden",gi({transform:"scale(0.8)",opacity:0})),su("visible",gi({transform:"scale(1)",opacity:1})),js("* => visible",sr("150ms cubic-bezier(0, 0, 0.2, 1)")),js("* => void, * => hidden",sr("75ms cubic-bezier(0.4, 0.0, 1, 1)",gi({opacity:0})))])};let dDe=0,KZ=(()=>{class n extends RV{constructor(e,i,s,r,o){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=s,this._platform=r,this.snackBarConfig=o,this._document=Ke(Gn),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Gt,this._onExit=new Gt,this._onEnter=new Gt,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+dDe++,this.attachDomPortal=a=>{this._assertNotAttached();const l=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),l},this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:s}=e;if(("void"===s&&"void"!==i||"hidden"===s)&&this._completeExit(),"visible"===s){const r=this._onEnter;this._ngZone.run(()=>{r.next(),r.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(o=>e.classList.add(o)):e.classList.add(i)),this._exposeToModals();const s=this._label.nativeElement,r="mdc-snackbar__label";s.classList.toggle(r,!s.querySelector(`.${r}`))}_exposeToModals(){const e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<i.length;s++){const r=i[s],o=r.getAttribute("aria-owns");this._trackedModals.add(r),o?-1===o.indexOf(e)&&r.setAttribute("aria-owns",o+" "+e):r.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const i=e.getAttribute("aria-owns");if(i){const s=i.replace(this._liveElementId,"").trim();s.length>0?e.setAttribute("aria-owns",s):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let s=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(s=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),s?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(i){return new(i||n)(K(ln),K(gn),K(er),K(Po),K(ck))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,s){if(1&i&&($r(ok,7),$r(oDe,7)),2&i){let r;Bs(r=Hs())&&(s._portalOutlet=r.first),Bs(r=Hs())&&(s._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(i,s){1&i&&rD("@state.done",function(o){return s.onAnimationEnd(o)}),2&i&&eD("@state",s._animationState)},standalone:!0,features:[Jn,tr],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,s){1&i&&(L(0,"div",0)(1,"div",1,2)(3,"div",3),me(4,aDe,0,0,"ng-template",4),k(),Te(5,"div"),k()()),2&i&&(I(5),Nt("aria-live",s._live)("role",s._role)("id",s._liveElementId))},dependencies:[ok],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[cDe.snackBarState]}})}return n})();const hDe=new Xe("mat-snack-bar-default-options",{providedIn:"root",factory:function uDe(){return new ck}});let QZ=(()=>{class n{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,i,s,r,o,a){this._overlay=e,this._live=i,this._injector=s,this._breakpointObserver=r,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=ZZ,this.snackBarContainerComponent=KZ,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",s){const r={...this._defaultConfig,...s};return r.data={message:e,action:i},r.announcementMessage===e&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const r=Fs.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:ck,useValue:i}]}),o=new ZC(this.snackBarContainerComponent,i.viewContainerRef,r),a=e.attach(o);return a.instance.snackBarConfig=i,a.instance}_attach(e,i){const s={...new ck,...this._defaultConfig,...i},r=this._createOverlay(s),o=this._attachSnackBarContainer(r,s),a=new zV(o,r);if(e instanceof Za){const l=new AZ(e,null,{$implicit:s.data,snackBarRef:a});a.instance=o.attachTemplatePortal(l)}else{const l=this._createInjector(s,a),c=new ZC(e,void 0,l),d=o.attachComponentPortal(c);a.instance=d.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Ql(r.detachments())).subscribe(l=>{r.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),s.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(s.announcementMessage,s.politeness)}),this._animateSnackBar(a,s),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new BZ;i.direction=e.direction;let s=this._overlay.position().global();const r="rtl"===e.direction,o="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!r||"end"===e.horizontalPosition&&r,a=!o&&"center"!==e.horizontalPosition;return o?s.left("0"):a?s.right("0"):s.centerHorizontally(),"top"===e.verticalPosition?s.top("0"):s.bottom("0"),i.positionStrategy=s,this._overlay.create(i)}_createInjector(e,i){return Fs.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:zV,useValue:i},{provide:$Z,useValue:e.data}]})}static#e=this.\u0275fac=function(i){return new(i||n)(be(up),be(VTe),be(Fs),be(eZ),be(n,12),be(hDe))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fDe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({providers:[QZ],imports:[HV,PV,DZ,ka,ZZ,ka]})}return n})(),JZ=(()=>{class n{decodeToken(e){try{const s=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(atob(s))}catch(i){return console.error("Error decoding token",i),null}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pDe=n=>({show:n});let eK=(()=>{class n{constructor(){this.message="",this.show=!1}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ht({type:n,selectors:[["app-notification"]],inputs:{message:"message",show:"show"},decls:2,vars:5,consts:[[1,"notification",3,"ngClass"]],template:function(i,s){1&i&&(L(0,"div",0),U(1),k()),2&i&&(B("ngClass",Ds(3,pDe,s.show))("@fadeInOut",void 0),I(),Ot(" ",s.message," "))},dependencies:[Zl],styles:[".notification[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;padding:15px 20px;background-color:#e74c3c;color:#fff;border-radius:25px;box-shadow:0 0 10px #0003;opacity:0;transition:opacity .3s;z-index:10000;font-family:Arial,sans-serif;text-align:center;width:250px}.notification.show[_ngcontent-%COMP%]{opacity:1}.notification-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:5px}.notification-subtitle[_ngcontent-%COMP%]{font-size:14px}"],data:{animation:[Tl("fadeInOut",[su("void",gi({opacity:0})),js("void <=> *",sr(300))])]}})}return n})();function mDe(n,t){if(1&n){const e=vt();L(0,"div",4)(1,"div",5)(2,"h2"),U(3,"Naplex"),k(),L(4,"form",6),ye("ngSubmit",function(){return ie(e),se(N().onLogin())}),L(5,"div",7)(6,"input",8),ye("ngModelChange",function(s){return ie(e),se(N().username=s)})("ngModelChange",function(){return ie(e),se(N().checkContent())}),k(),Te(7,"i",9),k(),L(8,"div",7)(9,"input",10),ye("ngModelChange",function(s){return ie(e),se(N().password=s)})("ngModelChange",function(){return ie(e),se(N().checkContent())}),k(),Te(10,"i",11),k(),L(11,"button",12),Te(12,"i",13),k()()()()}if(2&n){const e=N();I(5),dn("has-content",e.username.length>0),I(),B("ngModel",e.username),I(2),dn("has-content",e.password.length>0),I(),B("ngModel",e.password)}}function gDe(n,t){1&n&&(L(0,"div",14)(1,"h2"),U(2,"Naplex Digital Communications"),k(),Te(3,"div",15),k())}const _De=[uq(),sV(),hq(),fq(),pq(),mq(),gq(),_q(),vq(),yq(),bq(),xq(),wq()];let vDe=(()=>{class n{buildVantaEffect(){}destroyVantaEffect(){this.vantaEffect&&this.vantaEffect.destroy()}constructor(e,i,s,r){this.authService=e,this.router=i,this.snackBar=s,this.jwtService=r,this.username="",this.password="",this.rememberMe=!1,this.showMenu=!0,this.showNotification=!1,this.firstName="",this.notificationMessage="",this.isLoadingDashboard=!1,this.debouncedBuildVantaEffect=(0,Cq.debounce)(this.buildVantaEffect,300)}updateNameFromToken(){const e=localStorage.getItem("access_token");if(e){const i=this.jwtService.decodeToken(e);this.firstName=i?.unique_name||""}}ngOnInit(){try{this.vantaEffect=(0,_De[1])({el:"#vanta",THREE:hn,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,highlightColor:16711680,midtoneColor:16777215,lowlightColor:16777215,baseColor:16777215,blurFactor:.9,speed:.5,zoom:.6}),this.vantaEffect.resizes()}catch(e){console.error(e),this.buildVantaEffect()}this.updateNameFromToken()}checkContent(){}ngOnDestroy(){this.destroyVantaEffect()}onHostClick(){this.debouncedBuildVantaEffect()}onLogin(){this.authService.login({username:this.username,password:this.password}).subscribe(e=>{localStorage.setItem("access_token",e.access_token),this.updateNameFromToken(),this.showNotificationMessage(`Welcome, ${this.firstName}!`),this.isLoadingDashboard=!0,this.authService.setLoggedInStatus(!0),setTimeout(()=>{this.router.navigate(["/dashboard"])},3e3)},e=>{this.showNotificationMessage("Credentials unrecognised. Try again")})}showNotificationMessage(e){this.notificationMessage=e,this.showNotification=!0,setTimeout(()=>this.showNotification=!1,3e3)}static#e=this.\u0275fac=function(i){return new(i||n)(K(dp),K(ho),K(QZ),K(JZ))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["app-login"]],hostBindings:function(i,s){1&i&&ye("click",function(){return s.onHostClick()})},decls:4,vars:4,consts:[["id","vanta",1,"vanta"],[3,"show","message"],["class","outer-container",4,"ngIf"],["class","loading-dashboard",4,"ngIf"],[1,"outer-container"],[1,"loginContainer"],[3,"ngSubmit"],[1,"form-group"],["type","text","name","username","placeholder","",3,"ngModel","ngModelChange"],[1,"fas","fa-user","icon"],["type","password","name","password","placeholder","",3,"ngModel","ngModelChange"],[1,"fas","fa-lock","icon"],["type","submit",1,"btn","btn-primary"],["aria-hidden","true",1,"fa","fa-sign-in"],[1,"loading-dashboard"],[1,"spinner"]],template:function(i,s){1&i&&(Te(0,"div",0)(1,"app-notification",1),me(2,mDe,13,6,"div",2)(3,gDe,4,0,"div",3)),2&i&&(I(),B("show",s.showNotification)("message",s.notificationMessage),I(),B("ngIf",!s.isLoadingDashboard),I(),B("ngIf",s.isLoadingDashboard))},dependencies:[$s,a0,qc,nh,s0,ih,o0,eK],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%;margin:0;padding:0;font-family:Arial,sans-serif;background-color:#333}.outer-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.loginContainer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ece9e680,#ffffff80);border-radius:25px;padding:40px;box-shadow:0 15px 40px #0000001a;width:350px;text-align:center}.loginContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:600;font-size:2.5em;color:#333;margin-bottom:30px}.form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:25px}.form-group.has-content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{opacity:.2;left:20px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 40px;border:1px solid transparent;background-color:#fffc;border-radius:50px;font-size:16px;transition:background .4s,border-color .4s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background-color:#fffffff2;border-color:#3333334d;outline:none}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#33333380}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .icon[_ngcontent-%COMP%]{opacity:.2;left:20px}.form-group[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateY(-50%) translate(-50%);opacity:.6;transition:opacity .4s,left .4s}.btn-primary[_ngcontent-%COMP%]{background-color:#333;border:none;color:#fff;padding:10px 20px;border-radius:50px;box-shadow:0 5px 10px #3333331a}.btn-primary[_ngcontent-%COMP%]:hover{box-shadow:0 7px 14px #33333326}.help-links[_ngcontent-%COMP%]{margin-top:20px;font-size:14px}.help-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#777;text-decoration:underline}.help-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#555}.vanta[_ngcontent-%COMP%]{position:fixed;inset:0;width:100%;height:100vh;z-index:-1}.loading-dashboard[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:1.5em;color:#333;z-index:9999}.spinner[_ngcontent-%COMP%]{margin-top:20px;border:8px solid rgba(255,0,0,.3);border-radius:50%;border-top:8px solid #333;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return n})();const tK=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function nK(n,t,e){const i=e||(o=>Array.prototype.slice.call(o));let s=!1,r=[];return function(...o){r=i(o),s||(s=!0,tK.call(window,()=>{s=!1,n.apply(t,r)}))}}const UV=n=>"start"===n?"left":"end"===n?"right":"center",$o=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function xh(){}const xDe=function(){let n=0;return function(){return n++}}();function Gi(n){return null===n||typeof n>"u"}function Is(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)}function Oi(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}const Mr=n=>("number"==typeof n||n instanceof Number)&&isFinite(+n);function oc(n,t){return Mr(n)?n:t}function oi(n,t){return typeof n>"u"?t:n}const iK=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Ls(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function as(n,t,e,i){let s,r,o;if(Is(n))if(r=n.length,i)for(s=r-1;s>=0;s--)t.call(e,n[s],s);else for(s=0;s<r;s++)t.call(e,n[s],s);else if(Oi(n))for(o=Object.keys(n),r=o.length,s=0;s<r;s++)t.call(e,n[o[s]],o[s])}function dk(n,t){let e,i,s,r;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],r=t[e],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function uk(n){if(Is(n))return n.map(uk);if(Oi(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=uk(n[e[s]]);return t}return n}function sK(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function CDe(n,t,e,i){if(!sK(n))return;const s=t[n],r=e[n];Oi(s)&&Oi(r)?JC(s,r,i):t[n]=uk(r)}function JC(n,t,e){const i=Is(t)?t:[t],s=i.length;if(!Oi(n))return n;const r=(e=e||{}).merger||CDe;for(let o=0;o<s;++o){if(!Oi(t=i[o]))continue;const a=Object.keys(t);for(let l=0,c=a.length;l<c;++l)r(a[l],n,t,e)}return n}function e1(n,t){return JC(n,t,{merger:MDe})}function MDe(n,t,e){if(!sK(n))return;const i=t[n],s=e[n];Oi(i)&&Oi(s)?e1(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=uk(s))}const SDe=".";function rK(n,t){const e=n.indexOf(SDe,t);return-1===e?n.length:e}function _g(n,t){if(""===t)return n;let e=0,i=rK(t,e);for(;n&&i>e;)n=n[t.substr(e,i-e)],e=i+1,i=rK(t,e);return n}function WV(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ac=n=>typeof n<"u",hp=n=>"function"==typeof n,oK=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},Xs=Math.PI,bs=2*Xs,EDe=bs+Xs,hk=Number.POSITIVE_INFINITY,ADe=Xs/180,hr=Xs/2,t1=Xs/4,aK=2*Xs/3,lc=Math.log10,ru=Math.sign;function lK(n){const t=Math.round(n);n=s1(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(lc(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function n1(n){return!isNaN(parseFloat(n))&&isFinite(n)}function s1(n,t,e){return Math.abs(n-t)<e}function cK(n,t,e){let i,s,r;for(i=0,s=n.length;i<s;i++)r=n[i][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function od(n){return n*(Xs/180)}function YV(n){return n*(180/Xs)}function dK(n){if(!Mr(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function uK(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let r=Math.atan2(i,e);return r<-.5*Xs&&(r+=bs),{angle:r,distance:s}}function GV(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function LDe(n,t){return(n-t+EDe)%bs-Xs}function Sl(n){return(n%bs+bs)%bs}function r1(n,t,e,i){const s=Sl(n),r=Sl(t),o=Sl(e),a=Sl(r-s),l=Sl(o-s),c=Sl(s-r),d=Sl(s-o);return s===r||s===o||i&&r===o||a>l&&c<d}function po(n,t,e){return Math.max(t,Math.min(e,n))}function wh(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}const fk=n=>0===n||1===n,hK=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*bs/e),fK=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*bs/e)+1,o1={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*hr),easeOutSine:n=>Math.sin(n*hr),easeInOutSine:n=>-.5*(Math.cos(Xs*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>fk(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>fk(n)?n:hK(n,.075,.3),easeOutElastic:n=>fk(n)?n:fK(n,.075,.3),easeInOutElastic:n=>fk(n)?n:n<.5?.5*hK(2*n,.1125,.45):.5+.5*fK(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-o1.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*o1.easeInBounce(2*n):.5*o1.easeOutBounce(2*n-1)+.5},cc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},$V="0123456789ABCDEF",PDe=n=>$V[15&n],ODe=n=>$V[(240&n)>>4]+$V[15&n],pk=n=>(240&n)>>4==(15&n);function a1(n){return n+.5|0}const mk=(n,t,e)=>Math.max(Math.min(n,e),t);function l1(n){return mk(a1(2.55*n),0,255)}function c1(n){return mk(a1(255*n),0,255)}function jV(n){return mk(a1(n/2.55)/100,0,1)}function pK(n){return mk(a1(100*n),0,100)}const BDe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,UDe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function mK(n,t,e){const i=t*Math.min(e,1-e),s=(r,o=(r+n/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function WDe(n,t,e){const i=(s,r=(s+n/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function YDe(n,t,e){const i=mK(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function XV(n){const e=n.r/255,i=n.g/255,s=n.b/255,r=Math.max(e,i,s),o=Math.min(e,i,s),a=(r+o)/2;let l,c,d;return r!==o&&(d=r-o,c=a>.5?d/(2-r-o):d/(r+o),l=r===e?(i-s)/d+(i<s?6:0):r===i?(s-e)/d+2:(e-i)/d+4,l=60*l+.5),[0|l,c||0,a]}function qV(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(c1)}function ZV(n,t,e){return qV(mK,n,t,e)}function gK(n){return(n%360+360)%360}const _K={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},vK={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let gk;function _k(n,t,e){if(n){let i=XV(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=ZV(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function yK(n,t){return n&&Object.assign(t||{},n)}function bK(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=c1(n[3]))):(t=yK(n,{r:0,g:0,b:0,a:1})).a=c1(t.a),t}function QDe(n){return"r"===n.charAt(0)?function HDe(n){const t=BDe.exec(n);let i,s,r,e=255;if(t){if(t[7]!==i){const o=+t[7];e=255&(t[8]?l1(o):255*o)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?l1(i):i),s=255&(t[4]?l1(s):s),r=255&(t[6]?l1(r):r),{r:i,g:s,b:r,a:e}}}(n):function jDe(n){const t=UDe.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?l1(+t[5]):c1(+t[5]));const s=gK(+t[2]),r=+t[3]/100,o=+t[4]/100;return i="hwb"===t[1]?function GDe(n,t,e){return qV(YDe,n,t,e)}(s,r,o):"hsv"===t[1]?function $De(n,t,e){return qV(WDe,n,t,e)}(s,r,o):ZV(s,r,o),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class vk{constructor(t){if(t instanceof vk)return t;const e=typeof t;let i;"object"===e?i=bK(t):"string"===e&&(i=function NDe(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*cc[n[1]],g:255&17*cc[n[2]],b:255&17*cc[n[3]],a:5===t?17*cc[n[4]]:255}:(7===t||9===t)&&(e={r:cc[n[1]]<<4|cc[n[2]],g:cc[n[3]]<<4|cc[n[4]],b:cc[n[5]]<<4|cc[n[6]],a:9===t?cc[n[7]]<<4|cc[n[8]]:255})),e}(t)||function KDe(n){gk||(gk=function ZDe(){const n={},t=Object.keys(vK),e=Object.keys(_K);let i,s,r,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],s=0;s<e.length;s++)r=e[s],a=a.replace(r,_K[r]);r=parseInt(vK[o],16),n[a]=[r>>16&255,r>>8&255,255&r]}return n}(),gk.transparent=[0,0,0,0]);const t=gk[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||QDe(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=yK(this._rgb);return t&&(t.a=jV(t.a)),t}set rgb(t){this._rgb=bK(t)}rgbString(){return this._valid?function zDe(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${jV(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):this._rgb}hexString(){return this._valid?function VDe(n){var t=function FDe(n){return pk(n.r)&&pk(n.g)&&pk(n.b)&&pk(n.a)}(n)?PDe:ODe;return n&&"#"+t(n.r)+t(n.g)+t(n.b)+(n.a<255?t(n.a):"")}(this._rgb):this._rgb}hslString(){return this._valid?function qDe(n){if(!n)return;const t=XV(n),e=t[0],i=pK(t[1]),s=pK(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${jV(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}(this._rgb):this._rgb}mix(t,e){const i=this;if(t){const s=i.rgb,r=t.rgb;let o;const a=e===o?.5:e,l=2*a-1,c=s.a-r.a,d=((l*c==-1?l:(l+c)/(1+l*c))+1)/2;o=1-d,s.r=255&d*s.r+o*r.r+.5,s.g=255&d*s.g+o*r.g+.5,s.b=255&d*s.b+o*r.b+.5,s.a=a*s.a+(1-a)*r.a,i.rgb=s}return i}clone(){return new vk(this.rgb)}alpha(t){return this._rgb.a=c1(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=a1(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return _k(this._rgb,2,t),this}darken(t){return _k(this._rgb,2,-t),this}saturate(t){return _k(this._rgb,1,t),this}desaturate(t){return _k(this._rgb,1,-t),this}rotate(t){return function XDe(n,t){var e=XV(n);e[0]=gK(e[0]+t),e=ZV(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function xK(n){return new vk(n)}const wK=n=>n instanceof CanvasGradient||n instanceof CanvasPattern;function CK(n){return wK(n)?n:xK(n)}function KV(n){return wK(n)?n:xK(n).saturate(.5).darken(.1).hexString()}const vg=Object.create(null),QV=Object.create(null);function d1(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const r=e[i];n=n[r]||(n[r]=Object.create(null))}return n}function JV(n,t,e){return"string"==typeof t?JC(d1(n,t),e):JC(d1(n,""),t)}var Fi=new class JDe{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,i)=>KV(i.backgroundColor),this.hoverBorderColor=(e,i)=>KV(i.borderColor),this.hoverColor=(e,i)=>KV(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return JV(this,t,e)}get(t){return d1(this,t)}describe(t,e){return JV(QV,t,e)}override(t,e){return JV(vg,t,e)}route(t,e,i,s){const r=d1(this,t),o=d1(this,i),a="_"+e;Object.defineProperties(r,{[a]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[a],c=o[s];return Oi(l)?Object.assign({},c,l):oi(l,c)},set(l){this[a]=l}}})}}({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function yk(n,t,e,i,s){let r=t[s];return r||(r=t[s]=n.measureText(s).width,e.push(s)),r>i&&(i=r),i}function tEe(n,t,e,i){let s=(i=i||{}).data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let o=0;const a=e.length;let l,c,d,u,f;for(l=0;l<a;l++)if(u=e[l],null!=u&&!0!==Is(u))o=yk(n,s,r,o,u);else if(Is(u))for(c=0,d=u.length;c<d;c++)f=u[c],null!=f&&!Is(f)&&(o=yk(n,s,r,o,f));n.restore();const m=r.length/2;if(m>e.length){for(l=0;l<m;l++)delete s[r[l]];r.splice(0,m)}return o}function yg(n,t,e){const i=n.currentDevicePixelRatio,s=0!==e?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function MK(n,t){(t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function bk(n,t,e,i){let s,r,o,a,l;const c=t.pointStyle,d=t.rotation,u=t.radius;let f=(d||0)*ADe;if(c&&"object"==typeof c&&(s=c.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(e,i),n.rotate(f),n.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),void n.restore();if(!(isNaN(u)||u<=0)){switch(n.beginPath(),c){default:n.arc(e,i,u,0,bs),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(f)*u,i-Math.cos(f)*u),f+=aK,n.lineTo(e+Math.sin(f)*u,i-Math.cos(f)*u),f+=aK,n.lineTo(e+Math.sin(f)*u,i-Math.cos(f)*u),n.closePath();break;case"rectRounded":l=.516*u,a=u-l,r=Math.cos(f+t1)*a,o=Math.sin(f+t1)*a,n.arc(e-r,i-o,l,f-Xs,f-hr),n.arc(e+o,i-r,l,f-hr,f),n.arc(e+r,i+o,l,f,f+hr),n.arc(e-o,i+r,l,f+hr,f+Xs),n.closePath();break;case"rect":if(!d){a=Math.SQRT1_2*u,n.rect(e-a,i-a,2*a,2*a);break}f+=t1;case"rectRot":r=Math.cos(f)*u,o=Math.sin(f)*u,n.moveTo(e-r,i-o),n.lineTo(e+o,i-r),n.lineTo(e+r,i+o),n.lineTo(e-o,i+r),n.closePath();break;case"crossRot":f+=t1;case"cross":r=Math.cos(f)*u,o=Math.sin(f)*u,n.moveTo(e-r,i-o),n.lineTo(e+r,i+o),n.moveTo(e+o,i-r),n.lineTo(e-o,i+r);break;case"star":r=Math.cos(f)*u,o=Math.sin(f)*u,n.moveTo(e-r,i-o),n.lineTo(e+r,i+o),n.moveTo(e+o,i-r),n.lineTo(e-o,i+r),f+=t1,r=Math.cos(f)*u,o=Math.sin(f)*u,n.moveTo(e-r,i-o),n.lineTo(e+r,i+o),n.moveTo(e+o,i-r),n.lineTo(e-o,i+r);break;case"line":r=Math.cos(f)*u,o=Math.sin(f)*u,n.moveTo(e-r,i-o),n.lineTo(e+r,i+o);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(f)*u,i+Math.sin(f)*u)}n.fill(),t.borderWidth>0&&n.stroke()}}function bg(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function xk(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function wk(n){n.restore()}function nEe(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if("middle"===s){const r=(t.x+e.x)/2;n.lineTo(r,t.y),n.lineTo(r,e.y)}else"after"===s!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function iEe(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function xg(n,t,e,i,s,r={}){const o=Is(t)?t:[t],a=r.strokeWidth>0&&""!==r.strokeColor;let l,c;for(n.save(),n.font=s.string,function sEe(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Gi(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,r),l=0;l<o.length;++l)c=o[l],a&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),Gi(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(c,e,i,r.maxWidth)),n.fillText(c,e,i,r.maxWidth),rEe(n,e,i,c,r),i+=s.lineHeight;n.restore()}function rEe(n,t,e,i,s){if(s.strikethrough||s.underline){const r=n.measureText(i),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,c=e+r.actualBoundingBoxDescent,d=s.strikethrough?(e-r.actualBoundingBoxAscent+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(o,d),n.lineTo(a,d),n.stroke()}}function Ck(n,t){const{x:e,y:i,w:s,h:r,radius:o}=t;n.arc(e+o.topLeft,i+o.topLeft,o.topLeft,-hr,Xs,!0),n.lineTo(e,i+r-o.bottomLeft),n.arc(e+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Xs,hr,!0),n.lineTo(e+s-o.bottomRight,i+r),n.arc(e+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,hr,0,!0),n.lineTo(e+s,i+o.topRight),n.arc(e+s-o.topRight,i+o.topRight,o.topRight,0,-hr,!0),n.lineTo(e+o.topLeft,i)}const oEe=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),aEe=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function lEe(n,t){const e=(""+n).match(oEe);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const cEe=n=>+n||0;function eB(n,t){const e={},i=Oi(t),s=i?Object.keys(t):t,r=Oi(n)?i?o=>oi(n[o],n[t[o]]):o=>n[o]:()=>n;for(const o of s)e[o]=cEe(r(o));return e}function TK(n){return eB(n,{top:"y",right:"x",bottom:"y",left:"x"})}function my(n){return eB(n,["topLeft","topRight","bottomLeft","bottomRight"])}function jo(n){const t=TK(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Jr(n,t){let e=oi((n=n||{}).size,(t=t||Fi.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=oi(n.style,t.style);i&&!(""+i).match(aEe)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const s={family:oi(n.family,t.family),lineHeight:lEe(oi(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:oi(n.weight,t.weight),string:""};return s.string=function eEe(n){return!n||Gi(n.size)||Gi(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(s),s}function u1(n,t,e,i){let r,o,a,s=!0;for(r=0,o=n.length;r<o;++r)if(a=n[r],void 0!==a&&(void 0!==t&&"function"==typeof a&&(a=a(t),s=!1),void 0!==e&&Is(a)&&(a=a[e%a.length],s=!1),void 0!==a))return i&&!s&&(i.cacheable=!1),a}function fp(n,t){return Object.assign(Object.create(n),t)}function tB(n,t,e){e=e||(o=>n[o]<t);let r,i=n.length-1,s=0;for(;i-s>1;)r=s+i>>1,e(r)?s=r:i=r;return{lo:s,hi:i}}const Ch=(n,t,e)=>tB(n,e,i=>n[i][t]<e),uEe=(n,t,e)=>tB(n,e,i=>n[i][t]>=e),SK=["push","pop","shift","splice","unshift"];function DK(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);-1!==s&&i.splice(s,1),!(i.length>0)&&(SK.forEach(r=>{delete n[r]}),delete n._chartjs)}function EK(n){const t=new Set;let e,i;for(e=0,i=n.length;e<i;++e)t.add(n[e]);return t.size===i?n:Array.from(t)}function nB(n,t=[""],e=n,i,s=(()=>n[0])){ac(i)||(i=RK("_fallback",n));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:e,_fallback:i,_getTarget:s,override:o=>nB([o,...n],t,e,i)};return new Proxy(r,{deleteProperty:(o,a)=>(delete o[a],delete o._keys,delete n[0][a],!0),get:(o,a)=>kK(o,a,()=>function xEe(n,t,e,i){let s;for(const r of t)if(s=RK(pEe(r,n),e),ac(s))return iB(n,s)?sB(e,i,n,s):s}(a,t,n,o)),getOwnPropertyDescriptor:(o,a)=>Reflect.getOwnPropertyDescriptor(o._scopes[0],a),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(o,a)=>PK(o).includes(a),ownKeys:o=>PK(o),set(o,a,l){const c=o._storage||(o._storage=s());return o[a]=c[a]=l,delete o._keys,!0}})}function gy(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:AK(n,i),setContext:r=>gy(n,r,e,i),override:r=>gy(n.override(r),t,e,i)};return new Proxy(s,{deleteProperty:(r,o)=>(delete r[o],delete n[o],!0),get:(r,o,a)=>kK(r,o,()=>function mEe(n,t,e){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=n;let a=i[t];return hp(a)&&o.isScriptable(t)&&(a=function gEe(n,t,e,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);return a.add(n),t=t(r,o||i),a.delete(n),iB(n,t)&&(t=sB(s._scopes,s,n,t)),t}(t,a,n,e)),Is(a)&&a.length&&(a=function _Ee(n,t,e,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=e;if(ac(r.index)&&i(n))t=t[r.index%t.length];else if(Oi(t[0])){const l=t,c=s._scopes.filter(d=>d!==l);t=[];for(const d of l){const u=sB(c,s,n,d);t.push(gy(u,r,o&&o[n],a))}}return t}(t,a,n,o.isIndexable)),iB(t,a)&&(a=gy(a,s,r&&r[t],o)),a}(r,o,a)),getOwnPropertyDescriptor:(r,o)=>r._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(r,o)=>Reflect.has(n,o),ownKeys:()=>Reflect.ownKeys(n),set:(r,o,a)=>(n[o]=a,delete r[o],!0)})}function AK(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:hp(e)?e:()=>e,isIndexable:hp(i)?i:()=>i}}const pEe=(n,t)=>n?n+WV(t):t,iB=(n,t)=>Oi(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function kK(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const i=e();return n[t]=i,i}function IK(n,t,e){return hp(n)?n(t,e):n}const vEe=(n,t)=>!0===n?t:"string"==typeof n?_g(t,n):void 0;function yEe(n,t,e,i,s){for(const r of t){const o=vEe(e,r);if(o){n.add(o);const a=IK(o._fallback,e,s);if(ac(a)&&a!==e&&a!==i)return a}else if(!1===o&&ac(i)&&e!==i)return null}return!1}function sB(n,t,e,i){const s=t._rootScopes,r=IK(t._fallback,e,i),o=[...n,...s],a=new Set;a.add(i);let l=LK(a,o,e,r||e,i);return!(null===l||ac(r)&&r!==e&&(l=LK(a,o,r,l,i),null===l))&&nB(Array.from(a),[""],s,r,()=>function bEe(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return Is(s)&&Oi(e)?e:s}(t,e,i))}function LK(n,t,e,i,s){for(;e;)e=yEe(n,t,e,i,s);return e}function RK(n,t){for(const e of t){if(!e)continue;const i=e[n];if(ac(i))return i}}function PK(n){let t=n._keys;return t||(t=n._keys=function wEe(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}const CEe=Number.EPSILON||1e-14,_y=(n,t)=>t<n.length&&!n[t].skip&&n[t],OK=n=>"x"===n?"y":"x";function MEe(n,t,e,i){const s=n.skip?t:n,r=t,o=e.skip?t:e,a=GV(r,s),l=GV(o,r);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=i*c,f=i*d;return{previous:{x:r.x-u*(o.x-s.x),y:r.y-u*(o.y-s.y)},next:{x:r.x+f*(o.x-s.x),y:r.y+f*(o.y-s.y)}}}function Mk(n,t,e){return Math.max(Math.min(n,e),t)}function AEe(n,t,e,i,s){let r,o,a,l;if(t.spanGaps&&(n=n.filter(c=>!c.skip)),"monotone"===t.cubicInterpolationMode)!function DEe(n,t="x"){const e=OK(t),i=n.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=_y(n,0);for(o=0;o<i;++o)if(a=l,l=c,c=_y(n,o+1),l){if(c){const d=c[t]-l[t];s[o]=0!==d?(c[e]-l[e])/d:0}r[o]=a?c?ru(s[o-1])!==ru(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}(function TEe(n,t,e){const i=n.length;let s,r,o,a,l,c=_y(n,0);for(let d=0;d<i-1;++d)if(l=c,c=_y(n,d+1),l&&c){if(s1(t[d],0,CEe)){e[d]=e[d+1]=0;continue}s=e[d]/t[d],r=e[d+1]/t[d],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),e[d]=s*o*t[d],e[d+1]=r*o*t[d])}})(n,s,r),function SEe(n,t,e="x"){const i=OK(e),s=n.length;let r,o,a,l=_y(n,0);for(let c=0;c<s;++c){if(o=a,a=l,l=_y(n,c+1),!a)continue;const d=a[e],u=a[i];o&&(r=(d-o[e])/3,a[`cp1${e}`]=d-r,a[`cp1${i}`]=u-r*t[c]),l&&(r=(l[e]-d)/3,a[`cp2${e}`]=d+r,a[`cp2${i}`]=u+r*t[c])}}(n,r,t)}(n,s);else{let c=i?n[n.length-1]:n[0];for(r=0,o=n.length;r<o;++r)a=n[r],l=MEe(c,a,n[Math.min(r+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&function EEe(n,t){let e,i,s,r,o,a=bg(n[0],t);for(e=0,i=n.length;e<i;++e)o=r,r=a,a=e<i-1&&bg(n[e+1],t),r&&(s=n[e],o&&(s.cp1x=Mk(s.cp1x,t.left,t.right),s.cp1y=Mk(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=Mk(s.cp2x,t.left,t.right),s.cp2y=Mk(s.cp2y,t.top,t.bottom)))}(n,e)}function FK(){return typeof window<"u"&&typeof document<"u"}function rB(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Tk(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const Sk=n=>window.getComputedStyle(n,null),IEe=["top","right","bottom","left"];function wg(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const r=IEe[s];i[r]=parseFloat(n[t+"-"+r+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const LEe=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function NK(n,t){const{canvas:e,currentDevicePixelRatio:i}=t,s=Sk(e),r="border-box"===s.boxSizing,o=wg(s,"padding"),a=wg(s,"border","width"),{x:l,y:c,box:d}=function REe(n,t){const e=n.native||n,i=e.touches,s=i&&i.length?i[0]:e,{offsetX:r,offsetY:o}=s;let l,c,a=!1;if(LEe(r,o,e.target))l=r,c=o;else{const d=t.getBoundingClientRect();l=s.clientX-d.left,c=s.clientY-d.top,a=!0}return{x:l,y:c,box:a}}(n,e),u=o.left+(d&&a.left),f=o.top+(d&&a.top);let{width:m,height:g}=t;return r&&(m-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-u)/m*e.width/i),y:Math.round((c-f)/g*e.height/i)}}const oB=n=>Math.round(10*n)/10;function VK(n,t,e){const i=t||1,s=Math.floor(n.height*i),r=Math.floor(n.width*i);n.height=s/i,n.width=r/i;const o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||o.height!==s||o.width!==r)&&(n.currentDevicePixelRatio=i,o.height=s,o.width=r,n.ctx.setTransform(i,0,0,i,0,0),!0)}const FEe=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return n}();function BK(n,t){const e=function kEe(n,t){return Sk(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Cg(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function NEe(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function VEe(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},r={x:t.cp1x,y:t.cp1y},o=Cg(n,s,e),a=Cg(s,r,e),l=Cg(r,t,e),c=Cg(o,a,e),d=Cg(a,l,e);return Cg(c,d,e)}const HK=new Map;function h1(n,t,e){return function BEe(n,t){t=t||{};const e=n+JSON.stringify(t);let i=HK.get(e);return i||(i=new Intl.NumberFormat(n,t),HK.set(e,i)),i}(t,e).format(n)}function vy(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function zK(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function UK(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function WK(n){return"angle"===n?{between:r1,compare:LDe,normalize:Sl}:{between:wh,compare:(t,e)=>t-e,normalize:t=>t}}function YK({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:s}}function GK(n,t,e){if(!e)return[n];const{property:i,start:s,end:r}=e,o=t.length,{compare:a,between:l,normalize:c}=WK(i),{start:d,end:u,loop:f,style:m}=function UEe(n,t,e){const{property:i,start:s,end:r}=e,{between:o,normalize:a}=WK(i),l=t.length;let f,m,{start:c,end:d,loop:u}=n;if(u){for(c+=l,d+=l,f=0,m=l;f<m&&o(a(t[c%l][i]),s,r);++f)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:u,style:n.style}}(n,t,e),g=[];let y,C,w,v=!1,_=null;for(let $=d,F=d;$<=u;++$)C=t[$%o],!C.skip&&(y=c(C[i]),y!==w&&(v=l(y,s,r),null===_&&(v||l(s,w,y)&&0!==a(s,w))&&(_=0===a(y,s)?$:F),null!==_&&(!v||0===a(r,y)||l(r,w,y))&&(g.push(YK({start:_,end:$,loop:f,count:o,style:m})),_=null),F=$,w=y));return null!==_&&g.push(YK({start:_,end:u,loop:f,count:o,style:m})),g}function $K(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const r=GK(i[s],n.points,t);r.length&&e.push(...r)}return e}function XK(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function jEe(n,t){return t&&JSON.stringify(n)!==JSON.stringify(t)}var Mh=new class XEe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const o=e.duration;e.listeners[s].forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=tK.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let l,o=r.length-1,a=!1;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=r.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};const qK="transparent",qEe={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=CK(n||qK),s=i.valid&&CK(t||qK);return s&&s.valid?s.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class ZEe{constructor(t,e,i,s){const r=e[i];s=u1([t.to,s,r,t.from]);const o=u1([t.from,r,s]);this._active=!0,this._fn=t.fn||qEe[t.type||typeof o],this._easing=o1[t.easing]||o1.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=u1([t.to,e,s,t.from]),this._from=u1([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||e<i),!this._active)return this._target[s]=a,void this._notify(!0);e<0?this._target[s]=r:(l=e/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}Fi.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const JEe=Object.keys(Fi.animation);Fi.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),Fi.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Fi.describe("animations",{_fallback:"animation"}),Fi.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}});class ZK{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Oi(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!Oi(s))return;const r={};for(const o of JEe)r[o]=s[o];(Is(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!e.has(o))&&e.set(o,r)})})}_animateOptions(t,e){const i=e.options,s=function tAe(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&function eAe(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=n[i[s]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,e){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if("$"===c.charAt(0))continue;if("options"===c){s.push(...this._animateOptions(t,e));continue}const d=e[c];let u=r[c];const f=i.get(c);if(u){if(f&&u.active()){u.update(f,d,a);continue}u.cancel()}f&&f.duration?(r[c]=u=new ZEe(f,t,c,d),s.push(u)):t[c]=d}return s}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(Mh.add(this._chart,i),!0):void 0}}function KK(n,t){const e=n&&n.options||{},i=e.reverse,s=void 0===e.min?t:0,r=void 0===e.max?t:0;return{start:i?r:s,end:i?s:r}}function QK(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)e.push(i[s].index);return e}function JK(n,t,e,i={}){const s=n.keys,r="single"===i.mode;let o,a,l,c;if(null!==t){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===e){if(i.all)continue;break}c=n.values[l],Mr(c)&&(r||0===t||ru(t)===ru(c))&&(t+=c)}return t}}function eQ(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function aAe(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function tQ(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=n[s.index];if(e&&r>0||!e&&r<0)return s.index}return null}function nQ(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,d=function rAe(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(r,o,i),u=t.length;let f;for(let m=0;m<u;++m){const g=t[m],{[l]:v,[c]:_}=g;f=(g._stacks||(g._stacks={}))[c]=aAe(s,d,v),f[a]=_,f._top=tQ(f,o,!0,i.type),f._bottom=tQ(f,o,!1,i.type)}}function aB(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function f1(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const r=s._stacks;if(!r||void 0===r[i]||void 0===r[i][e])return;delete r[i][e]}}}const lB=n=>"reset"===n||"none"===n,iQ=(n,t)=>t?n:Object.assign({},n);let Th=(()=>{class n{constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=eQ(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&f1(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,s=this.getDataset(),r=(f,m,g,v)=>"x"===f?m:"r"===f?v:g,o=i.xAxisID=oi(s.xAxisID,aB(e,"x")),a=i.yAxisID=oi(s.yAxisID,aB(e,"y")),l=i.rAxisID=oi(s.rAxisID,aB(e,"r")),c=i.indexAxis,d=i.iAxisID=r(c,o,a,l),u=i.vAxisID=r(c,a,o,l);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(d),i.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&DK(this._data,this),e._stacked&&f1(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),s=this._data;if(Oi(i))this._data=function sAe(n){const t=Object.keys(n),e=new Array(t.length);let i,s,r;for(i=0,s=t.length;i<s;++i)r=t[i],e[i]={x:r,y:n[r]};return e}(i);else if(s!==i){if(s){DK(s,this);const r=this._cachedMeta;f1(r),r._parsed=[]}i&&Object.isExtensible(i)&&function fEe(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),SK.forEach(e=>{const i="_onData"+WV(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return n._chartjs.listeners.forEach(a=>{"function"==typeof a[i]&&a[i](...r)}),o}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const o=i._stacked;i._stacked=eQ(i.vScale,i),i.stack!==s.stack&&(r=!0,f1(i),i.stack=s.stack),this._resyncElements(e),(r||o!==i._stacked)&&nQ(this,i._parsed)}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:s,_data:r}=this,{iScale:o,_stacked:a}=s,l=o.axis;let u,f,m,c=0===e&&i===r.length||s._sorted,d=e>0&&s._parsed[e-1];if(!1===this._parsing)s._parsed=r,s._sorted=!0,m=r;else{m=Is(r[e])?this.parseArrayData(s,r,e,i):Oi(r[e])?this.parseObjectData(s,r,e,i):this.parsePrimitiveData(s,r,e,i);const g=()=>null===f[l]||d&&f[l]<d[l];for(u=0;u<i;++u)s._parsed[u+e]=f=m[u],c&&(g()&&(c=!1),d=f);s._sorted=c}a&&nQ(this,m)}parsePrimitiveData(e,i,s,r){const{iScale:o,vScale:a}=e,l=o.axis,c=a.axis,d=o.getLabels(),u=o===a,f=new Array(r);let m,g,v;for(m=0,g=r;m<g;++m)v=m+s,f[m]={[l]:u||o.parse(d[v],v),[c]:a.parse(i[v],v)};return f}parseArrayData(e,i,s,r){const{xScale:o,yScale:a}=e,l=new Array(r);let c,d,u,f;for(c=0,d=r;c<d;++c)u=c+s,f=i[u],l[c]={x:o.parse(f[0],u),y:a.parse(f[1],u)};return l}parseObjectData(e,i,s,r){const{xScale:o,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(r);let u,f,m,g;for(u=0,f=r;u<f;++u)m=u+s,g=i[m],d[u]={x:o.parse(_g(g,l),m),y:a.parse(_g(g,c),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,s){const o=this._cachedMeta,a=i[e.axis];return JK({keys:QK(this.chart,!0),values:i._stacks[e.axis]},a,o.index,{mode:s})}updateRangeFromParsed(e,i,s,r){const o=s[i.axis];let a=null===o?NaN:o;const l=r&&s._stacks[i.axis];r&&l&&(r.values=l,a=JK(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,i){const s=this._cachedMeta,r=s._parsed,o=s._sorted&&e===s.iScale,a=r.length,l=this._getOtherScale(e),c=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:QK(this.chart,!0),values:null})(i,s),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=function oAe(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}(l);let m,g;function v(){g=r[m];const _=g[l.axis];return!Mr(g[e.axis])||u>_||f<_}for(m=0;m<a&&(v()||(this.updateRangeFromParsed(d,e,g,c),!o));++m);if(o)for(m=a-1;m>=0;--m)if(!v()){this.updateRangeFromParsed(d,e,g,c);break}return d}getAllParsedValues(e){const i=this._cachedMeta._parsed,s=[];let r,o,a;for(r=0,o=i.length;r<o;++r)a=i[r][e.axis],Mr(a)&&s.push(a);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,s=i.iScale,r=i.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=function iAe(n){let t,e,i,s;return Oi(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:!1===n}}(oi(this.options.clip,function nAe(n,t,e){if(!1===e)return!1;const i=KK(n,e),s=KK(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this._cachedMeta,r=s.data||[],o=this.chart.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||r.length-l,d=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,o,l,c),u=l;u<l+c;++u){const f=r[u];f.hidden||(f.active&&d?a.push(f):f.draw(e,o))}for(u=0;u<a.length;++u)a[u].draw(e,o)}getStyle(e,i){const s=i?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,i,s){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];o=a.$context||(a.$context=function cAe(n,t,e){return fp(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),e,a)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=function lAe(n,t){return fp(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",s){const r="active"===i,o=this._cachedDataOpts,a=e+"-"+i,l=o[a],c=this.enableOptionSharing&&ac(s);if(l)return iQ(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),f=r?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),u),g=Object.keys(Fi.elements[e]),_=d.resolveNamedOptions(m,g,()=>this.getContext(s,r),f);return _.$shared&&(_.$shared=c,o[a]=Object.freeze(iQ(_,c))),_}_resolveAnimations(e,i,s){const r=this.chart,o=this._cachedDataOpts,a=`animation-${i}`,l=o[a];if(l)return l;let c;if(!1!==r.options.animation){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,i),m=u.getOptionScopes(this.getDataset(),f);c=u.createResolver(m,this.getContext(e,s,i))}const d=new ZK(r,c&&c.animations);return c&&c._cacheable&&(o[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||lB(e)||this.chart._animationsDisabled}updateElement(e,i,s,r){lB(r)?Object.assign(e,s):this._resolveAnimations(i,r).update(e,s)}updateSharedOptions(e,i,s){e&&!lB(i)&&this._resolveAnimations(void 0,i).update(e,s)}_setStyle(e,i,s,r){e.active=r;const o=this.getStyle(i,r);this._resolveAnimations(i,s,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,i,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,i,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,s=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const r=s.length,o=i.length,a=Math.min(o,r);a&&this.parse(0,a),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,i,s=!0){const r=this._cachedMeta,o=r.data,a=e+i;let l;const c=d=>{for(d.length+=i,l=d.length-1;l>=a;l--)d[l]=d[l-i]};for(c(o),l=e;l<a;++l)o[l]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,i),s&&this.updateElements(o,e,i,"reset")}updateElements(e,i,s,r){}_removeElements(e,i){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,i);s._stacked&&f1(s,r)}s.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,s,r]=e;this[i](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n.defaults={},n})();function hAe(n){const t=n.iScale,e=function uAe(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=e.length;s<r;s++)i=i.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=EK(i.sort((s,r)=>s-r))}return n._cache.$bar}(t,n.type);let s,r,o,a,i=t._length;const l=()=>{32767===o||-32768===o||(ac(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=e.length;s<r;++s)o=t.getPixelForValue(e[s]),l();for(a=void 0,s=0,r=t.ticks.length;s<r;++s)o=t.getPixelForTick(s),l();return i}function sQ(n,t,e,i){return Is(n)?function mAe(n,t,e,i){const s=e.parse(n[0],i),r=e.parse(n[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function rQ(n,t,e,i){const s=n.iScale,r=n.vScale,o=s.getLabels(),a=s===r,l=[];let c,d,u,f;for(c=e,d=e+i;c<d;++c)f=t[c],u={},u[s.axis]=a||s.parse(o[c],c),l.push(sQ(f,u,r,c));return l}function cB(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function vAe(n,t,e,i){let s=t.borderSkipped;const r={};if(!s)return void(n.borderSkipped=r);const{start:o,end:a,reverse:l,top:c,bottom:d}=function _Ae(n){let t,e,i,s,r;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:e,end:i,reverse:t,top:s,bottom:r}}(n);"middle"===s&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=c:(e._bottom||0)===i?s=d:(r[oQ(d,o,a,l)]=!0,s=c)),r[oQ(s,o,a,l)]=!0,n.borderSkipped=r}function oQ(n,t,e,i){return i?(n=function yAe(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=aQ(n,e,t)):n=aQ(n,t,e),n}function aQ(n,t,e){return"start"===n?t:"end"===n?e:n}function bAe(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}Th.prototype.datasetElementType=null,Th.prototype.dataElementType=null;let xAe=(()=>{class n extends Th{parsePrimitiveData(e,i,s,r){return rQ(e,i,s,r)}parseArrayData(e,i,s,r){return rQ(e,i,s,r)}parseObjectData(e,i,s,r){const{iScale:o,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d="x"===o.axis?l:c,u="x"===a.axis?l:c,f=[];let m,g,v,_;for(m=s,g=s+r;m<g;++m)_=i[m],v={},v[o.axis]=o.parse(_g(_,d),m),f.push(sQ(_g(_,u),v,a,m));return f}updateRangeFromParsed(e,i,s,r){super.updateRangeFromParsed(e,i,s,r);const o=s._custom;o&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:s,vScale:r}=i,o=this.getParsed(e),a=o._custom,l=cB(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,s,r){const o="reset"===r,{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),f=this.resolveDataElementOptions(i,r),m=this.getSharedOptions(f),g=this.includeOptions(r,m);this.updateSharedOptions(m,r,f);for(let v=i;v<i+s;v++){const _=this.getParsed(v),y=o||Gi(_[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(v),C=this._calculateBarIndexPixels(v,u),w=(_._stacks||{})[l.axis],S={horizontal:d,base:y.base,enableBorderRadius:!w||cB(_._custom)||a===w._top||a===w._bottom,x:d?y.head:C.center,y:d?C.center:y.head,height:d?C.size:Math.abs(y.size),width:d?Math.abs(y.size):C.size};g&&(S.options=m||this.resolveDataElementOptions(v,e[v].active?"active":r));const R=S.options||e[v].options;vAe(S,R,w,a),bAe(S,R,u.ratio),this.updateElement(e[v],v,S,r)}}_getStacks(e,i){const r=this._cachedMeta.iScale,o=r.getMatchingVisibleMetas(this._type),a=r.options.stacked,l=o.length,c=[];let d,u;for(d=0;d<l;++d)if(u=o[d],u.controller.options.grouped){if(typeof i<"u"){const f=u.controller.getParsed(i)[u.controller._cachedMeta.vScale.axis];if(Gi(f)||isNaN(f))continue}if((!1===a||-1===c.indexOf(u.stack)||void 0===a&&void 0===u.stack)&&c.push(u.stack),u.index===e)break}return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,s){const r=this._getStacks(e,s),o=void 0!==i?r.indexOf(i):-1;return-1===o?r.length-1:o}_getRuler(){const e=this.options,i=this._cachedMeta,s=i.iScale,r=[];let o,a;for(o=0,a=i.data.length;o<a;++o)r.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const l=e.barThickness;return{min:l||hAe(i),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,d=cB(c);let g,v,u=l[i.axis],f=0,m=s?this.applyStack(i,l,s):u;m!==u&&(f=m-u,m=u),d&&(u=c.barStart,m=c.barEnd-c.barStart,0!==u&&ru(u)!==ru(c.barEnd)&&(f=0),f+=u);const _=Gi(r)||d?f:r;let y=i.getPixelForValue(_);if(g=this.chart.getDataVisibility(e)?i.getPixelForValue(f+m):y,v=g-y,Math.abs(v)<o&&(v=function gAe(n,t,e){return 0!==n?ru(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(v,i,a)*o,u===a&&(y-=v/2),g=y+v),y===i.getPixelForValue(a)){const C=ru(v)*i.getLineWidthForValue(a)/2;y+=C,v-=C}return{size:v,base:y,head:g,center:g+v/2}}_calculateBarIndexPixels(e,i){const s=i.scale,r=this.options,o=r.skipNull,a=oi(r.maxBarThickness,1/0);let l,c;if(i.grouped){const d=o?this._getStackCount(e):i.stackCount,u="flex"===r.barThickness?function pAe(n,t,e,i){const s=t.pixels,r=s[n];let o=n>0?s[n-1]:null,a=n<s.length-1?s[n+1]:null;const l=e.categoryPercentage;null===o&&(o=r-(null===a?t.end-t.start:a-r)),null===a&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:e.barPercentage,start:c}}(e,i,r,d):function fAe(n,t,e,i){const s=e.barThickness;let r,o;return Gi(s)?(r=t.min*e.categoryPercentage,o=e.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[n]-r/2}}(e,i,r,d),f=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);l=u.start+u.chunk*f+u.chunk/2,c=Math.min(a,u.chunk*u.ratio)}else l=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(a,i.min*i.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,i=e.vScale,s=e.data,r=s.length;let o=0;for(;o<r;++o)null!==this.getParsed(o)[i.axis]&&s[o].draw(this._ctx)}}return n.id="bar",n.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},n.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},n})(),wAe=(()=>{class n extends Th{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,s,r){const o=super.parsePrimitiveData(e,i,s,r);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+s).radius;return o}parseArrayData(e,i,s,r){const o=super.parseArrayData(e,i,s,r);for(let a=0;a<o.length;a++)o[a]._custom=oi(i[s+a][2],this.resolveDataElementOptions(a+s).radius);return o}parseObjectData(e,i,s,r){const o=super.parseObjectData(e,i,s,r);for(let a=0;a<o.length;a++){const l=i[s+a];o[a]._custom=oi(l&&l.r&&+l.r,this.resolveDataElementOptions(a+s).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let i=0;for(let s=e.length-1;s>=0;--s)i=Math.max(i,e[s].size(this.resolveDataElementOptions(s))/2);return i>0&&i}getLabelAndValue(e){const i=this._cachedMeta,{xScale:s,yScale:r}=i,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:i.label,value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,s,r){const o="reset"===r,{iScale:a,vScale:l}=this._cachedMeta,c=this.resolveDataElementOptions(i,r),d=this.getSharedOptions(c),u=this.includeOptions(r,d),f=a.axis,m=l.axis;for(let g=i;g<i+s;g++){const v=e[g],_=!o&&this.getParsed(g),y={},C=y[f]=o?a.getPixelForDecimal(.5):a.getPixelForValue(_[f]),w=y[m]=o?l.getBasePixel():l.getPixelForValue(_[m]);y.skip=isNaN(C)||isNaN(w),u&&(y.options=this.resolveDataElementOptions(g,v.active?"active":r),o&&(y.options.radius=0)),this.updateElement(v,g,y,r)}this.updateSharedOptions(d,r,c)}resolveDataElementOptions(e,i){const s=this.getParsed(e);let r=super.resolveDataElementOptions(e,i);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const o=r.radius;return"active"!==i&&(r.radius=0),r.radius+=oi(s&&s._custom,o),r}}return n.id="bubble",n.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},n.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},n})(),lQ=(()=>{class n extends Th{constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const s=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=s;else{let a,l,o=c=>+s[c];if(Oi(s[e])){const{key:c="value"}=this._parsing;o=d=>+_g(s[d],c)}for(a=e,l=e+i;a<l;++a)r._parsed[a]=o(a)}}_getRotation(){return od(this.options.rotation-90)}_getCircumference(){return od(this.options.circumference)}_getRotationExtents(){let e=bs,i=-bs;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)){const r=this.chart.getDatasetMeta(s).controller,o=r._getRotation(),a=r._getCircumference();e=Math.min(e,o),i=Math.max(i,o+a)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:s}=i,r=this._cachedMeta,o=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(s.width,s.height)-a)/2,0),c=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:n/t)(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:g,offsetX:v,offsetY:_}=function CAe(n,t,e){let i=1,s=1,r=0,o=0;if(t<bs){const a=n,l=a+t,c=Math.cos(a),d=Math.sin(a),u=Math.cos(l),f=Math.sin(l),m=(w,S,R)=>r1(w,a,l,!0)?1:Math.max(S,S*e,R,R*e),g=(w,S,R)=>r1(w,a,l,!0)?-1:Math.min(S,S*e,R,R*e),v=m(0,c,u),_=m(hr,d,f),y=g(Xs,c,u),C=g(Xs+hr,d,f);i=(v-y)/2,s=(_-C)/2,r=-(v+y)/2,o=-(_+C)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}(f,u,c),w=Math.max(Math.min((s.width-a)/m,(s.height-a)/g)/2,0),S=iK(this.options.radius,w),O=(S-Math.max(S*c,0))/this._getVisibleDatasetWeightTotal();this.offsetX=v*S,this.offsetY=_*S,r.total=this.calculateTotal(),this.outerRadius=S-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*d,0),this.updateElements(o,0,o.length,e)}_circumference(e,i){const s=this.options,r=this._cachedMeta,o=this._getCircumference();return i&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/bs)}updateElements(e,i,s,r){const o="reset"===r,a=this.chart,l=a.chartArea,u=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=o&&a.options.animation.animateScale,g=m?0:this.innerRadius,v=m?0:this.outerRadius,_=this.resolveDataElementOptions(i,r),y=this.getSharedOptions(_),C=this.includeOptions(r,y);let S,w=this._getRotation();for(S=0;S<i;++S)w+=this._circumference(S,o);for(S=i;S<i+s;++S){const R=this._circumference(S,o),O=e[S],H={x:u+this.offsetX,y:f+this.offsetY,startAngle:w,endAngle:w+R,circumference:R,outerRadius:v,innerRadius:g};C&&(H.options=y||this.resolveDataElementOptions(S,O.active?"active":r)),w+=R,this.updateElement(O,S,H,r)}this.updateSharedOptions(y,r,_)}calculateTotal(){const e=this._cachedMeta,i=e.data;let r,s=0;for(r=0;r<i.length;r++){const o=e._parsed[r];null!==o&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!i[r].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?bs*(Math.abs(e)/i):0}getLabelAndValue(e){const s=this.chart,r=s.data.labels||[],o=h1(this._cachedMeta._parsed[e],s.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let i=0;const s=this.chart;let r,o,a,l,c;if(!e)for(r=0,o=s.data.datasets.length;r<o;++r)if(s.isDatasetVisible(r)){a=s.getDatasetMeta(r),e=a.data,l=a.controller;break}if(!e)return 0;for(r=0,o=e.length;r<o;++r)c=l.resolveDataElementOptions(r),"inner"!==c.borderAlign&&(i=Math.max(i,c.borderWidth||0,c.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let s=0,r=e.length;s<r;++s){const o=this.resolveDataElementOptions(s);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(i+=this._getRingWeight(s));return i}_getRingWeight(e){return Math.max(oi(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n.id="doughnut",n.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},n.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map((s,r)=>{const a=t.getDatasetMeta(0).controller.getStyle(r);return{text:s,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let e=t.label;const i=": "+t.formattedValue;return Is(e)?(e=e.slice(),e[0]+=i):e+=i,e}}}}},n})(),cQ=(()=>{class n extends Th{initialize(){this.enableOptionSharing=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:s,data:r=[],_dataset:o}=i,a=this.chart._animationsDisabled;let{start:l,count:c}=function MAe(n,t,e){const i=t.length;let s=0,r=i;if(n._sorted){const{iScale:o,_parsed:a}=n,l=o.axis,{min:c,max:d,minDefined:u,maxDefined:f}=o.getUserBounds();u&&(s=po(Math.min(Ch(a,o.axis,c).lo,e?i:Ch(t,l,o.getPixelForValue(c)).lo),0,i-1)),r=f?po(Math.max(Ch(a,o.axis,d).hi+1,e?0:Ch(t,l,o.getPixelForValue(d)).hi+1),s,i)-s:i-s}return{start:s,count:r}}(i,r,a);this._drawStart=l,this._drawCount=c,function TAe(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),r}(i)&&(l=0,c=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=r;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(s,void 0,{animated:!a,options:d},e),this.updateElements(r,l,c,e)}updateElements(e,i,s,r){const o="reset"===r,{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(i,r),f=this.getSharedOptions(u),m=this.includeOptions(r,f),g=a.axis,v=l.axis,{spanGaps:_,segment:y}=this.options,C=n1(_)?_:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||o||"none"===r;let S=i>0&&this.getParsed(i-1);for(let R=i;R<i+s;++R){const O=e[R],H=this.getParsed(R),$=w?O:{},F=Gi(H[v]),W=$[g]=a.getPixelForValue(H[g],R),re=$[v]=o||F?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,H,c):H[v],R);$.skip=isNaN(W)||isNaN(re)||F,$.stop=R>0&&H[g]-S[g]>C,y&&($.parsed=H,$.raw=d.data[R]),m&&($.options=f||this.resolveDataElementOptions(R,O.active?"active":r)),w||this.updateElement(O,R,$,r),S=H}this.updateSharedOptions(f,r,u)}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,s=i.options&&i.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const o=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return n.id="line",n.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},n.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},n})();var SAe=Object.freeze({__proto__:null,BarController:xAe,BubbleController:wAe,DoughnutController:lQ,LineController:cQ,PolarAreaController:(()=>{class n extends Th{constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const s=this.chart,r=s.data.labels||[],o=h1(this._cachedMeta._parsed[e].r,s.options.locale);return{label:r[e]||"",value:o}}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}_updateRadius(){const e=this.chart,i=e.chartArea,s=e.options,r=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(r/2,0),l=(o-Math.max(s.cutoutPercentage?o/100*s.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=o-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,i,s,r){const o="reset"===r,a=this.chart,l=this.getDataset(),d=a.options.animation,u=this._cachedMeta.rScale,f=u.xCenter,m=u.yCenter,g=u.getIndexAngle(0)-.5*Xs;let _,v=g;const y=360/this.countVisibleElements();for(_=0;_<i;++_)v+=this._computeAngle(_,r,y);for(_=i;_<i+s;_++){const C=e[_];let w=v,S=v+this._computeAngle(_,r,y),R=a.getDataVisibility(_)?u.getDistanceFromCenterForValue(l.data[_]):0;v=S,o&&(d.animateScale&&(R=0),d.animateRotate&&(w=S=g));const O={x:f,y:m,innerRadius:0,outerRadius:R,startAngle:w,endAngle:S,options:this.resolveDataElementOptions(_,C.active?"active":r)};this.updateElement(C,_,O,r)}}countVisibleElements(){const e=this.getDataset();let s=0;return this._cachedMeta.data.forEach((r,o)=>{!isNaN(e.data[o])&&this.chart.getDataVisibility(o)&&s++}),s}_computeAngle(e,i,s){return this.chart.getDataVisibility(e)?od(this.resolveDataElementOptions(e,i).angle||s):0}}return n.id="polarArea",n.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map((s,r)=>{const a=t.getDatasetMeta(0).controller.getStyle(r);return{text:s,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},n})(),PieController:(()=>{class n extends lQ{}return n.id="pie",n.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},n})(),RadarController:(()=>{class n extends Th{getLabelAndValue(e){const i=this._cachedMeta.vScale,s=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(s[i.axis])}}update(e){const i=this._cachedMeta,s=i.dataset,r=i.data||[],o=i.iScale.getLabels();if(s.points=r,"resize"!==e){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0),this.updateElement(s,void 0,{_loop:!0,_fullLoop:o.length===r.length,options:a},e)}this.updateElements(r,0,r.length,e)}updateElements(e,i,s,r){const o=this.getDataset(),a=this._cachedMeta.rScale,l="reset"===r;for(let c=i;c<i+s;c++){const d=e[c],u=this.resolveDataElementOptions(c,d.active?"active":r),f=a.getPointPositionForValue(c,o.data[c]),m=l?a.xCenter:f.x,g=l?a.yCenter:f.y,v={x:m,y:g,angle:f.angle,skip:isNaN(m)||isNaN(g),options:u};this.updateElement(d,c,v,r)}}}return n.id="radar",n.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},n.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},n})(),ScatterController:(()=>{class n extends cQ{}return n.id="scatter",n.defaults={showLine:!1,fill:!1},n.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},n})()});function Mg(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var DAe={_date:(()=>{class n{constructor(e){this.options=e||{}}formats(){return Mg()}parse(e,i){return Mg()}format(e,i){return Mg()}add(e,i,s){return Mg()}diff(e,i,s){return Mg()}startOf(e,i,s){return Mg()}endOf(e,i){return Mg()}}return n.override=function(t){Object.assign(n.prototype,t)},n})()};function p1(n,t){return"native"in n?{x:n.x,y:n.y}:NK(n,t)}function AAe(n,t,e,i){const{controller:s,data:r,_sorted:o}=n,a=s._cachedMeta.iScale;if(a&&t===a.axis&&"r"!==t&&o&&r.length){const l=a._reversePixels?uEe:Ch;if(!i)return l(r,t,e);if(s._sharedOptions){const c=r[0],d="function"==typeof c.getRange&&c.getRange(t);if(d){const u=l(r,t,e-d),f=l(r,t,e+d);return{lo:u.lo,hi:f.hi}}}}return{lo:0,hi:r.length-1}}function dB(n,t,e,i,s){const r=n.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:d}=r[a],{lo:u,hi:f}=AAe(r[a],t,o,s);for(let m=u;m<=f;++m){const g=d[m];g.skip||i(g,c,m)}}}function uB(n,t,e,i){const s=[];return bg(t,n.chartArea,n._minPadding)&&dB(n,e,t,function(o,a,l){o.inRange(t.x,t.y,i)&&s.push({element:o,datasetIndex:a,index:l})},!0),s}function hB(n,t,e,i,s){return bg(t,n.chartArea,n._minPadding)?"r"!==e||i?function LAe(n,t,e,i,s){let r=[];const o=function kAe(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,s){const r=t?Math.abs(i.x-s.x):0,o=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}(e);let a=Number.POSITIVE_INFINITY;return dB(n,e,t,function l(c,d,u){const f=c.inRange(t.x,t.y,s);if(i&&!f)return;const m=c.getCenterPoint(s);if(!bg(m,n.chartArea,n._minPadding)&&!f)return;const v=o(t,m);v<a?(r=[{element:c,datasetIndex:d,index:u}],a=v):v===a&&r.push({element:c,datasetIndex:d,index:u})}),r}(n,t,e,i,s):function IAe(n,t,e,i){let s=[];return dB(n,e,t,function r(o,a,l){const{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],i),{angle:u}=uK(o,{x:t.x,y:t.y});r1(u,c,d)&&s.push({element:o,datasetIndex:a,index:l})}),s}(n,t,e,s):[]}function dQ(n,t,e,i){const s=p1(t,n),r=[],o=e.axis,a="x"===o?"inXRange":"inYRange";let l=!1;return function EAe(n,t){const e=n.getSortedVisibleDatasetMetas();let i,s,r;for(let o=0,a=e.length;o<a;++o){({index:i,data:s}=e[o]);for(let l=0,c=s.length;l<c;++l)r=s[l],r.skip||t(r,i,l)}}(n,(c,d,u)=>{c[a](s[o],i)&&r.push({element:c,datasetIndex:d,index:u}),c.inRange(s.x,s.y,i)&&(l=!0)}),e.intersect&&!l?[]:r}var RAe={modes:{index(n,t,e,i){const s=p1(t,n),r=e.axis||"x",o=e.intersect?uB(n,s,r,i):hB(n,s,r,!1,i),a=[];return o.length?(n.getSortedVisibleDatasetMetas().forEach(l=>{const c=o[0].index,d=l.data[c];d&&!d.skip&&a.push({element:d,datasetIndex:l.index,index:c})}),a):[]},dataset(n,t,e,i){const s=p1(t,n),r=e.axis||"xy";let o=e.intersect?uB(n,s,r,i):hB(n,s,r,!1,i);if(o.length>0){const a=o[0].datasetIndex,l=n.getDatasetMeta(a).data;o=[];for(let c=0;c<l.length;++c)o.push({element:l[c],datasetIndex:a,index:c})}return o},point:(n,t,e,i)=>uB(n,p1(t,n),e.axis||"xy",i),nearest:(n,t,e,i)=>hB(n,p1(t,n),e.axis||"xy",e.intersect,i),x:(n,t,e,i)=>dQ(n,t,{axis:"x",intersect:e.intersect},i),y:(n,t,e,i)=>dQ(n,t,{axis:"y",intersect:e.intersect},i)}};const uQ=["left","top","right","bottom"];function m1(n,t){return n.filter(e=>e.pos===t)}function hQ(n,t){return n.filter(e=>-1===uQ.indexOf(e.pos)&&e.box.axis===t)}function g1(n,t){return n.sort((e,i)=>{const s=t?i:e,r=t?e:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function fQ(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function pQ(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function VAe(n,t,e,i){const{pos:s,box:r}=e,o=n.maxPadding;if(!Oi(s)){e.size&&(n[s]-=e.size);const u=i[e.stack]||{size:0,count:1};u.size=Math.max(u.size,e.horizontal?r.height:r.width),e.size=u.size/u.count,n[s]+=e.size}r.getPadding&&pQ(o,r.getPadding());const a=Math.max(0,t.outerWidth-fQ(o,n,"left","right")),l=Math.max(0,t.outerHeight-fQ(o,n,"top","bottom")),c=a!==n.w,d=l!==n.h;return n.w=a,n.h=l,e.horizontal?{same:c,other:d}:{same:d,other:c}}function HAe(n,t){const e=t.maxPadding;return function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(t[o],e[o])}),r}(n?["left","right"]:["top","bottom"])}function _1(n,t,e,i){const s=[];let r,o,a,l,c,d;for(r=0,o=n.length,c=0;r<o;++r){a=n[r],l=a.box,l.update(a.width||t.w,a.height||t.h,HAe(a.horizontal,t));const{same:u,other:f}=VAe(t,e,a,i);c|=u&&s.length,d=d||f,l.fullSize||s.push(a)}return c&&_1(s,t,e,i)||d}function Dk(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function mQ(n,t,e,i){const s=e.padding;let{x:r,y:o}=t;for(const a of n){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){const u=t.w*d,f=c.size||l.height;ac(c.start)&&(o=c.start),l.fullSize?Dk(l,s.left,o,e.outerWidth-s.right-s.left,f):Dk(l,t.left+c.placed,o,u,f),c.start=o,c.placed+=u,o=l.bottom}else{const u=t.h*d,f=c.size||l.width;ac(c.start)&&(r=c.start),l.fullSize?Dk(l,r,s.top,f,e.outerHeight-s.bottom-s.top):Dk(l,r,t.top+c.placed,f,u),c.start=r,c.placed+=u,r=l.right}}t.x=r,t.y=o}Fi.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Xo={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=jo(n.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(e-s.height,0),a=function NAe(n){const t=function PAe(n){const t=[];let e,i,s,r,o,a;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],({position:r,options:{stack:o,stackWeight:a=1}}=s),t.push({index:e,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return t}(n),e=g1(t.filter(c=>c.box.fullSize),!0),i=g1(m1(t,"left"),!0),s=g1(m1(t,"right")),r=g1(m1(t,"top"),!0),o=g1(m1(t,"bottom")),a=hQ(t,"x"),l=hQ(t,"y");return{fullSize:e,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:m1(t,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}(n.boxes),l=a.vertical,c=a.horizontal;as(n.boxes,v=>{"function"==typeof v.beforeLayout&&v.beforeLayout()});const d=l.reduce((v,_)=>_.box.options&&!1===_.box.options.display?v:v+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},s);pQ(f,jo(i));const m=Object.assign({maxPadding:f,w:r,h:o,x:s.left,y:s.top},s),g=function FAe(n,t){const e=function OAe(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:r}=e;if(!i||!uQ.includes(s))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,o,a;for(r=0,o=n.length;r<o;++r){a=n[r];const{fullSize:l}=a.box,c=e[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*i:l&&t.availableWidth,a.height=s):(a.width=i,a.height=d?d*s:l&&t.availableHeight)}return e}(l.concat(c),u);_1(a.fullSize,m,u,g),_1(l,m,u,g),_1(c,m,u,g)&&_1(l,m,u,g),function BAe(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(m),mQ(a.leftAndTop,m,u,g),m.x+=m.w,m.y+=m.h,mQ(a.rightAndBottom,m,u,g),n.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},as(a.chartArea,v=>{const _=v.box;Object.assign(_,n.chartArea),_.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class gQ{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class zAe extends gQ{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ek="$chartjs",UAe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_Q=n=>null===n||""===n,vQ=!!FEe&&{passive:!0};function GAe(n,t,e){n.canvas.removeEventListener(t,e,vQ)}function Ak(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function jAe(n,t,e){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ak(a.addedNodes,i),o=o&&!Ak(a.removedNodes,i);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function XAe(n,t,e){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ak(a.removedNodes,i),o=o&&!Ak(a.addedNodes,i);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const v1=new Map;let yQ=0;function bQ(){const n=window.devicePixelRatio;n!==yQ&&(yQ=n,v1.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function KAe(n,t,e){const i=n.canvas,s=i&&rB(i);if(!s)return;const r=nK((a,l)=>{const c=s.clientWidth;e(a,l),c<s.clientWidth&&e()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,d=l.contentRect.height;0===c&&0===d||r(c,d)});return o.observe(s),function qAe(n,t){v1.size||window.addEventListener("resize",bQ),v1.set(n,t)}(n,r),o}function fB(n,t,e){e&&e.disconnect(),"resize"===t&&function ZAe(n){v1.delete(n),v1.size||window.removeEventListener("resize",bQ)}(n)}function QAe(n,t,e){const i=n.canvas,s=nK(r=>{null!==n.ctx&&e(function $Ae(n,t){const e=UAe[n.type]||n.type,{x:i,y:s}=NK(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==s?s:null}}(r,n))},n,r=>{const o=r[0];return[o,o.offsetX,o.offsetY]});return function YAe(n,t,e){n.addEventListener(t,e,vQ)}(i,t,s),s}class JAe extends gQ{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function WAe(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Ek]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",_Q(s)){const r=BK(n,"width");void 0!==r&&(n.width=r)}if(_Q(i))if(""===n.style.height)n.height=n.width/(t||2);else{const r=BK(n,"height");void 0!==r&&(n.height=r)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Ek])return!1;const i=e[Ek].initial;["height","width"].forEach(r=>{const o=i[r];Gi(o)?e.removeAttribute(r):e.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{e.style[r]=s[r]}),e.width=e.width,delete e[Ek],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:jAe,detach:XAe,resize:KAe}[e]||QAe)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];s&&(({attach:fB,detach:fB,resize:fB}[e]||GAe)(t,e,s),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return function OEe(n,t,e,i){const s=Sk(n),r=wg(s,"margin"),o=Tk(s.maxWidth,n,"clientWidth")||hk,a=Tk(s.maxHeight,n,"clientHeight")||hk,l=function PEe(n,t,e){let i,s;if(void 0===t||void 0===e){const r=rB(n);if(r){const o=r.getBoundingClientRect(),a=Sk(r),l=wg(a,"border","width"),c=wg(a,"padding");t=o.width-c.width-l.width,e=o.height-c.height-l.height,i=Tk(a.maxWidth,r,"clientWidth"),s=Tk(a.maxHeight,r,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||hk,maxHeight:s||hk}}(n,t,e);let{width:c,height:d}=l;if("content-box"===s.boxSizing){const u=wg(s,"border","width"),f=wg(s,"padding");c-=f.width+u.width,d-=f.height+u.height}return c=Math.max(0,c-r.width),d=Math.max(0,i?Math.floor(c/i):d-r.height),c=oB(Math.min(c,o,l.maxWidth)),d=oB(Math.min(d,a,l.maxHeight)),c&&!d&&(d=oB(c/2)),{width:c,height:d}}(t,e,i,s)}isAttached(t){const e=rB(t);return!(!e||!e.isConnected)}}class ad{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return n1(this.x)&&n1(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}ad.defaults={},ad.defaultRoutes=void 0;const xQ={values:n=>Is(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let s,r=n;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=function tke(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const o=lc(Math.abs(r)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),h1(n,i,l)},logarithmic(n,t,e){if(0===n)return"0";const i=n/Math.pow(10,Math.floor(lc(n)));return 1===i||2===i||5===i?xQ.numeric.call(this,n,t,e):""}};var kk={formatters:xQ};function Ik(n,t,e,i,s){const r=oi(i,0),o=Math.min(oi(s,n.length),n.length);let l,c,d,a=0;for(e=Math.ceil(e),s&&(l=s-i,e=l/Math.floor(l/e)),d=r;d<0;)a++,d=Math.round(r+a*e);for(c=Math.max(r,0);c<o;c++)c===d&&(t.push(n[c]),a++,d=Math.round(r+a*e))}Fi.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:kk.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Fi.route("scale.ticks","color","","color"),Fi.route("scale.grid","color","","borderColor"),Fi.route("scale.grid","borderColor","","borderColor"),Fi.route("scale.title","color","","color"),Fi.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n}),Fi.describe("scales",{_fallback:"scale"}),Fi.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n});const wQ=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e;function CQ(n,t){const e=[],i=n.length/t,s=n.length;let r=0;for(;r<s;r+=i)e.push(n[Math.floor(r)]);return e}function cke(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),r=n._startPixel,o=n._endPixel,a=1e-6;let c,l=n.getPixelForTick(s);if(!(e&&(c=1===i?Math.max(l-r,o-l):0===t?(n.getPixelForTick(1)-l)/2:(l-n.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<r-a||l>o+a)))return l}function y1(n){return n.drawTicks?n.tickLength:0}function MQ(n,t){if(!n.display)return 0;const e=Jr(n.font,t),i=jo(n.padding);return(Is(n.text)?n.text.length:1)*e.lineHeight+i.height}function fke(n,t,e){let i=UV(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class Tg extends ad{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=oc(t,Number.POSITIVE_INFINITY),e=oc(e,Number.NEGATIVE_INFINITY),i=oc(i,Number.POSITIVE_INFINITY),s=oc(s,Number.NEGATIVE_INFINITY),{min:oc(t,i),max:oc(e,s),minDefined:Mr(t),maxDefined:Mr(e)}}getMinMax(t){let o,{min:e,max:i,minDefined:s,maxDefined:r}=this.getUserBounds();if(s&&r)return{min:e,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),s||(e=Math.min(e,o.min)),r||(i=Math.max(i,o.max));return e=r&&e>i?i:e,i=s&&e>i?e:i,{min:oc(e,oc(i,e)),max:oc(i,oc(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ls(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function dEe(n,t,e){const{min:i,max:s}=n,r=iK(t,(s-i)/2),o=(a,l)=>e&&0===a?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?CQ(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function nke(n,t){const e=n.options.ticks,i=e.maxTicksLimit||function ike(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),s=e.major.enabled?function rke(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],r=s.length,o=s[0],a=s[r-1],l=[];if(r>i)return function oke(n,t,e,i){let o,s=0,r=e[0];for(i=Math.ceil(i),o=0;o<n.length;o++)o===r&&(t.push(n[o]),s++,r=e[s*i])}(t,l,s,r/i),l;const c=function ske(n,t,e){const i=function ake(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),s=t.length/e;if(!i)return Math.max(s,1);const r=function kDe(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((s,r)=>s-r).pop(),t}(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}(s,t,i);if(r>0){let d,u;const f=r>1?Math.round((a-o)/(r-1)):null;for(Ik(t,l,c,Gi(f)?0:o-f,o),d=0,u=r-1;d<u;d++)Ik(t,l,c,s[d],s[d+1]);return Ik(t,l,c,a,Gi(f)?t.length:a+f),l}return Ik(t,l,c),l}(this,this.ticks),this._labelSizes=null),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,t=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ls(this.options.afterUpdate,[this])}beforeSetDimensions(){Ls(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ls(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ls(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ls(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=Ls(e.callback,[r.value,i,t],this)}afterTickToLabelConversion(){Ls(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ls(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=this.ticks.length,s=e.minRotation||0,r=e.maxRotation;let a,l,c,o=s;if(!this._isVisible()||!e.display||s>=r||i<=1||!this.isHorizontal())return void(this.labelRotation=s);const d=this._getLabelSizes(),u=d.widest.width,f=d.highest.height,m=po(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/i:m/(i-1),u+6>a&&(a=m/(i-(t.offset?.5:1)),l=this.maxHeight-y1(t.grid)-e.padding-MQ(t.title,this.chart.options.font),c=Math.sqrt(u*u+f*f),o=YV(Math.min(Math.asin(po((d.highest.height+6)/a,-1,1)),Math.asin(po(l/c,-1,1))-Math.asin(po(f/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ls(this.options.afterCalculateLabelRotation,[this])}beforeFit(){Ls(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=MQ(s,e.options.font);if(a?(t.width=this.maxWidth,t.height=y1(r)+l):(t.height=this.maxHeight,t.width=y1(r)+l),i.display&&this.ticks.length){const{first:c,last:d,widest:u,highest:f}=this._getLabelSizes(),m=2*i.padding,g=od(this.labelRotation),v=Math.cos(g),_=Math.sin(g);a?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:_*u.width+v*f.height)+m):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:v*u.width+_*f.height)+m),this._calculatePadding(c,d,_,v)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=0!==this.labelRotation,c="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;l?c?(f=s*t.width,m=i*e.height):(f=i*t.height,m=s*e.width):"start"===r?m=e.width:"end"===r?f=t.width:(f=t.width/2,m=e.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-u+o)*this.width/(this.width-u),0)}else{let d=e.height/2,u=t.height/2;"start"===r?(d=0,u=t.height):"end"===r&&(d=e.height,u=0),this.paddingTop=d+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ls(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)Gi(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=CQ(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,e){const{ctx:i,_longestTextCache:s}=this,r=[],o=[];let c,d,u,f,m,g,v,_,y,C,w,a=0,l=0;for(c=0;c<e;++c){if(f=t[c].label,m=this._resolveTickFontOptions(c),i.font=g=m.string,v=s[g]=s[g]||{data:{},gc:[]},_=m.lineHeight,y=C=0,Gi(f)||Is(f)){if(Is(f))for(d=0,u=f.length;d<u;++d)w=f[d],!Gi(w)&&!Is(w)&&(y=yk(i,v.data,v.gc,y,w),C+=_)}else y=yk(i,v.data,v.gc,y,f),C=_;r.push(y),o.push(C),a=Math.max(y,a),l=Math.max(C,l)}!function dke(n,t){as(n,e=>{const i=e.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete e.data[i[r]];i.splice(0,s)}})}(s,e);const S=r.indexOf(a),R=o.indexOf(l),O=H=>({width:r[H]||0,height:o[H]||0});return{first:O(0),last:O(e-1),widest:O(S),highest:O(R),widths:r,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function RDe(n){return po(n,-32768,32767)}(this._alignToPixels?yg(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function hke(n,t,e){return fp(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function uke(n,t){return fp(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=od(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:r,position:o}=s,a=r.offset,l=this.isHorizontal(),d=this.ticks.length+(a?1:0),u=y1(r),f=[],m=r.setContext(this.getContext()),g=m.drawBorder?m.borderWidth:0,v=g/2,_=function(he){return yg(i,he,g)};let y,C,w,S,R,O,H,$,F,W,re,we;if("top"===o)y=_(this.bottom),O=this.bottom-u,$=y-v,W=_(t.top)+v,we=t.bottom;else if("bottom"===o)y=_(this.top),W=t.top,we=_(t.bottom)-v,O=y+v,$=this.top+u;else if("left"===o)y=_(this.right),R=this.right-u,H=y-v,F=_(t.left)+v,re=t.right;else if("right"===o)y=_(this.left),F=t.left,re=_(t.right)-v,R=y+v,H=this.left+u;else if("x"===e){if("center"===o)y=_((t.top+t.bottom)/2+.5);else if(Oi(o)){const he=Object.keys(o)[0];y=_(this.chart.scales[he].getPixelForValue(o[he]))}W=t.top,we=t.bottom,O=y+v,$=O+u}else if("y"===e){if("center"===o)y=_((t.left+t.right)/2);else if(Oi(o)){const he=Object.keys(o)[0];y=_(this.chart.scales[he].getPixelForValue(o[he]))}R=y-v,H=R-u,F=t.left,re=t.right}const le=oi(s.ticks.maxTicksLimit,d),ue=Math.max(1,Math.ceil(d/le));for(C=0;C<d;C+=ue){const he=r.setContext(this.getContext(C)),oe=he.lineWidth,ce=he.color,pe=r.borderDash||[],xe=he.borderDashOffset,Ae=he.tickWidth,fe=he.tickColor,Ce=he.tickBorderDash||[],ft=he.tickBorderDashOffset;w=cke(this,C,a),void 0!==w&&(S=yg(i,w,oe),l?R=H=F=re=S:O=$=W=we=S,f.push({tx1:R,ty1:O,tx2:H,ty2:$,x1:F,y1:W,x2:re,y2:we,width:oe,color:ce,borderDash:pe,borderDashOffset:xe,tickWidth:Ae,tickColor:fe,tickBorderDash:Ce,tickBorderDashOffset:ft}))}return this._ticksLength=d,this._borderValue=y,f}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:u}=r,f=y1(i.grid),m=f+d,g=u?-d:m,v=-od(this.labelRotation),_=[];let y,C,w,S,R,O,H,$,F,W,re,we,le="middle";if("top"===s)O=this.bottom-g,H=this._getXAxisLabelAlignment();else if("bottom"===s)O=this.top+g,H=this._getXAxisLabelAlignment();else if("left"===s){const he=this._getYAxisLabelAlignment(f);H=he.textAlign,R=he.x}else if("right"===s){const he=this._getYAxisLabelAlignment(f);H=he.textAlign,R=he.x}else if("x"===e){if("center"===s)O=(t.top+t.bottom)/2+m;else if(Oi(s)){const he=Object.keys(s)[0];O=this.chart.scales[he].getPixelForValue(s[he])+m}H=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===s)R=(t.left+t.right)/2-m;else if(Oi(s)){const he=Object.keys(s)[0];R=this.chart.scales[he].getPixelForValue(s[he])}H=this._getYAxisLabelAlignment(f).textAlign}"y"===e&&("start"===l?le="top":"end"===l&&(le="bottom"));const ue=this._getLabelSizes();for(y=0,C=a.length;y<C;++y){w=a[y],S=w.label;const he=r.setContext(this.getContext(y));$=this.getPixelForTick(y)+r.labelOffset,F=this._resolveTickFontOptions(y),W=F.lineHeight,re=Is(S)?S.length:1;const oe=re/2,ce=he.color,pe=he.textStrokeColor,xe=he.textStrokeWidth;let Ae;if(o?(R=$,we="top"===s?"near"===c||0!==v?-re*W+W/2:"center"===c?-ue.highest.height/2-oe*W+W:W/2-ue.highest.height:"near"===c||0!==v?W/2:"center"===c?ue.highest.height/2-oe*W:ue.highest.height-re*W,u&&(we*=-1)):(O=$,we=(1-re)*W/2),he.showLabelBackdrop){const fe=jo(he.backdropPadding),Ce=ue.heights[y],ft=ue.widths[y];let ot=O+we-fe.top,kt=R-fe.left;switch(le){case"middle":ot-=Ce/2;break;case"bottom":ot-=Ce}switch(H){case"center":kt-=ft/2;break;case"right":kt-=ft}Ae={left:kt,top:ot,width:ft+fe.width,height:Ce+fe.height,color:he.backdropColor}}_.push({rotation:v,label:S,font:F,color:ce,strokeColor:pe,strokeWidth:xe,textOffset:we,textAlign:H,textBaseline:le,translation:[R,O],backdrop:Ae})}return _}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-od(this.labelRotation))return"top"===t?"left":"right";let s="center";return"start"===e.align?s="left":"end"===e.align&&(s="right"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,a=t+r,l=this._getLabelSizes().widest.width;let c,d;return"left"===e?s?(d=this.right+r,"near"===i?c="left":"center"===i?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,"near"===i?c="right":"center"===i?(c="center",d-=l/2):(c="left",d=this.left)):"right"===e?s?(d=this.left+r,"near"===i?c="right":"center"===i?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,"near"===i?c="left":"center"===i?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,r,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(e.display)for(r=0,o=s.length;r<o;++r){const l=s[r];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:i}}=this,s=i.setContext(this.getContext()),r=i.drawBorder?s.borderWidth:0;if(!r)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=yg(t,this.left,r)-r/2,c=yg(t,this.right,o)+o/2,d=u=a):(d=yg(t,this.top,r)-r/2,u=yg(t,this.bottom,o)+o/2,l=c=a),e.save(),e.lineWidth=s.borderWidth,e.strokeStyle=s.borderColor,e.beginPath(),e.moveTo(l,d),e.lineTo(c,u),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&xk(i,s);const r=this._labelItems||(this._labelItems=this._computeLabelItems(t));let o,a;for(o=0,a=r.length;o<a;++o){const l=r[o],c=l.font,d=l.label;l.backdrop&&(i.fillStyle=l.backdrop.color,i.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height)),xg(i,d,0,l.textOffset,c,l)}s&&wk(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const r=Jr(i.font),o=jo(i.padding),a=i.align;let l=r.lineHeight/2;"bottom"===e||"center"===e||Oi(e)?(l+=o.bottom,Is(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:d,maxWidth:u,rotation:f}=function pke(n,t,e,i){const{top:s,left:r,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:d}=l;let f,m,g,u=0;const v=o-s,_=a-r;if(n.isHorizontal()){if(m=$o(i,r,a),Oi(e)){const y=Object.keys(e)[0];g=d[y].getPixelForValue(e[y])+v-t}else g="center"===e?(c.bottom+c.top)/2+v-t:wQ(n,e,t);f=a-r}else{if(Oi(e)){const y=Object.keys(e)[0];m=d[y].getPixelForValue(e[y])-_+t}else m="center"===e?(c.left+c.right)/2-_+t:wQ(n,e,t);g=$o(i,o,s),u="left"===e?-hr:hr}return{titleX:m,titleY:g,maxWidth:f,rotation:u}}(this,l,e,a);xg(t,i.text,0,0,r,{color:i.color,maxWidth:u,rotation:f,textAlign:fke(a,e,s),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=oi(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===Tg.prototype.draw?[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]:[{z:e,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=e.length;r<o;++r){const a=e[r];a[i]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){return Jr(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Lk{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function _ke(n){return"id"in n&&"defaults"in n})(e)&&(i=this.register(e));const s=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,function mke(n,t,e){const i=JC(Object.create(null),[e?Fi.get(e):{},Fi.get(t),n.defaults]);Fi.set(t,i),n.defaultRoutes&&function gke(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),r=[n].concat(i).join("."),o=t[e].split("."),a=o.pop(),l=o.join(".");Fi.route(r,s,l,a)})}(t,n.defaultRoutes),n.descriptors&&Fi.describe(t,n.descriptors)}(t,o,i),this.override&&Fi.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in Fi[s]&&(delete Fi[s][i],this.override&&delete vg[i])}}var Sh=new class vke{constructor(){this.controllers=new Lk(Th,"datasets",!0),this.elements=new Lk(ad,"elements"),this.plugins=new Lk(Object,"plugins"),this.scales=new Lk(Tg,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):as(s,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,i){const s=WV(t);Ls(i["before"+s],[],i),e[t](i),Ls(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(void 0===s)throw new Error('"'+t+'" is not a registered '+i+".");return s}};class yke{constructor(){this._init=[]}notify(t,e,i,s){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(r,t,e,i);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,s){s=s||{};for(const r of t){const o=r.plugin;if(!1===Ls(o[i],[e,s,r.options],o)&&s.cancelable)return!1}return!0}invalidate(){Gi(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=oi(i.options&&i.options.plugins,{}),r=function bke(n){const t=[],e=Object.keys(Sh.plugins.items);for(let s=0;s<e.length;s++)t.push(Sh.getPlugin(e[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const r=i[s];-1===t.indexOf(r)&&t.push(r)}return t}(i);return!1!==s||e?function wke(n,t,e,i){const s=[],r=n.getContext();for(let o=0;o<t.length;o++){const a=t[o],c=xke(e[a.id],i);null!==c&&s.push({plugin:a,options:Cke(n.config,a,c,r)})}return s}(t,r,s,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function xke(n,t){return t||!1!==n?!0===n?{}:n:null}function Cke(n,t,e,i){const s=n.pluginScopeKeys(t),r=n.getOptionScopes(e,s);return n.createResolver(r,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function pB(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(Fi.datasets[n]||{}).indexAxis||"x"}function mB(n,t){return"x"===n||"y"===n?n:t.axis||function Ske(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}(t.position)||n.charAt(0).toLowerCase()}function TQ(n){const t=n.options||(n.options={});t.plugins=oi(t.plugins,{}),t.scales=function Dke(n,t){const e=vg[n.type]||{scales:{}},i=t.scales||{},s=pB(n.type,t),r=Object.create(null),o=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!Oi(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=mB(a,l),d=function Tke(n,t){return n===t?"_index_":"_value_"}(c,s),u=e.scales||{};r[c]=r[c]||a,o[a]=e1(Object.create(null),[{axis:c},l,u[c],u[d]])}),n.data.datasets.forEach(a=>{const l=a.type||n.type,c=a.indexAxis||pB(l,t),u=(vg[l]||{}).scales||{};Object.keys(u).forEach(f=>{const m=function Mke(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(f,c),g=a[m+"AxisID"]||r[m]||m;o[g]=o[g]||Object.create(null),e1(o[g],[{axis:m},i[g],u[f]])})}),Object.keys(o).forEach(a=>{const l=o[a];e1(l,[Fi.scales[l.type],Fi.scale])}),o}(n,t)}function SQ(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const DQ=new Map,EQ=new Set;function Rk(n,t){let e=DQ.get(n);return e||(e=t(),DQ.set(n,e),EQ.add(e)),e}const b1=(n,t,e)=>{const i=_g(t,e);void 0!==i&&n.add(i)};class Ake{constructor(t){this._config=function Eke(n){return(n=n||{}).data=SQ(n.data),TQ(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=SQ(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),TQ(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Rk(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Rk(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Rk(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return Rk(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:r}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;const l=new Set;e.forEach(d=>{t&&(l.add(t),d.forEach(u=>b1(l,t,u))),d.forEach(u=>b1(l,s,u)),d.forEach(u=>b1(l,vg[r]||{},u)),d.forEach(u=>b1(l,Fi,u)),d.forEach(u=>b1(l,QV,u))});const c=Array.from(l);return 0===c.length&&c.push(Object.create(null)),EQ.has(e)&&o.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,vg[e]||{},Fi.datasets[e]||{},{type:e},Fi,QV]}resolveNamedOptions(t,e,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=AQ(this._resolverCache,t,s);let l=o;(function Ike(n,t){const{isScriptable:e,isIndexable:i}=AK(n);for(const s of t){const r=e(s),o=i(s),a=(o||r)&&n[s];if(r&&(hp(a)||kke(a))||o&&Is(a))return!0}return!1})(o,e)&&(r.$shared=!1,l=gy(o,i=hp(i)?i():i,this.createResolver(t,i,a)));for(const c of e)r[c]=l[c];return r}createResolver(t,e,i=[""],s){const{resolver:r}=AQ(this._resolverCache,t,i);return Oi(e)?gy(r,e,void 0,s):r}}function AQ(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let r=i.get(s);return r||(r={resolver:nB(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const kke=n=>Oi(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||hp(n[e]),!1),Rke=["top","bottom","left","right","chartArea"];function kQ(n,t){return"top"===n||"bottom"===n||-1===Rke.indexOf(n)&&"x"===t}function IQ(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function LQ(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Ls(e&&e.onComplete,[n],t)}function Pke(n){const t=n.chart,e=t.options.animation;Ls(e&&e.onProgress,[n],t)}function RQ(n){return FK()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Pk={},PQ=n=>{const t=RQ(n);return Object.values(Pk).filter(e=>e.canvas===t).pop()};function Oke(n,t,e){const i=Object.keys(n);for(const s of i){const r=+s;if(r>=t){const o=n[s];delete n[s],(e>0||r>t)&&(n[r+e]=o)}}}class Ok{constructor(t,e){const i=this.config=new Ake(e),s=RQ(t),r=PQ(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function eke(n){return!FK()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?zAe:JAe}(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,d=l&&l.width;this.id=xDe(),this.ctx=a,this.canvas=l,this.width=d,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yke,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function yDe(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}(u=>this.update(u),o.resizeDelay||0),this._dataChanges=[],Pk[this.id]=this,a&&l?(Mh.listen(this,"complete",LQ),Mh.listen(this,"progress",Pke),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:r}=this;return Gi(t)?e&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():VK(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return MK(this.canvas,this.ctx),this}stop(){return Mh.stop(this),this}resize(t,e){Mh.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,o=this.platform.getMaximumSize(this.canvas,t,e,i.maintainAspectRatio&&this.aspectRatio),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,VK(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ls(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){as(this.options.scales||{},(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];e&&(r=r.concat(Object.keys(e).map(o=>{const a=e[o],l=mB(o,a),c="r"===l,d="x"===l;return{options:a,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),as(r,o=>{const a=o.options,l=a.id,c=mB(l,a),d=oi(a.type,o.dtype);(void 0===a.position||kQ(a.position,c)!==kQ(o.dposition))&&(a.position=o.dposition),s[l]=!0;let u=null;l in i&&i[l].type===d?u=i[l]:(u=new(Sh.getScale(d))({id:l,type:d,ctx:this.ctx,chart:this}),i[u.id]=u),u.init(a,t)}),as(s,(o,a)=>{o||delete i[a]}),as(i,o=>{Xo.configure(this,o,o.options),Xo.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(IQ("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{0===e.filter(r=>r===i._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const r=e[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||pB(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Sh.getController(a),{datasetElementType:c,dataElementType:d}=Fi.datasets[a];Object.assign(l.prototype,{dataElementType:Sh.getElement(d),datasetElementType:c&&Sh.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){as(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:u}=this.getDatasetMeta(c),f=!s&&-1===r.indexOf(u);u.buildOrUpdateElements(f),o=Math.max(+u.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||as(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(IQ("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){as(this.scales,t=>{Xo.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!oK(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of e)Oke(t,s,"_removeElements"===i?-r:r)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<e;r++)if(!oK(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Xo.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],as(this.boxes,s=>{i&&"chartArea"===s.position||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,hp(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Mh.has(this)?this.attached&&!Mh.running(this)&&Mh.start(this):(this.draw(),LQ({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,r;for(s=0,r=e.length;s<r;++s){const o=e[s];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,s=!i.disabled,r=this.chartArea,o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(s&&xk(e,{left:!1===i.left?0:r.left-i.left,right:!1===i.right?this.width:r.right+i.right,top:!1===i.top?0:r.top-i.top,bottom:!1===i.bottom?this.height:r.bottom+i.bottom}),t.controller.draw(),s&&wk(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}getElementsAtEventForMode(t,e,i,s){const r=RAe.modes[e];return"function"==typeof r?r(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=fp(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,s);ac(e)?(r.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Mh.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),MK(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Pk[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(r,o)=>{e.addEventListener(this,r,o),t[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};as(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(e.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){as(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},as(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let r,o,a,l;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!dk(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}_updateHoverStyles(t,e,i){const s=this.options.hover,r=(l,c)=>l.filter(d=>!c.some(u=>d.datasetIndex===u.datasetIndex&&d.index===u.index)),o=r(e,t),a=i?t:r(t,e);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:bg(t,this.chartArea,this._minPadding)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,s))return;const r=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:r}=this,a=this._getActiveElements(t,s,i,e),l=function DDe(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(t),c=function Fke(n,t,e,i){return e&&"mouseout"!==n.type?i?t:n:null}(t,this._lastEvent,i,l);i&&(this._lastEvent=null,Ls(r.onHover,[t,a,this],this),l&&Ls(r.onClick,[t,a,this],this));const d=!dk(a,s);return(d||e)&&(this._active=a,this._updateHoverStyles(a,s,e)),this._lastEvent=c,d}_getActiveElements(t,e,i,s){if("mouseout"===t.type)return[];if(!i)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}}const OQ=()=>as(Ok.instances,n=>n._plugins.invalidate()),pp=!0;function FQ(n,t,e){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=t;let c=s/a;n.beginPath(),n.arc(r,o,a,i-c,e+c),l>s?(c=s/l,n.arc(r,o,l,e+c,i-c,!0)):n.arc(r,o,s,e+hr,i-hr),n.closePath(),n.clip()}function yy(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function gB(n,t,e,i,s){const{x:r,y:o,startAngle:a,pixelMargin:l,innerRadius:c}=t,d=Math.max(t.outerRadius+i+e-l,0),u=c>0?c+i+e+l:0;let f=0;const m=s-a;if(i){const pe=((c>0?c-i:0)+(d>0?d-i:0))/2;f=(m-(0!==pe?m*pe/(pe+i):m))/2}const v=(m-Math.max(.001,m*d-e/Xs)/d)/2,_=a+v+f,y=s-v-f,{outerStart:C,outerEnd:w,innerStart:S,innerEnd:R}=function Vke(n,t,e,i){const s=function Nke(n){return eB(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),r=(e-t)/2,o=Math.min(r,i*t/2),a=l=>{const c=(e-Math.min(r,l))*i/2;return po(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:po(s.innerStart,0,o),innerEnd:po(s.innerEnd,0,o)}}(t,u,d,y-_),O=d-C,H=d-w,$=_+C/O,F=y-w/H,W=u+S,re=u+R,we=_+S/W,le=y-R/re;if(n.beginPath(),n.arc(r,o,d,$,F),w>0){const oe=yy(H,F,r,o);n.arc(oe.x,oe.y,w,F,y+hr)}const ue=yy(re,y,r,o);if(n.lineTo(ue.x,ue.y),R>0){const oe=yy(re,le,r,o);n.arc(oe.x,oe.y,R,y+hr,le+Math.PI)}if(n.arc(r,o,u,y-R/u,_+S/u,!0),S>0){const oe=yy(W,we,r,o);n.arc(oe.x,oe.y,S,we+Math.PI,_-hr)}const he=yy(O,_,r,o);if(n.lineTo(he.x,he.y),C>0){const oe=yy(O,$,r,o);n.arc(oe.x,oe.y,C,_-hr,$)}n.closePath()}Object.defineProperties(Ok,{defaults:{enumerable:pp,value:Fi},instances:{enumerable:pp,value:Pk},overrides:{enumerable:pp,value:vg},registry:{enumerable:pp,value:Sh},version:{enumerable:pp,value:"3.7.0"},getChart:{enumerable:pp,value:PQ},register:{enumerable:pp,value:(...n)=>{Sh.add(...n),OQ()}},unregister:{enumerable:pp,value:(...n)=>{Sh.remove(...n),OQ()}}});class Fk extends ad{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.getProps(["x","y"],i),{angle:r,distance:o}=uK(s,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:d,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=this.options.spacing/2,g=oi(u,l-a)>=bs||r1(r,a,l),v=wh(o,c+f,d+f);return g&&v}getCenterPoint(t){const{x:e,y:i,startAngle:s,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:l,spacing:c}=this.options,d=(s+r)/2,u=(o+a+c+l)/2;return{x:e+Math.cos(d)*u,y:i+Math.sin(d)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,s=(e.offset||0)/2,r=(e.spacing||0)/2;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>bs?Math.floor(i/bs):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();let o=0;if(s){o=s/2;const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*o,Math.sin(l)*o),this.circumference>=Xs&&(o=s)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const a=function Bke(n,t,e,i){const{fullCircles:s,startAngle:r,circumference:o}=t;let a=t.endAngle;if(s){gB(n,t,e,i,r+bs);for(let l=0;l<s;++l)n.fill();isNaN(o)||(a=r+o%bs,o%bs==0&&(a+=bs))}return gB(n,t,e,i,a),n.fill(),a}(t,this,o,r);(function zke(n,t,e,i,s){const{options:r}=t,{borderWidth:o,borderJoinStyle:a}=r,l="inner"===r.borderAlign;o&&(l?(n.lineWidth=2*o,n.lineJoin=a||"round"):(n.lineWidth=o,n.lineJoin=a||"bevel"),t.fullCircles&&function Hke(n,t,e){const{x:i,y:s,startAngle:r,pixelMargin:o,fullCircles:a}=t,l=Math.max(t.outerRadius-o,0),c=t.innerRadius+o;let d;for(e&&FQ(n,t,r+bs),n.beginPath(),n.arc(i,s,c,r+bs,r,!0),d=0;d<a;++d)n.stroke();for(n.beginPath(),n.arc(i,s,l,r,r+bs),d=0;d<a;++d)n.stroke()}(n,t,l),l&&FQ(n,t,s),gB(n,t,e,i,s),n.stroke())})(t,this,o,r,a),t.restore()}}function NQ(n,t,e=t){n.lineCap=oi(e.borderCapStyle,t.borderCapStyle),n.setLineDash(oi(e.borderDash,t.borderDash)),n.lineDashOffset=oi(e.borderDashOffset,t.borderDashOffset),n.lineJoin=oi(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=oi(e.borderWidth,t.borderWidth),n.strokeStyle=oi(e.borderColor,t.borderColor)}function Uke(n,t,e){n.lineTo(e.x,e.y)}function VQ(n,t,e={}){const i=n.length,{start:s=0,end:r=i-1}=e,{start:o,end:a}=t,l=Math.max(s,o),c=Math.min(r,a);return{count:i,start:l,loop:t.loop,ilen:c<l&&!(s<o&&r<o||s>a&&r>a)?i+c-l:c-l}}function Yke(n,t,e,i){const{points:s,options:r}=t,{count:o,start:a,loop:l,ilen:c}=VQ(s,e,i),d=function Wke(n){return n.stepped?nEe:n.tension||"monotone"===n.cubicInterpolationMode?iEe:Uke}(r);let m,g,v,{move:u=!0,reverse:f}=i||{};for(m=0;m<=c;++m)g=s[(a+(f?c-m:m))%o],!g.skip&&(u?(n.moveTo(g.x,g.y),u=!1):d(n,v,g,f,r.stepped),v=g);return l&&(g=s[(a+(f?c:0))%o],d(n,v,g,f,r.stepped)),!!l}function Gke(n,t,e,i){const s=t.points,{count:r,start:o,ilen:a}=VQ(s,e,i),{move:l=!0,reverse:c}=i||{};let f,m,g,v,_,y,d=0,u=0;const C=S=>(o+(c?a-S:S))%r,w=()=>{v!==_&&(n.lineTo(d,_),n.lineTo(d,v),n.lineTo(d,y))};for(l&&(m=s[C(0)],n.moveTo(m.x,m.y)),f=0;f<=a;++f){if(m=s[C(f)],m.skip)continue;const S=m.x,R=m.y,O=0|S;O===g?(R<v?v=R:R>_&&(_=R),d=(u*d+S)/++u):(w(),n.lineTo(S,R),g=O,u=0,v=_=R),y=R}w()}function _B(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?Yke:Gke}Fk.id="arc",Fk.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},Fk.defaultRoutes={backgroundColor:"backgroundColor"};const qke="function"==typeof Path2D;let Nk=(()=>{class n extends ad{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const s=this.options;!s.tension&&"monotone"!==s.cubicInterpolationMode||s.stepped||this._pointsUpdated||(AEe(this._points,s,e,s.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function GEe(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const r=!!n._loop,{start:o,end:a}=function WEe(n,t,e,i){let s=0,r=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(r+=s);r>s&&n[r%t].skip;)r--;return r%=t,{start:s,end:r}}(e,s,r,i);return function jK(n,t,e,i){return i&&i.setContext&&e?function $Ee(n,t,e,i){const s=n._chart.getContext(),r=XK(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=e.length,c=[];let d=r,u=t[0].start,f=u;function m(g,v,_,y){const C=a?-1:1;if(g!==v){for(g+=l;e[g%l].skip;)g-=C;for(;e[v%l].skip;)v+=C;g%l!=v%l&&(c.push({start:g%l,end:v%l,loop:_,style:y}),d=y,u=v%l)}}for(const g of t){u=a?u:g.start;let _,v=e[u%l];for(f=u+1;f<=g.end;f++){const y=e[f%l];_=XK(i.setContext(fp(s,{type:"segment",p0:v,p1:y,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),jEe(_,d)&&m(u,f-1,g.loop,d),v=y,d=_}u<f-1&&m(u,f-1,g.loop,d)}return c}(n,t,e,i):t}(n,!0===i?[{start:o,end:a,loop:r}]:function YEe(n,t,e,i){const s=n.length,r=[];let l,o=t,a=n[t];for(l=t+1;l<=e;++l){const c=n[l%s];c.skip||c.stop?a.skip||(r.push({start:t%s,end:(l-1)%s,loop:i=!1}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return null!==o&&r.push({start:t%s,end:o%s,loop:i}),r}(e,o,a<o?a+s:a,!!n._fullLoop&&0===o&&a===s-1),e,t)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,s=e.length;return s&&this.points[e[s-1].end]}interpolate(e,i){const s=this.options,r=e[i],o=this.points,a=$K(this,{property:i,start:r,end:r});if(!a.length)return;const l=[],c=function $ke(n){return n.stepped?NEe:n.tension||"monotone"===n.cubicInterpolationMode?VEe:Cg}(s);let d,u;for(d=0,u=a.length;d<u;++d){const{start:f,end:m}=a[d],g=o[f],v=o[m];if(g===v){l.push(g);continue}const y=c(g,v,Math.abs((r-g[i])/(v[i]-g[i])),s.stepped);y[i]=e[i],l.push(y)}return 1===l.length?l[0]:l}pathSegment(e,i,s){return _B(this)(e,this,i,s)}path(e,i,s){const r=this.segments,o=_B(this);let a=this._loop;i=i||0,s=s||this.points.length-i;for(const l of r)a&=o(e,this,l,{start:i,end:i+s-1});return!!a}draw(e,i,s,r){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function Zke(n,t,e,i){qke&&!t.options.segment?function jke(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),NQ(n,t.options),n.stroke(s)}(n,t,e,i):function Xke(n,t,e,i){const{segments:s,options:r}=t,o=_B(t);for(const a of s)NQ(n,r,a.style),n.beginPath(),o(n,t,a,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n.id="line",n.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t},n})();function BQ(n,t,e,i){const s=n.options,{[e]:r}=n.getProps([e],i);return Math.abs(t-r)<s.radius+s.hitRadius}let Kke=(()=>{class n extends ad{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(e-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,i){return BQ(this,e,"x",i)}inYRange(e,i){return BQ(this,e,"y",i)}getCenterPoint(e){const{x:i,y:s}=this.getProps(["x","y"],e);return{x:i,y:s}}size(e){let i=(e=e||this.options||{}).radius||0;return i=Math.max(i,i&&e.hoverRadius||0),2*(i+(i&&e.borderWidth||0))}draw(e,i){const s=this.options;this.skip||s.radius<.1||!bg(this,i,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,bk(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}return n.id="point",n.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n})();function HQ(n,t){const{x:e,y:i,base:s,width:r,height:o}=n.getProps(["x","y","base","width","height"],t);let a,l,c,d,u;return n.horizontal?(u=o/2,a=Math.min(e,s),l=Math.max(e,s),c=i-u,d=i+u):(u=r/2,a=e-u,l=e+u,c=Math.min(i,s),d=Math.max(i,s)),{left:a,top:c,right:l,bottom:d}}function mp(n,t,e,i){return n?0:po(t,e,i)}function vB(n,t,e,i){const s=null===t,r=null===e,a=n&&!(s&&r)&&HQ(n,i);return a&&(s||wh(t,a.left,a.right))&&(r||wh(e,a.top,a.bottom))}function n2e(n,t){n.rect(t.x,t.y,t.w,t.h)}function yB(n,t,e={}){const i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+s,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-s),radius:n.radius}}class Vk extends ad{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=function e2e(n){const t=HQ(n),e=t.right-t.left,i=t.bottom-t.top,s=function Qke(n,t,e){const s=n.borderSkipped,r=TK(n.options.borderWidth);return{t:mp(s.top,r.top,0,e),r:mp(s.right,r.right,0,t),b:mp(s.bottom,r.bottom,0,e),l:mp(s.left,r.left,0,t)}}(n,e/2,i/2),r=function Jke(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,r=my(s),o=Math.min(t,e),a=n.borderSkipped,l=i||Oi(s);return{topLeft:mp(!l||a.top||a.left,r.topLeft,0,o),topRight:mp(!l||a.top||a.right,r.topRight,0,o),bottomLeft:mp(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:mp(!l||a.bottom||a.right,r.bottomRight,0,o)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}(this),a=function t2e(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(o.radius)?Ck:n2e;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,yB(o,e,r)),t.clip(),a(t,yB(r,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,yB(r,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return vB(this,t,e,i)}inXRange(t,e){return vB(this,t,null,e)}inYRange(t,e){return vB(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+s)/2:e,y:r?i:(i+s)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}Vk.id="bar",Vk.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},Vk.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var i2e=Object.freeze({__proto__:null,ArcElement:Fk,LineElement:Nk,PointElement:Kke,BarElement:Vk});function zQ(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{value:t})}}function UQ(n){n.data.datasets.forEach(t=>{zQ(t)})}var a2e={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void UQ(n);const i=n.width;n.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=n.getDatasetMeta(r),c=o||s.data;if("y"===u1([a,n.options.indexAxis])||"line"!==l.type)return;const d=n.scales[l.xAxisID];if("linear"!==d.type&&"time"!==d.type||n.options.parsing)return;let g,{start:u,count:f}=function o2e(n,t){const e=t.length;let s,i=0;const{iScale:r}=n,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=po(Ch(t,r.axis,o).lo,0,e-1)),s=c?po(Ch(t,r.axis,a).hi+1,i,e)-i:e-i,{start:i,count:s}}(l,c);if(f<=(e.threshold||4*i))zQ(s);else{switch(Gi(o)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}})),e.algorithm){case"lttb":g=function s2e(n,t,e,i,s){const r=s.samples||i;if(r>=e)return n.slice(t,t+e);const o=[],a=(e-2)/(r-2);let l=0;const c=t+e-1;let u,f,m,g,v,d=t;for(o[l++]=n[d],u=0;u<r-2;u++){let C,_=0,y=0;const w=Math.floor((u+1)*a)+1+t,S=Math.min(Math.floor((u+2)*a)+1,e)+t,R=S-w;for(C=w;C<S;C++)_+=n[C].x,y+=n[C].y;_/=R,y/=R;const O=Math.floor(u*a)+1+t,H=Math.min(Math.floor((u+1)*a)+1,e)+t,{x:$,y:F}=n[d];for(m=g=-1,C=O;C<H;C++)g=.5*Math.abs(($-_)*(n[C].y-F)-($-n[C].x)*(y-F)),g>m&&(m=g,f=n[C],v=C);o[l++]=f,d=v}return o[l++]=n[c],o}(c,u,f,i,e);break;case"min-max":g=function r2e(n,t,e,i){let o,a,l,c,d,u,f,m,g,v,s=0,r=0;const _=[],C=n[t].x,S=n[t+e-1].x-C;for(o=t;o<t+e;++o){a=n[o],l=(a.x-C)/S*i,c=a.y;const R=0|l;if(R===d)c<g?(g=c,u=o):c>v&&(v=c,f=o),s=(r*s+a.x)/++r;else{const O=o-1;if(!Gi(u)&&!Gi(f)){const H=Math.min(u,f),$=Math.max(u,f);H!==m&&H!==O&&_.push({...n[H],x:s}),$!==m&&$!==O&&_.push({...n[$],x:s})}o>0&&O!==m&&_.push(n[O]),_.push(a),d=R,r=0,g=v=c,u=f=m=o}}return _}(c,u,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=g}})},destroy(n){UQ(n)}};function d2e(n,t,e){const i=function c2e(n){const t=n.options,e=t.fill;let i=oi(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(Oi(i))return!isNaN(i.value)&&i;let s=parseFloat(i);return Mr(s)&&Math.floor(s)===s?(("-"===i[0]||"+"===i[0])&&(s=t+s),!(s===t||s<0||s>=e)&&s):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}class WQ{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:r,radius:o}=this;return t.arc(s,r,o,(e=e||{start:0,end:bs}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,r=t.angle;return{x:e+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function YQ(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function _2e(n,t,e){const i=[];for(let s=0;s<e.length;s++){const r=e[s],{first:o,last:a,point:l}=v2e(r,t,"x");if(!(!l||o&&a))if(o)i.unshift(l);else if(n.push(l),!a)break}n.push(...i)}function v2e(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const s=i[e],r=n.segments,o=n.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const d=r[c],u=o[d.start][e],f=o[d.end][e];if(wh(s,u,f)){a=s===u,l=s===f;break}}return{first:a,last:l,point:i}}function y2e(n){const{chart:t,fill:e,line:i}=n;if(Mr(e))return function l2e(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function m2e(n){const{scale:t,index:e,line:i}=n,s=[],r=i.segments,o=i.points,a=function g2e(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}(t,e);a.push(GQ({x:null,y:t.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let d=c.start;d<=c.end;d++)_2e(s,o[d],a)}return new Nk({points:s,options:{}})}(n);if("shape"===e)return!0;const s=function f2e(n){return(n.scale||{}).getPointPositionForValue?function h2e(n){const{scale:t,fill:e}=n,i=t.options,s=t.getLabels().length,r=[],o=i.reverse?t.max:t.min;let l,c,d;if(d="start"===e?o:"end"===e?i.reverse?t.min:t.max:Oi(e)?e.value:t.getBaseValue(),i.grid.circular)return c=t.getPointPositionForValue(0,o),new WQ({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(d)});for(l=0;l<s;++l)r.push(t.getPointPositionForValue(l,d));return r}(n):function u2e(n){const{scale:t={},fill:e}=n;let s,i=null;return"start"===e?i=t.bottom:"end"===e?i=t.top:Oi(e)?i=t.getPixelForValue(e.value):t.getBasePixel&&(i=t.getBasePixel()),Mr(i)?(s=t.isHorizontal(),{x:s?i:null,y:s?null:i}):null}(n)}(n);return s instanceof WQ?s:GQ(s,i)}function GQ(n,t){let e=[],i=!1;return Is(n)?(i=!0,e=n):e=function p2e(n,t){const{x:e=null,y:i=null}=n||{},s=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=YQ(o,a,s);const l=s[o],c=s[a];null!==i?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):null!==e&&(r.push({x:e,y:l.y}),r.push({x:e,y:c.y}))}),r}(n,t),e.length?new Nk({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function b2e(n,t,e){let s=n[t].fill;const r=[t];let o;if(!e)return s;for(;!1!==s&&-1===r.indexOf(s);){if(!Mr(s))return s;if(o=n[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function $Q(n,t,e){n.beginPath(),t.path(n),n.lineTo(t.last().x,e),n.lineTo(t.first().x,e),n.closePath(),n.clip()}function bB(n,t,e,i){if(i)return;let s=t[n],r=e[n];return"angle"===n&&(s=Sl(s),r=Sl(r)),{property:n,start:s,end:r}}function jQ(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function w2e(n,t,e){const{top:i,bottom:s}=t.chart.chartArea,{property:r,start:o,end:a}=e||{};"x"===r&&(n.beginPath(),n.rect(o,i,a-o,s-i),n.clip())}function XQ(n,t,e,i){const s=t.interpolate(e,i);s&&n.lineTo(s.x,s.y)}function qQ(n,t){const{line:e,target:i,property:s,color:r,scale:o}=t,a=function x2e(n,t,e){const i=n.segments,s=n.points,r=t.points,o=[];for(const a of i){let{start:l,end:c}=a;c=YQ(l,c,s);const d=bB(e,s[l],s[c],a.loop);if(!t.segments){o.push({source:a,target:d,start:s[l],end:s[c]});continue}const u=$K(t,d);for(const f of u){const m=bB(e,r[f.start],r[f.end],f.loop),g=GK(a,s,m);for(const v of g)o.push({source:v,target:f,start:{[e]:jQ(d,m,"start",Math.max)},end:{[e]:jQ(d,m,"end",Math.min)}})}}return o}(e,i,s);for(const{source:l,target:c,start:d,end:u}of a){const{style:{backgroundColor:f=r}={}}=l,m=!0!==i;n.save(),n.fillStyle=f,w2e(n,o,m&&bB(s,d,u)),n.beginPath();const g=!!e.pathSegment(n,l);let v;if(m){g?n.closePath():XQ(n,i,u,s);const _=!!i.pathSegment(n,c,{move:g,reverse:!0});v=g&&_,v||XQ(n,i,d,s)}n.closePath(),n.fill(v?"evenodd":"nonzero"),n.restore()}}function xB(n,t,e){const i=y2e(t),{line:s,scale:r,axis:o}=t,a=s.options,l=a.fill,c=a.backgroundColor,{above:d=c,below:u=c}=l||{};i&&s.points.length&&(xk(n,e),function C2e(n,t){const{line:e,target:i,above:s,below:r,area:o,scale:a}=t,l=e._loop?"angle":t.axis;n.save(),"x"===l&&r!==s&&($Q(n,i,o.top),qQ(n,{line:e,target:i,color:s,scale:a,property:l}),n.restore(),n.save(),$Q(n,i,o.bottom)),qQ(n,{line:e,target:i,color:r,scale:a,property:l}),n.restore()}(n,{line:s,target:i,above:d,below:u,area:e,scale:r,axis:o}),wk(n))}var M2e={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=n.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Nk&&(l={visible:n.isDatasetVisible(o),index:o,fill:d2e(a,o,i),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],l&&!1!==l.fill&&(l.fill=b2e(s,o,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,s=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&xB(n.ctx,a,r))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;r&&xB(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!i||!1===i.fill||"beforeDatasetDraw"!==e.drawTime||xB(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ZQ=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class KQ extends ad{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Ls(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,s=Jr(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=ZQ(i,r);let c,d;e.font=s.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,r,a,l)+10):(d=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=s+a;let u=t;r.textAlign="left",r.textBaseline="middle";let f=-1,m=-d;return this.legendItems.forEach((g,v)=>{const _=i+e/2+r.measureText(g.text).width;(0===v||c[c.length-1]+_+2*a>o)&&(u+=d,c[c.length-(v>0?0:1)]=0,m+=d,f++),l[v]={left:0,top:m,row:f,width:_,height:s},c[c.length-1]+=_+a}),u}_fitCols(t,e,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-t;let u=a,f=0,m=0,g=0,v=0;return this.legendItems.forEach((_,y)=>{const C=i+e/2+r.measureText(_.text).width;y>0&&m+s+2*a>d&&(u+=f+a,c.push({width:f,height:m}),g+=f+a,v++,f=m=0),l[y]={left:g,top:m,col:v,width:C,height:s},f=Math.max(f,C),m+=s+a}),u+=f,c.push({width:f,height:m}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:r}}=this,o=vy(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=$o(i,this.left+s,this.right-this.lineWidths[a]);for(const c of e)a!==c.row&&(a=c.row,l=$o(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+t+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=$o(i,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const c of e)c.col!==a&&(a=c.col,l=$o(i,this.top+t+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;xk(t,this),this._draw(),wk(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:r,labels:o}=t,a=Fi.color,l=vy(t.rtl,this.left,this.width),c=Jr(o.font),{color:d,padding:u}=o,f=c.size,m=f/2;let g;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:v,boxHeight:_,itemHeight:y}=ZQ(o,f),S=this.isHorizontal(),R=this._computeTitleHeight();g=S?{x:$o(r,this.left+u,this.right-i[0]),y:this.top+u+R,line:0}:{x:this.left+u,y:$o(r,this.top+R+u,this.bottom-e[0].height),line:0},zK(this.ctx,t.textDirection);const O=y+u;this.legendItems.forEach((H,$)=>{s.strokeStyle=H.fontColor||d,s.fillStyle=H.fontColor||d;const F=s.measureText(H.text).width,W=l.textAlign(H.textAlign||(H.textAlign=o.textAlign)),re=v+m+F;let we=g.x,le=g.y;l.setWidth(this.width),S?$>0&&we+re+u>this.right&&(le=g.y+=O,g.line++,we=g.x=$o(r,this.left+u,this.right-i[g.line])):$>0&&le+O>this.bottom&&(we=g.x=we+e[g.line].width+u,g.line++,le=g.y=$o(r,this.top+R+u,this.bottom-e[g.line].height)),function(H,$,F){if(isNaN(v)||v<=0||isNaN(_)||_<0)return;s.save();const W=oi(F.lineWidth,1);if(s.fillStyle=oi(F.fillStyle,a),s.lineCap=oi(F.lineCap,"butt"),s.lineDashOffset=oi(F.lineDashOffset,0),s.lineJoin=oi(F.lineJoin,"miter"),s.lineWidth=W,s.strokeStyle=oi(F.strokeStyle,a),s.setLineDash(oi(F.lineDash,[])),o.usePointStyle){const re={radius:v*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:W},we=l.xPlus(H,v/2);bk(s,re,we,$+m)}else{const re=$+Math.max((f-_)/2,0),we=l.leftForLtr(H,v),le=my(F.borderRadius);s.beginPath(),Object.values(le).some(ue=>0!==ue)?Ck(s,{x:we,y:re,w:v,h:_,radius:le}):s.rect(we,re,v,_),s.fill(),0!==W&&s.stroke()}s.restore()}(l.x(we),le,H),we=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)(W,we+v+m,S?we+re:this.right,t.rtl),function(H,$,F){xg(s,F.text,H,$+y/2,c,{strikethrough:F.hidden,textAlign:l.textAlign(F.textAlign)})}(l.x(we),le,H),S?g.x+=re+u:g.y+=O}),UK(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Jr(e.font),s=jo(e.padding);if(!e.display)return;const r=vy(t.rtl,this.left,this.width),o=this.ctx,a=e.position,c=s.top+i.size/2;let d,u=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+c,u=$o(t.align,u,this.right-f);else{const g=this.columnSizes.reduce((v,_)=>Math.max(v,_.height),0);d=c+$o(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const m=$o(a,u,u+f);o.textAlign=r.textAlign(UV(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,xg(o,e.text,m,d,i)}_computeTitleHeight(){const t=this.options.title,e=Jr(t.font),i=jo(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,r;if(wh(t,this.left,this.right)&&wh(e,this.top,this.bottom))for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],wh(t,s.left,s.left+s.width)&&wh(e,s.top,s.top+s.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function S2e(n,t){return!!("mousemove"===n&&(t.onHover||t.onLeave)||t.onClick&&("click"===n||"mouseup"===n))}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type){const s=this._hoveredItem,r=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(s,i);s&&!r&&Ls(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&Ls(e.onHover,[t,i,this],this)}else i&&Ls(e.onClick,[t,i,this],this)}}var D2e={id:"legend",_element:KQ,start(n,t,e){const i=n.legend=new KQ({ctx:n.ctx,options:e,chart:n});Xo.configure(n,i,e),Xo.addBox(n,i)},stop(n){Xo.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Xo.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:r}}=n.legend.options;return n._getSortedDatasetMetas().map(o=>{const a=o.controller.getStyle(e?0:void 0),l=jo(a.borderWidth);return{text:t[o.index].label,fillStyle:a.backgroundColor,fontColor:r,hidden:!o.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:a.borderColor,pointStyle:i||a.pointStyle,rotation:a.rotation,textAlign:s||a.textAlign,borderRadius:0,datasetIndex:o.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class wB extends ad{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const s=Is(i.text)?i.text.length:1;this._padding=jo(i.padding);const r=s*Jr(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:s,right:r,options:o}=this,a=o.align;let c,d,u,l=0;return this.isHorizontal()?(d=$o(a,i,r),u=e+t,c=r-i):("left"===o.position?(d=i+t,u=$o(a,s,e),l=-.5*Xs):(d=r-t,u=$o(a,e,s),l=.5*Xs),c=s-e),{titleX:d,titleY:u,maxWidth:c,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Jr(e.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);xg(t,e.text,0,0,i,{color:e.color,maxWidth:l,rotation:c,textAlign:UV(e.align),textBaseline:"middle",translation:[o,a]})}}var A2e={id:"title",_element:wB,start(n,t,e){!function E2e(n,t){const e=new wB({ctx:n.ctx,options:t,chart:n});Xo.configure(n,e,t),Xo.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){Xo.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Xo.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Bk=new WeakMap;var k2e={id:"subtitle",start(n,t,e){const i=new wB({ctx:n.ctx,options:e,chart:n});Xo.configure(n,i,e),Xo.addBox(n,i),Bk.set(n,i)},stop(n){Xo.removeBox(n,Bk.get(n)),Bk.delete(n)},beforeUpdate(n,t,e){const i=Bk.get(n);Xo.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const x1={average(n){if(!n.length)return!1;let t,e,i=0,s=0,r=0;for(t=0,e=n.length;t<e;++t){const o=n[t].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,s+=a.y,++r}}return{x:i/r,y:s/r}},nearest(n,t){if(!n.length)return!1;let r,o,a,e=t.x,i=t.y,s=Number.POSITIVE_INFINITY;for(r=0,o=n.length;r<o;++r){const l=n[r].element;if(l&&l.hasValue()){const d=GV(t,l.getCenterPoint());d<s&&(s=d,a=l)}}if(a){const l=a.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function ou(n,t){return t&&(Is(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Dh(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function I2e(n,t){const{element:e,datasetIndex:i,index:s}=t,r=n.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:n,label:o,parsed:r.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function QQ(n,t){const e=n.chart.ctx,{body:i,footer:s,title:r}=n,{boxWidth:o,boxHeight:a}=t,l=Jr(t.bodyFont),c=Jr(t.titleFont),d=Jr(t.footerFont),u=r.length,f=s.length,m=i.length,g=jo(t.padding);let v=g.height,_=0,y=i.reduce((S,R)=>S+R.before.length+R.lines.length+R.after.length,0);y+=n.beforeBody.length+n.afterBody.length,u&&(v+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),y&&(v+=m*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(y-m)*l.lineHeight+(y-1)*t.bodySpacing),f&&(v+=t.footerMarginTop+f*d.lineHeight+(f-1)*t.footerSpacing);let C=0;const w=function(S){_=Math.max(_,e.measureText(S).width+C)};return e.save(),e.font=c.string,as(n.title,w),e.font=l.string,as(n.beforeBody.concat(n.afterBody),w),C=t.displayColors?o+2+t.boxPadding:0,as(i,S=>{as(S.before,w),as(S.lines,w),as(S.after,w)}),C=0,e.font=d.string,as(n.footer,w),e.restore(),_+=g.width,{width:_,height:v}}function P2e(n,t,e,i){const{x:s,width:r}=e,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return"center"===i?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),function R2e(n,t,e,i){const{x:s,width:r}=i,o=e.caretSize+e.caretPadding;if("left"===n&&s+r+o>t.width||"right"===n&&s-r-o<0)return!0}(c,n,t,e)&&(c="center"),c}function JQ(n,t,e){const i=e.yAlign||t.yAlign||function L2e(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||P2e(n,t,e,i),yAlign:i}}function eJ(n,t,e,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=n,{xAlign:a,yAlign:l}=e,c=s+r,{topLeft:d,topRight:u,bottomLeft:f,bottomRight:m}=my(o);let g=function O2e(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,a);const v=function F2e(n,t,e){let{y:i,height:s}=n;return"top"===t?i+=e:i-="bottom"===t?s+e:s/2,i}(t,l,c);return"center"===l?"left"===a?g+=c:"right"===a&&(g-=c):"left"===a?g-=Math.max(d,f)+s:"right"===a&&(g+=Math.max(u,m)+s),{x:po(g,0,i.width-t.width),y:po(v,0,i.height-t.height)}}function Hk(n,t,e){const i=jo(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function tJ(n){return ou([],Dh(n))}function nJ(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}let iJ=(()=>{class n extends ad{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&i.options.animation&&s.animations,o=new ZK(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=function N2e(n,t,e){return fp(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:s}=i,r=s.beforeTitle.apply(this,[e]),o=s.title.apply(this,[e]),a=s.afterTitle.apply(this,[e]);let l=[];return l=ou(l,Dh(r)),l=ou(l,Dh(o)),l=ou(l,Dh(a)),l}getBeforeBody(e,i){return tJ(i.callbacks.beforeBody.apply(this,[e]))}getBody(e,i){const{callbacks:s}=i,r=[];return as(e,o=>{const a={before:[],lines:[],after:[]},l=nJ(s,o);ou(a.before,Dh(l.beforeLabel.call(this,o))),ou(a.lines,l.label.call(this,o)),ou(a.after,Dh(l.afterLabel.call(this,o))),r.push(a)}),r}getAfterBody(e,i){return tJ(i.callbacks.afterBody.apply(this,[e]))}getFooter(e,i){const{callbacks:s}=i,r=s.beforeFooter.apply(this,[e]),o=s.footer.apply(this,[e]),a=s.afterFooter.apply(this,[e]);let l=[];return l=ou(l,Dh(r)),l=ou(l,Dh(o)),l=ou(l,Dh(a)),l}_createItems(e){const i=this._active,s=this.chart.data,r=[],o=[],a=[];let c,d,l=[];for(c=0,d=i.length;c<d;++c)l.push(I2e(this.chart,i[c]));return e.filter&&(l=l.filter((u,f,m)=>e.filter(u,f,m,s))),e.itemSort&&(l=l.sort((u,f)=>e.itemSort(u,f,s))),as(l,u=>{const f=nJ(e.callbacks,u);r.push(f.labelColor.call(this,u)),o.push(f.labelPointStyle.call(this,u)),a.push(f.labelTextColor.call(this,u))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=l,l}update(e,i){const s=this.options.setContext(this.getContext()),r=this._active;let o,a=[];if(r.length){const l=x1[s.position].call(this,r,this._eventPosition);a=this._createItems(s),this.title=this.getTitle(a,s),this.beforeBody=this.getBeforeBody(a,s),this.body=this.getBody(a,s),this.afterBody=this.getAfterBody(a,s),this.footer=this.getFooter(a,s);const c=this._size=QQ(this,s),d=Object.assign({},l,c),u=JQ(this.chart,s,d),f=eJ(s,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,o={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,s,r){const o=this.getCaretPosition(e,s,r);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(e,i,s){const{xAlign:r,yAlign:o}=this,{caretSize:a,cornerRadius:l}=s,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=my(l),{x:m,y:g}=e,{width:v,height:_}=i;let y,C,w,S,R,O;return"center"===o?(R=g+_/2,"left"===r?(y=m,C=y-a,S=R+a,O=R-a):(y=m+v,C=y+a,S=R-a,O=R+a),w=y):(C="left"===r?m+Math.max(c,u)+a:"right"===r?m+v-Math.max(d,f)-a:this.caretX,"top"===o?(S=g,R=S-a,y=C-a,w=C+a):(S=g+_,R=S+a,y=C+a,w=C-a),O=S),{x1:y,x2:C,x3:w,y1:S,y2:R,y3:O}}drawTitle(e,i,s){const r=this.title,o=r.length;let a,l,c;if(o){const d=vy(s.rtl,this.x,this.width);for(e.x=Hk(this,s.titleAlign,s),i.textAlign=d.textAlign(s.titleAlign),i.textBaseline="middle",a=Jr(s.titleFont),l=s.titleSpacing,i.fillStyle=s.titleColor,i.font=a.string,c=0;c<o;++c)i.fillText(r[c],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===o&&(e.y+=s.titleMarginBottom-l)}}_drawColorBox(e,i,s,r,o){const a=this.labelColors[s],l=this.labelPointStyles[s],{boxHeight:c,boxWidth:d,boxPadding:u}=o,f=Jr(o.bodyFont),m=Hk(this,"left",o),g=r.x(m),_=i.y+(c<f.lineHeight?(f.lineHeight-c)/2:0);if(o.usePointStyle){const y={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},C=r.leftForLtr(g,d)+d/2,w=_+c/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,bk(e,y,C,w),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,bk(e,y,C,w)}else{e.lineWidth=a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const y=r.leftForLtr(g,d-u),C=r.leftForLtr(r.xPlus(g,1),d-u-2),w=my(a.borderRadius);Object.values(w).some(S=>0!==S)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Ck(e,{x:y,y:_,w:d,h:c,radius:w}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Ck(e,{x:C,y:_+1,w:d-2,h:c-2,radius:w}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(y,_,d,c),e.strokeRect(y,_,d,c),e.fillStyle=a.backgroundColor,e.fillRect(C,_+1,d-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,i,s){const{body:r}=this,{bodySpacing:o,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=s,f=Jr(s.bodyFont);let m=f.lineHeight,g=0;const v=vy(s.rtl,this.x,this.width),_=function(F){i.fillText(F,v.x(e.x+g),e.y+m/2),e.y+=m+o},y=v.textAlign(a);let C,w,S,R,O,H,$;for(i.textAlign=a,i.textBaseline="middle",i.font=f.string,e.x=Hk(this,y,s),i.fillStyle=s.bodyColor,as(this.beforeBody,_),g=l&&"right"!==y?"center"===a?d/2+u:d+2+u:0,R=0,H=r.length;R<H;++R){for(C=r[R],w=this.labelTextColors[R],i.fillStyle=w,as(C.before,_),S=C.lines,l&&S.length&&(this._drawColorBox(i,e,R,v,s),m=Math.max(f.lineHeight,c)),O=0,$=S.length;O<$;++O)_(S[O]),m=f.lineHeight;as(C.after,_)}g=0,m=f.lineHeight,as(this.afterBody,_),e.y-=o}drawFooter(e,i,s){const r=this.footer,o=r.length;let a,l;if(o){const c=vy(s.rtl,this.x,this.width);for(e.x=Hk(this,s.footerAlign,s),e.y+=s.footerMarginTop,i.textAlign=c.textAlign(s.footerAlign),i.textBaseline="middle",a=Jr(s.footerFont),i.fillStyle=s.footerColor,i.font=a.string,l=0;l<o;++l)i.fillText(r[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+s.footerSpacing}}drawBackground(e,i,s,r){const{xAlign:o,yAlign:a}=this,{x:l,y:c}=e,{width:d,height:u}=s,{topLeft:f,topRight:m,bottomLeft:g,bottomRight:v}=my(r.cornerRadius);i.fillStyle=r.backgroundColor,i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.beginPath(),i.moveTo(l+f,c),"top"===a&&this.drawCaret(e,i,s,r),i.lineTo(l+d-m,c),i.quadraticCurveTo(l+d,c,l+d,c+m),"center"===a&&"right"===o&&this.drawCaret(e,i,s,r),i.lineTo(l+d,c+u-v),i.quadraticCurveTo(l+d,c+u,l+d-v,c+u),"bottom"===a&&this.drawCaret(e,i,s,r),i.lineTo(l+g,c+u),i.quadraticCurveTo(l,c+u,l,c+u-g),"center"===a&&"left"===o&&this.drawCaret(e,i,s,r),i.lineTo(l,c+f),i.quadraticCurveTo(l,c,l+f,c),i.closePath(),i.fill(),r.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,s=this.$animations,r=s&&s.x,o=s&&s.y;if(r||o){const a=x1[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=QQ(this,e),c=Object.assign({},a,this._size),d=JQ(i,e,c),u=eJ(e,c,d,i);(r._to!==u.x||o._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}draw(e){const i=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(i);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const a=jo(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,r,i),zK(e,i.textDirection),o.y+=a.top,this.drawTitle(o,e,i),this.drawBody(o,e,i),this.drawFooter(o,e,i),UK(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const s=this._active,r=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),o=!dk(s,r),a=this._positionChanged(r,i);(o||a)&&(this._active=r,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,s=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],a=this._getActiveElements(e,o,i,s),l=this._positionChanged(a,e),c=i||!dk(a,o)||l;return c&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),c}_getActiveElements(e,i,s,r){const o=this.options;if("mouseout"===e.type)return[];if(!r)return i;const a=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&a.reverse(),a}_positionChanged(e,i){const{caretX:s,caretY:r,options:o}=this,a=x1[o.position].call(this,e,i);return!1!==a&&(s!==a.x||r!==a.y)}}return n.positioners=x1,n})();var B2e=Object.freeze({__proto__:null,Decimation:a2e,Filler:M2e,Legend:D2e,SubTitle:k2e,Title:A2e,Tooltip:{id:"tooltip",_element:iJ,positioners:x1,afterInit(n,t,e){e&&(n.tooltip=new iJ({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip,e={tooltip:t};!1!==n.notifyPlugins("beforeTooltipDraw",e)&&(t&&t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e))},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:xh,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:xh,beforeBody:xh,beforeLabel:xh,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Gi(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:xh,afterBody:xh,beforeFooter:xh,footer:xh,afterFooter:xh}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});class zk extends Tg{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:r}of e)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Gi(t))return null;const i=this.getLabels();return((n,t)=>null===n?null:po(Math.round(n),0,t))(e=isFinite(e)&&i[e]===t?e:function z2e(n,t,e,i){const s=n.indexOf(t);return-1===s?((n,t,e,i)=>("string"==typeof t?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,i):s!==n.lastIndexOf(t)?e:s}(i,t,oi(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=e;o++)s.push({value:o});return s}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function sJ(n,t,{horizontal:e,minRotation:i}){const s=od(i),r=(e?Math.sin(s):Math.cos(s))||.001;return Math.min(t/r,.75*t*(""+n).length)}zk.id="category",zk.defaults={ticks:{callback:zk.prototype.getLabelForValue}};class Uk extends Tg{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Gi(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=e?s:l,a=l=>r=i?r:l;if(t){const l=ru(s),c=ru(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=1;(r>=Number.MAX_SAFE_INTEGER||s<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(.05*r)),a(r+l),t||o(s-l)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let s,{maxTicksLimit:e,stepSize:i}=t;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o=function W2e(n,t){const e=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:d,maxDigits:u,includeBounds:f}=n,m=r||1,g=d-1,{min:v,max:_}=t,y=!Gi(o),C=!Gi(a),w=!Gi(c),S=(_-v)/(u+1);let O,H,$,F,R=lK((_-v)/g/m)*m;if(R<1e-14&&!y&&!C)return[{value:v},{value:_}];F=Math.ceil(_/R)-Math.floor(v/R),F>g&&(R=lK(F*R/g/m)*m),Gi(l)||(O=Math.pow(10,l),R=Math.ceil(R*O)/O),"ticks"===s?(H=Math.floor(v/R)*R,$=Math.ceil(_/R)*R):(H=v,$=_),y&&C&&r&&function IDe(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((a-o)/r,R/1e3)?(F=Math.round(Math.min((a-o)/R,d)),R=(a-o)/F,H=o,$=a):w?(H=y?o:H,$=C?a:$,F=c-1,R=($-H)/F):(F=($-H)/R,F=s1(F,Math.round(F),R/1e3)?Math.round(F):Math.ceil(F));const W=Math.max(dK(R),dK(H));O=Math.pow(10,Gi(l)?W:l),H=Math.round(H*O)/O,$=Math.round($*O)/O;let re=0;for(y&&(f&&H!==o?(e.push({value:o}),H<o&&re++,s1(Math.round((H+re*R)*O)/O,o,sJ(o,S,n))&&re++):H<o&&re++);re<F;++re)e.push({value:Math.round((H+re*R)*O)/O});return C&&f&&$!==a?e.length&&s1(e[e.length-1].value,a,sJ(a,S,n))?e[e.length-1].value=a:e.push({value:a}):(!C||$===a)&&e.push({value:$}),e}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&cK(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return h1(t,this.chart.options.locale,this.options.ticks.format)}}class CB extends Uk{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Mr(t)?t:0,this.max=Mr(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=od(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function rJ(n){return n/Math.pow(10,Math.floor(lc(n)))==1}CB.id="linear",CB.defaults={ticks:{callback:kk.formatters.numeric}};class MB extends Tg{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Uk.prototype.parse.apply(this,[t,e]);if(0!==i)return Mr(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Mr(t)?Math.max(0,t):null,this.max=Mr(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,s=this.max;const r=l=>i=t?i:l,o=l=>s=e?s:l,a=(l,c)=>Math.pow(10,Math.floor(lc(l))+c);i===s&&(i<=0?(r(1),o(10)):(r(a(i,-1)),o(a(s,1)))),i<=0&&r(a(s,-1)),s<=0&&o(a(i,1)),this._zero&&this.min!==this._suggestedMin&&i===a(this.min,0)&&r(a(i,-1)),this.min=i,this.max=s}buildTicks(){const t=this.options,i=function Y2e(n,t){const e=Math.floor(lc(t.max)),i=Math.ceil(t.max/Math.pow(10,e)),s=[];let r=oc(n.min,Math.pow(10,Math.floor(lc(t.min)))),o=Math.floor(lc(r)),a=Math.floor(r/Math.pow(10,o)),l=o<0?Math.pow(10,Math.abs(o)):1;do{s.push({value:r,major:rJ(r)}),++a,10===a&&(a=1,++o,l=o>=0?1:l),r=Math.round(a*Math.pow(10,o)*l)/l}while(o<e||o===e&&a<i);const c=oc(n.max,r);return s.push({value:c,major:rJ(r)}),s}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&cK(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":h1(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=lc(t),this._valueRange=lc(this.max)-lc(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(lc(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function TB(n){const t=n.ticks;if(t.display&&n.display){const e=jo(t.backdropPadding);return oi(t.font&&t.font.size,Fi.font.size)+e.height}return 0}function G2e(n,t,e){return e=Is(e)?e:[e],{w:tEe(n,t.string,e),h:e.length*t.lineHeight}}function oJ(n,t,e,i,s){return n===i||n===s?{start:t-e/2,end:t+e/2}:n<i||n>s?{start:t-e,end:t}:{start:t,end:t+e}}function j2e(n,t,e,i,s){const r=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/r,n.l=Math.min(n.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,n.r=Math.max(n.r,t.r+a)),s.start<t.t?(l=(t.t-s.start)/o,n.t=Math.min(n.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/o,n.b=Math.max(n.b,t.b+l))}function q2e(n){return 0===n||180===n?"center":n<180?"left":"right"}function Z2e(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function K2e(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}function aJ(n,t,e,i){const{ctx:s}=n;if(e)s.arc(n.xCenter,n.yCenter,t,0,bs);else{let r=n.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=n.getPointPosition(o,t),s.lineTo(r.x,r.y)}}MB.id="logarithmic",MB.defaults={ticks:{callback:kk.formatters.logarithmic,major:{enabled:!0}}};class w1 extends Uk{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=jo(TB(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Mr(t)&&!isNaN(t)?t:0,this.max=Mr(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/TB(this.options))}generateTickLabels(t){Uk.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const s=Ls(this.options.pointLabels.callback,[e,i],this);return s||0===s?s:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?function $2e(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],s=[],r=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?Xs/r:0;for(let l=0;l<r;l++){const c=o.setContext(n.getPointLabelContext(l));s[l]=c.padding;const d=n.getPointPosition(l,n.drawingArea+s[l],a),u=Jr(c.font),f=G2e(n.ctx,u,n._pointLabels[l]);i[l]=f;const m=Sl(n.getIndexAngle(l)+a),g=Math.round(YV(m));j2e(e,t,m,oJ(g,d.x,f.w,0,180),oJ(g,d.y,f.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function X2e(n,t,e){const i=[],s=n._pointLabels.length,r=n.options,o=TB(r)/2,a=n.drawingArea,l=r.pointLabels.centerPointLabels?Xs/s:0;for(let c=0;c<s;c++){const d=n.getPointPosition(c,a+o+e[c],l),u=Math.round(YV(Sl(d.angle+hr))),f=t[c],m=K2e(d.y,f.h,u),g=q2e(u),v=Z2e(d.x,f.w,g);i.push({x:d.x,y:m,textAlign:g,left:v,top:m,right:v+f.w,bottom:m+f.h})}return i}(n,i,s)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){return Sl(t*(bs/(this._pointLabels.length||1))+od(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Gi(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Gi(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function eIe(n,t,e){return fp(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const s=this.getIndexAngle(t)-hr+i;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),aJ(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:s}=e,r=this._pointLabels.length;let o,a,l;if(e.pointLabels.display&&function Q2e(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let s=t-1;s>=0;s--){const r=i.setContext(n.getPointLabelContext(s)),o=Jr(r.font),{x:a,y:l,textAlign:c,left:d,top:u,right:f,bottom:m}=n._pointLabelItems[s],{backdropColor:g}=r;if(!Gi(g)){const v=jo(r.backdropPadding);e.fillStyle=g,e.fillRect(d-v.left,u-v.top,f-d+v.width,m-u+v.height)}xg(e,n._pointLabels[s],a,l+o.lineHeight/2,o,{color:r.color,textAlign:c,textBaseline:"middle"})}}(this,r),s.display&&this.ticks.forEach((c,d)=>{0!==d&&(a=this.getDistanceFromCenterForValue(c.value),function J2e(n,t,e,i){const s=n.ctx,r=t.circular,{color:o,lineWidth:a}=t;!r&&!i||!o||!a||e<0||(s.save(),s.strokeStyle=o,s.lineWidth=a,s.setLineDash(t.borderDash),s.lineDashOffset=t.borderDashOffset,s.beginPath(),aJ(n,e,r,i),s.closePath(),s.stroke(),s.restore())}(this,s.setContext(this.getContext(d-1)),a,r))}),i.display){for(t.save(),o=r-1;o>=0;o--){const c=i.setContext(this.getPointLabelContext(o)),{color:d,lineWidth:u}=c;!u||!d||(t.lineWidth=u,t.strokeStyle=d,t.setLineDash(c.borderDash),t.lineDashOffset=c.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(0===l&&!e.reverse)return;const c=i.setContext(this.getContext(l)),d=Jr(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=d.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const u=jo(c.backdropPadding);t.fillRect(-o/2-u.left,-r-d.size/2-u.top,o+u.width,d.size+u.height)}xg(t,a.label,0,-r,d,{color:c.color})}),t.restore()}drawTitle(){}}w1.id="radialLinear",w1.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:kk.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}},w1.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},w1.descriptors={angleLines:{_fallback:"grid"}};const Wk={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},il=Object.keys(Wk);function tIe(n,t){return n-t}function lJ(n,t){if(Gi(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:r}=n._parseOpts;let o=t;return"function"==typeof i&&(o=i(o)),Mr(o)||(o="string"==typeof i?e.parse(o,i):e.parse(o)),null===o?null:(s&&(o="week"!==s||!n1(r)&&!0!==r?e.startOf(o,s):e.startOf(o,"isoWeek",r)),+o)}function cJ(n,t,e,i){const s=il.length;for(let r=il.indexOf(n);r<s-1;++r){const o=Wk[il[r]];if(o.common&&Math.ceil((e-t)/((o.steps?o.steps:Number.MAX_SAFE_INTEGER)*o.size))<=i)return il[r]}return il[s-1]}function dJ(n,t,e){if(e){if(e.length){const{lo:i,hi:s}=tB(e,t);n[e[i]>=t?e[i]:e[s]]=!0}}else n[t]=!0}function uJ(n,t,e){const i=[],s={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],s[a]=o,i.push({value:a,major:!1});return 0!==r&&e?function sIe(n,t,e,i){const s=n._adapter,r=+s.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=e[a],l>=0&&(t[l].major=!0);return t}(n,i,s,e):i}let SB=(()=>{class n extends Tg{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i){const s=e.time||(e.time={}),r=this._adapter=new DAe._date(e.adapters.date);e1(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return void 0===e?null:lJ(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,s=e.time.unit||"day";let{min:r,max:o,minDefined:a,maxDefined:l}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!l&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!a||!l)&&(c(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&c(this.getMinMax(!1))),r=Mr(r)&&!isNaN(r)?r:+i.startOf(Date.now(),s),o=Mr(o)&&!isNaN(o)?o:+i.endOf(Date.now(),s)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],s=e[e.length-1]),{min:i,max:s}}buildTicks(){const e=this.options,i=e.time,s=e.ticks,r="labels"===s.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,l=function hEe(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}(r,o,this.max);return this._unit=i.unit||(s.autoSkip?cJ(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):function nIe(n,t,e,i,s){for(let r=il.length-1;r>=il.indexOf(e);r--){const o=il[r];if(Wk[o].common&&n._adapter.diff(s,i,o)>=t-1)return o}return il[e?il.indexOf(e):0]}(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=s.major.enabled&&"year"!==this._unit?function iIe(n){for(let t=il.indexOf(n)+1,e=il.length;t<e;++t)if(Wk[il[t]].common)return il[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&l.reverse(),uJ(this,l,this._majorUnit)}initOffsets(e){let r,o,i=0,s=0;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),i=1===e.length?1-r:(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),s=1===e.length?o:(o-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;i=po(i,0,a),s=po(s,0,a),this._offsets={start:i,end:s,factor:1/(i+1+s)}}_generate(){const e=this._adapter,i=this.min,s=this.max,r=this.options,o=r.time,a=o.unit||cJ(o.minUnit,i,s,this._getLabelCapacity(i)),l=oi(o.stepSize,1),c="week"===a&&o.isoWeekday,d=n1(c)||!0===c,u={};let m,g,f=i;if(d&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,d?"day":a),e.diff(s,i,a)>1e5*l)throw new Error(i+" and "+s+" are too far apart with stepSize of "+l+" "+a);const v="data"===r.ticks.source&&this.getDataTimestamps();for(m=f,g=0;m<s;m=+e.add(m,l,a),g++)dJ(u,m,v);return(m===s||"ticks"===r.bounds||1===g)&&dJ(u,m,v),Object.keys(u).sort((_,y)=>_-y).map(_=>+_)}getLabelForValue(e){const s=this.options.time;return this._adapter.format(e,s.tooltipFormat?s.tooltipFormat:s.displayFormats.datetime)}_tickFormatFunction(e,i,s,r){const o=this.options,a=o.time.displayFormats,l=this._unit,c=this._majorUnit,u=c&&a[c],f=s[i],g=this._adapter.format(e,r||(c&&u&&f&&f.major?u:l&&a[l])),v=o.ticks.callback;return v?Ls(v,[g,i,s],this):g}generateTickLabels(e){let i,s,r;for(i=0,s=e.length;i<s;++i)r=e[i],r.label=this._tickFormatFunction(r.value,i,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+s)*i.factor)}getValueForPixel(e){const i=this._offsets,s=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,s=this.ctx.measureText(e).width,r=od(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(r),a=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:s*o+l*a,h:s*a+l*o}}_getLabelCapacity(e){const i=this.options.time,s=i.displayFormats,r=s[i.unit]||s.millisecond,o=this._tickFormatFunction(e,0,uJ(this,[e],this._majorUnit),r),a=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let i,s,e=this._cache.data||[];if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(i=0,s=r.length;i<s;++i)e=e.concat(r[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,s;if(e.length)return e;const r=this.getLabels();for(i=0,s=r.length;i<s;++i)e.push(lJ(this,r[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return EK(e.sort(tIe))}}return n.id="time",n.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},n})();function Yk(n,t,e){let r,o,a,l,i=0,s=n.length-1;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=Ch(n,"pos",t)),({pos:r,time:a}=n[i]),({pos:o,time:l}=n[s])):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=Ch(n,"time",t)),({time:r,pos:a}=n[i]),({time:o,pos:l}=n[s]));const c=o-r;return c?a+(l-a)*(t-r)/c:a}class DB extends SB{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Yk(e,this.min),this._tableRange=Yk(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],r=[];let o,a,l,c,d;for(o=0,a=t.length;o<a;++o)c=t[o],c>=e&&c<=i&&s.push(c);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)d=s[o+1],l=s[o-1],c=s[o],Math.round((d+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Yk(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Yk(this._table,i*this._tableRange+this._minPos,!0)}}DB.id="timeseries",DB.defaults=SB.defaults,Ok.register(SAe,i2e,B2e,Object.freeze({__proto__:null,CategoryScale:zk,LinearScale:CB,LogarithmicScale:MB,RadialLinearScale:w1,TimeScale:SB,TimeSeriesScale:DB}));const aIe=Ok;let lIe=(()=>{class n{constructor(e){this.http=e,this.stores=[],this.revenueData=[]}ngOnInit(){this.fetchStores()}fetchStores(){this.http.get(`${os}/Stores`).subscribe(e=>{this.stores=e,this.fetchRevenueData()},e=>{console.error("Error fetching stores:",e)})}fetchRevenueData(){this.http.get(`${os}/Sales`).subscribe(e=>{this.calculateRevenueData(e),this.renderChart()},e=>{console.error("Error fetching sales data:",e)})}calculateRevenueData(e){console.log("Sales data:",e);for(const i of this.stores){const s=e.filter(o=>o.storeId===i.id);console.log("Store ID:",i.id),console.log("Store Sales:",s);const r=this.calculateTotalRevenue(s);console.log("Store Revenue:",r),0===r.length&&r.push(0,0,0),this.revenueData.push({storeId:i.id,revenue:r})}}calculateTotalRevenue(e){const i=new Date,s=i.getFullYear(),r=i.getMonth()+1,o=[];for(let a=2;a>=0;a--){const l=(r-a+12)%12||12,c=r-a<=0?s-1:s,u=e.filter(f=>{const m=new Date(f.saleDate);return m.getFullYear()===c&&m.getMonth()+1===l}).reduce((f,m)=>f+m.revenue,0);o.push(u)}return o}renderChart(){let i;this.stores.map(u=>u.storeName);const o=(new Date).getMonth(),a=[];for(let u=2;u>=0;u--)a.push(this.getMonthName((o-u+12)%12));const l=[];let c=0;for(const u of this.revenueData){const f=this.stores.find(_=>_.id===u.storeId),m=f?f.storeName:"Unknown Store",g=u.revenue,v=Math.max(...g);v>c&&(c=v),l.push({label:m,data:g,backgroundColor:this.getRandomColor(l.length),borderColor:this.getRandomColor(l.length),borderWidth:1})}const d=document.getElementById("salesChart");i=new aIe(d,{type:"line",data:{labels:a,datasets:l},options:{animation:{duration:1500,easing:"easeInOutQuart"},scales:{y:{stacked:!1,suggestedMin:0,suggestedMax:c+10,ticks:{stepSize:Math.ceil(c/5)||1}}}}})}getMonthName(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e]}getRandomColor(e){const i=["#FF5733","#FFBD33","#33FF57","#337BFF","#FF33E5","#33FFE0","#FFAF33","#7C33FF","#9B33FF","#FF333F"];return i[e%i.length]}static#e=this.\u0275fac=function(i){return new(i||n)(K(nl))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["app-dashboard"]],decls:9,vars:0,consts:[[1,"container-fluid","mt-2"],["id","salesChart","width","40%","height","10%"]],template:function(i,s){1&i&&(L(0,"div",0)(1,"h2"),U(2,"Dashboard"),k(),L(3,"p"),U(4,"Check your stores performance."),k(),Te(5,"br")(6,"br"),L(7,"div"),Te(8,"canvas",1),k()())},styles:["canvas[_ngcontent-%COMP%]{width:40%;height:10%}"]})}return n})(),au=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){const s=this.authService.isLoggedIn(),r=this.authService.isTokenExpired(),o=this.authService.isAdmin();return!s||r?(this.router.navigate(["/login"],{queryParams:{returnUrl:i.url}}),!1):!("/panel"===i.url&&!o&&(this.router.navigate(["/error"],{queryParams:{notAdmin:!0}}),1))}static#e=this.\u0275fac=function(i){return new(i||n)(be(dp),be(ho))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const gp=[{id:"1",title:"Company Update",body:"We have a new product launch next week!",author:"Manager",likes:10,comments:[{id:"c1",text:"Excited about this!",author:"Employee1"},{id:"c2",text:"Thanks for the update.",author:"Employee2"}]}];let hJ=(()=>{class n{constructor(){}getPosts(){return gp}createPost(e){e.id=Date.now().toString(),gp.push(e)}addComment(e,i){const s=gp.find(r=>r.id===e);s&&(i.id="c"+Date.now(),s.comments.push(i))}likePost(e){const i=gp.find(s=>s.id===e);i&&(i.likes+=1)}deletePost(e){const i=gp.findIndex(s=>s.id===e);i>-1&&gp.splice(i,1)}deleteComment(e,i){const s=gp.find(r=>r.id===e);if(s){const r=s.comments.findIndex(o=>o.id===i);r>-1&&s.comments.splice(r,1)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cIe(n,t){if(1&n){const e=vt();L(0,"div",24)(1,"button",25),ye("click",function(){const r=ie(e).$implicit,o=N().$implicit;return se(N().deleteComment(o.id,r.id))}),Te(2,"i",15),k(),L(3,"strong"),U(4),k(),U(5),k()}if(2&n){const e=t.$implicit;I(4),Ye(e.author),I(),Ot(": ",e.text," ")}}function dIe(n,t){if(1&n){const e=vt();L(0,"div",11)(1,"div",12)(2,"h5"),U(3),k(),L(4,"span",13),U(5),k()(),L(6,"button",14),ye("click",function(){const r=ie(e).$implicit;return se(N().deletePost(r.id))}),Te(7,"i",15),k(),L(8,"div",16),U(9),k(),L(10,"div",17)(11,"button",18),ye("click",function(){const r=ie(e).$implicit;return se(N().likePost(r.id))}),U(12),k()(),me(13,cIe,6,2,"div",19),L(14,"div",20),Te(15,"input",21,22),L(17,"button",23),ye("click",function(){const r=ie(e).$implicit,o=If(16);return se(N().addComment(r.id,o.value))}),U(18,"Comment"),k()()()}if(2&n){const e=t.$implicit;I(3),Ye(e.title),I(2),Ot("By: ",e.author,""),I(4),Ot(" ",e.body," "),I(3),Ot(" \u{1f44d} ",e.likes," Likes "),I(),B("ngForOf",e.comments)}}let uIe=(()=>{class n{constructor(e){this.newsService=e,this.posts=gp}createPost(e,i){const s={id:Date.now().toString(),title:e,body:i,author:"Manager",likes:0,comments:[]};this.newsService.createPost(s)}deletePost(e){this.newsService.deletePost(e)}deleteComment(e,i){this.newsService.deleteComment(e,i)}addComment(e,i){this.newsService.addComment(e,{id:"",text:i,author:"Employee"})}likePost(e){this.newsService.likePost(e)}static#e=this.\u0275fac=function(i){return new(i||n)(K(hJ))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["app-news"]],decls:18,vars:1,consts:[[1,"container-fluid","mt-2"],[1,""],[1,"new-post-form","mb-4"],[3,"ngSubmit"],[1,"mb-3"],["type","text","placeholder","Title",1,"form-control"],["titleInput",""],["rows","3","placeholder","Body",1,"form-control"],["bodyInput",""],["type","submit",1,"btn","btn-primary"],["class","post-container mb-4",4,"ngFor","ngForOf"],[1,"post-container","mb-4"],[1,"post-header","mb-3"],[1,"text-muted"],[1,"btn","btn-sm","btn-danger","delete-post-btn",3,"click"],["aria-hidden","true",1,"fa","fa-minus-circle"],[1,"post-body","mb-3"],[1,"post-actions","mb-3"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],["class","comment mb-2",4,"ngFor","ngForOf"],[1,"input-group"],["type","text","placeholder","Add a comment...",1,"form-control"],["commentText",""],[1,"btn","btn-secondary",3,"click"],[1,"comment","mb-2"],[1,"btn","btn-sm","btn-danger","delete-comment-btn",3,"click"]],template:function(i,s){if(1&i){const r=vt();L(0,"div",0)(1,"h2",1),U(2,"News & Feed"),k(),L(3,"p",1),U(4,"Please ensure that you are up to date with all the messages from your leads."),k()(),L(5,"div",2)(6,"h4"),U(7,"Create a New Post"),k(),L(8,"form",3),ye("ngSubmit",function(){ie(r);const a=If(11),l=If(14);return se(s.createPost(a.value,l.value))}),L(9,"div",4),Te(10,"input",5,6),k(),L(12,"div",4),Te(13,"textarea",7,8),k(),L(15,"button",9),U(16,"Post"),k()()(),me(17,dIe,19,5,"div",10)}2&i&&(I(17),B("ngForOf",s.posts))},dependencies:[nr,a0,s0,o0],styles:[".new-post-form[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.125);padding:20px;border-radius:5px}.post-container[_ngcontent-%COMP%]{position:relative;border:1px solid rgba(0,0,0,.125);padding:20px;border-radius:5px}.post-container[_ngcontent-%COMP%]   .delete-post-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;border-radius:50%;width:20px;height:20px;padding:0;line-height:20px;text-align:center;background-color:#f009;color:#fff}.post-container[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{position:relative}.post-container[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .delete-comment-btn[_ngcontent-%COMP%]{position:absolute;right:0;border-radius:80%;width:18px;height:18px;padding:0;line-height:18px;text-align:center;background-color:#f009;color:#fff}.post-container[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]{margin-bottom:15px}.post-container[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0}.post-container[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:.8em}.post-container[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}.post-container[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{padding:8px 0;border-top:1px solid rgba(0,0,0,.125);font-size:14px}.post-container[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]:first-child{border-top:none}.news-title[_ngcontent-%COMP%]{text-align:left;font-family:Arial,sans-serif;font-size:2.5em;font-weight:300;letter-spacing:2px;color:#333;margin-bottom:20px}.news-description[_ngcontent-%COMP%]{text-align:left;color:#777;font-size:1.1em}"]})}return n})(),EB=(()=>{class n{constructor(e){this.http=e}getStores(){return this.http.get(`${os}/Stores`)}getEmployeesByStore(e){return this.http.get(`${os}/Staff/Stores/${e}/users`)}static#e=this.\u0275fac=function(i){return new(i||n)(be(nl))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hIe=(()=>{class n{constructor(e){this.http=e,this.baseUrl=`${os}/Targets`}getTargetsByUserAndMonth(e,i){const s=`${i.getFullYear()}-${("0"+(i.getMonth()+1)).slice(-2)}`;return this.http.get(`${this.baseUrl}/user/${e}/${s}`)}getTargetsByStoreAndMonth(e,i){const s=`${i.getFullYear()}-${("0"+(i.getMonth()+1)).slice(-2)}`;return this.http.get(`${this.baseUrl}/store/${e}/${s}`)}updateTarget(e,i){return this.http.put(`${this.baseUrl}/${e}`,i)}createTarget(e,i,s,r,o,a,l,c,d,u,f,m,g){return this.http.post(this.baseUrl,{userId:e,storeId:i,monthYear:s,newTar:r,talkMobileTar:o,additionalTar:a,upgradesTar:l,hbbTar:c,hbbUpTar:d,revTar:u,unlimitedTar:f,insuranceTar:m,entertainmentTar:g})}static#e=this.\u0275fac=function(i){return new(i||n)(be(nl))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fIe(n,t){if(1&n){const e=vt();L(0,"button",9),ye("click",function(){return ie(e),se(N().toggleEdit())}),Te(1,"i",10),k()}}function pIe(n,t){1&n&&(es(0),L(1,"th"),Te(2,"i",14),k(),L(3,"th"),Te(4,"i",15),k(),L(5,"th"),Te(6,"i",16),k(),ts())}function mIe(n,t){if(1&n&&(L(0,"td"),U(1),k()),2&n){const e=N().$implicit;I(),Ye(e.new.target)}}function gIe(n,t){if(1&n){const e=vt();L(0,"td")(1,"input",19),ye("ngModelChange",function(s){return ie(e),se(N().$implicit.new.target=s)}),k()()}if(2&n){const e=N().$implicit;I(),B("ngModel",e.new.target)}}function _Ie(n,t){if(1&n&&(L(0,"td"),U(1),k()),2&n){const e=N().$implicit;I(),Ye(e.talkMobile.target)}}function vIe(n,t){if(1&n){const e=vt();L(0,"td")(1,"input",19),ye("ngModelChange",function(s){return ie(e),se(N().$implicit.talkMobile.target=s)}),k()()}if(2&n){const e=N().$implicit;I(),B("ngModel",e.talkMobile.target)}}function yIe(n,t){if(1&n&&(L(0,"td"),U(1),k()),2&n){const e=N().$implicit;I(),Ye(e.upgrades.target)}}function bIe(n,t){if(1&n){const e=vt();L(0,"td")(1,"input",19),ye("ngModelChange",function(s){return ie(e),se(N().$implicit.upgrades.target=s)}),k()()}if(2&n){const e=N().$implicit;I(),B("ngModel",e.upgrades.target)}}function xIe(n,t){if(1&n&&(L(0,"td"),U(1),k()),2&n){const e=N().$implicit;I(),Ye(e.hbb.target)}}function wIe(n,t){if(1&n){const e=vt();L(0,"td")(1,"input",19),ye("ngModelChange",function(s){return ie(e),se(N().$implicit.hbb.target=s)}),k()()}if(2&n){const e=N().$implicit;I(),B("ngModel",e.hbb.target)}}function CIe(n,t){if(1&n&&(L(0,"td"),U(1),k()),2&n){const e=N().$implicit;I(),Ye(e.hbbup.target)}}function MIe(n,t){if(1&n){const e=vt();L(0,"td")(1,"input",19),ye("ngModelChange",function(s){return ie(e),se(N().$implicit.hbbup.target=s)}),k()()}if(2&n){const e=N().$implicit;I(),B("ngModel",e.hbbup.target)}}function TIe(n,t){if(1&n&&(L(0,"td"),U(1),k()),2&n){const e=N().$implicit;I(),Ye(e.rev.target)}}function SIe(n,t){if(1&n){const e=vt();L(0,"td")(1,"input",19),ye("ngModelChange",function(s){return ie(e),se(N().$implicit.rev.target=s)}),k()()}if(2&n){const e=N().$implicit;I(),B("ngModel",e.rev.target)}}function DIe(n,t){if(1&n&&(L(0,"td"),U(1),k()),2&n){const e=N().$implicit;I(),Ye(e.unlimited.target)}}function EIe(n,t){if(1&n){const e=vt();L(0,"td")(1,"input",19),ye("ngModelChange",function(s){return ie(e),se(N().$implicit.unlimited.target=s)}),k()()}if(2&n){const e=N().$implicit;I(),B("ngModel",e.unlimited.target)}}function AIe(n,t){if(1&n&&(L(0,"td"),U(1),k()),2&n){const e=N().$implicit;I(),Ye(e.insurance.target)}}function kIe(n,t){if(1&n){const e=vt();L(0,"td")(1,"input",19),ye("ngModelChange",function(s){return ie(e),se(N().$implicit.insurance.target=s)}),k()()}if(2&n){const e=N().$implicit;I(),B("ngModel",e.insurance.target)}}function IIe(n,t){if(1&n&&(L(0,"td"),U(1),k()),2&n){const e=N().$implicit;I(),Ye(e.entertainment.target)}}function LIe(n,t){if(1&n){const e=vt();L(0,"td")(1,"input",19),ye("ngModelChange",function(s){return ie(e),se(N().$implicit.entertainment.target=s)}),k()()}if(2&n){const e=N().$implicit;I(),B("ngModel",e.entertainment.target)}}function RIe(n,t){if(1&n&&(L(0,"td"),U(1),k()),2&n){const e=N().$implicit;I(),Ye(e.additional.target)}}function PIe(n,t){if(1&n){const e=vt();L(0,"td")(1,"input",19),ye("ngModelChange",function(s){return ie(e),se(N().$implicit.additional.target=s)}),k()()}if(2&n){const e=N().$implicit;I(),B("ngModel",e.additional.target)}}const lu=n=>({"background-color":n});function OIe(n,t){if(1&n&&(L(0,"tr")(1,"td"),U(2),k(),L(3,"td"),U(4),k(),L(5,"td",17),U(6),Zn(7,"number"),k(),me(8,mIe,2,1,"td",18)(9,gIe,2,1,"td",18),L(10,"td"),U(11),k(),L(12,"td",17),U(13),Zn(14,"number"),k(),me(15,_Ie,2,1,"td",18)(16,vIe,2,1,"td",18),L(17,"td"),U(18),k(),L(19,"td",17),U(20),Zn(21,"number"),k(),me(22,yIe,2,1,"td",18)(23,bIe,2,1,"td",18),L(24,"td"),U(25),k(),L(26,"td",17),U(27),Zn(28,"number"),k(),me(29,xIe,2,1,"td",18)(30,wIe,2,1,"td",18),L(31,"td"),U(32),k(),L(33,"td",17),U(34),Zn(35,"number"),k(),me(36,CIe,2,1,"td",18)(37,MIe,2,1,"td",18),L(38,"td"),U(39),k(),L(40,"td",17),U(41),Zn(42,"number"),k(),me(43,TIe,2,1,"td",18)(44,SIe,2,1,"td",18),L(45,"td"),U(46),k(),L(47,"td",17),U(48),Zn(49,"number"),k(),me(50,DIe,2,1,"td",18)(51,EIe,2,1,"td",18),L(52,"td"),U(53),k(),L(54,"td",17),U(55),Zn(56,"number"),k(),me(57,AIe,2,1,"td",18)(58,kIe,2,1,"td",18),L(59,"td"),U(60),k(),L(61,"td",17),U(62),Zn(63,"number"),k(),me(64,IIe,2,1,"td",18)(65,LIe,2,1,"td",18),L(66,"td"),U(67),k(),L(68,"td",17),U(69),Zn(70,"number"),k(),me(71,RIe,2,1,"td",18)(72,PIe,2,1,"td",18),L(73,"td"),U(74),k(),L(75,"td"),U(76),k(),L(77,"td"),U(78),k(),L(79,"td"),U(80),k(),L(81,"td"),U(82),k(),L(83,"td"),U(84),k()()),2&n){const e=t.$implicit;I(2),Ye(e.name),I(2),Ye(e.new.actual),I(),B("ngStyle",Ds(87,lu,+e.new.percentage>=100?"green":"red")),I(),Ot(" ",fs(7,57,e.new.percentage,"1.0-0"),"% "),I(2),B("ngIf",!e.isEditing),I(),B("ngIf",e.isEditing),I(2),Ye(e.talkMobile.actual),I(),B("ngStyle",Ds(89,lu,+e.talkMobile.percentage>=100?"green":"red")),I(),Ot(" ",fs(14,60,e.talkMobile.percentage,"1.0-0"),"% "),I(2),B("ngIf",!e.isEditing),I(),B("ngIf",e.isEditing),I(2),Ye(e.upgrades.actual),I(),B("ngStyle",Ds(91,lu,+e.upgrades.percentage>=100?"green":"red")),I(),Ot(" ",fs(21,63,e.upgrades.percentage,"1.0-0"),"% "),I(2),B("ngIf",!e.isEditing),I(),B("ngIf",e.isEditing),I(2),Ye(e.hbb.actual),I(),B("ngStyle",Ds(93,lu,+e.hbb.percentage>=100?"green":"red")),I(),Ot(" ",fs(28,66,e.hbb.percentage,"1.0-0"),"% "),I(2),B("ngIf",!e.isEditing),I(),B("ngIf",e.isEditing),I(2),Ye(e.hbbup.actual),I(),B("ngStyle",Ds(95,lu,+e.hbbup.percentage>=100?"green":"red")),I(),Ot(" ",fs(35,69,e.hbbup.percentage,"1.0-0"),"% "),I(2),B("ngIf",!e.isEditing),I(),B("ngIf",e.isEditing),I(2),Ye(e.rev.actual),I(),B("ngStyle",Ds(97,lu,+e.rev.percentage>=100?"green":"red")),I(),Ot(" ",fs(42,72,e.rev.percentage,"1.0-0"),"% "),I(2),B("ngIf",!e.isEditing),I(),B("ngIf",e.isEditing),I(2),Ye(e.unlimited.actual),I(),B("ngStyle",Ds(99,lu,+e.unlimited.percentage>=100?"green":"red")),I(),Ot(" ",fs(49,75,e.unlimited.percentage,"1.0-0"),"% "),I(2),B("ngIf",!e.isEditing),I(),B("ngIf",e.isEditing),I(2),Ye(e.insurance.actual),I(),B("ngStyle",Ds(101,lu,+e.insurance.percentage>=100?"green":"red")),I(),Ot(" ",fs(56,78,e.insurance.percentage,"1.0-0"),"% "),I(2),B("ngIf",!e.isEditing),I(),B("ngIf",e.isEditing),I(2),Ye(e.entertainment.actual),I(),B("ngStyle",Ds(103,lu,+e.entertainment.percentage>=100?"green":"red")),I(),Ot(" ",fs(63,81,e.entertainment.percentage,"1.0-0"),"% "),I(2),B("ngIf",!e.isEditing),I(),B("ngIf",e.isEditing),I(2),Ye(e.additional.actual),I(),B("ngStyle",Ds(105,lu,+e.additional.percentage>=100?"green":"red")),I(),Ot(" ",fs(70,84,e.additional.percentage,"1.0-0"),"% "),I(2),B("ngIf",!e.isEditing),I(),B("ngIf",e.isEditing),I(2),Ye(e.hbbvsupg.actual),I(2),Ot("",e.hbbvsupg.percentage,"%"),I(2),Ye(e.hbbvsupg.target),I(2),Ye(e.newvsupg.actual),I(2),Ot("",e.newvsupg.percentage,"%"),I(2),Ye(e.newvsupg.target)}}const FIe=()=>[".new",".talkMobile",".upgrades",".hbb",".hbbup",".rev",".unlimited",".insurance",".entertainment",".additional",".hbbvsupg",".newvsupg"];function NIe(n,t){if(1&n&&(L(0,"div")(1,"h3"),U(2),k(),L(3,"table",11)(4,"thead")(5,"tr")(6,"th"),U(7,"KPI"),k(),L(8,"th",12),U(9,"New"),k(),L(10,"th",12),U(11,"TalkMobile"),k(),L(12,"th",12),U(13,"Upgrade"),k(),L(14,"th",12),U(15,"HBB"),k(),L(16,"th",12),U(17,"HBB Upgrade"),k(),L(18,"th",12),U(19,"Revenue"),k(),L(20,"th",12),U(21,"Unlimited"),k(),L(22,"th",12),U(23,"Insurance"),k(),L(24,"th",12),U(25,"Entertainment"),k(),L(26,"th",12),U(27,"Additional"),k(),L(28,"th",12),U(29,"HBB vs UPG"),k(),L(30,"th",12),U(31,"New vs UPG"),k()(),L(32,"tr")(33,"th"),U(34,"Employee Name"),k(),me(35,pIe,7,0,"ng-container",8),k()(),L(36,"tbody"),me(37,OIe,85,107,"tr",8),L(38,"tr",13)(39,"td"),U(40),k(),L(41,"td"),U(42),k(),L(43,"td"),U(44),Zn(45,"number"),k(),L(46,"td"),U(47),k(),L(48,"td"),U(49),k(),L(50,"td"),U(51),Zn(52,"number"),k(),L(53,"td"),U(54),k(),L(55,"td"),U(56),k(),L(57,"td"),U(58),Zn(59,"number"),k(),L(60,"td"),U(61),k(),L(62,"td"),U(63),k(),L(64,"td"),U(65),Zn(66,"number"),k(),L(67,"td"),U(68),k(),L(69,"td"),U(70),k(),L(71,"td"),U(72),Zn(73,"number"),k(),L(74,"td"),U(75),k(),L(76,"td"),U(77),k(),L(78,"td"),U(79),Zn(80,"number"),k(),L(81,"td"),U(82),k(),L(83,"td"),U(84),k(),L(85,"td"),U(86),Zn(87,"number"),k(),L(88,"td"),U(89),k(),L(90,"td"),U(91),k(),L(92,"td"),U(93),Zn(94,"number"),k(),L(95,"td"),U(96),k(),L(97,"td"),U(98),k(),L(99,"td"),U(100),Zn(101,"number"),k(),L(102,"td"),U(103),k(),L(104,"td"),U(105),k(),L(106,"td"),U(107),Zn(108,"number"),k(),L(109,"td"),U(110),k(),L(111,"td"),U(112),k(),L(113,"td"),U(114),Zn(115,"number"),k(),L(116,"td"),U(117),k(),L(118,"td"),U(119),k(),L(120,"td"),U(121),Zn(122,"number"),k(),L(123,"td"),U(124),k()()()(),Te(125,"br"),k()),2&n){const e=t.$implicit,i=N();I(2),Ye(e.name),I(33),B("ngForOf",nO(76,FIe)),I(2),B("ngForOf",e.employees),I(3),Ot("Total for ",e.name,""),I(2),Ye(i.getTotalActual("new",e)),I(2),Ot("",fs(45,40,i.getTotalPercentage("new",e),"1.0-0"),"%"),I(3),Ye(i.getTotalTarget("new",e)),I(2),Ye(i.getTotalActual("talkMobile",e)),I(2),Ot("",fs(52,43,i.getTotalPercentage("talkMobile",e),"1.0-0"),"%"),I(3),Ye(i.getTotalTarget("talkMobile",e)),I(2),Ye(i.getTotalActual("upgrades",e)),I(2),Ot("",fs(59,46,i.getTotalPercentage("upgrades",e),"1.0-0"),"%"),I(3),Ye(i.getTotalTarget("upgrades",e)),I(2),Ye(i.getTotalActual("hbb",e)),I(2),Ot("",fs(66,49,i.getTotalPercentage("hbb",e),"1.0-0"),"%"),I(3),Ye(i.getTotalTarget("hbb",e)),I(2),Ye(i.getTotalActual("hbbup",e)),I(2),Ot("",fs(73,52,i.getTotalPercentage("hbbup",e),"1.0-0"),"%"),I(3),Ye(i.getTotalTarget("hbbup",e)),I(2),Ye(i.getTotalActual("rev",e)),I(2),Ot("",fs(80,55,i.getTotalPercentage("rev",e),"1.0-0"),"%"),I(3),Ye(i.getTotalTarget("rev",e)),I(2),Ye(i.getTotalActual("unlimited",e)),I(2),Ot("",fs(87,58,i.getTotalPercentage("unlimited",e),"1.0-0"),"%"),I(3),Ye(i.getTotalTarget("unlimited",e)),I(2),Ye(i.getTotalActual("insurance",e)),I(2),Ot("",fs(94,61,i.getTotalPercentage("insurance",e),"1.0-0"),"%"),I(3),Ye(i.getTotalTarget("insurance",e)),I(2),Ye(i.getTotalActual("entertainment",e)),I(2),Ot("",fs(101,64,i.getTotalPercentage("entertainment",e),"1.0-0"),"%"),I(3),Ye(i.getTotalTarget("entertainment",e)),I(2),Ye(i.getTotalActual("additional",e)),I(2),Ot("",fs(108,67,i.getTotalPercentage("additional",e),"1.0-0"),"%"),I(3),Ye(i.getTotalTarget("additional",e)),I(2),Ye(i.getTotalActual("hbbvsupg",e)),I(2),Ot("",fs(115,70,i.getTotalPercentage("hbbvsupg",e),"1.0-0"),"%"),I(3),Ye(i.getTotalTarget("hbbvsupg",e)),I(2),Ye(i.getTotalActual("newvsupg",e)),I(2),Ot("",fs(122,73,i.getTotalPercentage("newvsupg",e),"1.0-0"),"%"),I(3),Ye(i.getTotalTarget("newvsupg",e))}}let VIe=(()=>{class n{constructor(e,i){this.storeService=e,this.targetService=i,this.stores=[],this.chosenMonth="",this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.isAdmin$=new xs(this.isAdmin())}isAdmin(){const e=localStorage.getItem("access_token");return!!e&&"Admin"===cp(e).role}checkAdminStatus(){this.isAdmin$.next(this.isAdmin())}ngOnInit(){this.isAdmin(),this.chosenMonth=(new Date).toLocaleString("default",{month:"long",year:"numeric"}),this.fetchTargets()}fetchTargets(){if(!this.chosenMonth)return;const e=parseInt(this.chosenMonth.split(" ")[1]),i=new Date(Date.parse(this.chosenMonth)).getMonth()+1;("0"+i).slice(-2),this.storeService.getStores().subscribe(r=>{this.stores=r.map(o=>({id:o.id,name:o.storeName,employees:[],storeId:o.id})),this.stores.forEach(o=>{this.storeService.getEmployeesByStore(o.id).subscribe(a=>{o.employees=a.map(l=>this.convertToEmployeeKPI(l)),a.forEach(l=>{this.chosenMonth&&this.targetService.getTargetsByUserAndMonth(l.id,new Date(e,i-1)).subscribe(c=>{const d=o.employees.findIndex(u=>u.name===`${l.firstName} ${l.lastName}`);o.employees[d].new={actual:c[0]?.newAct??0,target:c[0]?.newTar??0,percentage:(c[0]?.newAct??0)/(c[0]?.newTar??1)*100},o.employees[d].talkMobile={actual:c[0]?.talkMobileAct??0,target:c[0]?.talkMobileTar??0,percentage:(c[0]?.talkMobileAct??0)/(c[0]?.talkMobileTar??1)*100},o.employees[d].upgrades={actual:c[0]?.upgradesAct??0,target:c[0]?.upgradesTar??0,percentage:(c[0]?.upgradesAct??0)/(c[0]?.upgradesTar??1)*100},o.employees[d].hbb={actual:c[0]?.hbbAct??0,target:c[0]?.hbbTar??0,percentage:(c[0]?.hbbAct??0)/(c[0]?.hbbTar??1)*100},o.employees[d].hbbup={actual:c[0]?.hbbUpAct??0,target:c[0]?.hbbUpTar??0,percentage:(c[0]?.hbbUpAct??0)/(c[0]?.hbbUpTar??1)*100},o.employees[d].additional={actual:c[0]?.additionalAct??0,target:c[0]?.additionalTar??0,percentage:(c[0]?.additionalAct??0)/(c[0]?.additionalTar??1)*100},o.employees[d].targetId=c[0]?.targetId??0,o.employees[d].userId=l.id})})})}),this.stores.sort((o,a)=>o.id-a.id)})}convertToEmployeeKPI(e){return{name:`${e.firstName} ${e.lastName}`,new:{actual:0,percentage:0,target:0},talkMobile:{actual:0,percentage:0,target:0},upgrades:{actual:0,percentage:0,target:0},hbb:{actual:0,percentage:0,target:0},hbbup:{actual:0,percentage:0,target:0},rev:{actual:0,percentage:0,target:0},unlimited:{actual:0,percentage:0,target:0},insurance:{actual:0,percentage:0,target:0},entertainment:{actual:0,percentage:0,target:0},additional:{actual:0,percentage:0,target:0},hbbvsupg:{actual:0,percentage:0,target:0},newvsupg:{actual:0,percentage:0,target:0},isEditing:!1,targetId:0,userId:""}}previousMonth(){const e=new Date(this.chosenMonth+" 1");e.setMonth(e.getMonth()-1),this.chosenMonth=e.toLocaleString("default",{month:"long",year:"numeric"}),this.fetchTargets()}nextMonth(){const e=new Date(this.chosenMonth+" 1");e.setMonth(e.getMonth()+1),this.chosenMonth=e.toLocaleString("default",{month:"long",year:"numeric"}),this.fetchTargets()}filterDate(e){return!0}getTotalActual(e,i){return i.employees.reduce((s,r)=>{const o=r[e];return"string"!=typeof o&&o.hasOwnProperty("actual")?s+o.actual:s},0)}getTotalPercentage(e,i){if(!i.employees.length)return 0;let s=0,r=0,o=0;return i.employees.forEach(l=>{const c=l[e];"string"!=typeof c&&c.hasOwnProperty("actual")&&c.hasOwnProperty("target")&&(s+=c.actual,r+=c.target,o++)}),0===o?0:0!==o?s/r/o*100:0}getTotalTarget(e,i){return i.employees.length?i.employees.reduce((r,o)=>{const a=o[e];return"string"!=typeof a&&a.hasOwnProperty("target")?r+a.target:r},0):0}toggleEdit(){this.isAdmin()&&this.stores.forEach(e=>{e.employees.forEach(i=>{i.isEditing=!i.isEditing,i.isEditing||this.saveEmployeeChanges(e,i)})})}editEmployee(e,i){i.isEditing=!0}saveEmployeeChanges(e,i){i.isEditing=!1;const s=i.targetId,r=i.userId,o=i.new.target,a=i.talkMobile.target,l=i.additional.target,c=i.upgrades.target,d=i.hbb.target,u=i.hbbup.target,f=i.rev.target,m=i.unlimited.target,g=i.insurance.target,v=i.entertainment.target,_=e.id;if(this.chosenMonth&&(o>0||a>0||l>0||c>0||d>0||u>0||f>0||m>0||g>0||v>0)){const w=`${parseInt(this.chosenMonth.split(" ")[1])}-${("0"+(new Date(this.chosenMonth+" 1").getMonth()+1)).slice(-2)}-01`;0===s?this.targetService.createTarget(r,_,w,o,a,l,c,d,u,f,m,g,v).subscribe(S=>{console.log("New target created:",S),this.fetchTargets()}):this.targetService.updateTarget(s,{userId:r,newTar:o,talkMobileTar:a,additionalTar:l,upgradesTar:c,hbbTar:d,hbbUpTar:u,revTar:f,unlimitedTar:m,insuranceTar:g,entertainmentTar:v}).subscribe(S=>{console.log("Target updated successfully"),this.fetchTargets()})}}static#e=this.\u0275fac=function(i){return new(i||n)(K(EB),K(hIe))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["app-targets"]],decls:15,vars:5,consts:[[1,"container-fluid","mt-2"],[1,"month-navigation"],[1,"nav-button",3,"click"],["aria-hidden","true",1,"fa","fa-arrow-left"],["type","text","placeholder","Choose a month and year","readonly","",1,"month-input",3,"ngModel","ngModelChange"],["aria-hidden","true",1,"fa","fa-arrow-right"],[1,"editSection"],["class","editButton",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"editButton",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square",2,"font-size","50px","cursor","pointer"],[1,"kpi-table"],["colspan","3"],[1,"totals-row"],["aria-hidden","true",1,"fa","fa-clock-o"],["aria-hidden","true",1,"fa","fa-percent"],["aria-hidden","true",1,"fa","fa-gbp"],[3,"ngStyle"],[4,"ngIf"],["type","number",3,"ngModel","ngModelChange"]],template:function(i,s){1&i&&(L(0,"div",0)(1,"h2"),U(2,"Targets"),k(),L(3,"p"),U(4,"View your statistics in realtime."),k(),L(5,"div",1)(6,"button",2),ye("click",function(){return s.previousMonth()}),Te(7,"i",3),k(),L(8,"input",4),ye("ngModelChange",function(o){return s.chosenMonth=o}),k(),L(9,"button",2),ye("click",function(){return s.nextMonth()}),Te(10,"i",5),k()(),L(11,"div",6),me(12,fIe,2,0,"button",7),Zn(13,"async"),k(),me(14,NIe,126,77,"div",8),k()),2&i&&(I(8),B("ngModel",s.chosenMonth),I(4),B("ngIf",va(13,3,s.isAdmin$)),I(2),B("ngForOf",s.stores))},dependencies:[nr,$s,bw,qc,_F,nh,ih,xw,k8],styles:[".kpi-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;border-radius:10px;overflow:hidden;box-shadow:0 4px 8px #0000001a}.kpi-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .kpi-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:center;min-width:100px}.kpi-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:radial-gradient(circle,#f00c,#f1a0a0);color:#fff;position:sticky;top:0;z-index:1}.kpi-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.kpi-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e9e9e9}.kpi-table[_ngcontent-%COMP%]   .totals-row[_ngcontent-%COMP%]{font-weight:700}.month-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.nav-button[_ngcontent-%COMP%]{background-color:#f00c;border:none;color:#fff;text-align:center;font-size:20px;width:40px;height:40px;border-radius:20%;cursor:pointer;transition:background-color .3s ease}.nav-button[_ngcontent-%COMP%]:hover{background-color:#8b0000}.month-input[_ngcontent-%COMP%]{width:200px;text-align:center;margin:0 20px;border:2px solid rgba(255,0,0,.8);border-radius:10px;font-size:18px;color:#f00c;background-color:#fff;padding:5px 10px;transition:border-color .3s ease}.month-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#8b0000}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;max-width:100%}.editButton[_ngcontent-%COMP%]{border:none;color:#f00c;justify-content:center;align-items:center;background:none}.editSection[_ngcontent-%COMP%]{background:none;display:flex;justify-content:center;align-items:center;margin-top:20px}"]})}return n})(),fJ=(()=>{class n{constructor(e){this.http=e}getAllSales(){return this.http.get(`${os}/Sales`)}deleteSale(e){return this.http.delete(`${os}/Sales/${e}`)}addSale(e){return this.http.post(`${os}/Sales`,e)}getAdvisorStore(e){return this.http.get(`${os}/Stores/user/${e}/stores`)}getStaffName(e){return this.http.get(`${os}/Staff/${e}`)}static#e=this.\u0275fac=function(i){return new(i||n)(be(nl))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function BIe(n,t){if(1&n&&(L(0,"p")(1,"strong"),U(2,"Revenue:"),k(),U(3),k()),2&n){const e=N().$implicit;I(3),Ot(" \xa3",e.revenue,"")}}function HIe(n,t){if(1&n&&(L(0,"p")(1,"strong"),U(2,"SKU Type:"),k(),U(3),k()),2&n){const e=N().$implicit;I(3),Ot(" ",e.skU_Type,"")}}function zIe(n,t){1&n&&Te(0,"i",43)}function UIe(n,t){1&n&&Te(0,"i",44)}function WIe(n,t){if(1&n){const e=vt();L(0,"div",36)(1,"div",37)(2,"strong"),U(3),k(),L(4,"button",38),ye("click",function(){const r=ie(e).index;return se(N().confirmDeleteSale(r))}),U(5,"\xd7"),k()(),L(6,"div",39)(7,"p")(8,"strong"),U(9,"Staff:"),k(),U(10),k(),L(11,"p")(12,"strong"),U(13,"Order Type:"),k(),U(14),k(),L(15,"p")(16,"strong"),U(17,"Order No.:"),k(),U(18),k(),me(19,BIe,4,1,"p",40),L(20,"p")(21,"strong"),U(22,"Store:"),k(),U(23),k(),me(24,HIe,4,1,"p",40),L(25,"p")(26,"strong"),U(27,"Additional:"),k(),me(28,zIe,1,0,"i",41)(29,UIe,1,0,"ng-template",null,42,cD),k()()()}if(2&n){const e=t.$implicit,i=If(30),s=N();I(3),Ye(s.formatDate(e.saleDate,e.saleTime)),I(7),Ot(" ",e.staffName||"N/A",""),I(4),Ot(" ",e.orderType,""),I(4),Ot(" ",e.orderNumber,""),I(),B("ngIf",e.revenue),I(4),Ot(" ",e.storeName,""),I(),B("ngIf",e.skU_Type),I(4),B("ngIf",e.isAdditional)("ngIfElse",i)}}const YIe=n=>({display:n});let GIe=(()=>{class n{toggleSidebar(){this.sidebarExpanded=!this.sidebarExpanded}constructor(e,i){this.http=e,this.salesService=i,this.showModal=!1,this.saleToDelete=null,this.salesData={sku:"",orderType:"",orderNumber:"",saleDate:"",saleTime:"",userId:"",storeId:0,isAdditional:!1},this.salesHistory=[],this.staffName="",this.sidebarExpanded=!1,this.typeMapping={Upgrade:"Retention",New:"Acquisition"}}ngOnInit(){this.loadSalesHistory()}loadSalesHistory(){var e=this;return tt(function*(){try{const i=localStorage.getItem("access_token");if(!i)throw new Error("No token found");if(!cp(i).nameid)throw new Error("Invalid token data");const o=yield e.salesService.getAllSales().toPromise();if(!o)throw new Error("No sales data found");for(const a of o)a.storeName=yield e.getStoreName(a.storeId),a.staffName=yield e.getStaffName(a.userId);e.salesHistory=o.reverse(),console.log("Sales history:",e.salesHistory)}catch(i){console.error("Error fetching sales history:",i)}})()}confirmDeleteSale(e){this.saleToDelete=e,this.showModal=!0}deleteSale(e){const i=this.salesHistory[e];i&&void 0!==i.saleId?this.salesService.deleteSale(i.saleId).subscribe(()=>{this.salesHistory.splice(e,1)},r=>{console.error("Error deleting sale:",r)}):console.error("Invalid sale or saleId.")}handleModalClick(e){e&&null!==this.saleToDelete&&this.deleteSale(this.saleToDelete),this.showModal=!1,this.saleToDelete=null}getStaffName(e){var i=this;return tt(function*(){try{return(yield i.http.get(`${os}/Staff/${e}`).toPromise())?.firstName||"N/A"}catch(s){return console.error("Error fetching staff name:",s),"Unavailable"}})()}getStoreName(e){var i=this;return tt(function*(){try{return(yield i.http.get(`${os}/Stores/${e}`).toPromise())?.storeName||"N/A"}catch(s){return console.error("Error fetching store name:",s),"Unknown"}})()}onSubmit(){const e=localStorage.getItem("access_token");if(!e)return void console.error("Access token not found");const i=cp(e);i&&i.nameid?("New_Additional"===this.salesData.orderType?(this.salesData.isAdditional=!0,this.salesData.orderType="Acquisition"):(this.salesData.orderType=this.typeMapping[this.salesData.orderType]||this.salesData.orderType,this.salesData.isAdditional=!1),this.salesData.userId=i.nameid,this.salesData.saleTime=this.formatTime(this.salesData.saleTime),this.http.get(`${os}/Stores/user/${this.salesData.userId}/stores`).subscribe(s=>{Array.isArray(s)&&s.length>0?(this.salesData.storeId=s[0].id,this.salesService.addSale(this.salesData).subscribe(r=>{this.getStaffName(r.userId).then(o=>{r.staffName=o,this.salesHistory.push(r),this.clearForm(),this.loadSalesHistory()})},r=>{console.error("Error adding sale:",r)})):console.error("No store found for the user.")},s=>{console.error("Error retrieving store:",s)}),console.log("Form submitted:",this.salesData)):console.error("Invalid access token format")}clearForm(){this.salesData={sku:"",orderType:"",orderNumber:"",saleDate:"",saleTime:"",storeId:0,userId:"",isAdditional:!1}}formatTime(e){return e+":00"}formatDate(e,i){return new Date(e+" "+i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})}static#e=this.\u0275fac=function(i){return new(i||n)(K(nl),K(fJ))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["app-sales"]],decls:62,vars:9,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["id","confirmationModal",1,"modal",3,"ngStyle"],[1,"modal-content"],[1,"actions"],[1,"btn-no",3,"click"],[1,"btn-yes",3,"click"],[1,"container-fluid","mt-2"],[1,"sales-dashboard"],[1,"dashboard-content"],[1,"history-sidebar"],[1,"sidebar-title"],[1,"history-list"],["class","history-item card",4,"ngFor","ngForOf"],[1,"sales-entry"],[1,"section-title"],[1,"sales-form"],[3,"ngSubmit"],[1,"form-group"],["for","sku"],["type","text","id","sku","name","sku","required","",3,"ngModel","ngModelChange"],["for","orderType"],["id","orderType","name","orderType","required","",3,"ngModel","ngModelChange"],["value","","disabled",""],["value","Upgrade"],["value","New"],["value","New_Additional"],["for","orderNumber"],["type","text","id","orderNumber","name","orderNumber","required","",3,"ngModel","ngModelChange"],["for","date"],["type","date","id","date","name","date","required","",3,"ngModel","ngModelChange"],["for","time"],["type","time","id","time","name","time","required","",3,"ngModel","ngModelChange"],["type","submit",1,"submit-button"],[1,"history-item","card"],[1,"card-header"],[1,"close",3,"click"],[1,"card-content"],[4,"ngIf"],["class","fa fa-check","aria-hidden","true","style","color: green; font-size: 21px;",4,"ngIf","ngIfElse"],["notAdditional",""],["aria-hidden","true",1,"fa","fa-check",2,"color","green","font-size","21px"],["aria-hidden","true",1,"fa","fa-times",2,"color","red","font-size","21px"]],template:function(i,s){1&i&&(L(0,"html",0)(1,"head"),Te(2,"meta",1)(3,"meta",2)(4,"meta",3),L(5,"title"),U(6,"Sales Dashboard"),k()(),L(7,"body")(8,"div",4)(9,"div",5)(10,"h4"),U(11,"Are you sure you want to delete this sale?"),k(),L(12,"div",6)(13,"button",7),ye("click",function(){return s.handleModalClick(!1)}),U(14,"No"),k(),L(15,"button",8),ye("click",function(){return s.handleModalClick(!0)}),U(16,"Yes"),k()()()(),L(17,"div",9)(18,"div",10)(19,"h2"),U(20,"Sales Dashboard"),k(),L(21,"div",11)(22,"div",12)(23,"h3",13),U(24,"Sales History"),k(),L(25,"div",14),me(26,WIe,31,9,"div",15),k()(),L(27,"div",16)(28,"h3",17),U(29,"Record New Sale"),k(),L(30,"div",18)(31,"form",19),ye("ngSubmit",function(){return s.onSubmit()}),L(32,"div",20)(33,"label",21),U(34,"SKU Code"),k(),L(35,"input",22),ye("ngModelChange",function(o){return s.salesData.sku=o}),k()(),L(36,"div",20)(37,"label",23),U(38,"Order Type"),k(),L(39,"select",24),ye("ngModelChange",function(o){return s.salesData.orderType=o}),L(40,"option",25),U(41,"Select"),k(),L(42,"option",26),U(43,"Upgrade"),k(),L(44,"option",27),U(45,"New"),k(),L(46,"option",28),U(47,"New Additional"),k()()(),L(48,"div",20)(49,"label",29),U(50,"Order No."),k(),L(51,"input",30),ye("ngModelChange",function(o){return s.salesData.orderNumber=o}),k()(),L(52,"div",20)(53,"label",31),U(54,"Date"),k(),L(55,"input",32),ye("ngModelChange",function(o){return s.salesData.saleDate=o}),k()(),L(56,"div",20)(57,"label",33),U(58,"Time"),k(),L(59,"input",34),ye("ngModelChange",function(o){return s.salesData.saleTime=o}),k()(),L(60,"button",35),U(61,"Submit"),k()()()()()()()()()),2&i&&(I(8),B("ngStyle",Ds(7,YIe,s.showModal?"block":"none")),I(18),B("ngForOf",s.salesHistory),I(9),B("ngModel",s.salesData.sku),I(4),B("ngModel",s.salesData.orderType),I(12),B("ngModel",s.salesData.orderNumber),I(4),B("ngModel",s.salesData.saleDate),I(4),B("ngModel",s.salesData.saleTime))},dependencies:[nr,$s,bw,a0,xF,CF,qc,Ow,nh,s0,Fw,ih,o0],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100%}.container-fluid[_ngcontent-%COMP%]{height:100vh;overflow:hidden}.sales-dashboard[_ngcontent-%COMP%]{padding:2em;background:#fafafa;border-radius:6px;box-shadow:0 4px 8px #0000001a;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;margin-right:300px}.sales-dashboard[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#e74c3c;margin-bottom:1em}.sales-entry[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:20px;padding:20px;background-color:#fff;box-shadow:0 4px 8px #0000001a;border-radius:6px;max-width:400px;overflow-y:auto}.sales-entry[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:#333;text-transform:uppercase;letter-spacing:1px;font-size:1.2em}.sales-entry[_ngcontent-%COMP%]   .sales-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.sales-entry[_ngcontent-%COMP%]   .sales-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1em}.sales-entry[_ngcontent-%COMP%]   .sales-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5em;color:#333;font-size:1.1em}.sales-entry[_ngcontent-%COMP%]   .sales-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .sales-entry[_ngcontent-%COMP%]   .sales-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.5em;border:1px solid #d9d9d9;border-radius:4px;transition:border-color .3s ease,box-shadow .3s ease;font-size:1em}.sales-entry[_ngcontent-%COMP%]   .sales-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover, .sales-entry[_ngcontent-%COMP%]   .sales-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#e74c3c}.sales-entry[_ngcontent-%COMP%]   .sales-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .sales-entry[_ngcontent-%COMP%]   .sales-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{box-shadow:0 0 5px #e74c3c80}.sales-entry[_ngcontent-%COMP%]   .sales-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#e74c3c;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease}.sales-entry[_ngcontent-%COMP%]   .sales-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]:hover{background-color:#bf3e30}.history-sidebar[_ngcontent-%COMP%]{position:fixed;top:0;right:0;width:300px;height:100vh;background:#2c3e50;color:#fff;padding:2em;border-left:6px solid #e74c3c;overflow-y:auto;scrollbar-width:none;-ms-overflow-style:none}.history-sidebar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.history-sidebar[_ngcontent-%COMP%]   .sidebar-title[_ngcontent-%COMP%]{font-size:1.5em;margin-bottom:1.5em;text-transform:uppercase;letter-spacing:2px}.history-sidebar[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]{padding:0;margin:0;list-style:none}.history-sidebar[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;box-shadow:0 4px 8px #0003;transition:.3s;border-radius:5px;background-color:#f1f1f1;margin-bottom:15px}.history-sidebar[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{height:30px;background:#e0e0e0;border-top-left-radius:5px;border-top-right-radius:5px;padding:5px;display:flex;justify-content:space-between;align-items:center}.history-sidebar[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{font-size:20px;position:absolute;left:83%;font-weight:700;color:#fff;background-color:#f00c;border:thin solid rgba(255,255,255,.8);border-radius:15%;line-height:18px;text-align:center;width:41px;height:31px;padding:0;cursor:pointer;transition:color .2s ease-in-out}.history-sidebar[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{font-size:26px;transform:scale(1.3);background-color:#fff;color:#f00c;border:thin solid rgba(255,0,0,.8)}.history-sidebar[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:15px}.history-sidebar[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#0006;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{position:relative;background-color:#f44336;margin:10% auto;padding:20px;border-radius:5px;width:70%;max-width:400px;box-shadow:0 4px 8px #0003}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:5px;color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.btn-no[_ngcontent-%COMP%]{background-color:#c6c3c3}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.btn-no[_ngcontent-%COMP%]:hover{background-color:#ff7300}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.btn-yes[_ngcontent-%COMP%]{background-color:#b41c1c}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.btn-yes[_ngcontent-%COMP%]:hover{background-color:#ff7300}@keyframes _ngcontent-%COMP%_animatetop{0%{transform:scale(.7);opacity:0}to{transform:scale(1);opacity:1}}@media screen and (max-width: 768px){.container-fluid[_ngcontent-%COMP%]{margin:0}.sales-dashboard[_ngcontent-%COMP%]{margin-right:0}}"]})}return n})(),$Ie=(()=>{class n{constructor(e){this.http=e}getStores(){return this.http.get(`${os}/Stores/`)}getEmployees(e){return this.http.get(`${os}/Stores/${e}/employees`)}getStaffByStore(e){return this.http.get(`${os}/Staff/stores/${e}/users`)}getRotaByStore(e){return this.http.get(`${os}/Rota/store/${e}`).pipe(Vn(i=>i.map(s=>({...s,isLeave:s.isLeave}))))}addShift(e){return this.http.post(`${os}/Rota`,e)}deleteShift(e){return this.http.delete(`${os}/Rota/${e}`)}static#e=this.\u0275fac=function(i){return new(i||n)(be(nl))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AB(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const s=t[i];s?n.setProperty(i,s,e?.has(i)?"important":""):n.removeProperty(i)}return n}function by(n,t){const e=t?"":"none";AB(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function pJ(n,t,e){AB(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Gk(n,t){return t&&"none"!=t?n+" "+t:n}function mJ(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function kB(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function IB(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function LB(n,t,e){const{top:i,bottom:s,left:r,right:o}=n;return e>=i&&e<=s&&t>=r&&t<=o}function C1(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function gJ(n,t,e,i){const{top:s,right:r,bottom:o,left:a,width:l,height:c}=n,d=l*t,u=c*t;return i>s-u&&i<o+u&&e>a-d&&e<r+d}class _J{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:IB(e)})})}handleScroll(t){const e=sc(t),i=this.positions.get(e);if(!i)return null;const s=i.scrollPosition;let r,o;if(e===this._document){const c=this.getViewportScrollPosition();r=c.top,o=c.left}else r=e.scrollTop,o=e.scrollLeft;const a=s.top-r,l=s.left-o;return this.positions.forEach((c,d)=>{c.clientRect&&e!==d&&e.contains(d)&&C1(c.clientRect,a,l)}),s.top=r,s.left=o,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function vJ(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===i?xJ(n,t):("input"===i||"select"===i||"textarea"===i)&&bJ(n,t),yJ("canvas",n,t,xJ),yJ("input, textarea, select",n,t,bJ),t}function yJ(n,t,e,i){const s=t.querySelectorAll(n);if(s.length){const r=e.querySelectorAll(n);for(let o=0;o<s.length;o++)i(s[o],r[o])}}let qIe=0;function bJ(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${qIe++}`)}function xJ(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const wJ=iu({passive:!0}),$k=iu({passive:!1}),RB=new Set(["position"]);class KIe{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>by(e,t)))}constructor(t,e,i,s,r,o){this._config=e,this._document=i,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Gt,this._pointerMoveSubscription=ti.EMPTY,this._pointerUpSubscription=ti.EMPTY,this._scrollSubscription=ti.EMPTY,this._resizeSubscription=ti.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Gt,this.started=new Gt,this.released=new Gt,this.ended=new Gt,this.entered=new Gt,this.exited=new Gt,this.dropped=new Gt,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const m=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),g=this._dropContainer;if(!m)return void this._endDragSequence(a);(!g||!g.isDragging()&&!g.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.preventDefault();const c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{const d=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,u=this._activeTransform;u.x=c.x-d.x+this._passiveTransform.x,u.y=c.y-d.y+this._passiveTransform.y,this._applyRootElementTransform(u.x,u.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new _J(i),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Qr(i)),this._handles.forEach(i=>by(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Qr(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,$k),e.addEventListener("touchstart",this._pointerDown,wJ),e.addEventListener("dragstart",this._nativeDragStart,$k)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Qr(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),by(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),by(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){M1(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,s=i.parentNode,r=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();s.insertBefore(o,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),pJ(i,!1,RB),this._document.body.appendChild(s.replaceChild(r,i)),this._getPreviewInsertionPoint(s,a).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),s=M1(e),r=!s&&0!==e.button,o=this._rootElement,a=sc(e),l=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=s?MV(e):CV(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),i||r||l||c)return;if(this._handles.length){const f=o.style;this._rootElementTapHighlight=f.webkitTapHighlightColor||"",f.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(f=>this._updateOnScroll(f)),this._boundaryElement&&(this._boundaryRect=IB(this._boundaryElement));const d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,e);const u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){pJ(this._rootElement,!0,RB),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),s=this._getPointerPositionOnPage(t),r=this._getDragDistance(s),o=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:r,dropPoint:s,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,o,r,s,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let s;if(i&&t){const r=t.matchSize?this._initialDomRect:null,o=t.viewContainer.createEmbeddedView(i,t.context);o.detectChanges(),s=MJ(o,this._document),this._previewRef=o,t.matchSize?TJ(s,r):s.style.transform=jk(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else s=vJ(this._rootElement),TJ(s,this._initialDomRect),this._initialTransform&&(s.style.transform=this._initialTransform);return AB(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},RB),by(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>s.classList.add(r)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function XIe(n){const t=getComputedStyle(n),e=kB(t,"transition-property"),i=e.find(a=>"transform"===a||"all"===a);if(!i)return 0;const s=e.indexOf(i),r=kB(t,"transition-duration"),o=kB(t,"transition-delay");return mJ(r[s])+mJ(o[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=o=>{(!o||sc(o)===this._preview&&"transform"===o.propertyName)&&(this._preview?.removeEventListener("transitionend",s),i(),clearTimeout(r))},r=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=MJ(this._placeholderRef,this._document)):i=vJ(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){const s=e===this._rootElement?null:e,r=s?s.getBoundingClientRect():t,o=M1(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition();return{x:r.left-t.left+(o.pageX-r.left-a.left),y:r.top-t.top+(o.pageY-r.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=M1(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,s=i.pageX-e.left,r=i.pageY-e.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const a=this._ownerSVGElement.createSVGPoint();return a.x=s,a.y=r,a.matrixTransform(o.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:r,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),d=a.top+o,u=a.bottom-(c-o);i=CJ(i,a.left+r,a.right-(l-r)),s=CJ(s,d,u)}return{x:i,y:s}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-r.x),a=Math.abs(i-r.y);return o>this._config.pointerDirectionChangeThreshold&&(s.x=e>r.x?1:-1,r.x=e),a>this._config.pointerDirectionChangeThreshold&&(s.y=i>r.y?1:-1,r.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,by(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,$k),t.removeEventListener("touchstart",this._pointerDown,wJ),t.removeEventListener("dragstart",this._nativeDragStart,$k)}_applyRootElementTransform(t,e){const i=jk(t,e),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=Gk(i,this._initialTransform)}_applyPreviewTransform(t,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,s=jk(t,e);this._preview.style.transform=Gk(s,i)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),s=this._boundaryElement.getBoundingClientRect();if(0===s.width&&0===s.height||0===i.width&&0===i.height)return;const r=s.left-i.left,o=i.right-s.right,a=s.top-i.top,l=i.bottom-s.bottom;s.width>i.width?(r>0&&(t+=r),o>0&&(t-=o)):t=0,s.height>i.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:M1(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=sc(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&C1(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=fV(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return Qr(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function jk(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function CJ(n,t,e){return Math.max(t,Math.min(e,n))}function M1(n){return"t"===n.type[0]}function MJ(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(s=>i.appendChild(s)),i}function TJ(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=jk(t.left,t.top)}function T1(n,t){return Math.max(0,Math.min(t,n))}class JIe{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,i,s){const r=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,s);if(-1===o&&r.length>0)return null;const a="horizontal"===this.orientation,l=r.findIndex(_=>_.drag===t),c=r[o],u=c.clientRect,f=l>o?1:-1,m=this._getItemOffsetPx(r[l].clientRect,u,f),g=this._getSiblingOffsetPx(l,r,f),v=r.slice();return function QIe(n,t,e){const i=T1(t,n.length-1),s=T1(e,n.length-1);if(i===s)return;const r=n[i],o=s<i?-1:1;for(let a=i;a!==s;a+=o)n[a]=n[a+o];n[s]=r}(r,l,o),r.forEach((_,y)=>{if(v[y]===_)return;const C=_.drag===t,w=C?m:g,S=C?t.getPlaceholderElement():_.drag.getRootElement();_.offset+=w,a?(S.style.transform=Gk(`translate3d(${Math.round(_.offset)}px, 0, 0)`,_.initialTransform),C1(_.clientRect,0,w)):(S.style.transform=Gk(`translate3d(0, ${Math.round(_.offset)}px, 0)`,_.initialTransform),C1(_.clientRect,w,0))}),this._previousSwap.overlaps=LB(u,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?s.x:s.y,{previousIndex:l,currentIndex:o}}enter(t,e,i,s){const r=null==s||s<0?this._getItemIndexFromPointerPosition(t,e,i):s,o=this._activeDraggables,a=o.indexOf(t),l=t.getPlaceholderElement();let c=o[r];if(c===t&&(c=o[r+1]),!c&&(null==r||-1===r||r<o.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(c=o[0]),a>-1&&o.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const d=c.getRootElement();d.parentElement.insertBefore(l,d),o.splice(r,0,t)}else Qr(this._element).appendChild(l),o.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const i=this._itemPositions.find(s=>s.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{C1(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:IB(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){const s="horizontal"===this.orientation;let r=s?e.left-t.left:e.top-t.top;return-1===i&&(r+=s?e.width-t.width:e.height-t.height),r}_getSiblingOffsetPx(t,e,i){const s="horizontal"===this.orientation,r=e[t].clientRect,o=e[t+-1*i];let a=r[s?"width":"height"]*i;if(o){const l=s?"left":"top",c=s?"right":"bottom";-1===i?a-=o.clientRect[l]-r[c]:a+=r[l]-o.clientRect[c]}return a}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const o=i[i.length-1].clientRect;return s?t>=o.right:e>=o.bottom}{const o=i[0].clientRect;return s?t<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(t,e,i,s){const r="horizontal"===this.orientation,o=this._itemPositions.findIndex(({drag:a,clientRect:l})=>a!==t&&((!s||a!==this._previousSwap.drag||!this._previousSwap.overlaps||(r?s.x:s.y)!==this._previousSwap.delta)&&(r?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom))));return-1!==o&&this._sortPredicate(o,t)?o:-1}}var dc=function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n}(dc||{}),Ia=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n}(Ia||{});class eLe{constructor(t,e,i,s,r){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Gt,this.entered=new Gt,this.exited=new Gt,this.dropped=new Gt,this.sorted=new Gt,this.receivingStarted=new Gt,this.receivingStopped=new Gt,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=ti.EMPTY,this._verticalScrollDirection=dc.NONE,this._horizontalScrollDirection=Ia.NONE,this._stopScrollTimers=new Gt,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function jIe(n=0,t=tk){return n<0&&(n=0),NV(n,n,t)}(0,OV).pipe(Ql(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,a=this.autoScrollStep;this._verticalScrollDirection===dc.UP?o.scrollBy(0,-a):this._verticalScrollDirection===dc.DOWN&&o.scrollBy(0,a),this._horizontalScrollDirection===Ia.LEFT?o.scrollBy(-a,0):this._horizontalScrollDirection===Ia.RIGHT&&o.scrollBy(a,0)})},this.element=Qr(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new _J(i),this._sortStrategy=new JIe(this.element,e),this._sortStrategy.withSortPredicate((o,a)=>this.sortPredicate(o,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,s){this._draggingStarted(),null==s&&this.sortingDisabled&&(s=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,s),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,s,r,o,a,l={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:r,distance:o,dropPoint:a,event:l})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===t.indexOf(s))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=Qr(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,s){if(this.sortingDisabled||!this._domRect||!gJ(this._domRect,.05,e,i))return;const r=this._sortStrategy.sort(t,e,i,s);r&&this.sorted.next({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,s=dc.NONE,r=Ia.NONE;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||i||gJ(o.clientRect,.05,t,e)&&([s,r]=function tLe(n,t,e,i,s){const r=EJ(t,s),o=AJ(t,i);let a=dc.NONE,l=Ia.NONE;if(r){const c=n.scrollTop;r===dc.UP?c>0&&(a=dc.UP):n.scrollHeight-c>n.clientHeight&&(a=dc.DOWN)}if(o){const c=n.scrollLeft;"rtl"===e?o===Ia.RIGHT?c<0&&(l=Ia.RIGHT):n.scrollWidth+c>n.clientWidth&&(l=Ia.LEFT):o===Ia.LEFT?c>0&&(l=Ia.LEFT):n.scrollWidth-c>n.clientWidth&&(l=Ia.RIGHT)}return[a,l]}(a,o.clientRect,this._sortStrategy.direction,t,e),(s||r)&&(i=a))}),!s&&!r){const{width:o,height:a}=this._viewportRuler.getViewportSize(),l={width:o,height:a,top:0,right:o,bottom:a,left:0};s=EJ(l,e),r=AJ(l,t),i=window}i&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=i,(s||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Qr(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Qr(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=Qr(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._domRect&&LB(this._domRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(s=>s._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._domRect||!LB(this._domRect,e,i)||!this.enterPredicate(t,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,i);if(!s)return!1;const r=Qr(this.element);return s===r||r.contains(s)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=fV(Qr(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function EJ(n,t){const{top:e,bottom:i,height:s}=n,r=.05*s;return t>=e-r&&t<=e+r?dc.UP:t>=i-r&&t<=i+r?dc.DOWN:dc.NONE}function AJ(n,t){const{left:e,right:i,width:s}=n,r=.05*s;return t>=e-r&&t<=e+r?Ia.LEFT:t>=i-r&&t<=i+r?Ia.RIGHT:Ia.NONE}const Xk=iu({passive:!1,capture:!0});let nLe=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new Gt,this.pointerUp=new Gt,this.scroll=new Gt,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Xk)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Xk)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Xk}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:Xk}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,o)=>{this._document.addEventListener(o,r.handler,r.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new Qi(s=>this._ngZone.runOutsideAngular(()=>{const o=a=>{this._activeDragInstances.length&&s.next(a)};return e.addEventListener("scroll",o,!0),()=>{e.removeEventListener("scroll",o,!0)}}))),mg(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(be(ln),be(Gn))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const iLe={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let PB=(()=>{class n{constructor(e,i,s,r){this._document=e,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(e,i=iLe){return new KIe(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new eLe(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#e=this.\u0275fac=function(i){return new(i||n)(be(Gn),be(ln),be(VV),be(nLe))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const LJ=new Xe("CDK_DRAG_CONFIG"),RJ=new Xe("CdkDropList"),NB=new Xe("CdkDropListGroup");let dLe=0,PJ=(()=>{class n{static#e=this._dropLists=[];get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}constructor(e,i,s,r,o,a,l){this.element=e,this._changeDetectorRef=s,this._scrollDispatcher=r,this._dir=o,this._group=a,this._destroyed=new Gt,this.connectedTo=[],this.id="cdk-drop-list-"+dLe++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new Fe,this.entered=new Fe,this.exited=new Fe,this.sorted=new Fe,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(c,d)=>this.enterPredicate(c.data,d.data),this._dropListRef.sortPredicate=(c,d,u)=>this.sortPredicate(c,d.data,u.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),a&&a._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Hf(this._dir.value),Ql(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=GC(this.connectedTo).map(s=>"string"==typeof s?n._dropLists.find(o=>o.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===i.indexOf(s)&&i.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(r=>r.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=function Zq(n,t=0){return function lTe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}(this.autoScrollStep,2),e.connectedTo(i.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),mg(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){const{lockAxis:i,draggingDisabled:s,sortingDisabled:r,listAutoScrollDisabled:o,listOrientation:a}=e;this.disabled=s??!1,this.sortingDisabled=r??!1,this.autoScrollDisabled=o??!1,this.orientation=a||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}static#t=this.\u0275fac=function(i){return new(i||n)(K(gn),K(PB),K(er),K(PZ),K(fy,8),K(NB,12),K(LJ,8))};static#n=this.\u0275dir=ee({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,s){2&i&&(Nt("id",s.id),dn("cdk-drop-list-disabled",s.disabled)("cdk-drop-list-dragging",s._dropListRef.isDragging())("cdk-drop-list-receiving",s._dropListRef.isReceiving()))},inputs:{connectedTo:[St.None,"cdkDropListConnectedTo","connectedTo"],data:[St.None,"cdkDropListData","data"],orientation:[St.None,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[St.None,"cdkDropListLockAxis","lockAxis"],disabled:[St.HasDecoratorInputTransform,"cdkDropListDisabled","disabled",lr],sortingDisabled:[St.HasDecoratorInputTransform,"cdkDropListSortingDisabled","sortingDisabled",lr],enterPredicate:[St.None,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[St.None,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[St.HasDecoratorInputTransform,"cdkDropListAutoScrollDisabled","autoScrollDisabled",lr],autoScrollStep:[St.None,"cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[pi([{provide:NB,useValue:void 0},{provide:RJ,useExisting:n}]),Yl]})}return n})(),uLe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({providers:[PB],imports:[QC]})}return n})();function VB(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new xu({next:()=>{i.unsubscribe(),n()}});return wa(t(...e)).subscribe(i)}const fLe=["*"];let qk;function S1(n){return function pLe(){if(void 0===qk&&(qk=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(qk=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return qk}()?.createHTML(n)||n}function OJ(n){return Error(`Unable to find icon with the name "${n}"`)}function FJ(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function NJ(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Sg{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Zk=(()=>{class n{constructor(e,i,s,r){this._httpClient=e,this._sanitizer=i,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(e,i,s){return this.addSvgIconInNamespace("",e,i,s)}addSvgIconLiteral(e,i,s){return this.addSvgIconLiteralInNamespace("",e,i,s)}addSvgIconInNamespace(e,i,s,r){return this._addSvgIconConfig(e,i,new Sg(s,null,r))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,s,r){const o=this._sanitizer.sanitize(Yr.HTML,s);if(!o)throw NJ(s);const a=S1(o);return this._addSvgIconConfig(e,i,new Sg("",a,r))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,s){return this._addSvgIconSetConfig(e,new Sg(i,null,s))}addSvgIconSetLiteralInNamespace(e,i,s){const r=this._sanitizer.sanitize(Yr.HTML,i);if(!r)throw NJ(i);const o=S1(r);return this._addSvgIconSetConfig(e,new Sg("",o,s))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(Yr.RESOURCE_URL,e);if(!i)throw FJ(e);const s=this._cachedIconsByUrl.get(i);return s?rn(Kk(s)):this._loadSvgIconFromConfig(new Sg(e,null)).pipe(br(r=>this._cachedIconsByUrl.set(i,r)),Vn(r=>Kk(r)))}getNamedSvgIcon(e,i=""){const s=VJ(i,e);let r=this._svgIconConfigs.get(s);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(i,e),r)return this._svgIconConfigs.set(s,r),this._getSvgFromConfig(r);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(e,o):c0(OJ(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?rn(Kk(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Vn(i=>Kk(i)))}_getSvgFromIconSetConfigs(e,i){const s=this._extractIconWithNameFromAnySet(e,i);return s?rn(s):yG(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(zf(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Yr.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),rn(null)})))).pipe(Vn(()=>{const o=this._extractIconWithNameFromAnySet(e,i);if(!o)throw OJ(e);return o}))}_extractIconWithNameFromAnySet(e,i){for(let s=i.length-1;s>=0;s--){const r=i[s];if(r.svgText&&r.svgText.toString().indexOf(e)>-1){const o=this._svgElementFromConfig(r),a=this._extractSvgIconFromSet(o,e,r.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(br(i=>e.svgText=i),Vn(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?rn(null):this._fetchIcon(e).pipe(br(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,s){const r=e.querySelector(`[id="${i}"]`);if(!r)return null;const o=r.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,s);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),s);const a=this._svgElementFromString(S1("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,s)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const s=i.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(e){const i=this._svgElementFromString(S1("<svg></svg>")),s=e.attributes;for(let r=0;r<s.length;r++){const{name:o,value:a}=s[r];"id"!==o&&i.setAttribute(o,a)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[r].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:s}=e,r=s?.withCredentials??!1;if(!this._httpClient)throw function mLe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const o=this._sanitizer.sanitize(Yr.RESOURCE_URL,i);if(!o)throw FJ(i);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:r}).pipe(Vn(c=>S1(c)),u0(()=>this._inProgressUrlFetches.delete(o)),function hLe(n={}){const{connector:t=(()=>new Gt),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:s=!0}=n;return r=>{let o,a,l,c=0,d=!1,u=!1;const f=()=>{a?.unsubscribe(),a=void 0},m=()=>{f(),o=l=void 0,d=u=!1},g=()=>{const v=o;m(),v?.unsubscribe()};return Ks((v,_)=>{c++,!u&&!d&&f();const y=l=l??t();_.add(()=>{c--,0===c&&!u&&!d&&(a=VB(g,s))}),y.subscribe(_),!o&&c>0&&(o=new xu({next:C=>y.next(C),error:C=>{u=!0,f(),a=VB(m,e,C),y.error(C)},complete:()=>{d=!0,f(),a=VB(m,i),y.complete()}}),wa(v).subscribe(o))})(r)}}());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(e,i,s){return this._svgIconConfigs.set(VJ(e,i),s),this}_addSvgIconSetConfig(e,i){const s=this._iconSetConfigs.get(e);return s?s.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let s=0;s<this._resolvers.length;s++){const r=this._resolvers[s](i,e);if(r)return _Le(r)?new Sg(r.url,null,r.options):new Sg(r,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(be(nl,8),be(ZO),be(Gn,8),be(Wl))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Kk(n){return n.cloneNode(!0)}function VJ(n,t){return n+":"+t}function _Le(n){return!(!n.url||!n.options)}const vLe=new Xe("MAT_ICON_DEFAULT_OPTIONS"),yLe=new Xe("mat-icon-location",{providedIn:"root",factory:function bLe(){const n=Ke(Gn),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),BJ=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],xLe=BJ.map(n=>`[${n}]`).join(", "),wLe=/^url\(['"]?#(.*?)['"]?\)$/;let CLe=(()=>{class n{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,s,r,o,a){this._elementRef=e,this._iconRegistry=i,this._location=r,this._errorHandler=o,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ti.EMPTY,a&&(a.color&&(this.color=this._defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),s||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const s=e.childNodes[i];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>e.classList.remove(s)),i.forEach(s=>e.classList.add(s)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((s,r)=>{s.forEach(o=>{r.setAttribute(o.name,`url('${e}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(xLe),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<i.length;r++)BJ.forEach(o=>{const a=i[r],l=a.getAttribute(o),c=l?l.match(wLe):null;if(c){let d=s.get(a);d||(d=[],s.set(a,d)),d.push({name:o,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,s]=this._splitIconName(e);i&&(this._svgNamespace=i),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,i).pipe(Ta(1)).subscribe(r=>this._setSvgElement(r),r=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${s}! ${r.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(K(gn),K(Zk),Oc("aria-hidden"),K(yLe),K(Wl),K(vLe,8))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,s){2&i&&(Nt("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet)("fontIcon",s._usingFontIcon()?s.fontIcon:null),uo(s.color?"mat-"+s.color:""),dn("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:[St.HasDecoratorInputTransform,"inline","inline",lr],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Yl,tr],ngContentSelectors:fLe,decls:1,vars:0,template:function(i,s){1&i&&(jl(),Bo(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),MLe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({imports:[ka,ka]})}return n})();function TLe(n,t){if(1&n){const e=vt();L(0,"button",12),ye("click",function(){const r=ie(e).$implicit;return se(N().onStoreSelect(r))}),U(1),k()}if(2&n){const e=t.$implicit;I(),Ot(" ",e.storeName," ")}}function SLe(n,t){1&n&&Te(0,"i",15)}function DLe(n,t){1&n&&Te(0,"i",17)}function ELe(n,t){if(1&n){const e=vt();L(0,"li",12),ye("click",function(){const r=ie(e).$implicit;return se(N(2).selectEmployee(r))}),U(1),k()}if(2&n){const e=t.$implicit;I(),Kv(" ",null==e?null:e.firstName," ",null==e?null:e.lastName," ")}}function ALe(n,t){if(1&n&&(L(0,"div",18)(1,"ul"),me(2,ELe,2,2,"li",2),k()()),2&n){const e=N();I(2),B("ngForOf",e.staffList)}}function kLe(n,t){if(1&n){const e=vt();L(0,"div",19)(1,"button",20),ye("click",function(){return ie(e),se(N().toggleEditMode())}),Te(2,"i",21),U(3," Edit Mode "),k()()}}function ILe(n,t){if(1&n&&(es(0),L(1,"th"),U(2),Te(3,"br"),U(4),k(),ts()),2&n){const e=t.$implicit,i=N(2);I(2),Ot(" ",e," "),I(2),Ot(" ",i.getDayLabel(e)," ")}}function LLe(n,t){if(1&n&&(L(0,"td"),U(1),k()),2&n){const e=N().$implicit;I(),Kv("",e.firstName," ",e.lastName,"")}}function RLe(n,t){1&n&&(es(0),L(1,"div",25)(2,"span",26),U(3,"Holiday"),k()(),ts())}function PLe(n,t){if(1&n&&(es(0),U(1),Zn(2,"date"),Zn(3,"date"),ts()),2&n){const e=N().$implicit,i=N().$implicit,s=N(2);let r;I(),Kv(" ",fs(2,2,null==(r=s.getShiftForDay(i,e))?null:r.start,"shortTime")," - ",fs(3,5,null==(r=s.getShiftForDay(i,e))?null:r.end,"shortTime")," ")}}function OLe(n,t){if(1&n){const e=vt();es(0),L(1,"i",27),ye("click",function(){ie(e);const s=N().$implicit,r=N().$implicit;return se(N(2).addShift(r,s))}),k(),ts()}}function FLe(n,t){if(1&n){const e=vt();L(0,"i",29),ye("click",function(){ie(e);const s=N(2).$implicit,r=N().$implicit,o=N(2);return se(o.getShiftForDay(r,s)&&o.removeShift(o.getShiftForDay(r,s)))}),k()}}function NLe(n,t){if(1&n){const e=vt();es(0),L(1,"div",30)(2,"span",31),U(3,"\u{1f552}"),k(),L(4,"input",32),ye("ngModelChange",function(s){return ie(e),se(N(5).tempStartShift=s)}),k()(),Te(5,"br"),L(6,"div",30)(7,"span",31),U(8,"\u{1f552}"),k(),L(9,"input",33),ye("ngModelChange",function(s){return ie(e),se(N(5).tempEndShift=s)}),k()(),Te(10,"br"),L(11,"mat-icon",12),ye("click",function(){ie(e);const s=N(2).$implicit,r=N().$implicit;return se(N(2).setAnnualLeave(r,s))}),U(12,"flight_takeoff"),k(),L(13,"mat-icon",12),ye("click",function(){ie(e);const s=N(2).$implicit,r=N().$implicit,o=N(2);return se(o.confirmShift(r,s,o.tempStartShift,o.tempEndShift))}),U(14,"check"),k(),ts()}if(2&n){const e=N(5);I(4),B("ngModel",e.tempStartShift),I(5),B("ngModel",e.tempEndShift)}}function VLe(n,t){if(1&n&&(es(0),me(1,FLe,1,0,"i",28)(2,NLe,15,2,"ng-container",23),ts()),2&n){const e=N().$implicit,i=N().$implicit,s=N(2);I(),B("ngIf",s.getShiftForDay(i,e)),I(),B("ngIf",s.currentlyEditing.staffId===i.id&&s.currentlyEditing.day===e)}}const BLe=n=>({"annual-leave":n});function HLe(n,t){if(1&n){const e=vt();es(0),L(1,"td",24),ye("cdkDropListDropped",function(s){const o=ie(e).$implicit,a=N().$implicit;return se(N(2).assignShift(s,a,o))}),me(2,RLe,4,0,"ng-container",23)(3,PLe,4,8,"ng-container",23)(4,OLe,2,0,"ng-container",23)(5,VLe,3,2,"ng-container",23),k(),ts()}if(2&n){const e=t.$implicit,i=N().$implicit,s=N(2);let r,o,a;I(),dn("day-off",!s.getShiftForDay(i,e)),B("ngClass",Ds(7,BLe,null==(r=s.getShiftForDay(i,e))?null:r.isLeave)),I(),B("ngIf",null==(o=s.getShiftForDay(i,e))?null:o.isLeave),I(),B("ngIf",s.getShiftForDay(i,e)&&!(null!=(a=s.getShiftForDay(i,e))&&a.isLeave)),I(),B("ngIf",s.isEditMode&&!s.getShiftForDay(i,e)&&(!s.currentlyEditing.staffId||s.currentlyEditing.staffId===i.id&&s.currentlyEditing.day===e)),I(),B("ngIf",s.isEditMode)}}function zLe(n,t){if(1&n&&(L(0,"tr"),me(1,LLe,2,2,"td",23)(2,HLe,6,9,"ng-container",16),L(3,"td"),U(4),k()()),2&n){const e=t.$implicit,i=N().$implicit,s=N();I(),B("ngIf",e),I(),B("ngForOf",i),I(2),Ot("",s.getTotalHoursWorkedForWeek(e,i)," Hours")}}function ULe(n,t){if(1&n&&(es(0),L(1,"table",22)(2,"thead")(3,"tr")(4,"th"),U(5,"Staff"),k(),me(6,ILe,5,2,"ng-container",16),L(7,"th"),U(8,"Hours Worked"),k()()(),L(9,"tbody"),me(10,zLe,5,3,"tr",16),k()(),Te(11,"br"),ts()),2&n){const e=t.$implicit,i=N();I(6),B("ngForOf",e),I(4),B("ngForOf",i.staffList)}}let WLe=(()=>{class n{setAnnualLeave(e,i){const s=new Date(`${this.currentYear}-${this.currentMonth+1}-${i}`),r=new Date(s.setHours(0,0,0,0)),o=new Date(s.setHours(23,59,59,999)),a={staffId:e.id,date:s,start:r,end:o,isLeave:!0,isOff:!1},l=this.shifts.findIndex(c=>c.staffId===e.id&&c.date.getDate()===i&&c.date.getMonth()===this.currentMonth&&c.date.getFullYear()===this.currentYear);l>-1?this.shifts[l]=a:this.shifts.push(a),this.currentlyEditing={},this.http.post(`${os}/Rota`,{rotaId:0,userId:e.id,storeId:this.selectedStore.id,date:s.toISOString().split("T")[0],startTime:"00:00:00",endTime:"00:00:00",isLeave:!0,isOff:!1}).subscribe(c=>{console.log("Annual leave shift saved:",c),this.fetchShiftsForSelectedStore()},c=>{console.error("Error saving annual leave shift:",c)})}formatDate(e){return`${e.getFullYear()}-${this.padZero(e.getMonth()+1)}-${this.padZero(e.getDate())}`}padZero(e){return e<10?`0${e}`:e.toString()}getTotalHoursWorkedForWeek(e,i){let s=0;for(const r of i){const o=this.getShiftForDay(e,r);if(o&&!o.isLeave){const a=new Date(o.start);s+=(new Date(o.end).getTime()-a.getTime())/36e5}}return s}getWeeksInMonth(e,i){const s=[],r=new Date(i,e,1),a=new Date(i,e+1,0).getDate(),l=r.getDay();let c=1-(0===l?6:l-1),d=7-(0===l?6:l-1);for(;c<=a;)s.push(Array.from({length:d-c+1},(u,f)=>f+c).filter(u=>u>=1)),c=d+1,d+=7,d>a&&(d=a);return s}confirmShift(e,i,s,r){const o=s.padStart(5,"0"),a=r.padStart(5,"0"),l=(this.currentMonth+1).toString().padStart(2,"0"),c=i.toString().padStart(2,"0");this.rotaService.addShift({userId:e.id,storeId:this.selectedStore.id,date:`${this.currentYear}-${l}-${c}`,startTime:`${o}:00`,endTime:`${a}:00`,isLeave:!1,isOff:!1}).subscribe(u=>{console.log("Shift added successfully:",u),this.fetchShiftsForSelectedStore()},u=>{console.error("Error adding shift:",u)}),this.tempStartShift="",this.tempEndShift="",this.currentlyEditing={}}toggleEmployeeSidebar(){this.employeeSidebarVisible=!this.employeeSidebarVisible}isAdmin(){const e=localStorage.getItem("access_token");return!!e&&"Admin"===cp(e).role}checkAdminStatus(){this.isAdmin$.next(this.isAdmin())}toggleEditMode(){this.isAdmin()&&(this.isEditMode=!this.isEditMode,console.log("Toggled edit mode:",this.isEditMode))}addShift(e,i){this.currentlyEditing.staffId===e.id&&this.currentlyEditing.day===i?this.currentlyEditing={}:(this.currentlyEditing.staffId=e.id,this.currentlyEditing.day=i)}removeShift(e){const i=e.staffId+"-"+e.date.toISOString(),s=this.shiftRotaIds[i];s?this.rotaService.deleteShift(s).subscribe(()=>{console.log("Shift deleted successfully");const r=this.shifts.indexOf(e);-1!==r&&this.shifts.splice(r,1),delete this.shiftRotaIds[i]},r=>{console.error("Error deleting shift:",r)}):console.error("rotaId not found for shift:",e)}getShiftForDay(e,i){const s=new Date(this.currentYear,this.currentMonth,i);return this.shifts.find(r=>r.staffId===e.id&&r.date.getDate()===s.getDate()&&r.date.getMonth()===s.getMonth()&&r.date.getFullYear()===s.getFullYear())}getTotalHoursWorked(e){const i=this.shifts.filter(r=>r.staffId===e.id);let s=0;for(let r of i){const o=r.start.getTime();s+=(r.end.getTime()-o)/36e5}return s}assignShift(e,i,s){console.log("Dropped data:",e.item.data),console.log("Assigned to staff:",i),console.log("On day:",s)}changeMonth(e){this.currentMonth+=e,this.currentMonth<0?(this.currentMonth=11,this.currentYear-=1):this.currentMonth>11&&(this.currentMonth=0,this.currentYear+=1),this.currentDate=new Date(this.currentYear,this.currentMonth,1),this.updateDaysInMonth()}constructor(e,i){this.rotaService=e,this.http=i,this.stores=[],this.shifts=[],this.selectedStore=null,this.employees=[],this.staffList=[],this.selectedEmployee=null,this.currentDate=new Date,this.currentYear=(new Date).getFullYear(),this.currentMonth=(new Date).getMonth(),this.daysInMonth=[],this.employeeSidebarVisible=!1,this.isEditMode=!1,this.currentlyEditing={},this.startShift="",this.endShift="",this.tempStartShift="",this.tempEndShift="",this.weeksOfMonth=[],this.isAdmin$=new xs(this.isAdmin()),this.shiftRotaIds={}}ngOnInit(){this.isAdmin(),this.updateDaysInMonth();const e=new Date;this.currentYear=e.getFullYear(),this.currentMonth=e.getMonth(),this.rotaService.getStores().subscribe(i=>{console.log("Stores fetched from API:",i),this.stores=i})}getDayLabel(e){return["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][(new Date(this.currentYear,this.currentMonth,e).getDay()-1+7)%7]}updateDaysInMonth(){const e=new Date(this.currentYear,this.currentMonth+1,0).getDate();this.daysInMonth=Array.from({length:e},(i,s)=>s+1),this.weeksOfMonth=this.getWeeksInMonth(this.currentMonth,this.currentYear)}selectEmployee(e){this.selectedEmployee=e}onStoreSelect(e){this.selectedStore=e,this.rotaService.getStaffByStore(e.id).subscribe(i=>{this.staffList=i}),this.rotaService.getRotaByStore(e.id).subscribe(i=>{this.shifts=i.map(s=>{const r={staffId:s.userId,date:new Date(s.date),start:new Date(`2000-01-01T${s.startTime}`),end:new Date(`2000-01-01T${s.endTime}`),isLeave:s.isLeave,isOff:s.isOff};return this.shiftRotaIds[r.staffId+"-"+r.date.toISOString()]=s.rotaId,r}),console.log("Rotas fetched from API:",i)})}formatTime(e){return e.substring(0,5)}fetchShiftsForSelectedStore(){this.selectedStore&&this.rotaService.getRotaByStore(this.selectedStore.id).subscribe(e=>{this.shifts=e.map(i=>{const s={staffId:i.userId,date:new Date(i.date),start:new Date(`2000-01-01T${i.startTime}`),end:new Date(`2000-01-01T${i.endTime}`),isLeave:i.isLeave,isOff:i.isOff};return this.shiftRotaIds[s.staffId+"-"+s.date.toISOString()]=i.rotaId,s}),console.log("Rotas fetched from API:",e)},e=>{console.error("Error fetching shifts:",e)})}static#e=this.\u0275fac=function(i){return new(i||n)(K($Ie),K(nl))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["app-rota"]],decls:27,vars:12,consts:[[1,"container-fluid","mt-2"],[1,"store-buttons"],[3,"click",4,"ngFor","ngForOf"],[1,"rota-container"],[1,"employee-sidebar-toggle",3,"click"],["class","fas fa-chevron-right",4,"ngIf"],["class","fas fa-chevron-down",4,"ngIf"],["class","employee-sidebar",4,"ngIf"],[1,"rota-main"],[1,"rota-table-container"],["class","edit-mode-container",4,"ngIf"],[1,"month-navigation"],[3,"click"],[1,"fas","fa-chevron-left"],[1,"month-name"],[1,"fas","fa-chevron-right"],[4,"ngFor","ngForOf"],[1,"fas","fa-chevron-down"],[1,"employee-sidebar"],[1,"edit-mode-container"],[1,"edit-mode-toggle",3,"click"],[1,"fas","fa-edit"],[1,"rota-table"],[4,"ngIf"],["cdkDropList","",3,"ngClass","cdkDropListDropped"],[1,"holiday-cell"],[1,"holiday-text"],["aria-hidden","true","title","Add Shift",1,"fa","fa-plus-circle",3,"click"],["class","fa fa-trash","aria-hidden","true","title","Remove Shift",3,"click",4,"ngIf"],["aria-hidden","true","title","Remove Shift",1,"fa","fa-trash",3,"click"],[1,"input-with-icon"],[1,"clock-icon"],["placeholder","9:00",1,"rounded-input",3,"ngModel","ngModelChange"],["placeholder","18:00",1,"rounded-input",3,"ngModel","ngModelChange"]],template:function(i,s){1&i&&(L(0,"div",0)(1,"h2"),U(2,"Rota"),k(),L(3,"p"),U(4,'You must contact your lead via "Staff" section for any queries.'),k()(),L(5,"div",1),me(6,TLe,2,1,"button",2),k(),L(7,"div",3)(8,"div",4),ye("click",function(){return s.toggleEmployeeSidebar()}),me(9,SLe,1,0,"i",5)(10,DLe,1,0,"i",6),L(11,"span"),U(12,"Employees"),k()(),me(13,ALe,3,1,"div",7),L(14,"div",8)(15,"div",9),me(16,kLe,4,0,"div",10),Zn(17,"async"),L(18,"div",11)(19,"button",12),ye("click",function(){return s.changeMonth(-1)}),Te(20,"i",13),k(),L(21,"div",14),U(22),Zn(23,"date"),k(),L(24,"button",12),ye("click",function(){return s.changeMonth(1)}),Te(25,"i",15),k()(),me(26,ULe,12,2,"ng-container",16),k()()()),2&i&&(I(6),B("ngForOf",s.stores),I(3),B("ngIf",!s.employeeSidebarVisible),I(),B("ngIf",s.employeeSidebarVisible),I(3),B("ngIf",s.employeeSidebarVisible),I(3),B("ngIf",va(17,7,s.isAdmin$)),I(6),Ye(fs(23,9,s.currentDate,"MMMM yyyy")),I(4),B("ngForOf",s.weeksOfMonth))},dependencies:[Zl,nr,$s,qc,nh,PJ,ih,CLe,xw,ww],styles:[".store-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;padding:20px}.store-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:18px;padding:10px 20px;border:none;border-radius:25px;background-color:red;color:#fff;cursor:pointer;transition:all .3s ease}.store-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#8b0000;transform:scale(1.05);box-shadow:5px 5px 15px #0003}.store-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.95)}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:5px;margin:5px 0;font-size:16px}.rota-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;align-items:flex-start}.employee-sidebar-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;margin-bottom:1rem;color:#444}.employee-sidebar-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:10px}.employee-sidebar[_ngcontent-%COMP%]{flex:0 0 250px;background-color:#f5f5f5;padding:1rem;border-radius:5px;box-shadow:2px 2px 5px #0000001a}.employee-sidebar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem}.employee-sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}.employee-sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem 1rem;margin-bottom:.5rem;cursor:pointer;border-radius:3px;transition:background-color .3s}.employee-sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#ddd}.rota-main[_ngcontent-%COMP%]{flex-grow:1}.rota-main[_ngcontent-%COMP%]   .month-navigation[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding:.5rem 1rem;background:linear-gradient(45deg,#f24645,#d62976);border-radius:20px;box-shadow:0 4px 6px #0000001a;color:#fff}.rota-main[_ngcontent-%COMP%]   .month-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;color:#fff;cursor:pointer;transition:color .2s}.rota-main[_ngcontent-%COMP%]   .month-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#f2f2f2}.rota-main[_ngcontent-%COMP%]   .month-navigation[_ngcontent-%COMP%]   .month-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;text-transform:uppercase;letter-spacing:1px}.rota-main[_ngcontent-%COMP%]   .rota-table-container[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.rota-main[_ngcontent-%COMP%]   .rota-table-container[_ngcontent-%COMP%]   .rota-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-radius:5px;overflow:hidden;box-shadow:0 3px 6px #0000001a}.rota-main[_ngcontent-%COMP%]   .rota-table-container[_ngcontent-%COMP%]   .rota-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rota-main[_ngcontent-%COMP%]   .rota-table-container[_ngcontent-%COMP%]   .rota-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.8rem 1.2rem;text-align:center;border-bottom:1px solid #e7e7e7}.rota-main[_ngcontent-%COMP%]   .rota-table-container[_ngcontent-%COMP%]   .rota-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f24645;color:#fff;font-weight:700;letter-spacing:.8px}.rota-main[_ngcontent-%COMP%]   .rota-table-container[_ngcontent-%COMP%]   .rota-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .2s}.rota-main[_ngcontent-%COMP%]   .rota-table-container[_ngcontent-%COMP%]   .rota-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.rota-main[_ngcontent-%COMP%]   .rota-table-container[_ngcontent-%COMP%]   .rota-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f6f6f6}.rota-main[_ngcontent-%COMP%]   .rota-table-container[_ngcontent-%COMP%]   .rota-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fff}@media screen and (max-width: 1200px){.rota-main[_ngcontent-%COMP%]   .rota-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rota-main[_ngcontent-%COMP%]   .rota-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem .8rem}.rota-main[_ngcontent-%COMP%]   .month-navigation[_ngcontent-%COMP%]   .month-name[_ngcontent-%COMP%], .rota-main[_ngcontent-%COMP%]   .month-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.3rem}}@media screen and (max-width: 768px){.rota-main[_ngcontent-%COMP%]   .rota-table[_ngcontent-%COMP%], .rota-main[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .rota-main[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .rota-main[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rota-main[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .rota-main[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block}.rota-main[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}.rota-main[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{margin:0 0 1rem}.rota-main[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #eee;position:relative;padding-left:50%}.rota-main[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{position:absolute;top:0;left:6px;width:45%;padding-right:10px;white-space:nowrap}}.edit-mode-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1rem}.edit-mode-toggle[_ngcontent-%COMP%]{background:linear-gradient(45deg,#f24645,#d62976);border:none;color:#fff;padding:5px 10px;border-radius:4px;cursor:pointer;transition:background-color .2s;display:flex;align-items:center}.edit-mode-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.edit-mode-toggle[_ngcontent-%COMP%]:hover{background-color:#f4b800}.day-off[_ngcontent-%COMP%]{background-color:#b2ffa3}.week-container[_ngcontent-%COMP%]{margin-bottom:20px}.input-with-icon[_ngcontent-%COMP%]{position:relative;display:inline-block}.rounded-input[_ngcontent-%COMP%]{padding-left:30px;border-radius:15px;width:80px;border:1px solid #ccc;outline:none;transition:border-color .3s ease}.rounded-input[_ngcontent-%COMP%]:focus{border-color:#007bff}.clock-icon[_ngcontent-%COMP%]{position:absolute;left:10px;top:50%;transform:translateY(-50%);pointer-events:none}.annual-leave[_ngcontent-%COMP%]{background-color:red;color:#fff}mat-icon.activated[_ngcontent-%COMP%]{color:red;border:2px solid red;border-radius:50%;padding:2px}"]})}return n})(),YLe=(()=>{class n{constructor(e,i){this.fb=e,this.http=i,this.settingsForm=this.fb.group({firstName:["",ko.required],lastName:["",ko.required],phoneNumber:["",ko.required],email:["",[ko.required,ko.email]],address:["",ko.required]});const s=localStorage.getItem("access_token");if(s){const r=cp(s);this.staffId=r.nameid,this.fetchAndPopulateFormData(this.staffId)}else console.error("No token found. User might not be authenticated.")}ngOnInit(){}fetchAndPopulateFormData(e){this.http.get(`${os}/Staff/${e}`).subscribe(s=>{console.log("API Response:",s),this.settingsForm.patchValue({firstName:s.firstName||"",lastName:s.lastName||"",phoneNumber:s.phoneNumber||"",email:s.email||"",address:s.address||""}),console.log("Form Values:",this.settingsForm.value)},s=>{console.error("Error fetching staff details:",s)})}onSubmit(){if(this.settingsForm.valid){const e=this.settingsForm.value;console.log("Submitting:",e),this.updateStaffDetails(this.staffId,e)}else console.error("Form is not valid. Please check the input fields.")}updateStaffDetails(e,i){const s=`${os}/Staff/${e}`,r=localStorage.getItem("access_token");r?this.http.put(s,i,{headers:{Authorization:`Bearer ${r}`}}).subscribe(a=>{console.log("Update successful:",a)},a=>{console.error("Error updating staff details:",a)}):console.error("No authentication token found. Please check your authentication flow.")}static#e=this.\u0275fac=function(i){return new(i||n)(K(x$),K(nl))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["app-settings"]],decls:61,vars:1,consts:[[1,"container-fluid","mt-2"],[1,"form",3,"formGroup","ngSubmit"],[1,"cards-container"],[1,"card-flip"],[1,"card"],[1,"front"],[1,"back"],[1,"form-group"],["type","text","formControlName","firstName",1,"form-control"],["type","text","formControlName","lastName",1,"form-control"],["type","text","formControlName","phoneNumber","placeholder","+447711223344",1,"form-control"],["type","email","formControlName","email",1,"form-control"],["formControlName","address",1,"form-control"],["type","submit",1,"btn","btn-primary"],["type","text","formControlName","sortcode",1,"form-control"],["type","text","formControlName","accountNumber",1,"form-control"],["type","text","formControlName","nameOnCard",1,"form-control"]],template:function(i,s){1&i&&(L(0,"div",0)(1,"h2"),U(2,"Settings"),k(),L(3,"p"),U(4,"Your account settings can be modified in this section."),k(),L(5,"form",1),ye("ngSubmit",function(){return s.onSubmit()}),L(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5)(10,"h3"),U(11,"Account Info"),k()(),L(12,"div",6)(13,"h3"),U(14,"Account Info"),k(),L(15,"div",7)(16,"label"),U(17,"First Name:"),k(),Te(18,"input",8),k(),L(19,"div",7)(20,"label"),U(21,"Last Name:"),k(),Te(22,"input",9),k(),L(23,"div",7)(24,"label"),U(25,"Phone Number:"),k(),Te(26,"input",10),k(),L(27,"div",7)(28,"label"),U(29,"Email Address:"),k(),Te(30,"input",11),k(),L(31,"div",7)(32,"label"),U(33,"Home Address:"),k(),Te(34,"textarea",12),k(),Te(35,"br"),L(36,"button",13),U(37,"Save"),k()()()(),L(38,"div",3)(39,"div",4)(40,"div",5)(41,"h3"),U(42,"Payroll Details"),k()(),L(43,"div",6)(44,"h3"),U(45,"Payroll Details"),k(),L(46,"div",7)(47,"label"),U(48,"Sortcode:"),k(),Te(49,"input",14),k(),L(50,"div",7)(51,"label"),U(52,"Account Number:"),k(),Te(53,"input",15),k(),L(54,"div",7)(55,"label"),U(56,"Name on the Card:"),k(),Te(57,"input",16),k(),Te(58,"br"),L(59,"button",13),U(60,"Save"),k()()()()()()()),2&i&&(I(5),B("formGroup",s.settingsForm))},dependencies:[a0,qc,nh,s0,Pw,$D],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%;margin:0;font-family:Arial,sans-serif;background-color:#f4f4f4}.container-fluid[_ngcontent-%COMP%]{max-width:1200px;margin:3% auto;display:flex;flex-direction:column;align-items:center}.form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f00c;width:100%;margin-bottom:20px}.form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#777;margin-bottom:15px;font-size:.9em;width:100%}.form[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;width:100%}.form[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .card-flip[_ngcontent-%COMP%]{perspective:1500px;flex:1;width:48%;margin-bottom:2%}.form[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .card-flip[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:transparent;border-radius:12px;box-shadow:0 10px 30px #00000014;position:relative;transform-style:preserve-3d;transition:all .8s ease;height:450px;width:100%;overflow:hidden}.form[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .card-flip[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .card-flip[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;flex-direction:column;width:100%;height:100%;backface-visibility:hidden;border-radius:12px;transition:all .8s ease}.form[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .card-flip[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{background-color:#f00c;color:#fff;font-size:1.5em;transform:rotateY(0)}.form[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .card-flip[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{background-color:#fff;padding:20px;transform:rotateY(180deg)}.form[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .card-flip[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .back[_ngcontent-%COMP%]{transform:rotateY(360deg)}.form[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .card-flip[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .front[_ngcontent-%COMP%]{transform:rotateY(180deg)}.form[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .card-flip[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .back[_ngcontent-%COMP%]{transform:rotateY(0)}@media only screen and (max-width: 800px){.form[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .card-flip[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}}.btn[_ngcontent-%COMP%]{padding:12px 25px;border-radius:25px;font-size:16px;text-transform:uppercase;letter-spacing:1px;border:none;cursor:pointer;transition:all .3s ease;outline:none;box-shadow:0 5px 15px #0003}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#f00c;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#ff1a1a;box-shadow:0 7px 20px #00000040}.btn.btn-primary[_ngcontent-%COMP%]:active{background-color:#b30000;box-shadow:0 3px 10px #0003}"]})}return n})();function GLe(n,t){if(1&n&&(L(0,"tr")(1,"td"),U(2),k(),L(3,"td"),U(4),k(),L(5,"td"),U(6),k(),L(7,"td")(8,"a",4),Te(9,"i",5),k()()()),2&n){const e=t.$implicit;I(2),Ye(e.firstName),I(2),Ye(e.lastName),I(2),Ye(e.role),I(2),oD("href","mailto:",e.email,"",Ix)}}function $Le(n,t){if(1&n&&(L(0,"div",0)(1,"h2"),U(2),k(),L(3,"table",2)(4,"thead")(5,"tr")(6,"th"),U(7,"First Name"),k(),L(8,"th"),U(9,"Last Name"),k(),L(10,"th"),U(11,"Rank"),k(),L(12,"th"),U(13,"Contact"),k()()(),L(14,"tbody"),me(15,GLe,10,4,"tr",3),k()(),Te(16,"br")(17,"br"),k()),2&n){const e=t.$implicit,i=N();I(2),Ye(e),I(13),B("ngForOf",i.getStaffByStore(e))}}let jLe=(()=>{class n{constructor(e){this.storeService=e,this.stores=[],this.staffByStore={}}ngOnInit(){this.storeService.getStores().subscribe(e=>{this.stores=e.map(i=>i.storeName),this.stores.forEach(i=>{const s=e.find(r=>r.storeName===i);s&&this.storeService.getEmployeesByStore(s.id).subscribe(r=>{this.staffByStore[i]=r})})})}getStaffByStore(e){return this.staffByStore[e]||[]}static#e=this.\u0275fac=function(i){return new(i||n)(K(EB))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["app-staff"]],decls:8,vars:1,consts:[[1,"container-fluid","mt-2"],["class","container-fluid mt-2",4,"ngFor","ngForOf"],[1,"staff-table"],[4,"ngFor","ngForOf"],["target","_blank",1,"email-button",3,"href"],["aria-hidden","true",1,"fa","fa-envelope"]],template:function(i,s){1&i&&(L(0,"div",0)(1,"h2"),U(2,"Staff"),k(),L(3,"p"),U(4,"Get in touch with your colleagues and leads with a few clicks."),k(),L(5,"p"),U(6,"In case of an emergency, please reach out to your administrators directly."),k()(),me(7,$Le,18,2,"div",1)),2&i&&(I(7),B("ngForOf",s.stores))},dependencies:[nr],styles:[".staff-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;background-color:#ffffff4d}.staff-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .staff-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px 12px;text-align:center}.staff-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#ff0000b3;color:#000}.staff-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.email-button[_ngcontent-%COMP%]{text-align:center;justify-content:center;align-items:center;background-color:transparent;border:none;cursor:pointer;color:#ff0000b3;font-size:18px;padding:5px;text-decoration:none;display:inline-block;transition:color .3s}.email-button[_ngcontent-%COMP%]:hover{color:#fff}"]})}return n})(),XLe=(()=>{class n{constructor(e){this.http=e}getStores(){return this.http.get(`${os}/Stores`)}static#e=this.\u0275fac=function(i){return new(i||n)(be(nl))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const qLe=(n,t,e)=>({gold:n,silver:t,bronze:e}),ZLe=(n,t)=>({"font-weight":n,"font-size":t});function KLe(n,t){if(1&n&&(L(0,"tr",13)(1,"td",14),U(2),k(),L(3,"td"),U(4),k(),L(5,"td"),U(6),Zn(7,"currency"),k()()),2&n){const e=t.$implicit,i=t.index;B("ngClass",QY(10,qLe,0===i,1===i,2===i)),I(),B("ngStyle",Lf(14,ZLe,i<3?"bold":"normal",i<3?"1.3em":"inherit")),I(),Ye(i+1),I(2),Ye(e.name),I(2),Ye(iO(7,5,e.revenue,"GBP","symbol","1.2-2"))}}function QLe(n,t){if(1&n&&(es(0),me(1,KLe,8,17,"tr",12),ts()),2&n){const e=N();I(),B("ngForOf",e.leaderboardData)}}function JLe(n,t){1&n&&(L(0,"tr")(1,"td",15),U(2,"No data available"),k()())}function eRe(n,t){if(1&n&&(es(0),L(1,"tr")(2,"td",10),U(3),k(),L(4,"td"),U(5),k(),L(6,"td"),U(7),k(),L(8,"td"),U(9),k(),L(10,"td"),U(11),k(),L(12,"td"),U(13),Zn(14,"currency"),k(),L(15,"td"),U(16),k(),L(17,"td"),U(18),k()(),ts()),2&n){const e=t.$implicit;I(3),Ye(e.location),I(2),Ye(e.actual.additional),I(2),Ye(e.actual.HBB),I(2),Ye(e.actual.insurance),I(2),Ye(e.actual.new),I(2),Ye(iO(14,8,e.actual.revenue,"GBP","symbol","1.2-2")),I(3),Ye(e.actual.unlimited),I(2),Ye(e.actual.upgrades)}}function tRe(n,t){if(1&n&&(es(0),L(1,"tr")(2,"td",10),U(3),k()(),ts()),2&n){const e=t.$implicit;I(3),Ye(e.storeName)}}function iRe(n,t){if(1&n&&(L(0,"option",28),U(1),k()),2&n){const e=t.$implicit;B("value",e),I(),Ye(e)}}function sRe(n,t){if(1&n&&(L(0,"option",28),U(1),k()),2&n){const e=t.$implicit;B("value",e.id),I(),Ye(e.name)}}function rRe(n,t){if(1&n){const e=vt();L(0,"div")(1,"form",8),ye("submit",function(){return ie(e),se(N().registerEmployee())}),Te(2,"br"),L(3,"div",9),Te(4,"span",10)(5,"input",11),k(),L(6,"div",9),Te(7,"span",12)(8,"input",13),k(),L(9,"div",9),Te(10,"span",12)(11,"input",14),k(),L(12,"div",9),Te(13,"span",15)(14,"input",16),k(),L(15,"div",9),Te(16,"span",17)(17,"input",18),k(),L(18,"div",9),Te(19,"span",19)(20,"input",20),k(),L(21,"div",9),Te(22,"span",19)(23,"input",21),k(),L(24,"div",9),Te(25,"span",22),L(26,"select",23),me(27,iRe,2,2,"option",24),k()(),L(28,"div",9),Te(29,"span",25),L(30,"select",26),me(31,sRe,2,2,"option",24),k()(),L(32,"button",27),U(33,"Add"),k()()()}if(2&n){const e=N();B("@slideDownAnimation",void 0),I(),B("formGroup",e.registrationForm),I(26),B("ngForOf",e.roles),I(4),B("ngForOf",e.stores)}}function oRe(n,t){if(1&n&&(L(0,"option",28),U(1),k()),2&n){const e=t.$implicit;B("value",e.id),I(),Ye(e.name)}}function aRe(n,t){if(1&n){const e=vt();L(0,"tr")(1,"td"),U(2),k(),L(3,"td"),U(4),k(),L(5,"td"),U(6),k(),L(7,"td")(8,"button",2),ye("click",function(){const r=ie(e).$implicit;return se(N(2).removeEmployee(r))}),U(9,"Remove"),k()()()}if(2&n){const e=t.$implicit;I(2),Ye(e.firstName),I(2),Ye(e.lastName),I(2),Ye(e.role)}}function lRe(n,t){if(1&n){const e=vt();L(0,"div")(1,"div",29)(2,"label",30),U(3,"Select Store:"),k(),L(4,"select",31),ye("ngModelChange",function(s){return ie(e),se(N().selectedStore=s)})("change",function(){return ie(e),se(N().onStoreChange())}),me(5,oRe,2,2,"option",24),k()(),L(6,"table")(7,"thead")(8,"tr")(9,"th"),U(10,"First Name"),k(),L(11,"th"),U(12,"Last Name"),k(),L(13,"th"),U(14,"Role"),k(),L(15,"th"),U(16,"Action"),k()()(),L(17,"tbody"),me(18,aRe,10,3,"tr",32),k()()()}if(2&n){const e=N();B("@slideDownAnimation",void 0),I(4),B("ngModel",e.selectedStore),I(),B("ngForOf",e.stores),I(13),B("ngForOf",e.employees)}}function cRe(n,t){if(1&n&&(L(0,"option",28),U(1),k()),2&n){const e=t.$implicit;B("value",e.id),I(),Ye(e.name)}}function dRe(n,t){if(1&n&&(L(0,"option",28),U(1),k()),2&n){const e=t.$implicit;B("value",e.id),I(),Ye(e.name)}}function uRe(n,t){if(1&n){const e=vt();L(0,"tr")(1,"td"),U(2),k(),L(3,"td"),U(4),k(),L(5,"td"),U(6),k(),L(7,"td")(8,"button",2),ye("click",function(){const r=ie(e).$implicit;return se(N(2).lendEmployee(r))}),U(9,"Lend"),k()()()}if(2&n){const e=t.$implicit;I(2),Ye(e.firstName),I(2),Ye(e.lastName),I(2),Ye(e.role)}}function hRe(n,t){if(1&n){const e=vt();L(0,"div")(1,"div",29)(2,"label",33),U(3,"From: "),k(),L(4,"select",34),ye("ngModelChange",function(s){return ie(e),se(N().selectedLendStoreFrom=s)})("change",function(){return ie(e),se(N().onLendStoreChangeFrom())}),me(5,cRe,2,2,"option",24),k(),L(6,"label",35),U(7," To:"),k(),L(8,"select",36),ye("ngModelChange",function(s){return ie(e),se(N().selectedLendStoreTo=s)})("change",function(){return ie(e),se(N().onLendStoreChangeTo())}),me(9,dRe,2,2,"option",24),k()(),L(10,"table")(11,"thead")(12,"tr")(13,"th"),U(14,"First Name"),k(),L(15,"th"),U(16,"Last Name"),k(),L(17,"th"),U(18,"Role"),k(),L(19,"th"),U(20,"Action"),k()()(),L(21,"tbody"),me(22,uRe,10,3,"tr",32),k()()()}if(2&n){const e=N();B("@slideDownAnimation",void 0),I(4),B("ngModel",e.selectedLendStoreFrom),I(),B("ngForOf",e.stores),I(3),B("ngModel",e.selectedLendStoreTo),I(),B("ngForOf",e.stores),I(13),B("ngForOf",e.employees)}}function fRe(n,t){if(1&n&&(L(0,"option",28),U(1),k()),2&n){const e=t.$implicit;B("value",e.id),I(),Ye(e.name)}}function pRe(n,t){if(1&n&&(L(0,"option",28),U(1),k()),2&n){const e=t.$implicit;B("value",e),I(),Ye(e)}}function mRe(n,t){if(1&n){const e=vt();L(0,"tr")(1,"td"),U(2),k(),L(3,"td"),U(4),k(),L(5,"td"),U(6),k(),L(7,"td")(8,"select",39),ye("ngModelChange",function(s){const o=ie(e).$implicit;return se(N(3).selectedPromotionRoles[o.id]=s)}),me(9,pRe,2,2,"option",24),k()(),L(10,"td")(11,"button",2),ye("click",function(){const r=ie(e).$implicit;return se(N(3).promoteEmployee(r))}),U(12,"Promote"),k()()()}if(2&n){const e=t.$implicit,i=N(3);I(2),Ye(e.firstName),I(2),Ye(e.lastName),I(2),Ye(e.role),I(2),B("ngModel",i.selectedPromotionRoles[e.id]),I(),B("ngForOf",i.roles)}}function gRe(n,t){if(1&n&&(L(0,"table")(1,"thead")(2,"tr")(3,"th"),U(4,"First Name"),k(),L(5,"th"),U(6,"Last Name"),k(),L(7,"th"),U(8,"Current Rank"),k(),L(9,"th"),U(10,"New Rank"),k(),L(11,"th"),U(12,"Submit"),k()()(),L(13,"tbody"),me(14,mRe,13,5,"tr",32),k()()),2&n){const e=N(2);I(14),B("ngForOf",e.employees)}}function _Re(n,t){if(1&n){const e=vt();L(0,"div")(1,"div",29)(2,"label",37),U(3,"Select a Store:"),k(),L(4,"select",38),ye("ngModelChange",function(s){return ie(e),se(N().selectedPromotionStore=s)})("change",function(){return ie(e),se(N().onPromotionStoreChange())}),me(5,fRe,2,2,"option",24),k()(),me(6,gRe,15,1,"table",4),k()}if(2&n){const e=N();B("@slideDownAnimation",void 0),I(4),B("ngModel",e.selectedPromotionStore),I(),B("ngForOf",e.stores),I(),B("ngIf",e.employees.length>0)}}function yRe(n,t){if(1&n&&(L(0,"div",11)(1,"div",12),U(2),k(),L(3,"div",13),U(4),k(),L(5,"div",14),U(6),Zn(7,"date"),k()()),2&n){const e=N().$implicit;I(2),Ye(e.sender),I(2),Ye(e.text),I(2),Ye(fs(7,3,e.timestamp,"medium"))}}function bRe(n,t){if(1&n&&(L(0,"div",15)(1,"div",12),U(2,"Me"),k(),L(3,"div",13),U(4),k(),L(5,"div",14),U(6),Zn(7,"date"),k()()),2&n){const e=N().$implicit;I(4),Ye(e.text),I(2),Ye(fs(7,2,e.timestamp,"medium"))}}function xRe(n,t){if(1&n&&(L(0,"div",8),me(1,yRe,8,6,"div",9)(2,bRe,8,5,"div",10),k()),2&n){const e=t.$implicit,i=N();I(),B("ngIf",e.sender!==i.authService.getAuthenticatedUserName()),I(),B("ngIf",e.sender===i.authService.getAuthenticatedUserName())}}const wRe=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:vDe},{path:"leaderboard",component:(()=>{class n{constructor(e,i,s){this.datePipe=e,this.salesService=i,this.leaderboardService=s,this.selectedDate="",this.leaderboardData=[],this.performanceData=[],this.stores=[],this.unsubscribe$=new Gt}ngOnInit(){this.selectedDate=this.formatDate(new Date),this.loadLeaderboard(),this.loadStores()}loadLeaderboard(){this.salesService.getAllSales().subscribe(e=>{const i=new Map,s=e.filter(r=>r.saleDate===this.selectedDate);Promise.all(s.map(r=>this.getStaffName(r.userId))).then(r=>{s.forEach((o,a)=>{const l=`${r[a].firstName} ${r[a].lastName}`||"Unknown",c=parseFloat(o.revenue||"0");i.has(l)?i.set(l,i.get(l)+c):i.set(l,c)}),this.leaderboardData=Array.from(i).map(([o,a])=>({name:o,revenue:a})),this.leaderboardData.sort((o,a)=>a.revenue-o.revenue)})})}loadStores(){this.leaderboardService.getStores().pipe(Ql(this.unsubscribe$)).subscribe(e=>{this.stores=e})}getStaffName(e){return this.salesService.getStaffName(e).toPromise().then(i=>({firstName:i?.firstName||"Unknown",lastName:i?.lastName||"Unknown"})).catch(i=>(console.error("Error fetching staff name:",i),{firstName:"Unavailable",lastName:"Unavailable"}))}onDateSelect(e){const i=new Date(e);isNaN(i.getTime())?console.error("Invalid date selected:",e):(this.selectedDate=this.formatDate(i),this.loadLeaderboard())}formatDate(e){return this.datePipe.transform(e,"yyyy-MM-dd")||""}startResizing(e){const s=e.target.closest("th");if(!s)return;const r=e.pageX,o=s.offsetWidth,a=c=>{s.style.width=o+(c.pageX-r)+"px"},l=()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",l)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(K(ww),K(fJ),K(XLe))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["app-leaderboard"]],decls:50,vars:6,consts:[[1,"container-fluid","mt-2"],[1,""],[1,"container-fluid","mt-2","leaderboard"],["type","date","id","date","placeholder","Select a date","name","date","required","",3,"ngModel","ngModelChange"],["id","leaderboardTable",1,"leaderboard-table"],[1,"resizable",3,"mousedown"],[4,"ngIf","ngIfElse"],["noData",""],[1,"performance-data-table-container","float-right",2,"display","none"],[1,"performance-data-table"],["colspan","2"],[4,"ngFor","ngForOf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngStyle"],["colspan","3"]],template:function(i,s){if(1&i&&(L(0,"div",0)(1,"h2",1),U(2,"Leaderboard"),k(),L(3,"p",1),U(4,"Top member based on the net revenue."),k()(),L(5,"div",2)(6,"h4"),U(7),k(),L(8,"div",1)(9,"p"),U(10,"If you want to go back for a previous leaderboard, select the date below:"),k(),L(11,"input",3),ye("ngModelChange",function(o){return s.selectedDate=o})("ngModelChange",function(o){return s.onDateSelect(o)}),k()(),Te(12,"br")(13,"br"),L(14,"table",4)(15,"thead")(16,"tr")(17,"th",5),ye("mousedown",function(o){return s.startResizing(o)}),U(18,"Ranking"),k(),L(19,"th",5),ye("mousedown",function(o){return s.startResizing(o)}),U(20,"Name"),k(),L(21,"th",5),ye("mousedown",function(o){return s.startResizing(o)}),U(22,"Revenue"),k()()(),L(23,"tbody"),me(24,QLe,2,1,"ng-container",6)(25,JLe,3,0,"ng-template",null,7,cD),k()(),L(27,"div",8)(28,"table",9)(29,"thead")(30,"tr")(31,"th",10),U(32,"Store"),k(),L(33,"th"),U(34,"Additional"),k(),L(35,"th"),U(36,"HBB"),k(),L(37,"th"),U(38,"Insurance"),k(),L(39,"th"),U(40,"New"),k(),L(41,"th"),U(42,"Revenue"),k(),L(43,"th"),U(44,"Unlimited"),k(),L(45,"th"),U(46,"Upgrades"),k()()(),L(47,"tbody"),me(48,eRe,19,13,"ng-container",11)(49,tRe,4,1,"ng-container",11),k()()()()),2&i){const r=If(26);I(7),Ot("Displaying the ranking for ",s.selectedDate,""),I(4),B("ngModel",s.selectedDate),I(13),B("ngIf",s.leaderboardData.length)("ngIfElse",r),I(24),B("ngForOf",s.performanceData),I(),B("ngForOf",s.stores)}},dependencies:[Zl,nr,$s,bw,qc,nh,Fw,ih,I8],styles:[".leaderboard-table[_ngcontent-%COMP%]{width:50%;border-collapse:separate;border-spacing:0;background-color:#fff;border-radius:12px;overflow:hidden;box-shadow:0 4px 6px #0000001a}.leaderboard-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .leaderboard-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;text-align:center;font-family:Arial,sans-serif}.leaderboard-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f4f4f4;font-weight:700}.leaderboard-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e9e9e9}.gold[_ngcontent-%COMP%]{background-color:gold}.silver[_ngcontent-%COMP%]{background-color:silver}.bronze[_ngcontent-%COMP%]{background-color:#cd7f32}.leaderboard[_ngcontent-%COMP%]{position:relative;top:5%}h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:16px}.performance-data-table-container[_ngcontent-%COMP%]{width:50%;float:right}.performance-data-table[_ngcontent-%COMP%]{border-collapse:collapse;margin-top:1em;width:100%}.performance-data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .performance-data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:center;padding:.5rem}.performance-data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f4f4f4}.performance-data-table[_ngcontent-%COMP%]   td.high[_ngcontent-%COMP%]{background-color:green;color:#fff}.performance-data-table[_ngcontent-%COMP%]   td.medium[_ngcontent-%COMP%]{background-color:#ff0;color:#000}.performance-data-table[_ngcontent-%COMP%]   td.low[_ngcontent-%COMP%]{background-color:red;color:#fff}.performance-data-table[_ngcontent-%COMP%]   td.neutral[_ngcontent-%COMP%]{background-color:#ddd}"]})}return n})(),canActivate:[au]},{path:"news",component:uIe,canActivate:[au]},{path:"targets",component:VIe,canActivate:[au]},{path:"sales",component:GIe,canActivate:[au]},{path:"rota",component:WLe,canActivate:[au]},{path:"settings",component:YLe,canActivate:[au]},{path:"staff",component:jLe,canActivate:[au]},{path:"dashboard",component:lIe,canActivate:[au]},{path:"panel",component:(()=>{class n{constructor(e,i,s,r){this.fb=e,this.authService=i,this.http=s,this.storeService=r,this.showAddEmployeeForm=!1,this.showRemoveEmployeeForm=!1,this.showLendStaffForm=!1,this.notificationMessage="",this.showNotification=!1,this.employees=[],this.selectedPromotionRoles={},this.selectedRoles={},this.showPromoteEmployeeForm=!1,this.roles=["Sales Advisor","Store Manager","Admin"],this.roleIds={},this.stores=[{id:1,name:"Plymouth"},{id:2,name:"Exeter"},{id:3,name:"Newton Abbot"},{id:4,name:"Exmouth"}],this.registrationForm=this.fb.group({userName:["",ko.required],firstName:["",ko.required],lastName:["",ko.required],email:["",[ko.required,ko.email]],phoneNumber:["",ko.required],password:["",ko.required],confirmPassword:["",ko.required],role:["",ko.required],storeId:[null,ko.required]})}ngOnInit(){this.fetchRoles()}fetchRoles(){this.http.get(`${os}/Staff/getRoles`).subscribe(e=>{this.roleIds=e.reduce((i,s)=>(i[s.name]=s.id,i),{})},e=>{console.error("There was an error fetching the roles",e)})}toggleLendStaffForm(){this.showLendStaffForm=!this.showLendStaffForm}toggleAddEmployeeForm(){this.showAddEmployeeForm=!this.showAddEmployeeForm}toggleRemoveEmployeeForm(){this.showRemoveEmployeeForm=!this.showRemoveEmployeeForm}registerEmployee(){this.registrationForm.valid?this.authService.registerEmployee(this.registrationForm.value).subscribe(i=>{this.showNotificationMessage("Employee added successfully.")},i=>{this.showNotificationMessage("The employee couldn't be added.")}):this.showNotificationMessage("All the fields are mandatory.")}promoteEmployee(e){const i=this.selectedPromotionRoles[e.id],s=this.roleIds[i];i&&s?this.authService.promoteEmployee(e.id,s).subscribe(()=>{this.showNotificationMessage(`${e.firstName} promoted to ${i} successfully.`);const r=this.employees.findIndex(o=>o.id===e.id);-1!==r&&(this.employees[r].role=i,this.employees=[...this.employees])},r=>{this.showNotificationMessage(r.error.message||"The employee couldn't be promoted.")}):this.showNotificationMessage("Invalid or missing role selection.")}onPromotionStoreChange(){this.selectedPromotionStore&&this.fetchEmployeesForStore(this.selectedPromotionStore)}onStoreChange(){this.selectedStore&&this.fetchEmployeesForStore(this.selectedStore)}onLendStoreChangeFrom(){this.selectedLendStoreFrom&&this.fetchEmployeesForStore(this.selectedLendStoreFrom)}onLendStoreChangeTo(){this.selectedLendStoreFrom&&this.fetchEmployeesForStore(this.selectedLendStoreFrom)}fetchEmployeesForStore(e){this.storeService.getEmployeesByStore(e).subscribe(i=>{this.employees=i},i=>{this.showNotificationMessage("There are no employees to be displayed.")})}lendEmployee(e){this.selectedLendStoreTo?this.authService.lendEmployee(e.id,this.selectedLendStoreTo.toString()).subscribe(r=>{this.showNotificationMessage("Employee lent successfully."),this.selectedLendStoreFrom&&this.fetchEmployeesForStore(this.selectedLendStoreFrom)},r=>{this.showNotificationMessage("The employee couldn't be lent.")}):this.showNotificationMessage("Please select a destination store.")}removeEmployee(e){this.authService.removeEmployee(e.id).subscribe(i=>{this.employees=this.employees.filter(s=>s.id!==e.id),this.showNotificationMessage(0===this.employees.length?"No employees to be displayed.":"Employee removed successfully.")},i=>{this.showNotificationMessage("The employee couldn't be removed.")})}showNotificationMessage(e){this.notificationMessage=e,this.showNotification=!0,setTimeout(()=>this.showNotification=!1,3e3)}togglePromoteEmployeeForm(){this.showPromoteEmployeeForm=!this.showPromoteEmployeeForm}static#e=this.\u0275fac=function(i){return new(i||n)(K(x$),K(dp),K(nl),K(EB))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["app-panel"]],decls:21,vars:14,consts:[[3,"show","message"],[1,"registration-container"],[3,"click"],[3,"ngClass"],[4,"ngIf"],[1,"registration-container","remove-employee-container"],[1,"registration-container","lend-staff-container"],[1,"registration-container","promote-employee-container"],[3,"formGroup","submit"],[1,"input-group"],[1,"fa","fa-user","input-group-icon"],["type","text","placeholder","Username","formControlName","userName"],[1,"fa","fa-address-card","input-group-icon"],["type","text","placeholder","First Name","formControlName","firstName"],["type","text","placeholder","Last Name","formControlName","lastName"],[1,"fa","fa-envelope","input-group-icon"],["type","email","placeholder","Email","formControlName","email"],[1,"fa","fa-phone","input-group-icon"],["type","phone","placeholder","Phone Number","formControlName","phoneNumber"],[1,"fa","fa-lock","input-group-icon"],["type","password","placeholder","Password","formControlName","password"],["type","password","placeholder","Confirm Password","formControlName","confirmPassword"],[1,"fa","fa-briefcase","input-group-icon"],["formControlName","role"],[3,"value",4,"ngFor","ngForOf"],[1,"fa","fa-building","input-group-icon"],["formControlName","storeId"],["type","submit"],[3,"value"],[1,"dropdown-section"],["for","storeDropdown"],["id","storeDropdown",3,"ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],["for","lendStoreDropdownFrom"],["id","lendStoreDropdownFrom",3,"ngModel","ngModelChange","change"],["for","lendStoreDropdownTo"],["id","lendStoreDropdownTo",3,"ngModel","ngModelChange","change"],["for","promotionStoreDropdown"],["id","promotionStoreDropdown",3,"ngModel","ngModelChange","change"],[1,"dropdown-section-promote",3,"ngModel","ngModelChange"]],template:function(i,s){1&i&&(Te(0,"app-notification",0),L(1,"div",1)(2,"h2",2),ye("click",function(){return s.toggleAddEmployeeForm()}),U(3," Add Employee "),Te(4,"i",3),k(),me(5,rRe,34,4,"div",4),k(),L(6,"div",5)(7,"h2",2),ye("click",function(){return s.toggleRemoveEmployeeForm()}),U(8," Remove Employee "),Te(9,"i",3),k(),me(10,lRe,19,4,"div",4),k(),L(11,"div",6)(12,"h2",2),ye("click",function(){return s.toggleLendStaffForm()}),U(13," Lend Staff "),Te(14,"i",3),k(),me(15,hRe,23,6,"div",4),k(),L(16,"div",7)(17,"h2",2),ye("click",function(){return s.togglePromoteEmployeeForm()}),U(18," Promote Employee "),Te(19,"i",3),k(),me(20,_Re,7,4,"div",4),k()),2&i&&(B("show",s.showNotification)("message",s.notificationMessage),I(2),B("@slideDownAnimation",void 0),I(2),B("ngClass",s.showAddEmployeeForm?"fa fa-chevron-up":"fa fa-chevron-down"),I(),B("ngIf",s.showAddEmployeeForm),I(),B("@slideDownAnimation",void 0),I(3),B("ngClass",s.showRemoveEmployeeForm?"fa fa-chevron-up":"fa fa-chevron-down"),I(),B("ngIf",s.showRemoveEmployeeForm),I(),B("@slideDownAnimation",void 0),I(3),B("ngClass",s.showLendStaffForm?"fa fa-chevron-up":"fa fa-chevron-down"),I(),B("ngIf",s.showLendStaffForm),I(),B("@slideDownAnimation",void 0),I(3),B("ngClass",s.showPromoteEmployeeForm?"fa fa-chevron-up":"fa fa-chevron-down"),I(),B("ngIf",s.showPromoteEmployeeForm))},dependencies:[Zl,nr,$s,a0,xF,CF,qc,Ow,nh,s0,Pw,$D,ih,eK],styles:[".registration-container[_ngcontent-%COMP%]{width:50%;margin:auto;padding:20px;border:1px solid #ccc;border-radius:10px;background-color:#f9f9f9}.registration-container[_ngcontent-%COMP%]   .dropdown-section[_ngcontent-%COMP%]{margin-bottom:20px}.registration-container[_ngcontent-%COMP%]   .dropdown-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-right:10px}.registration-container[_ngcontent-%COMP%]   .dropdown-section[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 15px;border-radius:25px;border:2px solid #ccc;box-shadow:2px 2px 8px #0000001a}.registration-container[_ngcontent-%COMP%]   .dropdown-section[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:red;box-shadow:0 0 8px #dc143c99}.registration-container[_ngcontent-%COMP%]   .dropdown-section-promote[_ngcontent-%COMP%]{border-radius:20px}.registration-container[_ngcontent-%COMP%]   .dropdown-section-promote[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-right:10px}.registration-container[_ngcontent-%COMP%]   .dropdown-section-promote[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 15px;border-radius:25px;border:2px solid #ccc;box-shadow:2px 2px 8px #0000001a}.registration-container[_ngcontent-%COMP%]   .dropdown-section-promote[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:red;box-shadow:0 0 8px #dc143c99}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px;position:relative}.input-group[_ngcontent-%COMP%]   .input-group-icon[_ngcontent-%COMP%]{flex:.15;color:red;margin-right:15px}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:.85;padding:8px 15px;border-radius:25px;border:2px solid #ccc;box-shadow:2px 2px 8px #0000001a;outline:none}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .input-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:red;box-shadow:0 0 8px #dc143c99}button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#d12a2a;border:none;color:#fff;border-radius:5px;cursor:pointer;display:block;margin-left:auto;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#a92020}h2[_ngcontent-%COMP%]{cursor:pointer;color:red;display:flex;align-items:center;justify-content:space-between}h2[_ngcontent-%COMP%]:hover{text-decoration:underline}i.fa[_ngcontent-%COMP%]{transition:transform .3s ease}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:red;color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 20px;border-bottom:2px solid #ff0000}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e6e6e6}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 20px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:red;padding:5px 15px;border-radius:3px;transition:background-color .3s ease}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#8a1818}"],data:{animation:[Tl("slideDownAnimation",[js(":enter",[gi({opacity:0,transform:"translateY(-20px)"}),sr("0.5s ease-out",gi({opacity:1,transform:"translateY(0)"}))]),js(":leave",[sr("0.5s ease-out",gi({opacity:0,transform:"translateY(-20px)"}))])])]}})}return n})(),canActivate:[au]},{path:"chat",component:(()=>{class n{constructor(e){this.authService=e,this.messages=[],this.newMessage=""}sendMessage(){if(""!==this.newMessage.trim()){const e=this.authService.getAuthenticatedUserName();this.messages.push({text:this.newMessage,sender:e,timestamp:new Date}),this.newMessage=""}}static#e=this.\u0275fac=function(i){return new(i||n)(K(dp))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["app-chat"]],decls:12,vars:2,consts:[[1,"container-fluid","mt-2"],[1,"container"],[1,"message-container"],["class","message-wrapper",4,"ngFor","ngForOf"],[1,"input-container"],["type","text","placeholder","Type your message...",1,"message-input",3,"ngModel","ngModelChange","keydown.enter"],["type","submit",1,"send-button",3,"click"],["aria-hidden","true",1,"fa","fa-paper-plane"],[1,"message-wrapper"],["class","message received",4,"ngIf"],["class","message sent",4,"ngIf"],[1,"message","received"],[1,"sender"],[1,"content"],[1,"timestamp"],[1,"message","sent"]],template:function(i,s){1&i&&(L(0,"div",0)(1,"h1"),U(2,"Naplex Groupchat"),k(),L(3,"p"),U(4,"Post your sales and request help from the administrators."),k(),L(5,"div",1)(6,"div",2),me(7,xRe,3,2,"div",3),k(),L(8,"div",4)(9,"input",5),ye("ngModelChange",function(o){return s.newMessage=o})("keydown.enter",function(){return s.sendMessage()}),k(),L(10,"button",6),ye("click",function(){return s.sendMessage()}),Te(11,"i",7),k()()()()),2&i&&(I(7),B("ngForOf",s.messages),I(2),B("ngModel",s.newMessage))},dependencies:[nr,$s,qc,nh,ih,ww],styles:[".container-fluid[_ngcontent-%COMP%]{padding:20px}.message-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.message-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-bottom:10px}.message[_ngcontent-%COMP%]{display:inline-block;max-width:70%;padding:10px;border-radius:15px;margin-bottom:5px}.sent[_ngcontent-%COMP%]{background-color:#dcf8c6;align-self:flex-end}.received[_ngcontent-%COMP%]{background-color:#e5e5ea}.sender[_ngcontent-%COMP%]{font-weight:700}.timestamp[_ngcontent-%COMP%]{font-size:.8em;color:#888}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:20px}.message-input[_ngcontent-%COMP%]{flex:1;padding:10px;border-radius:20px;border:1px solid #ccc;margin-right:10px}.send-button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:20px;background-color:#4caf50;color:#fff;cursor:pointer}.send-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.container[_ngcontent-%COMP%]{width:90%;height:500px;border:1px solid #ccc;border-radius:10px;overflow:hidden;display:flex;flex-direction:column}.message-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:10px}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px}"]})}return n})(),canActivate:[au]}];let CRe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({imports:[D7.forRoot(wRe),D7]})}return n})(),MRe=(()=>{class n{constructor(){this.collapsed=!1,this.screenWidth=0}getBodyClass(){let e="";return this.collapsed&&this.screenWidth>768?e="body-trimmed":this.collapsed&&this.screenWidth<=768&&this.screenWidth>0&&(e="body-md-screen"),e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ht({type:n,selectors:[["app-body"]],inputs:{collapsed:"collapsed",screenWidth:"screenWidth"},decls:2,vars:1,consts:[[1,"body",3,"ngClass"]],template:function(i,s){1&i&&(L(0,"div",0),Te(1,"router-outlet"),k()),2&i&&B("ngClass",s.getBodyClass())},dependencies:[Zl,rE],styles:[".body[_ngcontent-%COMP%]{width:calc(100% - 5rem);height:100vh;margin-left:5rem;z-index:0;position:relative;top:0;transition:all .5s ease;padding:3rem}.body-trimmed[_ngcontent-%COMP%]{width:calc(100% - 20.5625rem);margin-left:16.5625rem}.body-md-screen[_ngcontent-%COMP%]{width:calc(100% - 5rem);margin-left:5rem}"]})}return n})();const TRe=[{routeLink:"dashboard",icon:"fal fa-home",label:"Dashboard"},{routeLink:"chat",icon:"fa fa-comments-o",label:"Chat"},{routeLink:"leaderboard",icon:'fa fa-line-chart aria-hidden="true"',label:"Leaderboard"},{routeLink:"targets",icon:"fal fa-chart-bar",label:"Targets"},{routeLink:"sales",icon:"fa fa-gbp",label:"Sales"},{routeLink:"rota",icon:'fal fa-calendar aria-hidden="true"',label:"Rota"},{routeLink:"staff",icon:'fa fa-address-book aria-hidden="true"',label:"Staff"},{routeLink:"settings",icon:"fa fa-cog fa-spin fa-3x fa-fw",label:"Settings"},{routeLink:"panel",icon:'fa fa-eye aria-hidden="true"',label:"Admin"}];function SRe(n,t){1&n&&(L(0,"div",8),U(1,"Naplex"),k())}function DRe(n,t){if(1&n){const e=vt();L(0,"button",9),ye("click",function(){return ie(e),se(N(2).closeSidenav())}),Te(1,"i",10),k()}2&n&&B("@rotate",void 0)}function ERe(n,t){if(1&n&&(L(0,"span",17),U(1),k()),2&n){const e=N().$implicit;I(),Ye(e.label)}}const ARe=n=>[n],kRe=()=>({exact:!0});function IRe(n,t){if(1&n&&(L(0,"li",13)(1,"a",14),Te(2,"i",15),me(3,ERe,2,1,"span",16),k()()),2&n){const e=t.$implicit,i=N(3);I(),B("routerLink",Ds(5,ARe,e.routeLink))("routerLinkActiveOptions",nO(7,kRe)),I(),uo(e.icon),I(),B("ngIf",i.collapsed)}}function LRe(n,t){if(1&n&&(L(0,"ul",11),Te(1,"br")(2,"br"),me(3,IRe,4,8,"li",12),k()),2&n){const e=N(2);I(3),B("ngForOf",e.navData)}}function RRe(n,t){if(1&n){const e=vt();L(0,"div",1)(1,"div",2)(2,"button",3),ye("click",function(){return ie(e),se(N().toggleCollapse())}),Te(3,"img",4),k(),me(4,SRe,2,0,"div",5)(5,DRe,2,1,"button",6),k(),me(6,LRe,4,1,"ul",7),k()}if(2&n){const e=N();B("ngClass",e.collapsed?"sidenav-collapsed":""),I(4),B("ngIf",e.collapsed),I(),B("ngIf",e.collapsed),I(),B("ngIf",!e.ifIsRootPage)}}let PRe=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.isLoginPage=!1,this.ifIsRootPage=!1,this.showSidenav=!1,this.subscriptions=new ti,this.onToggleSideNav=new Fe,this.collapsed=!1,this.screenWidth=0,this.navData=TRe,this.router.events.subscribe(s=>{s instanceof Jl&&(this.isLoginPage="/login"===s.url,this.ifIsRootPage="/"===s.url)})}onResize(e){this.screenWidth=window.innerWidth,this.screenWidth<=768&&(this.collapsed=!1,this.onToggleSideNav.emit({collapsed:this.collapsed,screenWidth:this.screenWidth}))}toggleCollapse(){this.collapsed=!this.collapsed,this.onToggleSideNav.emit({collapsed:this.collapsed,screenWidth:this.screenWidth})}closeSidenav(){this.collapsed=!1,this.onToggleSideNav.emit({collapsed:this.collapsed,screenWidth:this.screenWidth})}ngOnInit(){this.subscriptions.add(this.router.events.subscribe(e=>{e instanceof Jl&&this.updateSidenavVisibility(e.url)})),this.subscriptions.add(this.authService.isAuthenticated$.subscribe(e=>{e&&this.updateSidenavVisibility(this.router.url)}))}updateSidenavVisibility(e){this.showSidenav="/login"!==e}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(K(dp),K(ho))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["app-sidenav"]],hostBindings:function(i,s){1&i&&ye("resize",function(o){return s.onResize(o)},0,ux)},outputs:{onToggleSideNav:"onToggleSideNav"},decls:1,vars:1,consts:[["class","sidenav",3,"ngClass",4,"ngIf"],[1,"sidenav",3,"ngClass"],[1,"logo-container"],[1,"logo",3,"click"],["src","assets/naplexlogo.png","alt","logo",1,"imgLogo"],["class","logo-text",4,"ngIf"],["class","btn-close",3,"click",4,"ngIf"],["class","sidenav-nav",4,"ngIf"],[1,"logo-text"],[1,"btn-close",3,"click"],[1,"fal","fa-times","close-icon"],[1,"sidenav-nav"],["class","sidenav-nav-item",4,"ngFor","ngForOf"],[1,"sidenav-nav-item"],["routerLinkActive","active",1,"sidenav-nav-link",3,"routerLink","routerLinkActiveOptions"],[1,"sidenav-link-icon"],["class","sidenav-link-text",4,"ngIf"],[1,"sidenav-link-text"]],template:function(i,s){1&i&&me(0,RRe,7,4,"div",0),2&i&&B("ngIf",s.showSidenav)},dependencies:[Zl,nr,$s,uE,y7],styles:[".sidenav[_ngcontent-%COMP%]{background-color:#f00c;transition:all .5s ease;position:fixed;z-index:1;top:0;width:5rem;height:100vh;box-shadow:.063rem 0 1.25rem #8690a3}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.938rem .938rem 0;width:100%}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{background:#fff;text-align:center;width:3rem;min-width:3rem;border-radius:.313rem;font-size:24px;font-weight:900;cursor:pointer;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .imgLogo[_ngcontent-%COMP%]{width:3rem;border-radius:10px}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{margin-left:1.5rem;font-size:24px;font-weight:700;color:#fff}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer;width:2rem;height:2rem;border-radius:60%;background-color:transparent;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#fff;font-size:25px}.sidenav-collapsed[_ngcontent-%COMP%]{width:16.5625rem}.sidenav-nav[_ngcontent-%COMP%]{list-style:none;padding:.938rem;margin:0;display:flex;flex-direction:column;align-items:center;height:calc(100% - 3.65rem);cursor:pointer}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]{width:100%;margin-bottom:.625rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;color:#f3f3f3;border-radius:.625rem;text-decoration:none;transition:all .3s ease}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%]{font-size:22px;width:2rem;min-width:2rem;margin:0 .5rem;text-align:center}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{margin-left:1.5rem;transition:all .3s ease}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]:hover   .sidenav-nav-link[_ngcontent-%COMP%]{background-color:#fff;color:#000}.active[_ngcontent-%COMP%]{background-color:#fff}.active[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{color:#000}"],data:{animation:[Tl("rotate",[js(":enter",[sr("1000ms",kV([gi({transform:"rotate(0deg)",offset:"0"}),gi({transform:"rotate(2turn)",offset:"1"})]))])])]}})}return n})();function ORe(n,t){if(1&n){const e=vt();L(0,"div",1)(1,"div",2),Te(2,"i",3),L(3,"div",4)(4,"div",5)(5,"span",6),U(6),k(),L(7,"button",7),ye("click",function(){return ie(e),se(N().logout())}),Te(8,"i",8),k()(),L(9,"div",9),U(10),k()()()()}if(2&n){const e=N();I(6),Ot("Hello, ",e.firstName,""),I(4),Ot(" Logged in as ",e.userRole," ")}}let FRe=(()=>{class n{constructor(e,i,s){this.authService=e,this.jwtService=i,this.router=s,this.firstName="",this.userRole=" ",this.showMenu=!0,this.isLoginPage=!1,this.subscriptions=new ti}ngOnInit(){this.subscriptions.add(this.router.events.subscribe(e=>{e instanceof Jl&&(this.updateNameFromToken(),this.isLoginPage="/login"===e.url,this.updateMenuVisibility(this.router.url))})),this.updateNameFromToken(),this.subscriptions.add(this.authService.isAuthenticated$.subscribe(e=>{e&&this.updateMenuVisibility(this.router.url)}))}updateMenuVisibility(e){this.showMenu="/login"!==e}ngOnDestroy(){this.subscriptions.unsubscribe()}updateNameFromToken(){const e=localStorage.getItem("access_token");if(e){const i=this.jwtService.decodeToken(e);this.firstName=i?.unique_name||"",this.userRole=i?.role||""}}logout(){this.authService.logout(),this.router.navigate(["/login"]),this.authService.setLoggedInStatus(!1)}static#e=this.\u0275fac=function(i){return new(i||n)(K(dp),K(JZ),K(ho))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["app-menu"]],decls:1,vars:1,consts:[["class","menu-container",4,"ngIf"],[1,"menu-container"],[1,"trigger-area"],["aria-hidden","true",1,"fa","fa-bars","arrow"],[1,"menu"],[1,"menu-header"],[1,"greeting"],[1,"btn","btn-danger","logout-btn",3,"click"],["aria-hidden","true",1,"fa","fa-sign-out"],[1,"role"]],template:function(i,s){1&i&&me(0,ORe,11,2,"div",0),2&i&&B("ngIf",s.showMenu&&!s.isLoginPage)},dependencies:[$s],styles:[".menu-container[_ngcontent-%COMP%]{z-index:100;position:fixed;top:15px;right:15px;width:24px}.menu-container[_ngcontent-%COMP%]   .trigger-area[_ngcontent-%COMP%]{position:relative;cursor:pointer}.menu-container[_ngcontent-%COMP%]   .trigger-area[_ngcontent-%COMP%]:hover   .menu[_ngcontent-%COMP%]{visibility:visible;opacity:1;transform:translateY(0);transition-delay:0s}.menu-container[_ngcontent-%COMP%]   .trigger-area[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{font-size:24px;color:#f00c;position:absolute;top:0;right:0}.menu-container[_ngcontent-%COMP%]   .trigger-area[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]:hover{color:#fff}.menu-container[_ngcontent-%COMP%]   .trigger-area[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{visibility:hidden;opacity:0;transform:translateY(30px);transition:transform .3s,opacity .3s,visibility 0s .3s;background-color:#f00c;padding:20px;border-radius:8px;box-shadow:0 0 10px #0003;font-family:Roboto,sans-serif;font-size:16px;color:#fff;width:200px;position:absolute;top:30px;right:0}.menu-container[_ngcontent-%COMP%]   .trigger-area[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.menu-container[_ngcontent-%COMP%]   .trigger-area[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .greeting[_ngcontent-%COMP%]{font-weight:700;margin:0}.menu-container[_ngcontent-%COMP%]   .trigger-area[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{padding:5px 10px;margin:0}.menu-container[_ngcontent-%COMP%]   .trigger-area[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{margin-top:15px;font-style:italic;font-size:14px}"]})}return n})();function NRe(n,t){1&n&&Te(0,"app-menu")}const VRe=[uq(),sV(),hq(),fq(),pq(),mq(),gq(),_q(),vq(),yq(),bq(),xq(),wq()];let BRe=(()=>{class n{constructor(e,i,s){this.el=e,this.authService=i,this.router=s,this.title="retail-dashboard",this.showMenu=!0,this.isSideNavCollapsed=!1,this.screenWidth=0,this.debouncedBuildVantaEffect=(0,Cq.debounce)(this.buildVantaEffect,300),this.lastN=-1,this.authService.isAuthenticated$.subscribe(r=>{this.showMenu=r})}onToggleSideNav(e){this.screenWidth=e.screenWidth,this.isSideNavCollapsed=e.collapsed}buildVantaEffect(){}destroyVantaEffect(){this.vantaEffect&&this.vantaEffect.destroy()}ngOnInit(){this.authService.isLoggedIn()&&this.router.navigate(["/dashboard"]),this.tokenCheckInterval=setInterval(()=>{this.authService.isTokenExpired()&&this.authService.handleExpiredToken()},1e4);try{this.vantaEffect=(0,VRe[7])({el:"#vanta",mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1,color:16711680,color2:16711680,size:.5,backgroundColor:16777215}),this.vantaEffect.resizes()}catch(e){console.error(e),this.buildVantaEffect()}}ngOnDestroy(){this.destroyVantaEffect(),this.tokenCheckInterval&&clearInterval(this.tokenCheckInterval)}onHostClick(){this.debouncedBuildVantaEffect()}static#e=this.\u0275fac=function(i){return new(i||n)(K(gn),K(dp),K(ho))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["app-root"]],hostBindings:function(i,s){1&i&&ye("click",function(){return s.onHostClick()})},decls:5,vars:3,consts:[["id","vanta",1,"vanta"],[4,"ngIf"],[3,"onToggleSideNav"],[3,"collapsed","screenWidth"]],template:function(i,s){1&i&&(Te(0,"router-outlet")(1,"div",0),me(2,NRe,1,0,"app-menu",1),L(3,"app-sidenav",2),ye("onToggleSideNav",function(o){return s.onToggleSideNav(o)}),k(),Te(4,"app-body",3)),2&i&&(I(2),B("ngIf",s.showMenu),I(2),B("collapsed",s.isSideNavCollapsed)("screenWidth",s.screenWidth))},dependencies:[$s,rE,MRe,PRe,FRe],styles:[".vanta[_ngcontent-%COMP%]{position:fixed;inset:0;width:100%;height:100vh;z-index:-1}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%;margin:0;font-family:Arial,sans-serif;background-color:#f4f4f4}.container-fluid[_ngcontent-%COMP%]{max-width:1000px;margin:3% auto}.cards-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.cards-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);margin-right:20px;box-sizing:border-box}.cards-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:last-child{margin-right:0}@media only screen and (max-width: 1000px){.cards-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;margin-right:0}}"]})}return n})(),HJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({imports:[ka,xa,qq,ka]})}return n})();function zJ(n){return new De(3e3,!1)}function _p(n){switch(n.length){case 0:return new qC;case 1:return n[0];default:return new EZ(n)}}function UJ(n,t,e=new Map,i=new Map){const s=[],r=[];let o=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),d=c==o,u=d&&a||new Map;l.forEach((f,m)=>{let g=m,v=f;if("offset"!==m)switch(g=n.normalizePropertyName(g,s),v){case"!":v=e.get(m);break;case bh:v=i.get(m);break;default:v=n.normalizeStyleValue(m,g,v,s)}u.set(g,v)}),d||r.push(u),a=u,o=c}),s.length)throw function mPe(n){return new De(3502,!1)}();return r}function BB(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&HB(e,"start",n)));break;case"done":n.onDone(()=>i(e&&HB(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&HB(e,"destroy",n)))}}function HB(n,t,e){const r=zB(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(r._data=o),r}function zB(n,t,e,i,s="",r=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:r,disabled:!!o}}function Dl(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function WJ(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const DPe=typeof document>"u"?null:document.documentElement;function UB(n){const t=n.parentNode||n.host||null;return t===DPe?null:t}let Dg=null,YJ=!1;function GJ(n,t){for(;t;){if(t===n)return!0;t=UB(t)}return!1}function $J(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let WB=(()=>{class n{validateStyleProperty(e){return function APe(n){Dg||(Dg=function kPe(){return typeof document<"u"?document.body:null}()||{},YJ=!!Dg.style&&"WebkitAppearance"in Dg.style);let t=!0;return Dg.style&&!function EPe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Dg.style,!t&&YJ&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Dg.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return GJ(e,i)}getParentElement(e){return UB(e)}query(e,i,s){return $J(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,r,o,a=[],l){return new qC(s,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();class YB{static#e=this.NOOP=new WB}class GB{}const LPe=1e3,$B="ng-enter",Qk="ng-leave",Jk="ng-trigger",e2=".ng-trigger",XJ="ng-animating",jB=".ng-animating";function Eh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:XB(parseFloat(t[1]),t[2])}function XB(n,t){return"s"===t?n*LPe:n}function t2(n,t,e){return n.hasOwnProperty("duration")?n:function PPe(n,t,e){let s,r=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(zJ()),{duration:0,delay:0,easing:""};s=XB(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(r=XB(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else s=n;if(!e){let a=!1,l=t.length;s<0&&(t.push(function jRe(){return new De(3100,!1)}()),a=!0),r<0&&(t.push(function XRe(){return new De(3101,!1)}()),a=!0),a&&t.splice(l,0,zJ())}return{duration:s,delay:r,easing:o}}(n,t,e)}function cu(n,t,e){t.forEach((i,s)=>{const r=ZB(s);e&&!e.has(s)&&e.set(s,n.style[r]),n.style[r]=i})}function Eg(n,t){t.forEach((e,i)=>{const s=ZB(i);n.style[s]=""})}function D1(n){return Array.isArray(n)?1==n.length?n[0]:function _Se(n,t=null){return{type:Fn.Sequence,steps:n,options:t}}(n):n}const qB=new RegExp("{{\\s*(.+?)\\s*}}","g");function ZJ(n){let t=[];if("string"==typeof n){let e;for(;e=qB.exec(n);)t.push(e[1]);qB.lastIndex=0}return t}function E1(n,t,e){const i=`${n}`,s=i.replace(qB,(r,o)=>{let a=t[o];return null==a&&(e.push(function ZRe(n){return new De(3003,!1)}()),a=""),a.toString()});return s==i?n:s}const NPe=/-+([a-z0-9])/g;function ZB(n){return n.replace(NPe,(...t)=>t[1].toUpperCase())}function El(n,t,e){switch(t.type){case Fn.Trigger:return n.visitTrigger(t,e);case Fn.State:return n.visitState(t,e);case Fn.Transition:return n.visitTransition(t,e);case Fn.Sequence:return n.visitSequence(t,e);case Fn.Group:return n.visitGroup(t,e);case Fn.Animate:return n.visitAnimate(t,e);case Fn.Keyframes:return n.visitKeyframes(t,e);case Fn.Style:return n.visitStyle(t,e);case Fn.Reference:return n.visitReference(t,e);case Fn.AnimateChild:return n.visitAnimateChild(t,e);case Fn.AnimateRef:return n.visitAnimateRef(t,e);case Fn.Query:return n.visitQuery(t,e);case Fn.Stagger:return n.visitStagger(t,e);default:throw function KRe(n){return new De(3004,!1)}()}}function KB(n,t){return window.getComputedStyle(n)[t]}const HPe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class KJ extends GB{normalizePropertyName(t,e){return ZB(t)}normalizeStyleValue(t,e,i,s){let r="";const o=i.toString().trim();if(HPe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&s.push(function QRe(n,t){return new De(3005,!1)}())}return o+r}}const n2="*";const s2=new Set(["true","1"]),r2=new Set(["false","0"]);function QJ(n,t){const e=s2.has(n)||r2.has(n),i=s2.has(t)||r2.has(t);return(s,r)=>{let o=n==n2||n==s,a=t==n2||t==r;return!o&&e&&"boolean"==typeof s&&(o=s?s2.has(n):r2.has(n)),!a&&i&&"boolean"==typeof r&&(a=r?s2.has(t):r2.has(t)),o&&a}}const YPe=new RegExp("s*:selfs*,?","g");function QB(n,t,e,i){return new GPe(n).build(t,e,i)}class GPe{constructor(t){this._driver=t}build(t,e,i){const s=new XPe(e);return this._resetContextStyleTimingState(s),El(this,D1(t),s)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const r=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function JRe(){return new De(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==Fn.State){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,r.push(this.visitState(l,e))}),l.name=c}else if(a.type==Fn.Transition){const l=this.visitTransition(a,e);i+=l.queryCount,s+=l.depCount,o.push(l)}else e.errors.push(function ePe(){return new De(3007,!1)}())}),{type:Fn.Trigger,name:t.name,states:r,transitions:o,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const r=new Set,o=s||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{ZJ(l).forEach(c=>{o.hasOwnProperty(c)||r.add(c)})})}),r.size&&e.errors.push(function tPe(n,t){return new De(3008,!1)}(0,r.values()))}return{type:Fn.State,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=El(this,D1(t.animation),e),s=function zPe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function UPe(n,t,e){if(":"==n[0]){const l=function WPe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function uPe(n){return new De(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function dPe(n){return new De(3015,!1)}()),t;const s=i[1],r=i[2],o=i[3];t.push(QJ(s,o)),"<"==r[0]&&(s!=n2||o!=n2)&&t.push(QJ(o,s))}(i,e,t)):e.push(n),e}(t.expr,e.errors);return{type:Fn.Transition,matchers:s,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Ag(t.options)}}visitSequence(t,e){return{type:Fn.Sequence,steps:t.steps.map(i=>El(this,i,e)),options:Ag(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const r=t.steps.map(o=>{e.currentTime=i;const a=El(this,o,e);return s=Math.max(s,e.currentTime),a});return e.currentTime=s,{type:Fn.Group,steps:r,options:Ag(t.options)}}visitAnimate(t,e){const i=function ZPe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return JB(t2(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=JB(0,0,"");return r.dynamic=!0,r.strValue=e,r}const s=t2(e,t);return JB(s.duration,s.delay,s.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,r=t.styles?t.styles:gi({});if(r.type==Fn.Keyframes)s=this.visitKeyframes(r,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=gi(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,s=l}return e.currentAnimateTimings=null,{type:Fn.Animate,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],s=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of s)"string"==typeof a?a===bh?i.push(a):e.errors.push(new De(3002,!1)):i.push(new Map(Object.entries(a)));let r=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!r))for(let l of a.values())if(l.toString().indexOf("{{")>=0){r=!0;break}}),{type:Fn.Style,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),d=c.get(l);let u=!0;d&&(r!=s&&r>=d.startTime&&s<=d.endTime&&(e.errors.push(function iPe(n,t,e,i,s){return new De(3010,!1)}()),u=!1),r=d.startTime),u&&c.set(l,{startTime:r,endTime:s}),e.options&&function FPe(n,t,e){const i=t.params||{},s=ZJ(n);s.length&&s.forEach(r=>{i.hasOwnProperty(r)||e.push(function qRe(n){return new De(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:Fn.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function sPe(){return new De(3011,!1)}()),i;let r=0;const o=[];let a=!1,l=!1,c=0;const d=t.steps.map(y=>{const C=this._makeStyleAst(y,e);let w=null!=C.offset?C.offset:function qPe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(C.styles),S=0;return null!=w&&(r++,S=C.offset=w),l=l||S<0||S>1,a=a||S<c,c=S,o.push(S),C});l&&e.errors.push(function rPe(){return new De(3012,!1)}()),a&&e.errors.push(function oPe(){return new De(3200,!1)}());const u=t.steps.length;let f=0;r>0&&r<u?e.errors.push(function aPe(){return new De(3202,!1)}()):0==r&&(f=1/(u-1));const m=u-1,g=e.currentTime,v=e.currentAnimateTimings,_=v.duration;return d.forEach((y,C)=>{const w=f>0?C==m?1:f*C:o[C],S=w*_;e.currentTime=g+v.delay+S,v.duration=S,this._validateStyleAst(y,e),y.offset=w,i.styles.push(y)}),i}visitReference(t,e){return{type:Fn.Reference,animation:El(this,D1(t.animation),e),options:Ag(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:Fn.AnimateChild,options:Ag(t.options)}}visitAnimateRef(t,e){return{type:Fn.AnimateRef,animation:this.visitReference(t.animation,e),options:Ag(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[r,o]=function $Pe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(YPe,"")),n=n.replace(/@\*/g,e2).replace(/@\w+/g,e=>e2+"-"+e.slice(1)).replace(/:animating/g,jB),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,Dl(e.collectedStyles,e.currentQuerySelector,new Map);const a=El(this,D1(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:Fn.Query,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Ag(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function lPe(){return new De(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:t2(t.timings,e.errors,!0);return{type:Fn.Stagger,animation:El(this,D1(t.animation),e),timings:i,options:null}}}class XPe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ag(n){return n?(n={...n}).params&&(n.params=function jPe(n){return n?{...n}:null}(n.params)):n={},n}function JB(n,t,e){return{duration:n,delay:t,easing:e}}function eH(n,t,e,i,s,r,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}class o2{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const JPe=new RegExp(":enter","g"),tOe=new RegExp(":leave","g");function tH(n,t,e,i,s,r=new Map,o=new Map,a,l,c=[]){return(new nOe).buildKeyframes(n,t,e,i,s,r,o,a,l,c)}class nOe{buildKeyframes(t,e,i,s,r,o,a,l,c,d=[]){c=c||new o2;const u=new nH(t,e,c,s,r,d,[]);u.options=l;const f=l.delay?Eh(l.delay):0;u.currentTimeline.delayNextStep(f),u.currentTimeline.setStyles([o],null,u.errors,l),El(this,i,u);const m=u.timelines.filter(g=>g.containsAnimation());if(m.length&&a.size){let g;for(let v=m.length-1;v>=0;v--){const _=m[v];if(_.element===e){g=_;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,u.errors,l)}return m.length?m.map(g=>g.buildKeyframes()):[eH(e,[],[],[],0,f,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const s=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,s,s.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const s of t){const r=s?.delay;if(r){const o="number"==typeof r?r:Eh(E1(r,s?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime;const o=null!=i.duration?Eh(i.duration):null,a=null!=i.delay?Eh(i.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);r=Math.max(r,c.duration+c.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),El(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const r=t.options;if(r&&(r.params||r.delay)&&(s=e.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){s.previousNode.type==Fn.Style&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=a2);const o=Eh(r.delay);s.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>El(this,o,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?Eh(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);r&&a.delayNextStep(r),El(this,o,a),s=Math.max(s,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return t2(e.params?E1(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const r=t.style;r.type==Fn.Keyframes?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.hasCurrentStyleProperties()&&i.forwardFrame();const r=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,r=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*r),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(s+r),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},r=s.delay?Eh(s.delay):0;r&&(e.previousNode.type===Fn.Style||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=a2);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{e.currentQueryIndex=d;const u=e.createSubContext(t.options,c);r&&u.delayNextStep(r),c===e.element&&(l=u.currentTimeline),El(this,t.animation,u),u.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,u.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const d=e.currentTimeline;l&&d.delayNextStep(l);const u=d.currentTime;El(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-u+(s.startTime-i.currentTimeline.startTime)}}const a2={};class nH{constructor(t,e,i,s,r,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=r,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=a2,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new l2(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=Eh(i.duration)),null!=i.delay&&(s.delay=Eh(i.delay));const r=i.params;if(r){let o=s.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=E1(r[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,r=new nH(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=a2,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},r=new iOe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,r,o){let a=[];if(s&&a.push(this.element),t.length>0){t=(t=t.replace(JPe,"."+this._enterClassName)).replace(tOe,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!r&&0==a.length&&o.push(function cPe(n){return new De(3014,!1)}()),a}}class l2{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new l2(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||bh),this._currentKeyframe.set(e,bh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&this._previousKeyframe.set("easing",e);const r=s&&s.params||{},o=function sOe(n,t){const e=new Map;let i;return n.forEach(s=>{if("*"===s){i??=t.keys();for(let r of i)e.set(r,bh)}else for(let[r,o]of s)e.set(r,o)}),e}(t,this._globalTimelineStyles);for(let[a,l]of o){const c=E1(l,r,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??bh),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const s=this._styleSummary.get(i);(!s||e.time>s.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((a,l)=>{const c=new Map([...this._backFill,...a]);c.forEach((d,u)=>{"!"===d?t.add(u):d===bh&&e.add(u)}),i||c.set("offset",l/this.duration),s.push(c)});const r=[...t.values()],o=[...e.values()];if(i){const a=s[0],l=new Map(a);a.set("offset",0),l.set("offset",1),s=[a,l]}return eH(this.element,s,r,o,this.duration,this.startTime,this.easing,!1)}}class iOe extends l2{constructor(t,e,i,s,r,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],o=i+e,a=e/o,l=new Map(t[0]);l.set("offset",0),r.push(l);const c=new Map(t[0]);c.set("offset",tee(a)),r.push(c);const d=t.length-1;for(let u=1;u<=d;u++){let f=new Map(t[u]);const m=f.get("offset");f.set("offset",tee((e+m*i)/o)),r.push(f)}i=o,e=0,s="",t=r}return eH(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function tee(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}function nee(n,t,e,i,s,r,o,a,l,c,d,u,f){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:r,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:u,errors:f}}const iH={};class iee{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function rOe(n,t,e,i,s){return n.some(r=>r(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){let s=this._stateStyles.get("*");return void 0!==t&&(s=this._stateStyles.get(t?.toString())||s),s?s.buildStyles(e,i):new Map}build(t,e,i,s,r,o,a,l,c,d){const u=[],f=this.ast.options&&this.ast.options.params||iH,g=this.buildStyles(i,a&&a.params||iH,u),v=l&&l.params||iH,_=this.buildStyles(s,v,u),y=new Set,C=new Map,w=new Map,S="void"===s,R={params:see(v,f),delay:this.ast.options?.delay},O=d?[]:tH(t,e,this.ast.animation,r,o,g,_,R,c,u);let H=0;return O.forEach($=>{H=Math.max($.duration+$.delay,H)}),u.length?nee(e,this._triggerName,i,s,S,g,_,[],[],C,w,H,u):(O.forEach($=>{const F=$.element,W=Dl(C,F,new Set);$.preStyleProps.forEach(we=>W.add(we));const re=Dl(w,F,new Set);$.postStyleProps.forEach(we=>re.add(we)),F!==e&&y.add(F)}),nee(e,this._triggerName,i,s,S,g,_,O,[...y.values()],C,w,H))}}function see(n,t){const e={...t};return Object.entries(n).forEach(([i,s])=>{null!=s&&(e[i]=s)}),e}class oOe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,s=see(t,this.defaultParams);return this.styles.styles.forEach(r=>{"string"!=typeof r&&r.forEach((o,a)=>{o&&(o=E1(o,s,e));const l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(a,o)})}),i}}class lOe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(s=>{this.states.set(s.name,new oOe(s.style,s.options&&s.options.params||{},i))}),ree(this.states,"true","1"),ree(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new iee(t,s,this.states))}),this.fallbackTransition=function cOe(n,t,e){return new iee(n,{type:Fn.Transition,animation:{type:Fn.Sequence,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(o=>o.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function ree(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const dOe=new o2;class uOe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],r=QB(this._driver,e,i,[]);if(i.length)throw function gPe(n){return new De(3503,!1)}();this._animations.set(t,r)}_buildPlayer(t,e,i){const s=t.element,r=UJ(this._normalizer,t.keyframes,e,i);return this._driver.animate(s,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],r=this._animations.get(t);let o;const a=new Map;if(r?(o=tH(this._driver,e,r,$B,Qk,new Map,new Map,i,dOe,s),o.forEach(d=>{const u=Dl(a,d.element,new Map);d.postStyleProps.forEach(f=>u.set(f,null))})):(s.push(function _Pe(){return new De(3300,!1)}()),o=[]),s.length)throw function vPe(n){return new De(3504,!1)}();a.forEach((d,u)=>{d.forEach((f,m)=>{d.set(m,this._driver.computeStyle(u,m,bh))})});const c=_p(o.map(d=>{const u=a.get(d.element);return this._buildPlayer(d,new Map,u)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function yPe(n){return new De(3301,!1)}();return e}listen(t,e,i,s){const r=zB(e,"","","");return BB(this._getPlayer(t),i,r,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const oee="ng-animate-queued",sH="ng-animate-disabled",gOe=[],aee={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_Oe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ld="__ng_removed";class rH{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function xOe(n){return n??null}(i?t.value:t),i){const{value:r,...o}=t;this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const A1="void",oH=new rH(A1);class vOe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,uc(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.has(e))throw function bPe(n,t){return new De(3302,!1)}();if(null==i||0==i.length)throw function xPe(n){return new De(3303,!1)}();if(!function wOe(n){return"start"==n||"done"==n}(i))throw function wPe(n,t){return new De(3400,!1)}();const r=Dl(this._elementListeners,t,[]),o={name:e,phase:i,callback:s};r.push(o);const a=Dl(this._engine.statesByElement,t,new Map);return a.has(e)||(uc(t,Jk),uc(t,Jk+"-"+e),a.set(e,oH)),()=>{this._engine.afterFlush(()=>{const l=r.indexOf(o);l>=0&&r.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function CPe(n){return new De(3401,!1)}();return e}trigger(t,e,i,s=!0){const r=this._getTrigger(e),o=new aH(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(uc(t,Jk),uc(t,Jk+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new rH(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=oH),c.value!==A1&&l.value===c.value){if(!function TOe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const r=e[s];if(!t.hasOwnProperty(r)||n[r]!==t[r])return!1}return!0}(l.params,c.params)){const v=[],_=r.matchStyles(l.value,l.params,v),y=r.matchStyles(c.value,c.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{Eg(t,_),cu(t,y)})}return}const f=Dl(this._engine.playersByElement,t,[]);f.forEach(v=>{v.namespaceId==this.id&&v.triggerName==e&&v.queued&&v.destroy()});let m=r.matchTransition(l.value,c.value,t,c.params),g=!1;if(!m){if(!s)return;m=r.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:m,fromState:l,toState:c,player:o,isFallbackTransition:g}),g||(uc(t,oee),o.onStart(()=>{xy(t,oee)})),o.onDone(()=>{let v=this.players.indexOf(o);v>=0&&this.players.splice(v,1);const _=this._engine.playersByElement.get(t);if(_){let y=_.indexOf(o);y>=0&&_.splice(y,1)}}),this.players.push(o),f.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,e2,!0);i.forEach(s=>{if(s[ld])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(o=>o.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const r=this._engine.statesByElement.get(t),o=new Map;if(r){const a=[];if(r.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const d=this.trigger(t,c,A1,s);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&_p(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(r=>{const o=r.name;if(s.has(o))return;s.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||oH,d=new rH(A1),u=new aH(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)s=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const r=t[ld];(!r||r===aee)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){uc(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const r=i.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=zB(r,i.triggerName,i.fromState.value,i.toState.value);l._data=t,BB(i.player,a.phase,l,a.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const r=i.transition.ast.depCount,o=s.transition.ast.depCount;return 0==r||0==o?r-o:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class yOe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i,s){this.bodyNode=t,this.driver=e,this._normalizer=i,this.scheduler=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new vOe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,s=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){const l=s.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return s.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let s of i.values())if(s.namespaceId){const r=this._fetchNamespace(s.namespaceId);r&&e.add(r)}return e}trigger(t,e,i,s){if(c2(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!c2(e))return;const r=e[ld];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),uc(t,sH)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),xy(t,sH))}removeNode(t,e,i){if(c2(e)){this.scheduler?.notify();const s=t?this._fetchNamespace(t):null;s?s.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const r=this.namespacesByHostElement.get(e);r&&r.id!==t&&r.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,s,r){this.collectedLeaveElements.push(e),e[ld]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(t,e,i,s,r){return c2(e)?this._fetchNamespace(t).listen(e,i,s,r):()=>{}}_buildInstruction(t,e,i,s,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,e2,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,jB,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return _p(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ld];if(e&&e.setForRemoval){if(t[ld]=aee,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(sH)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)uc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?_p(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw function MPe(n){return new De(3402,!1)}()}_flushAnimations(t,e){const i=new o2,s=[],r=new Map,o=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(oe=>{d.add(oe);const ce=this.driver.query(oe,".ng-animate-queued",!0);for(let pe=0;pe<ce.length;pe++)d.add(ce[pe])});const u=this.bodyNode,f=Array.from(this.statesByElement.keys()),m=dee(f,this.collectedEnterElements),g=new Map;let v=0;m.forEach((oe,ce)=>{const pe=$B+v++;g.set(ce,pe),oe.forEach(xe=>uc(xe,pe))});const _=[],y=new Set,C=new Set;for(let oe=0;oe<this.collectedLeaveElements.length;oe++){const ce=this.collectedLeaveElements[oe],pe=ce[ld];pe&&pe.setForRemoval&&(_.push(ce),y.add(ce),pe.hasAnimation?this.driver.query(ce,".ng-star-inserted",!0).forEach(xe=>y.add(xe)):C.add(ce))}const w=new Map,S=dee(f,Array.from(y));S.forEach((oe,ce)=>{const pe=Qk+v++;w.set(ce,pe),oe.forEach(xe=>uc(xe,pe))}),t.push(()=>{m.forEach((oe,ce)=>{const pe=g.get(ce);oe.forEach(xe=>xy(xe,pe))}),S.forEach((oe,ce)=>{const pe=w.get(ce);oe.forEach(xe=>xy(xe,pe))}),_.forEach(oe=>{this.processLeaveNode(oe)})});const R=[],O=[];for(let oe=this._namespaceList.length-1;oe>=0;oe--)this._namespaceList[oe].drainQueuedTransitions(e).forEach(pe=>{const xe=pe.player,Ae=pe.element;if(R.push(xe),this.collectedEnterElements.length){const yt=Ae[ld];if(yt&&yt.setForMove){if(yt.previousTriggersValues&&yt.previousTriggersValues.has(pe.triggerName)){const jt=yt.previousTriggersValues.get(pe.triggerName),et=this.statesByElement.get(pe.element);if(et&&et.has(pe.triggerName)){const zt=et.get(pe.triggerName);zt.value=jt,et.set(pe.triggerName,zt)}}return void xe.destroy()}}const fe=!u||!this.driver.containsElement(u,Ae),Ce=w.get(Ae),ft=g.get(Ae),ot=this._buildInstruction(pe,i,ft,Ce,fe);if(ot.errors&&ot.errors.length)return void O.push(ot);if(fe)return xe.onStart(()=>Eg(Ae,ot.fromStyles)),xe.onDestroy(()=>cu(Ae,ot.toStyles)),void s.push(xe);if(pe.isFallbackTransition)return xe.onStart(()=>Eg(Ae,ot.fromStyles)),xe.onDestroy(()=>cu(Ae,ot.toStyles)),void s.push(xe);const kt=[];ot.timelines.forEach(yt=>{yt.stretchStartingKeyframe=!0,this.disabledNodes.has(yt.element)||kt.push(yt)}),ot.timelines=kt,i.append(Ae,ot.timelines),o.push({instruction:ot,player:xe,element:Ae}),ot.queriedElements.forEach(yt=>Dl(a,yt,[]).push(xe)),ot.preStyleProps.forEach((yt,jt)=>{if(yt.size){let et=l.get(jt);et||l.set(jt,et=new Set),yt.forEach((zt,bt)=>et.add(bt))}}),ot.postStyleProps.forEach((yt,jt)=>{let et=c.get(jt);et||c.set(jt,et=new Set),yt.forEach((zt,bt)=>et.add(bt))})});if(O.length){const oe=[];O.forEach(ce=>{oe.push(function TPe(n,t){return new De(3505,!1)}())}),R.forEach(ce=>ce.destroy()),this.reportError(oe)}const H=new Map,$=new Map;o.forEach(oe=>{const ce=oe.element;i.has(ce)&&($.set(ce,ce),this._beforeAnimationBuild(oe.player.namespaceId,oe.instruction,H))}),s.forEach(oe=>{const ce=oe.element;this._getPreviousPlayers(ce,!1,oe.namespaceId,oe.triggerName,null).forEach(xe=>{Dl(H,ce,[]).push(xe),xe.destroy()})});const F=_.filter(oe=>hee(oe,l,c)),W=new Map;cee(W,this.driver,C,c,bh).forEach(oe=>{hee(oe,l,c)&&F.push(oe)});const we=new Map;m.forEach((oe,ce)=>{cee(we,this.driver,new Set(oe),l,"!")}),F.forEach(oe=>{const ce=W.get(oe),pe=we.get(oe);W.set(oe,new Map([...ce?.entries()??[],...pe?.entries()??[]]))});const le=[],ue=[],he={};o.forEach(oe=>{const{element:ce,player:pe,instruction:xe}=oe;if(i.has(ce)){if(d.has(ce))return pe.onDestroy(()=>cu(ce,xe.toStyles)),pe.disabled=!0,pe.overrideTotalTime(xe.totalTime),void s.push(pe);let Ae=he;if($.size>1){let Ce=ce;const ft=[];for(;Ce=Ce.parentNode;){const ot=$.get(Ce);if(ot){Ae=ot;break}ft.push(Ce)}ft.forEach(ot=>$.set(ot,Ae))}const fe=this._buildAnimation(pe.namespaceId,xe,H,r,we,W);if(pe.setRealPlayer(fe),Ae===he)le.push(pe);else{const Ce=this.playersByElement.get(Ae);Ce&&Ce.length&&(pe.parentPlayer=_p(Ce)),s.push(pe)}}else Eg(ce,xe.fromStyles),pe.onDestroy(()=>cu(ce,xe.toStyles)),ue.push(pe),d.has(ce)&&s.push(pe)}),ue.forEach(oe=>{const ce=r.get(oe.element);if(ce&&ce.length){const pe=_p(ce);oe.setRealPlayer(pe)}}),s.forEach(oe=>{oe.parentPlayer?oe.syncPlayerEvents(oe.parentPlayer):oe.destroy()});for(let oe=0;oe<_.length;oe++){const ce=_[oe],pe=ce[ld];if(xy(ce,Qk),pe&&pe.hasAnimation)continue;let xe=[];if(a.size){let fe=a.get(ce);fe&&fe.length&&xe.push(...fe);let Ce=this.driver.query(ce,jB,!0);for(let ft=0;ft<Ce.length;ft++){let ot=a.get(Ce[ft]);ot&&ot.length&&xe.push(...ot)}}const Ae=xe.filter(fe=>!fe.destroyed);Ae.length?COe(this,ce,Ae):this.processLeaveNode(ce)}return _.length=0,le.forEach(oe=>{this.players.push(oe),oe.onDone(()=>{oe.destroy();const ce=this.players.indexOf(oe);this.players.splice(ce,1)}),oe.play()}),le}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,r){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!r||r==A1;a.forEach(c=>{c.queued||!l&&c.triggerName!=s||o.push(c)})}}return(i||s)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||s&&s!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const r=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,d=c!==r,u=Dl(i,c,[]);this._getPreviousPlayers(c,d,o,a,e.toState).forEach(m=>{const g=m.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),m.destroy(),u.push(m)})}Eg(r,e.fromStyles)}_buildAnimation(t,e,i,s,r,o){const a=e.triggerName,l=e.element,c=[],d=new Set,u=new Set,f=e.timelines.map(g=>{const v=g.element;d.add(v);const _=v[ld];if(_&&_.removedBeforeQueried)return new qC(g.duration,g.delay);const y=v!==l,C=function MOe(n){const t=[];return uee(n,t),t}((i.get(v)||gOe).map(H=>H.getRealPlayer())).filter(H=>!!H.element&&H.element===v),w=r.get(v),S=o.get(v),R=UJ(this._normalizer,g.keyframes,w,S),O=this._buildPlayer(g,R,C);if(g.subTimeline&&s&&u.add(v),y){const H=new aH(t,a,v);H.setRealPlayer(O),c.push(H)}return O});c.forEach(g=>{Dl(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>function bOe(n,t,e){let i=n.get(t);if(i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,g.element,g))}),d.forEach(g=>uc(g,XJ));const m=_p(f);return m.onDestroy(()=>{d.forEach(g=>xy(g,XJ)),cu(l,e.toStyles)}),u.forEach(g=>{Dl(s,g,[]).push(m)}),m}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new qC(t.duration,t.delay)}}class aH{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new qC,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(s=>BB(t,i,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Dl(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function c2(n){return n&&1===n.nodeType}function lee(n,t){const e=n.style.display;return n.style.display=t??"none",e}function cee(n,t,e,i,s){const r=[];e.forEach(l=>r.push(lee(l)));const o=[];i.forEach((l,c)=>{const d=new Map;l.forEach(u=>{const f=t.computeStyle(c,u,s);d.set(u,f),(!f||0==f.length)&&(c[ld]=_Oe,o.push(c))}),n.set(c,d)});let a=0;return e.forEach(l=>lee(l,r[a++])),o}function dee(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const s=new Set(t),r=new Map;function o(a){if(!a)return 1;let l=r.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:s.has(c)?1:o(c),r.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function uc(n,t){n.classList?.add(t)}function xy(n,t){n.classList?.remove(t)}function COe(n,t,e){_p(e).onDone(()=>n.processLeaveNode(t))}function uee(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof EZ?uee(i.players,t):t.push(i)}}function hee(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(r=>s.add(r)):t.set(n,i),e.delete(n),!0}class k1{constructor(t,e,i,s){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new yOe(t.body,e,i,s),this._timelineEngine=new uOe(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,s,r){const o=t+"-"+s;let a=this._triggerCache[o];if(!a){const l=[],d=QB(this._driver,r,l,[]);if(l.length)throw function pPe(n,t){return new De(3404,!1)}();a=function aOe(n,t,e){return new lOe(n,t,e)}(s,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,s,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[r,o]=WJ(i);this._timelineEngine.command(r,e,o,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,r){if("@"==i.charAt(0)){const[o,a]=WJ(i);return this._timelineEngine.listen(o,e,a,r)}return this._transitionEngine.listen(t,e,i,s,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}class I1{static#e=this.initialStylesByElement=new WeakMap;constructor(t,e,i){this._element=t,this._startStyles=e,this._endStyles=i,this._state=0;let s=I1.initialStylesByElement.get(t);s||I1.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&cu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(cu(this._element,this._initialStyles),this._endStyles&&(cu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(I1.initialStylesByElement.delete(this._element),this._startStyles&&(Eg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Eg(this._element,this._endStyles),this._endStyles=null),cu(this._element,this._initialStyles),this._state=3)}}function lH(n){let t=null;return n.forEach((e,i)=>{(function DOe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class fee{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,s)=>{"offset"!==s&&t.set(s,this._finished?i:KB(this.element,s))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class pee{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return GJ(t,e)}getParentElement(t){return UB(t)}query(t,e,i){return $J(t,e,i)}computeStyle(t,e,i){return KB(t,e)}animate(t,e,i,s,r,o=[]){const l={duration:i,delay:s,fill:0==s?"both":"forwards"};r&&(l.easing=r);const c=new Map,d=o.filter(m=>m instanceof fee);(function VPe(n,t){return 0===n||0===t})(i,s)&&d.forEach(m=>{m.currentSnapshot.forEach((g,v)=>c.set(v,g))});let u=function OPe(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}(e).map(m=>new Map(m));u=function BPe(n,t,e){if(e.size&&t.length){let i=t[0],s=[];if(e.forEach((r,o)=>{i.has(o)||s.push(o),i.set(o,r)}),s.length)for(let r=1;r<t.length;r++){let o=t[r];s.forEach(a=>o.set(a,KB(n,a)))}}return t}(t,u,c);const f=function SOe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=lH(t[0]),t.length>1&&(i=lH(t[t.length-1]))):t instanceof Map&&(e=lH(t)),e||i?new I1(n,e,i):null}(t,u);return new fee(t,u,l,f)}}const mee="@.disabled";class gee{constructor(t,e,i,s){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=s,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==mee?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class EOe extends gee{constructor(t,e,i,s,r){super(e,i,s,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==mee?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function AOe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let r=e.slice(1),o="";return"@"!=r.charAt(0)&&([r,o]=function kOe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(r)),this.engine.listen(this.namespaceId,s,r,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}class IOe{constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(s,r)=>{const o=r?.parentNode(s);o&&r.removeChild(o,s)}}createRenderer(t,e){const s=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){const c=this._rendererCache;let d=c.get(s);return d||(d=new gee("",s,this.engine,()=>c.delete(s)),c.set(s,d)),d}const r=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);const a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(r,o,t,c.name,c)};return e.data.animation.forEach(a),new EOe(this,o,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId)return void this._zone.run(()=>e(i));const s=this._animationCallbacksBuffer;0==s.length&&queueMicrotask(()=>{this._zone.run(()=>{s.forEach(r=>{const[o,a]=r;o(a)}),this._animationCallbacksBuffer=[]})}),s.push([e,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const _ee=[{provide:GB,useFactory:function ROe(){return new KJ}},{provide:k1,useClass:(()=>{class n extends k1{constructor(e,i,s){super(e,i,s,Ke(Lx,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(be(Gn),be(YB),be(GB))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac})}return n})()},{provide:Ev,useFactory:function POe(n,t,e){return new IOe(n,t,e)},deps:[jO,k1,ln]}],cH=[{provide:YB,useFactory:()=>new pee},{provide:$u,useValue:"BrowserAnimations"},..._ee],vee=[{provide:YB,useClass:WB},{provide:$u,useValue:"NoopAnimations"},..._ee];let OOe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?vee:cH}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({providers:cH,imports:[q8]})}return n})(),FOe=(()=>{class n{constructor(e,i){this.router=e,this.authService=i}intercept(e,i){return i.handle(e).pipe(zf(s=>(401===s.status&&this.authService.isTokenExpired()&&this.authService.handleExpiredToken(),c0(s))))}static#e=this.\u0275fac=function(i){return new(i||n)(be(ho),be(dp))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();const VOe=["mat-calendar-body",""];function BOe(n,t){if(1&n&&(L(0,"tr",0)(1,"td",2),U(2),k()()),2&n){const e=N();I(),vr("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Nt("colspan",e.numCols),I(),Ot(" ",e.label," ")}}function HOe(n,t){if(1&n&&(L(0,"td",2),U(1),k()),2&n){const e=N(2);vr("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Nt("colspan",e._firstRowOffset),I(),Ot(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function zOe(n,t){if(1&n){const e=vt();L(0,"td",5)(1,"button",6),ye("click",function(s){const o=ie(e).$implicit;return se(N(2)._cellClicked(o,s))})("focus",function(s){const o=ie(e).$implicit;return se(N(2)._emitActiveDateChange(o,s))}),L(2,"span",7),U(3),k(),Te(4,"span",8),k()()}if(2&n){const e=t.$implicit,i=t.$index,s=N().$index,r=N();vr("width",r._cellWidth)("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),Nt("data-mat-row",s)("data-mat-col",i),I(),dn("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",r._isActiveCell(s,i))("mat-calendar-body-range-start",r._isRangeStart(e.compareValue))("mat-calendar-body-range-end",r._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",r._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",r._isComparisonBridgeStart(e.compareValue,s,i))("mat-calendar-body-comparison-bridge-end",r._isComparisonBridgeEnd(e.compareValue,s,i))("mat-calendar-body-comparison-start",r._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",r._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",r._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",r._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",r._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",r._isInPreview(e.compareValue)),B("ngClass",e.cssClasses)("tabindex",r._isActiveCell(s,i)?0:-1),Nt("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",r._isSelected(e.compareValue))("aria-current",r.todayValue===e.compareValue?"date":null)("aria-describedby",r._getDescribedby(e.compareValue)),I(),dn("mat-calendar-body-selected",r._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",r._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",r.todayValue===e.compareValue),I(),Ot(" ",e.displayValue," ")}}function UOe(n,t){if(1&n&&(L(0,"tr",3),me(1,HOe,2,6,"td",4),QS(2,zOe,5,48,"td",9,KS),k()),2&n){const e=t.$implicit,i=t.$index,s=N();I(),Xv(1,0===i&&s._firstRowOffset?1:-1),I(),JS(e)}}function WOe(n,t){if(1&n&&(L(0,"th",4)(1,"span",5),U(2),k(),L(3,"span",6),U(4),k()()),2&n){const e=t.$implicit;I(2),Ye(e.long),I(2),Ye(e.narrow)}}const YOe=["*"];function GOe(n,t){}function $Oe(n,t){if(1&n){const e=vt();L(0,"mat-month-view",2),ye("activeDateChange",function(s){return ie(e),se(N().activeDate=s)})("_userSelection",function(s){return ie(e),se(N()._dateSelected(s))})("dragStarted",function(s){return ie(e),se(N()._dragStarted(s))})("dragEnded",function(s){return ie(e),se(N()._dragEnded(s))}),k()}if(2&n){const e=N();B("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function jOe(n,t){if(1&n){const e=vt();L(0,"mat-year-view",3),ye("activeDateChange",function(s){return ie(e),se(N().activeDate=s)})("monthSelected",function(s){return ie(e),se(N()._monthSelectedInYearView(s))})("selectedChange",function(s){return ie(e),se(N()._goToDateInView(s,"month"))}),k()}if(2&n){const e=N();B("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function XOe(n,t){if(1&n){const e=vt();L(0,"mat-multi-year-view",4),ye("activeDateChange",function(s){return ie(e),se(N().activeDate=s)})("yearSelected",function(s){return ie(e),se(N()._yearSelectedInMultiYearView(s))})("selectedChange",function(s){return ie(e),se(N()._goToDateInView(s,"year"))}),k()}if(2&n){const e=N();B("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function qOe(n,t){}const ZOe=["button"];function KOe(n,t){1&n&&(qi(),L(0,"svg",3),Te(1,"path",4),k())}const QOe=[[["","matDatepickerToggleIcon",""]]],JOe=["[matDatepickerToggleIcon]"];let L1=(()=>{class n{constructor(){this.changes=new Gt,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class dH{constructor(t,e,i,s,r={},o=t,a){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=s,this.cssClasses=r,this.compareValue=o,this.rawValue=a}}let eFe=1;const yee=iu({passive:!1,capture:!0}),vp=iu({passive:!0,capture:!0}),u2=iu({passive:!0});let wy=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,i){this._elementRef=e,this._ngZone=i,this._platform=Ke(Po),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new Fe,this.previewChange=new Fe,this.activeDateChange=new Fe,this.dragStarted=new Fe,this.dragEnded=new Fe,this._didDragSinceMouseDown=!1,this._enterHandler=s=>{if(this._skipNextFocus&&"focus"===s.type)this._skipNextFocus=!1;else if(s.target&&this.isRange){const r=this._getCellFromElement(s.target);r&&this._ngZone.run(()=>this.previewChange.emit({value:r.enabled?r:null,event:s}))}},this._touchmoveHandler=s=>{if(!this.isRange)return;const r=bee(s),o=r?this._getCellFromElement(r):null;r!==s.target&&(this._didDragSinceMouseDown=!0),hH(s.target)&&s.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:o?.enabled?o:null,event:s}))},this._leaveHandler=s=>{null!==this.previewEnd&&this.isRange&&("blur"!==s.type&&(this._didDragSinceMouseDown=!0),s.target&&this._getCellFromElement(s.target)&&(!s.relatedTarget||!this._getCellFromElement(s.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:s})))},this._mousedownHandler=s=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const r=s.target&&this._getCellFromElement(s.target);!r||!this._isInRange(r.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:r.rawValue,event:s})})},this._mouseupHandler=s=>{if(!this.isRange)return;const r=hH(s.target);r?r.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const o=this._getCellFromElement(r);this.dragEnded.emit({value:o?.rawValue??null,event:s})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:s})})},this._touchendHandler=s=>{const r=bee(s);r&&this._mouseupHandler({target:r})},this._id="mat-calendar-body-"+eFe++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{const s=e.nativeElement;s.addEventListener("touchmove",this._touchmoveHandler,yee),s.addEventListener("mouseenter",this._enterHandler,vp),s.addEventListener("focus",this._enterHandler,vp),s.addEventListener("mouseleave",this._leaveHandler,vp),s.addEventListener("blur",this._leaveHandler,vp),s.addEventListener("mousedown",this._mousedownHandler,u2),s.addEventListener("touchstart",this._mousedownHandler,u2),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:s,numCols:r}=this;(e.rows||i)&&(this._firstRowOffset=s&&s.length&&s[0].length?r-s[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/r+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/r+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,yee),e.removeEventListener("mouseenter",this._enterHandler,vp),e.removeEventListener("focus",this._enterHandler,vp),e.removeEventListener("mouseleave",this._leaveHandler,vp),e.removeEventListener("blur",this._leaveHandler,vp),e.removeEventListener("mousedown",this._mousedownHandler,u2),e.removeEventListener("touchstart",this._mousedownHandler,u2),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,i){let s=e*this.numCols+i;return e&&(s-=this._firstRowOffset),s==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ta(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return fH(e,this.startValue,this.endValue)}_isRangeEnd(e){return pH(e,this.startValue,this.endValue)}_isInRange(e){return mH(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return fH(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,s){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let r=this.rows[i][s-1];if(!r){const o=this.rows[i-1];r=o&&o[o.length-1]}return r&&!this._isRangeEnd(r.compareValue)}_isComparisonBridgeEnd(e,i,s){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let r=this.rows[i][s+1];if(!r){const o=this.rows[i+1];r=o&&o[0]}return r&&!this._isRangeStart(r.compareValue)}_isComparisonEnd(e){return pH(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return mH(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return fH(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return pH(e,this.previewStart,this.previewEnd)}_isInPreview(e){return mH(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){const i=hH(e);if(i){const s=i.getAttribute("data-mat-row"),r=i.getAttribute("data-mat-col");if(s&&r)return this.rows[parseInt(s)][parseInt(r)]}return null}static#e=this.\u0275fac=function(i){return new(i||n)(K(gn),K(ln))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[Ii,tr],attrs:VOe,decls:7,vars:5,consts:[["aria-hidden","true"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"]],template:function(i,s){1&i&&(me(0,BOe,3,6,"tr",0),QS(1,UOe,4,1,"tr",3,KS),L(3,"label",1),U(4),k(),L(5,"label",1),U(6),k()),2&i&&(Xv(0,s._firstRowOffset<s.labelMinRequiredCells?0:-1),I(),JS(s.rows),I(2),B("id",s._startDateLabelId),I(),Ot(" ",s.startDateAccessibleName,"\n"),I(),B("id",s._endDateLabelId),I(),Ot(" ",s.endDateAccessibleName,"\n"))},dependencies:[Zl],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return n})();function uH(n){return"TD"===n?.nodeName}function hH(n){let t;return uH(n)?t=n:uH(n.parentNode)?t=n.parentNode:uH(n.parentNode?.parentNode)&&(t=n.parentNode.parentNode),null!=t?.getAttribute("data-mat-row")?t:null}function fH(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function pH(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function mH(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}function bee(n){const t=n.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}class La{constructor(t,e){this.start=t,this.end=e}}let kg=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new Gt,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const s=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:s})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static#e=this.\u0275fac=function(i){kS()};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac})}return n})(),tFe=(()=>{class n extends kg{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}static#e=this.\u0275fac=function(i){return new(i||n)(be(Go))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac})}return n})();const sFe={provide:kg,deps:[[new Bl,new Bc,kg],Go],useFactory:function iFe(n,t){return n||new tFe(t)}},h2=new Xe("MAT_DATE_RANGE_SELECTION_STRATEGY");let xee=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(s,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof La?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,s,r,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=s,this._dir=r,this._rangeStrategy=o,this._rerenderSubscription=ti.EMPTY,this.activeDrag=null,this.selectedChange=new Fe,this._userSelection=new Fe,this.dragStarted=new Fe,this.dragEnded=new Fe,this.activeDateChange=new Fe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Hf(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,s=this._getDateFromDayOfMonth(i);let r,o;this._selected instanceof La?(r=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):r=o=this._getDateInCurrentMonth(this._selected),(r!==i||o!==i)&&this.selectedChange.emit(s),this._userSelection.emit({value:s,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const s=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,s=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,s?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,s?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!function wV(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const s=i?i.rawValue:null,r=this._rangeStrategy.createPreview(s,this.selected,e);if(this._previewStart=this._getCellCompareValue(r.start),this._previewEnd=this._getCellCompareValue(r.end),this.activeDrag&&s){const o=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,s,e);o&&(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:i??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let r=this._dateAdapter.getDayOfWeekNames("long").map((o,a)=>({long:o,narrow:i[a]}));this._weekdays=r.slice(e).concat(r.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let s=0,r=this._firstWeekOffset;s<e;s++,r++){7==r&&(this._weeks.push([]),r=0);const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),s+1),a=this._shouldEnableDate(o),l=this._dateAdapter.format(o,this._dateFormats.display.dateA11yLabel),c=this.dateClass?this.dateClass(o,"month"):void 0;this._weeks[this._weeks.length-1].push(new dH(s+1,i[s],l,a,c,this._getCellCompareValue(o),o))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),s=this._dateAdapter.getMonth(e),r=this._dateAdapter.getDate(e);return new Date(i,s,r).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof La?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(i){return new(i||n)(K(er),K(pg,8),K(Go,8),K(fy,8),K(h2,8))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["mat-month-view"]],viewQuery:function(i,s){if(1&i&&$r(wy,5),2&i){let r;Bs(r=Hs())&&(s._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[Ii,tr],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(i,s){1&i&&(L(0,"table",0)(1,"thead",1)(2,"tr"),QS(3,WOe,5,2,"th",4,KS),k(),L(5,"tr"),Te(6,"th",2),k()(),L(7,"tbody",3),ye("selectedValueChange",function(o){return s._dateSelected(o)})("activeDateChange",function(o){return s._updateActiveDate(o)})("previewChange",function(o){return s._previewChanged(o)})("dragStarted",function(o){return s.dragStarted.emit(o)})("dragEnded",function(o){return s._dragEnded(o)})("keyup",function(o){return s._handleCalendarBodyKeyup(o)})("keydown",function(o){return s._handleCalendarBodyKeydown(o)}),k()()),2&i&&(I(3),JS(s._weekdays),I(4),B("label",s._monthLabel)("rows",s._weeks)("todayValue",s._todayDate)("startValue",s._rangeStart)("endValue",s._rangeEnd)("comparisonStart",s._comparisonRangeStart)("comparisonEnd",s._comparisonRangeEnd)("previewStart",s._previewStart)("previewEnd",s._previewEnd)("isRange",s._isRange)("labelMinRequiredCells",3)("activeCell",s._dateAdapter.getDate(s.activeDate)-1)("startDateAccessibleName",s.startDateAccessibleName)("endDateAccessibleName",s.endDateAccessibleName))},dependencies:[wy],encapsulation:2,changeDetection:0})}return n})();const Al=24;let wee=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(s,this.minDate,this.maxDate),Cee(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof La?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,s){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=s,this._rerenderSubscription=ti.EMPTY,this.selectedChange=new Fe,this.yearSelected=new Fe,this.activeDateChange=new Fe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Hf(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-R1(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let s=0,r=[];s<Al;s++)r.push(i+s),4==r.length&&(this._years.push(r.map(o=>this._createCellForYear(o))),r=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,s=this._dateAdapter.createDate(i,0,1),r=this._getDateFromYear(i);this.yearSelected.emit(s),this.selectedChange.emit(r)}_updateActiveDate(e){const s=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,s=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,s?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,s?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-R1(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Al-R1(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*-Al:-Al);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*Al:Al);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return R1(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),s=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),s))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),s=this._dateAdapter.getYearName(i),r=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new dH(e,s,s,this._shouldEnableYear(e),r)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof La){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static#e=this.\u0275fac=function(i){return new(i||n)(K(er),K(Go,8),K(fy,8))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(i,s){if(1&i&&$r(wy,5),2&i){let r;Bs(r=Hs())&&(s._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[tr],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(i,s){1&i&&(L(0,"table",0)(1,"thead",1)(2,"tr"),Te(3,"th",2),k()(),L(4,"tbody",3),ye("selectedValueChange",function(o){return s._yearSelected(o)})("activeDateChange",function(o){return s._updateActiveDate(o)})("keyup",function(o){return s._handleCalendarBodyKeyup(o)})("keydown",function(o){return s._handleCalendarBodyKeydown(o)}),k()()),2&i&&(I(4),B("rows",s._years)("todayValue",s._todayYear)("startValue",s._selectedYear)("endValue",s._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",s._getActiveCell()))},dependencies:[wy],encapsulation:2,changeDetection:0})}return n})();function Cee(n,t,e,i,s){const r=n.getYear(t),o=n.getYear(e),a=Mee(n,i,s);return Math.floor((r-a)/Al)===Math.floor((o-a)/Al)}function R1(n,t,e,i){return function lFe(n,t){return(n%t+t)%t}(n.getYear(t)-Mee(n,e,i),Al)}function Mee(n,t,e){let i=0;return e?i=n.getYear(e)-Al+1:t&&(i=n.getYear(t)),i}let Tee=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(s,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof La?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,s,r){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=s,this._dir=r,this._rerenderSubscription=ti.EMPTY,this.selectedChange=new Fe,this.monthSelected=new Fe,this.activeDateChange=new Fe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Hf(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(s);const r=this._getDateFromMonth(i);this.selectedChange.emit(r)}_updateActiveDate(e){const s=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,s=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,s?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,s?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(s=>this._createCellForMonth(s,e[s]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),s))}_createCellForMonth(e,i){const s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.format(s,this._dateFormats.display.monthYearA11yLabel),o=this.dateClass?this.dateClass(s,"year"):void 0;return new dH(e,i.toLocaleUpperCase(),r,this._shouldEnableMonth(e),o)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const s=this._dateAdapter.getYear(this.maxDate),r=this._dateAdapter.getMonth(this.maxDate);return e>s||e===s&&i>r}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const s=this._dateAdapter.getYear(this.minDate),r=this._dateAdapter.getMonth(this.minDate);return e<s||e===s&&i<r}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof La?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}static#e=this.\u0275fac=function(i){return new(i||n)(K(er),K(pg,8),K(Go,8),K(fy,8))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["mat-year-view"]],viewQuery:function(i,s){if(1&i&&$r(wy,5),2&i){let r;Bs(r=Hs())&&(s._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[tr],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(i,s){1&i&&(L(0,"table",0)(1,"thead",1)(2,"tr"),Te(3,"th",2),k()(),L(4,"tbody",3),ye("selectedValueChange",function(o){return s._monthSelected(o)})("activeDateChange",function(o){return s._updateActiveDate(o)})("keyup",function(o){return s._handleCalendarBodyKeyup(o)})("keydown",function(o){return s._handleCalendarBodyKeydown(o)}),k()()),2&i&&(I(4),B("label",s._yearLabel)("rows",s._months)("todayValue",s._todayMonth)("startValue",s._selectedMonth)("endValue",s._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",s._dateAdapter.getMonth(s.activeDate)))},dependencies:[wy],encapsulation:2,changeDetection:0})}return n})(),cFe=1,See=(()=>{class n{constructor(e,i,s,r,o){this._intl=e,this.calendar=i,this._dateAdapter=s,this._dateFormats=r,this._id="mat-calendar-header-"+cFe++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>o.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Al)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Al)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):Cee(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-R1(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),s=i+Al-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(s,0,1))]}static#e=this.\u0275fac=function(i){return new(i||n)(K(L1),K(vi(()=>vH)),K(Go,8),K(pg,8),K(er))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[tr],ngContentSelectors:YOe,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(i,s){1&i&&(jl(),L(0,"div",0)(1,"div",1)(2,"button",2),ye("click",function(){return s.currentPeriodClicked()}),L(3,"span",3),U(4),k(),qi(),L(5,"svg",4),Te(6,"polygon",5),k()(),function Fu(){!function nT(){pn.lFrame.currentNamespace=null}()}(),Te(7,"div",6),Bo(8),L(9,"button",7),ye("click",function(){return s.previousClicked()}),k(),L(10,"button",8),ye("click",function(){return s.nextClicked()}),k()()(),L(11,"label",9),U(12),k()),2&i&&(I(2),Nt("aria-label",s.periodButtonLabel)("aria-describedby",s._periodButtonLabelId),I(2),Ye(s.periodButtonText),I(),dn("mat-calendar-invert","month"!==s.calendar.currentView),I(4),B("disabled",!s.previousEnabled()),Nt("aria-label",s.prevButtonLabel),I(),B("disabled",!s.nextEnabled()),Nt("aria-label",s.nextButtonLabel),I(),B("id",s._periodButtonLabelId),I(),Ye(s.periodButtonDescription))},dependencies:[AV,SZ],encapsulation:2,changeDetection:0})}return n})(),vH=(()=>{class n{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof La?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(e,i,s,r){this._dateAdapter=i,this._dateFormats=s,this._changeDetectorRef=r,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new Fe,this.yearSelected=new Fe,this.monthSelected=new Fe,this.viewChanged=new Fe(!0),this._userSelection=new Fe,this._userDragDrop=new Fe,this._activeDrag=null,this.stateChanges=new Gt,this._intlChanges=e.changes.subscribe(()=>{r.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new ZC(this.headerComponent||See),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,s=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,r=i||s||e.dateFilter;if(r&&!r.firstChange){const o=this._getCurrentViewComponent();o&&(this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof La||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(i){return new(i||n)(K(L1),K(Go,8),K(pg,8),K(er))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["mat-calendar"]],viewQuery:function(i,s){if(1&i&&($r(xee,5),$r(Tee,5),$r(wee,5)),2&i){let r;Bs(r=Hs())&&(s.monthView=r.first),Bs(r=Hs())&&(s.yearView=r.first),Bs(r=Hs())&&(s.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[pi([sFe]),Ii,tr],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(i,s){if(1&i&&(me(0,GOe,0,0,"ng-template",0),L(1,"div",1),me(2,$Oe,1,11)(3,jOe,1,6)(4,XOe,1,6),k()),2&i){let r;B("cdkPortalOutlet",s._calendarHeaderPortal),I(2),Xv(2,"month"===(r=s.currentView)?2:"year"===r?3:"multi-year"===r?4:-1)}},dependencies:[ok,HTe,xee,Tee,wee],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return n})();const Dee={transformPanel:Tl("transformPanel",[js("void => enter-dropdown",sr("120ms cubic-bezier(0, 0, 0.2, 1)",kV([gi({opacity:0,transform:"scale(1, 0.8)"}),gi({opacity:1,transform:"scale(1, 1)"})]))),js("void => enter-dialog",sr("150ms cubic-bezier(0, 0, 0.2, 1)",kV([gi({opacity:0,transform:"scale(0.7)"}),gi({transform:"none",opacity:1})]))),js("* => void",sr("100ms linear",gi({opacity:0})))]),fadeInCalendar:Tl("fadeInCalendar",[su("void",gi({opacity:0})),su("enter",gi({opacity:1})),js("void => *",sr("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},hFe={provide:new Xe("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{const n=Ke(up);return()=>n.scrollStrategies.reposition()}}),deps:[up],useFactory:function uFe(n){return()=>n.scrollStrategies.reposition()}};let fFe=(()=>{class n{constructor(e,i,s,r,o,a){this._elementRef=e,this._changeDetectorRef=i,this._globalModel=s,this._dateAdapter=r,this._rangeSelectionStrategy=o,this._subscriptions=new ti,this._animationDone=new Gt,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=a.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,s=e.value,r=i instanceof La;if(r&&this._rangeSelectionStrategy){const o=this._rangeSelectionStrategy.selectionFinished(s,i,e.event);this._model.updateSelection(o,this)}else s&&(r||!this._dateAdapter.sameDate(s,i))&&this._model.add(s);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating="start"===e.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(i){return new(i||n)(K(gn),K(er),K(kg),K(Go),K(h2,8),K(L1))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(i,s){if(1&i&&$r(vH,5),2&i){let r;Bs(r=Hs())&&(s._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(i,s){1&i&&rD("@transformPanel.start",function(o){return s._handleAnimationEvent(o)})("@transformPanel.done",function(o){return s._handleAnimationEvent(o)}),2&i&&(eD("@transformPanel",s._animationState),uo(s.color?"mat-"+s.color:""),dn("mat-datepicker-content-touch",s.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[tr],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(i,s){if(1&i&&(L(0,"div",0)(1,"mat-calendar",1),ye("yearSelected",function(o){return s.datepicker._selectYear(o)})("monthSelected",function(o){return s.datepicker._selectMonth(o)})("viewChanged",function(o){return s.datepicker._viewChanged(o)})("_userSelection",function(o){return s._handleUserSelection(o)})("_userDragDrop",function(o){return s._handleUserDragDrop(o)}),k(),me(2,qOe,0,0,"ng-template",2),L(3,"button",3),ye("focus",function(){return s._closeButtonFocused=!0})("blur",function(){return s._closeButtonFocused=!1})("click",function(){return s.datepicker.close()}),U(4),k()()),2&i){let r;dn("mat-datepicker-content-container-with-custom-header",s.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",s._actionsPortal),Nt("aria-modal",!0)("aria-labelledby",null!==(r=s._dialogLabelId)&&void 0!==r?r:void 0),I(),B("id",s.datepicker.id)("ngClass",s.datepicker.panelClass)("startAt",s.datepicker.startAt)("startView",s.datepicker.startView)("minDate",s.datepicker._getMinDate())("maxDate",s.datepicker._getMaxDate())("dateFilter",s.datepicker._getDateFilter())("headerComponent",s.datepicker.calendarHeaderComponent)("selected",s._getSelected())("dateClass",s.datepicker.dateClass)("comparisonStart",s.comparisonStart)("comparisonEnd",s.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",s.startDateAccessibleName)("endDateAccessibleName",s.endDateAccessibleName),I(),B("cdkPortalOutlet",s._actionsPortal),I(),dn("cdk-visually-hidden",!s._closeButtonFocused),B("color",s.color||"primary"),I(),Ye(s._closeButtonText)}},dependencies:[kTe,vH,Zl,ok,AV],styles:[".mat-datepicker-content{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Dee.transformPanel,Dee.fadeInCalendar]},changeDetection:0})}return n})(),vFe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ee({type:n,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0})}return n})(),yFe=(()=>{class n{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}constructor(e,i,s){this._intl=e,this._changeDetectorRef=i,this._stateChanges=ti.EMPTY;const r=Number(s);this.tabIndex=r||0===r?r:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:rn(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:rn(),s=this.datepicker?mg(this.datepicker.openedStream,this.datepicker.closedStream):rn();this._stateChanges.unsubscribe(),this._stateChanges=mg(this._intl.changes,e,i,s).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(K(L1),K(er),Oc("tabindex"))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,s,r){if(1&i&&Em(r,vFe,5),2&i){let o;Bs(o=Hs())&&(s._customIcon=o.first)}},viewQuery:function(i,s){if(1&i&&$r(ZOe,5),2&i){let r;Bs(r=Hs())&&(s._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,s){1&i&&ye("click",function(o){return s._open(o)}),2&i&&(Nt("tabindex",null)("data-mat-calendar",s.datepicker?s.datepicker.id:null),dn("mat-datepicker-toggle-active",s.datepicker&&s.datepicker.opened)("mat-accent",s.datepicker&&"accent"===s.datepicker.color)("mat-warn",s.datepicker&&"warn"===s.datepicker.color))},inputs:{datepicker:[St.None,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[St.None,"aria-label","ariaLabel"],disabled:[St.HasDecoratorInputTransform,"disabled","disabled",lr],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[Yl,Ii,tr],ngContentSelectors:JOe,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,s){1&i&&(jl(QOe),L(0,"button",0,1),me(2,KOe,2,0,":svg:svg",2),Bo(3),k()),2&i&&(B("disabled",s.disabled)("disableRipple",s.disableRipple),Nt("aria-haspopup",s.datepicker?"dialog":null)("aria-label",s.ariaLabel||s._intl.openCalendarLabel)("tabindex",s.disabled?-1:s.tabIndex),I(2),Xv(2,s._customIcon?-1:2))},dependencies:[SZ],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return n})(),wFe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({providers:[L1,hFe],imports:[xa,DZ,HV,zTe,PV,ka,fFe,yFe,See,QC]})}return n})(),qo=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),MFe=(()=>{class n{clickSource=new Gt;clickObservable=this.clickSource.asObservable();add(e){e&&this.clickSource.next(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kee=(()=>{class n{ripple=!1;inputStyle="outlined";overlayOptions={};filterMatchModeOptions={text:[qo.STARTS_WITH,qo.CONTAINS,qo.NOT_CONTAINS,qo.ENDS_WITH,qo.EQUALS,qo.NOT_EQUALS],numeric:[qo.EQUALS,qo.NOT_EQUALS,qo.LESS_THAN,qo.LESS_THAN_OR_EQUAL_TO,qo.GREATER_THAN,qo.GREATER_THAN_OR_EQUAL_TO],date:[qo.DATE_IS,qo.DATE_IS_NOT,qo.DATE_BEFORE,qo.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Gt;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation={...this.translation,...e},this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TFe=(()=>{class n{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(K(Za))};static \u0275dir=ee({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[St.None,"pTemplate","name"]}})}return n})(),p2=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=fn({type:n});static \u0275inj=cn({imports:[xa]})}return n})(),du=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage"})(),Yt=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,i){e&&i&&(e.classList?e.classList.add(i):e.className+=" "+i)}static addMultipleClasses(e,i){if(e&&i)if(e.classList){let s=i.trim().split(" ");for(let r=0;r<s.length;r++)e.classList.add(s[r])}else{let s=i.split(" ");for(let r=0;r<s.length;r++)e.className+=" "+s[r]}}static removeClass(e,i){e&&i&&(e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,i){e&&i&&[i].flat().filter(Boolean).forEach(s=>s.split(" ").forEach(r=>this.removeClass(e,r)))}static hasClass(e,i){return!(!e||!i)&&(e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className))}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return this.isElement(e)?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,s=0;for(var r=0;r<i.length;r++){if(i[r]==e)return s;1==i[r].nodeType&&s++}return-1}static indexWithinGroup(e,i){let s=e.parentNode?e.parentNode.childNodes:[],r=0;for(var o=0;o<s.length;o++){if(s[o]==e)return r;s[o].attributes&&s[o].attributes[i]&&1==s[o].nodeType&&r++}return-1}static appendOverlay(e,i,s="self"){"self"!==s&&e&&i&&this.appendChild(e,i)}static alignOverlay(e,i,s="self",r=!0){e&&i&&(r&&(e.style.minWidth=`${n.getOuterWidth(i)}px`),"self"===s?this.relativePosition(e,i):this.absolutePosition(e,i))}static relativePosition(e,i){const s=y=>{if(y)return"relative"===getComputedStyle(y).getPropertyValue("position")?y:s(y.parentElement)},r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=i.offsetHeight,a=i.getBoundingClientRect(),l=this.getWindowScrollTop(),c=this.getWindowScrollLeft(),d=this.getViewport(),f=s(e)?.getBoundingClientRect()||{top:-1*l,left:-1*c};let m,g;a.top+o+r.height>d.height?(m=a.top-f.top-r.height,e.style.transformOrigin="bottom",a.top+m<0&&(m=-1*a.top)):(m=o+a.top-f.top,e.style.transformOrigin="top");const v=a.left+r.width-d.width;g=r.width>d.width?-1*(a.left-f.left):v>0?a.left-f.left-v:a.left-f.left,e.style.top=m+"px",e.style.left=g+"px"}static absolutePosition(e,i){const s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),r=s.height,o=s.width,a=i.offsetHeight,l=i.offsetWidth,c=i.getBoundingClientRect(),d=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),f=this.getViewport();let m,g;c.top+a+r>f.height?(m=c.top+d-r,e.style.transformOrigin="bottom",m<0&&(m=d)):(m=a+c.top+d,e.style.transformOrigin="top"),g=c.left+o>f.width?Math.max(0,c.left+u+l-o):c.left+u,e.style.top=m+"px",e.style.left=g+"px"}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let s=this.getParents(e);const r=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return r.test(l.getPropertyValue("overflow"))||r.test(l.getPropertyValue("overflowX"))||r.test(l.getPropertyValue("overflowY"))};for(let a of s){let l=1===a.nodeType&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let d of c){let u=this.findSingle(a,d);u&&o(u)&&i.push(u)}}9!==a.nodeType&&o(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let s=getComputedStyle(e).getPropertyValue("borderTopWidth"),r=s?parseFloat(s):0,o=getComputedStyle(e).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=e.getBoundingClientRect(),d=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-r-a,u=e.scrollTop,f=e.clientHeight,m=this.getOuterHeight(i);d<0?e.scrollTop=u+d:d+m>f&&(e.scrollTop=u+d-f+m)}static fadeIn(e,i){e.style.opacity=0;let s=+new Date,r=0,o=function(){r=+e.style.opacity.replace(",",".")+((new Date).getTime()-s)/i,e.style.opacity=r,s=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(e,i){var s=1,a=50/i;let l=setInterval(()=>{(s-=a)<=0&&(s=0,clearInterval(l)),e.style.opacity=s},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var s=Element.prototype;return(s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector||function(o){return-1!==[].indexOf.call(document.querySelectorAll(o),this)}).call(e,i)}static getOuterWidth(e,i){let s=e.offsetWidth;if(i){let r=getComputedStyle(e);s+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return s}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,s=getComputedStyle(e);return i+=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),i}static width(e){let i=e.offsetWidth,s=getComputedStyle(e);return i-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,s=getComputedStyle(e);return i+=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),i}static getOuterHeight(e,i){let s=e.offsetHeight;if(i){let r=getComputedStyle(e);s+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return s}static getHeight(e){let i=e.offsetHeight,s=getComputedStyle(e);return i-=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom)+parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,s=getComputedStyle(e);return i-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)+parseFloat(s.borderLeftWidth)+parseFloat(s.borderRightWidth),i}static getViewport(){let e=window,i=document,s=i.documentElement,r=i.getElementsByTagName("body")[0];return{width:e.innerWidth||s.clientWidth||r.clientWidth,height:e.innerHeight||s.clientHeight||r.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let s=e.parentNode;if(!s)throw"Can't replace element";return s.replaceChild(i,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!(i&&i.el&&i.el.nativeElement))throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let s=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=s,s}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,s){e[i].apply(e,s)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||null===e.offsetParent}static isVisible(e){return e&&null!=e.offsetParent}static isExist(e){return null!==e&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,i){e&&document.activeElement!==e&&e.focus(i)}static getFocusableElements(e,i=""){let s=this.find(e,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`),r=[];for(let o of s)"none"!=getComputedStyle(o).display&&"hidden"!=getComputedStyle(o).visibility&&r.push(o);return r}static getFirstFocusableElement(e,i){const s=this.getFocusableElements(e,i);return s.length>0?s[0]:null}static getLastFocusableElement(e,i){const s=this.getFocusableElements(e,i);return s.length>0?s[s.length-1]:null}static getNextFocusableElement(e,i=!1){const s=n.getFocusableElements(e);let r=0;if(s&&s.length>0){const o=s.indexOf(s[0].ownerDocument.activeElement);i?r=-1==o||0===o?s.length-1:o-1:-1!=o&&o!==s.length-1&&(r=o+1)}return s[r]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,i){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:const s=typeof e;if("string"===s)return document.querySelector(e);if("object"===s&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;const o=(a=e)&&a.constructor&&a.call&&a.apply?e():e;return o&&9===o.nodeType||this.isExist(o)?o:null}var a}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,i){if(e){const s=e.getAttribute(i);return isNaN(s)?"true"===s||"false"===s?"true"===s:s:+s}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}}return n})();class SFe{element;listener;scrollableParents;constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=Yt.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}class hc{static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var r,o,a,i=Array.isArray(t),s=Array.isArray(e);if(i&&s){if((o=t.length)!=e.length)return!1;for(r=o;0!=r--;)if(!this.equalsByValue(t[r],e[r]))return!1;return!0}if(i!=s)return!1;var l=this.isDate(t),c=this.isDate(e);if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var d=t instanceof RegExp,u=e instanceof RegExp;if(d!=u)return!1;if(d&&u)return t.toString()==e.toString();var f=Object.keys(t);if((o=f.length)!==Object.keys(e).length)return!1;for(r=o;0!=r--;)if(!Object.prototype.hasOwnProperty.call(e,f[r]))return!1;for(r=o;0!=r--;)if(!this.equalsByValue(t[a=f[r]],e[a]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),s=t;for(let r=0,o=i.length;r<o;++r){if(null==s)return null;s=s[i[r]]}return s}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,s){if(i.length>0){let r=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],s)>e){i.splice(o,0,t),r=!0;break}r||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let s=0;s<e.length;s++)if(e[s]==t){i=s;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),t}static isDate(t){return"[object Date]"===Object.prototype.toString.call(t)}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!this.isDate(t)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,i,s=1){let r=-1;const o=this.isEmpty(t),a=this.isEmpty(e);return r=o&&a?0:o?s:a?-s:"string"==typeof t&&"string"==typeof e?t.localeCompare(e,i,{numeric:!0}):t<e?-1:t>e?1:0,r}static sort(t,e,i=1,s,r=1){const o=hc.compare(t,e,s,i);let a=i;return(hc.isEmpty(t)||hc.isEmpty(e))&&(a=1===r?i:r),a*o}static merge(t,e){if(null!=t||null!=e)return null!=t&&"object"!=typeof t||null!=e&&"object"!=typeof e?null!=t&&"string"!=typeof t||null!=e&&"string"!=typeof e?e||t:[t||"",e||""].join(" "):{...t||{},...e||{}}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&1===t.length&&t.match(/\S| /)}static getItemValue(t,...e){return this.isFunction(t)?t(...e):t}static findLastIndex(t,e){let i=-1;if(this.isNotEmpty(t))try{i=t.findLastIndex(e)}catch{i=t.lastIndexOf([...t].reverse().find(e))}return i}static findLast(t,e){let i;if(this.isNotEmpty(t))try{i=t.findLast(e)}catch{i=[...t].reverse().find(e)}return i}static deepEquals(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var r,o,a,i=Array.isArray(t),s=Array.isArray(e);if(i&&s){if((o=t.length)!=e.length)return!1;for(r=o;0!=r--;)if(!this.deepEquals(t[r],e[r]))return!1;return!0}if(i!=s)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var d=t instanceof RegExp,u=e instanceof RegExp;if(d!=u)return!1;if(d&&u)return t.toString()==e.toString();var f=Object.keys(t);if((o=f.length)!==Object.keys(e).length)return!1;for(r=o;0!=r--;)if(!Object.prototype.hasOwnProperty.call(e,f[r]))return!1;for(r=o;0!=r--;)if(!this.deepEquals(t[a=f[r]],e[a]))return!1;return!0}return t!=t&&e!=e}}var Iee=0;function Lee(n="pn_id_"){return`${n}${++Iee}`}var m2=function DFe(){let n=[];const s=r=>r&&parseInt(r.style.zIndex,10)||0;return{get:s,set:(r,o,a)=>{o&&(o.style.zIndex=String(((r,o)=>{let a=n.length>0?n[n.length-1]:{key:r,value:o},l=a.value+(a.key===r?0:o)+2;return n.push({key:r,value:l}),l})(r,a)))},clear:r=>{r&&((r=>{n=n.filter(o=>o.value!==r)})(s(r)),r.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const EFe=["*"];let Ig=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const e=hc.isEmpty(this.label);this.role=e?void 0:"img",this.ariaLabel=e?void 0:this.label,this.ariaHidden=e}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Ht({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[tr],ngContentSelectors:EFe,decls:1,vars:0,template:function(i,s){1&i&&(jl(),Bo(0))},encapsulation:2,changeDetection:0})}return n})(),AFe=(()=>{class n extends Ig{pathId;ngOnInit(){this.pathId="url(#"+Lee()+")"}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ss(n)))(s||n)}})();static \u0275cmp=Ht({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[Jn,tr],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,s){1&i&&(qi(),L(0,"svg",0)(1,"g"),Te(2,"path",1),k(),L(3,"defs")(4,"clipPath",2),Te(5,"rect",3),k()()()),2&i&&(uo(s.getClassNames()),Nt("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),I(),Nt("clip-path",s.pathId),I(3),B("id",s.pathId))},encapsulation:2})}return n})(),kFe=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(e,i,s,r,o,a){this.document=e,this.platformId=i,this.renderer=s,this.el=r,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){Of(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(e){let i=this.getInk();if(!i||"none"===this.document.defaultView?.getComputedStyle(i,null).display)return;if(Yt.removeClass(i,"p-ink-active"),!Yt.getHeight(i)&&!Yt.getWidth(i)){let a=Math.max(Yt.getOuterWidth(this.el.nativeElement),Yt.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let s=Yt.getOffset(this.el.nativeElement),r=e.pageX-s.left+this.document.body.scrollTop-Yt.getWidth(i)/2,o=e.pageY-s.top+this.document.body.scrollLeft-Yt.getHeight(i)/2;this.renderer.setStyle(i,"top",o+"px"),this.renderer.setStyle(i,"left",r+"px"),Yt.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&Yt.removeClass(a,"p-ink-active")},401)}getInk(){const e=this.el.nativeElement.children;for(let i=0;i<e.length;i++)if("string"==typeof e[i].className&&-1!==e[i].className.indexOf("p-ink"))return e[i];return null}resetInk(){let e=this.getInk();e&&Yt.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),Yt.removeClass(e.currentTarget,"p-ink-active")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,Yt.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(K(Gn),K(To),K(Js),K(gn),K(ln),K(kee,8))};static \u0275dir=ee({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})}return n})(),Ree=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=fn({type:n});static \u0275inj=cn({imports:[xa]})}return n})();const yp={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"};let zFe=(()=>{class n{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(yp);spinnerIcon='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="p-icon-spin">\n        <g clip-path="url(#clip0_417_21408)">\n            <path\n                d="M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z"\n                fill="currentColor"\n            />\n        </g>\n        <defs>\n            <clipPath id="clip0_417_21408">\n                <rect width="14" height="14" fill="white" />\n            </clipPath>\n        </defs>\n    </svg>';constructor(e,i){this.el=e,this.document=i}ngAfterViewInit(){Yt.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){const e=[yp.button,yp.component];return this.icon&&!this.label&&hc.isEmpty(this.htmlElement.textContent)&&e.push(yp.iconOnly),this.loading&&(e.push(yp.disabled,yp.loading),!this.icon&&this.label&&e.push(yp.labelOnly),this.icon&&!this.label&&!hc.isEmpty(this.htmlElement.textContent)&&e.push(yp.iconOnly)),e}setStyleClass(){const e=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}createLabel(){if(!Yt.findSingle(this.htmlElement,".p-button-label")&&this.label){let i=this.document.createElement("span");this.icon&&!this.label&&i.setAttribute("aria-hidden","true"),i.className="p-button-label",i.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(i)}}createIcon(){if(!Yt.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let i=this.document.createElement("span");i.className="p-button-icon",i.setAttribute("aria-hidden","true");let s=this.label?"p-button-icon-"+this.iconPos:null;s&&Yt.addClass(i,s);let r=this.getIconClass();r&&Yt.addMultipleClasses(i,r),!this.loadingIcon&&this.loading&&(i.innerHTML=this.spinnerIcon),this.htmlElement.insertBefore(i,this.htmlElement.firstChild)}}updateLabel(){let e=Yt.findSingle(this.htmlElement,".p-button-label");this.label?e?e.textContent=this.label:this.createLabel():e&&this.htmlElement.removeChild(e)}updateIcon(){let e=Yt.findSingle(this.htmlElement,".p-button-icon"),i=Yt.findSingle(this.htmlElement,".p-button-label");this.loading&&!this.loadingIcon&&e?e.innerHTML=this.spinnerIcon:e?.innerHTML&&(e.innerHTML=""),e?e.className=this.iconPos?"p-button-icon "+(i?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon "+(this.loadingIcon?this.loadingIcon:"p-icon"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(i){return new(i||n)(K(gn),K(Gn))};static \u0275dir=ee({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}})}return n})(),Pee=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=fn({type:n});static \u0275inj=cn({imports:[xa,Ree,p2,AFe,p2]})}return n})(),Oee=(()=>{class n extends Ig{static \u0275fac=(()=>{let e;return function(s){return(e||(e=ss(n)))(s||n)}})();static \u0275cmp=Ht({type:n,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[Jn,tr],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(i,s){1&i&&(qi(),L(0,"svg",0),Te(1,"path",1),k()),2&i&&(uo(s.getClassNames()),Nt("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})}return n})(),Fee=(()=>{class n extends Ig{static \u0275fac=(()=>{let e;return function(s){return(e||(e=ss(n)))(s||n)}})();static \u0275cmp=Ht({type:n,selectors:[["ChevronRightIcon"]],standalone:!0,features:[Jn,tr],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(i,s){1&i&&(qi(),L(0,"svg",0),Te(1,"path",1),k()),2&i&&(uo(s.getClassNames()),Nt("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})}return n})(),Nee=(()=>{class n extends Ig{static \u0275fac=(()=>{let e;return function(s){return(e||(e=ss(n)))(s||n)}})();static \u0275cmp=Ht({type:n,selectors:[["ChevronUpIcon"]],standalone:!0,features:[Jn,tr],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(i,s){1&i&&(qi(),L(0,"svg",0),Te(1,"path",1),k()),2&i&&(uo(s.getClassNames()),Nt("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})}return n})(),Vee=(()=>{class n extends Ig{static \u0275fac=(()=>{let e;return function(s){return(e||(e=ss(n)))(s||n)}})();static \u0275cmp=Ht({type:n,selectors:[["ChevronDownIcon"]],standalone:!0,features:[Jn,tr],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,s){1&i&&(qi(),L(0,"svg",0),Te(1,"path",1),k()),2&i&&(uo(s.getClassNames()),Nt("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})}return n})(),Bee=(()=>{class n extends Ig{static \u0275fac=(()=>{let e;return function(s){return(e||(e=ss(n)))(s||n)}})();static \u0275cmp=Ht({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[Jn,tr],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,s){1&i&&(qi(),L(0,"svg",0),Te(1,"path",1),k()),2&i&&(uo(s.getClassNames()),Nt("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})}return n})(),Hee=(()=>{class n extends Ig{static \u0275fac=(()=>{let e;return function(s){return(e||(e=ss(n)))(s||n)}})();static \u0275cmp=Ht({type:n,selectors:[["CalendarIcon"]],standalone:!0,features:[Jn,tr],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z","fill","currentColor"]],template:function(i,s){1&i&&(qi(),L(0,"svg",0),Te(1,"path",1),k()),2&i&&(uo(s.getClassNames()),Nt("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})}return n})();const UFe=["container"],WFe=["inputfield"],YFe=["contentWrapper"];function GFe(n,t){if(1&n){const e=vt();L(0,"TimesIcon",10),ye("click",function(){return ie(e),se(N(3).clear())}),k()}2&n&&B("styleClass","p-calendar-clear-icon")}function $Fe(n,t){}function jFe(n,t){1&n&&me(0,$Fe,0,0,"ng-template")}function XFe(n,t){if(1&n){const e=vt();L(0,"span",11),ye("click",function(){return ie(e),se(N(3).clear())}),me(1,jFe,1,0,null,12),k()}if(2&n){const e=N(3);I(),B("ngTemplateOutlet",e.clearIconTemplate)}}function qFe(n,t){if(1&n&&(es(0),me(1,GFe,1,1,"TimesIcon",8)(2,XFe,2,1,"span",9),ts()),2&n){const e=N(2);I(),B("ngIf",!e.clearIconTemplate),I(),B("ngIf",e.clearIconTemplate)}}function ZFe(n,t){1&n&&Te(0,"span",15),2&n&&B("ngClass",N(3).icon)}function KFe(n,t){1&n&&Te(0,"CalendarIcon")}function QFe(n,t){}function JFe(n,t){1&n&&me(0,QFe,0,0,"ng-template")}function eNe(n,t){if(1&n&&(es(0),me(1,KFe,1,0,"CalendarIcon",6)(2,JFe,1,0,null,12),ts()),2&n){const e=N(3);I(),B("ngIf",!e.triggerIconTemplate),I(),B("ngTemplateOutlet",e.triggerIconTemplate)}}function tNe(n,t){if(1&n){const e=vt();L(0,"button",13),ye("click",function(s){ie(e),N();const r=If(1);return se(N().onButtonClick(s,r))}),me(1,ZFe,1,1,"span",14)(2,eNe,3,2,"ng-container",6),k()}if(2&n){const e=N(2);B("disabled",e.disabled),Nt("aria-label",e.iconButtonAriaLabel)("aria-expanded",e.overlayVisible)("aria-controls",e.panelId),I(),B("ngIf",e.icon),I(),B("ngIf",!e.icon)}}const nNe=n=>({"p-datepicker-icon":n});function iNe(n,t){if(1&n){const e=vt();L(0,"CalendarIcon",18),ye("click",function(s){return ie(e),se(N(3).onButtonClick(s))}),k()}if(2&n){const e=N(3);B("ngClass",Ds(1,nNe,e.showOnFocus))}}function sNe(n,t){1&n&&kf(0)}const rNe=n=>({clickCallBack:n});function oNe(n,t){if(1&n&&(es(0),me(1,iNe,1,3,"CalendarIcon",16)(2,sNe,1,0,"ng-container",17),ts()),2&n){const e=N(2);I(),B("ngIf",!e.inputIconTemplate),I(),B("ngTemplateOutlet",e.inputIconTemplate)("ngTemplateOutletContext",Ds(3,rNe,e.onButtonClick.bind(e)))}}function aNe(n,t){if(1&n){const e=vt();L(0,"input",4,5),ye("focus",function(s){return ie(e),se(N().onInputFocus(s))})("keydown",function(s){return ie(e),se(N().onInputKeydown(s))})("click",function(){return ie(e),se(N().onInputClick())})("blur",function(s){return ie(e),se(N().onInputBlur(s))})("input",function(s){return ie(e),se(N().onUserInput(s))}),k(),me(2,qFe,3,2,"ng-container",6)(3,tNe,3,6,"button",7)(4,oNe,3,5,"ng-container",6)}if(2&n){const e=N();uo(e.inputStyleClass),B("value",e.inputFieldValue)("readonly",e.readonlyInput)("ngStyle",e.inputStyle)("placeholder",e.placeholder||"")("disabled",e.disabled)("ngClass","p-inputtext p-component"),Nt("id",e.inputId)("name",e.name)("required",e.required)("aria-required",e.required)("aria-expanded",e.overlayVisible)("aria-controls",e.panelId)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("tabindex",e.tabindex)("inputmode",e.touchUI?"off":null),I(2),B("ngIf",e.showClear&&!e.disabled&&null!=e.value),I(),B("ngIf",e.showIcon&&"button"===e.iconDisplay),I(),B("ngIf","input"===e.iconDisplay&&e.showIcon)}}function lNe(n,t){1&n&&kf(0)}function cNe(n,t){1&n&&Te(0,"ChevronLeftIcon",40),2&n&&B("styleClass","p-datepicker-prev-icon")}function dNe(n,t){}function uNe(n,t){1&n&&me(0,dNe,0,0,"ng-template")}function hNe(n,t){if(1&n&&(L(0,"span",41),me(1,uNe,1,0,null,12),k()),2&n){const e=N(5);I(),B("ngTemplateOutlet",e.previousIconTemplate)}}function fNe(n,t){if(1&n){const e=vt();L(0,"button",38),ye("keydown",function(s){return ie(e),se(N(4).onContainerButtonKeydown(s))})("click",function(s){return ie(e),se(N(4).onPrevButtonClick(s))}),me(1,cNe,1,1,"ChevronLeftIcon",35)(2,hNe,2,1,"span",39),k()}if(2&n){const e=N(4);Nt("aria-label",e.prevIconAriaLabel),I(),B("ngIf",!e.previousIconTemplate),I(),B("ngIf",e.previousIconTemplate)}}function pNe(n,t){if(1&n){const e=vt();L(0,"button",42),ye("click",function(s){return ie(e),se(N(4).switchToMonthView(s))})("keydown",function(s){return ie(e),se(N(4).onContainerButtonKeydown(s))}),U(1),k()}if(2&n){const e=N().$implicit,i=N(3);B("disabled",i.switchViewButtonDisabled()),Nt("aria-label",i.getTranslation("chooseMonth")),I(),Ot(" ",i.getMonthName(e.month)," ")}}function mNe(n,t){if(1&n){const e=vt();L(0,"button",43),ye("click",function(s){return ie(e),se(N(4).switchToYearView(s))})("keydown",function(s){return ie(e),se(N(4).onContainerButtonKeydown(s))}),U(1),k()}if(2&n){const e=N().$implicit,i=N(3);B("disabled",i.switchViewButtonDisabled()),Nt("aria-label",i.getTranslation("chooseYear")),I(),Ot(" ",i.getYear(e)," ")}}function gNe(n,t){if(1&n&&(es(0),U(1),ts()),2&n){const e=N(5);I(),Kv("",e.yearPickerValues()[0]," - ",e.yearPickerValues()[e.yearPickerValues().length-1],"")}}function _Ne(n,t){1&n&&kf(0)}const bH=n=>({$implicit:n});function vNe(n,t){if(1&n&&(L(0,"span",44),me(1,gNe,2,2,"ng-container",6)(2,_Ne,1,0,"ng-container",17),k()),2&n){const e=N(4);I(),B("ngIf",!e.decadeTemplate),I(),B("ngTemplateOutlet",e.decadeTemplate)("ngTemplateOutletContext",Ds(3,bH,e.yearPickerValues))}}function yNe(n,t){1&n&&Te(0,"ChevronRightIcon",40),2&n&&B("styleClass","p-datepicker-next-icon")}function bNe(n,t){}function xNe(n,t){1&n&&me(0,bNe,0,0,"ng-template")}function wNe(n,t){if(1&n&&(L(0,"span",45),me(1,xNe,1,0,null,12),k()),2&n){const e=N(4);I(),B("ngTemplateOutlet",e.nextIconTemplate)}}function CNe(n,t){if(1&n&&(L(0,"th",51)(1,"span"),U(2),k()()),2&n){const e=N(5);I(2),Ye(e.getTranslation("weekHeader"))}}function MNe(n,t){if(1&n&&(L(0,"th",52)(1,"span"),U(2),k()()),2&n){const e=t.$implicit;I(2),Ye(e)}}function TNe(n,t){if(1&n&&(L(0,"td",55)(1,"span",56),U(2),k()()),2&n){const e=N().index,i=N(2).$implicit;I(2),Ot(" ",i.weekNumbers[e]," ")}}function SNe(n,t){if(1&n&&(es(0),U(1),ts()),2&n){const e=N(2).$implicit;I(),Ye(e.day)}}function DNe(n,t){1&n&&kf(0)}function ENe(n,t){if(1&n&&(es(0),me(1,DNe,1,0,"ng-container",17),ts()),2&n){const e=N(2).$implicit,i=N(6);I(),B("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",Ds(2,bH,e))}}function ANe(n,t){1&n&&kf(0)}function kNe(n,t){if(1&n&&(es(0),me(1,ANe,1,0,"ng-container",17),ts()),2&n){const e=N(2).$implicit,i=N(6);I(),B("ngTemplateOutlet",i.disabledDateTemplate)("ngTemplateOutletContext",Ds(2,bH,e))}}function INe(n,t){if(1&n&&(L(0,"div",59),U(1),k()),2&n){const e=N(2).$implicit;I(),Ot(" ",e.day," ")}}const xH=(n,t)=>({"p-highlight":n,"p-disabled":t});function LNe(n,t){if(1&n){const e=vt();es(0),L(1,"span",57),ye("click",function(s){ie(e);const r=N().$implicit;return se(N(6).onDateSelect(s,r))})("keydown",function(s){ie(e);const r=N().$implicit,o=N(3).index;return se(N(3).onDateCellKeydown(s,r,o))}),me(2,SNe,2,1,"ng-container",6)(3,ENe,2,4,"ng-container",6)(4,kNe,2,4,"ng-container",6),k(),me(5,INe,2,1,"div",58),ts()}if(2&n){const e=N().$implicit,i=N(6);I(),B("ngClass",Lf(5,xH,i.isSelected(e)&&e.selectable,!e.selectable)),I(),B("ngIf",!i.dateTemplate&&(e.selectable||!i.disabledDateTemplate)),I(),B("ngIf",e.selectable||!i.disabledDateTemplate),I(),B("ngIf",!e.selectable),I(),B("ngIf",i.isSelected(e))}}const RNe=(n,t)=>({"p-datepicker-other-month":n,"p-datepicker-today":t});function PNe(n,t){if(1&n&&(L(0,"td",15),me(1,LNe,6,8,"ng-container",6),k()),2&n){const e=t.$implicit,i=N(6);B("ngClass",Lf(3,RNe,e.otherMonth,e.today)),Nt("aria-label",e.day),I(),B("ngIf",!e.otherMonth||i.showOtherMonths)}}function ONe(n,t){if(1&n&&(L(0,"tr"),me(1,TNe,3,1,"td",53)(2,PNe,2,6,"td",54),k()),2&n){const e=t.$implicit,i=N(5);I(),B("ngIf",i.showWeek),I(),B("ngForOf",e)}}function FNe(n,t){if(1&n&&(L(0,"div",46)(1,"table",47)(2,"thead")(3,"tr"),me(4,CNe,3,1,"th",48)(5,MNe,3,1,"th",49),k()(),L(6,"tbody"),me(7,ONe,3,2,"tr",50),k()()()),2&n){const e=N().$implicit,i=N(3);I(4),B("ngIf",i.showWeek),I(),B("ngForOf",i.weekDays),I(2),B("ngForOf",e.dates)}}function NNe(n,t){if(1&n){const e=vt();L(0,"div",27)(1,"div",28),me(2,fNe,3,3,"button",29),L(3,"div",30),me(4,pNe,2,3,"button",31)(5,mNe,2,3,"button",32)(6,vNe,3,5,"span",33),k(),L(7,"button",34),ye("keydown",function(s){return ie(e),se(N(3).onContainerButtonKeydown(s))})("click",function(s){return ie(e),se(N(3).onNextButtonClick(s))}),me(8,yNe,1,1,"ChevronRightIcon",35)(9,wNe,2,1,"span",36),k()(),me(10,FNe,8,3,"div",37),k()}if(2&n){const e=t.index,i=N(3);I(2),B("ngIf",0===e),I(2),B("ngIf","date"===i.currentView),I(),B("ngIf","year"!==i.currentView),I(),B("ngIf","year"===i.currentView),I(),vr("display",1===i.numberOfMonths||e===i.numberOfMonths-1?"inline-flex":"none"),Nt("aria-label",i.nextIconAriaLabel),I(),B("ngIf",!i.nextIconTemplate),I(),B("ngIf",i.nextIconTemplate),I(),B("ngIf","date"===i.currentView)}}function VNe(n,t){if(1&n&&(L(0,"div",59),U(1),k()),2&n){const e=N().$implicit;I(),Ot(" ",e," ")}}function BNe(n,t){if(1&n){const e=vt();L(0,"span",62),ye("click",function(s){const o=ie(e).index;return se(N(4).onMonthSelect(s,o))})("keydown",function(s){const o=ie(e).index;return se(N(4).onMonthCellKeydown(s,o))}),U(1),me(2,VNe,2,1,"div",58),k()}if(2&n){const e=t.$implicit,i=t.index,s=N(4);B("ngClass",Lf(3,xH,s.isMonthSelected(i),s.isMonthDisabled(i))),I(),Ot(" ",e," "),I(),B("ngIf",s.isMonthSelected(i))}}function HNe(n,t){if(1&n&&(L(0,"div",60),me(1,BNe,3,6,"span",61),k()),2&n){const e=N(3);I(),B("ngForOf",e.monthPickerValues())}}function zNe(n,t){if(1&n&&(L(0,"div",59),U(1),k()),2&n){const e=N().$implicit;I(),Ot(" ",e," ")}}function UNe(n,t){if(1&n){const e=vt();L(0,"span",65),ye("click",function(s){const o=ie(e).$implicit;return se(N(4).onYearSelect(s,o))})("keydown",function(s){const o=ie(e).$implicit;return se(N(4).onYearCellKeydown(s,o))}),U(1),me(2,zNe,2,1,"div",58),k()}if(2&n){const e=t.$implicit,i=N(4);B("ngClass",Lf(3,xH,i.isYearSelected(e),i.isYearDisabled(e))),I(),Ot(" ",e," "),I(),B("ngIf",i.isYearSelected(e))}}function WNe(n,t){if(1&n&&(L(0,"div",63),me(1,UNe,3,6,"span",64),k()),2&n){const e=N(3);I(),B("ngForOf",e.yearPickerValues())}}function YNe(n,t){if(1&n&&(es(0),L(1,"div",23),me(2,NNe,11,10,"div",24),k(),me(3,HNe,2,1,"div",25)(4,WNe,2,1,"div",26),ts()),2&n){const e=N(2);I(2),B("ngForOf",e.months),I(),B("ngIf","month"===e.currentView),I(),B("ngIf","year"===e.currentView)}}function GNe(n,t){1&n&&Te(0,"ChevronUpIcon")}function $Ne(n,t){}function jNe(n,t){1&n&&me(0,$Ne,0,0,"ng-template")}function XNe(n,t){1&n&&(es(0),U(1,"0"),ts())}function qNe(n,t){1&n&&Te(0,"ChevronDownIcon")}function ZNe(n,t){}function KNe(n,t){1&n&&me(0,ZNe,0,0,"ng-template")}function QNe(n,t){1&n&&Te(0,"ChevronUpIcon")}function JNe(n,t){}function e3e(n,t){1&n&&me(0,JNe,0,0,"ng-template")}function t3e(n,t){1&n&&(es(0),U(1,"0"),ts())}function n3e(n,t){1&n&&Te(0,"ChevronDownIcon")}function i3e(n,t){}function s3e(n,t){1&n&&me(0,i3e,0,0,"ng-template")}function r3e(n,t){if(1&n&&(L(0,"div",69)(1,"span"),U(2),k()()),2&n){const e=N(3);I(2),Ye(e.timeSeparator)}}function o3e(n,t){1&n&&Te(0,"ChevronUpIcon")}function a3e(n,t){}function l3e(n,t){1&n&&me(0,a3e,0,0,"ng-template")}function c3e(n,t){1&n&&(es(0),U(1,"0"),ts())}function d3e(n,t){1&n&&Te(0,"ChevronDownIcon")}function u3e(n,t){}function h3e(n,t){1&n&&me(0,u3e,0,0,"ng-template")}function f3e(n,t){if(1&n){const e=vt();L(0,"div",74)(1,"button",68),ye("keydown",function(s){return ie(e),se(N(3).onContainerButtonKeydown(s))})("keydown.enter",function(s){return ie(e),se(N(3).incrementSecond(s))})("keydown.space",function(s){return ie(e),se(N(3).incrementSecond(s))})("mousedown",function(s){return ie(e),se(N(3).onTimePickerElementMouseDown(s,2,1))})("mouseup",function(s){return ie(e),se(N(3).onTimePickerElementMouseUp(s))})("keyup.enter",function(s){return ie(e),se(N(3).onTimePickerElementMouseUp(s))})("keyup.space",function(s){return ie(e),se(N(3).onTimePickerElementMouseUp(s))})("mouseleave",function(){return ie(e),se(N(3).onTimePickerElementMouseLeave())}),me(2,o3e,1,0,"ChevronUpIcon",6)(3,l3e,1,0,null,12),k(),L(4,"span"),me(5,c3e,2,0,"ng-container",6),U(6),k(),L(7,"button",68),ye("keydown",function(s){return ie(e),se(N(3).onContainerButtonKeydown(s))})("keydown.enter",function(s){return ie(e),se(N(3).decrementSecond(s))})("keydown.space",function(s){return ie(e),se(N(3).decrementSecond(s))})("mousedown",function(s){return ie(e),se(N(3).onTimePickerElementMouseDown(s,2,-1))})("mouseup",function(s){return ie(e),se(N(3).onTimePickerElementMouseUp(s))})("keyup.enter",function(s){return ie(e),se(N(3).onTimePickerElementMouseUp(s))})("keyup.space",function(s){return ie(e),se(N(3).onTimePickerElementMouseUp(s))})("mouseleave",function(){return ie(e),se(N(3).onTimePickerElementMouseLeave())}),me(8,d3e,1,0,"ChevronDownIcon",6)(9,h3e,1,0,null,12),k()()}if(2&n){const e=N(3);I(),Nt("aria-label",e.getTranslation("nextSecond")),I(),B("ngIf",!e.incrementIconTemplate),I(),B("ngTemplateOutlet",e.incrementIconTemplate),I(2),B("ngIf",e.currentSecond<10),I(),Ye(e.currentSecond),I(),Nt("aria-label",e.getTranslation("prevSecond")),I(),B("ngIf",!e.decrementIconTemplate),I(),B("ngTemplateOutlet",e.decrementIconTemplate)}}function p3e(n,t){1&n&&Te(0,"ChevronUpIcon")}function m3e(n,t){}function g3e(n,t){1&n&&me(0,m3e,0,0,"ng-template")}function _3e(n,t){1&n&&Te(0,"ChevronDownIcon")}function v3e(n,t){}function y3e(n,t){1&n&&me(0,v3e,0,0,"ng-template")}function b3e(n,t){if(1&n){const e=vt();L(0,"div",75)(1,"button",76),ye("keydown",function(s){return ie(e),se(N(3).onContainerButtonKeydown(s))})("click",function(s){return ie(e),se(N(3).toggleAMPM(s))})("keydown.enter",function(s){return ie(e),se(N(3).toggleAMPM(s))}),me(2,p3e,1,0,"ChevronUpIcon",6)(3,g3e,1,0,null,12),k(),L(4,"span"),U(5),k(),L(6,"button",76),ye("keydown",function(s){return ie(e),se(N(3).onContainerButtonKeydown(s))})("click",function(s){return ie(e),se(N(3).toggleAMPM(s))})("keydown.enter",function(s){return ie(e),se(N(3).toggleAMPM(s))}),me(7,_3e,1,0,"ChevronDownIcon",6)(8,y3e,1,0,null,12),k()()}if(2&n){const e=N(3);I(),Nt("aria-label",e.getTranslation("am")),I(),B("ngIf",!e.incrementIconTemplate),I(),B("ngTemplateOutlet",e.incrementIconTemplate),I(2),Ye(e.pm?"PM":"AM"),I(),Nt("aria-label",e.getTranslation("pm")),I(),B("ngIf",!e.decrementIconTemplate),I(),B("ngTemplateOutlet",e.decrementIconTemplate)}}function x3e(n,t){if(1&n){const e=vt();L(0,"div",66)(1,"div",67)(2,"button",68),ye("keydown",function(s){return ie(e),se(N(2).onContainerButtonKeydown(s))})("keydown.enter",function(s){return ie(e),se(N(2).incrementHour(s))})("keydown.space",function(s){return ie(e),se(N(2).incrementHour(s))})("mousedown",function(s){return ie(e),se(N(2).onTimePickerElementMouseDown(s,0,1))})("mouseup",function(s){return ie(e),se(N(2).onTimePickerElementMouseUp(s))})("keyup.enter",function(s){return ie(e),se(N(2).onTimePickerElementMouseUp(s))})("keyup.space",function(s){return ie(e),se(N(2).onTimePickerElementMouseUp(s))})("mouseleave",function(){return ie(e),se(N(2).onTimePickerElementMouseLeave())}),me(3,GNe,1,0,"ChevronUpIcon",6)(4,jNe,1,0,null,12),k(),L(5,"span"),me(6,XNe,2,0,"ng-container",6),U(7),k(),L(8,"button",68),ye("keydown",function(s){return ie(e),se(N(2).onContainerButtonKeydown(s))})("keydown.enter",function(s){return ie(e),se(N(2).decrementHour(s))})("keydown.space",function(s){return ie(e),se(N(2).decrementHour(s))})("mousedown",function(s){return ie(e),se(N(2).onTimePickerElementMouseDown(s,0,-1))})("mouseup",function(s){return ie(e),se(N(2).onTimePickerElementMouseUp(s))})("keyup.enter",function(s){return ie(e),se(N(2).onTimePickerElementMouseUp(s))})("keyup.space",function(s){return ie(e),se(N(2).onTimePickerElementMouseUp(s))})("mouseleave",function(){return ie(e),se(N(2).onTimePickerElementMouseLeave())}),me(9,qNe,1,0,"ChevronDownIcon",6)(10,KNe,1,0,null,12),k()(),L(11,"div",69)(12,"span"),U(13),k()(),L(14,"div",70)(15,"button",68),ye("keydown",function(s){return ie(e),se(N(2).onContainerButtonKeydown(s))})("keydown.enter",function(s){return ie(e),se(N(2).incrementMinute(s))})("keydown.space",function(s){return ie(e),se(N(2).incrementMinute(s))})("mousedown",function(s){return ie(e),se(N(2).onTimePickerElementMouseDown(s,1,1))})("mouseup",function(s){return ie(e),se(N(2).onTimePickerElementMouseUp(s))})("keyup.enter",function(s){return ie(e),se(N(2).onTimePickerElementMouseUp(s))})("keyup.space",function(s){return ie(e),se(N(2).onTimePickerElementMouseUp(s))})("mouseleave",function(){return ie(e),se(N(2).onTimePickerElementMouseLeave())}),me(16,QNe,1,0,"ChevronUpIcon",6)(17,e3e,1,0,null,12),k(),L(18,"span"),me(19,t3e,2,0,"ng-container",6),U(20),k(),L(21,"button",68),ye("keydown",function(s){return ie(e),se(N(2).onContainerButtonKeydown(s))})("keydown.enter",function(s){return ie(e),se(N(2).decrementMinute(s))})("keydown.space",function(s){return ie(e),se(N(2).decrementMinute(s))})("mousedown",function(s){return ie(e),se(N(2).onTimePickerElementMouseDown(s,1,-1))})("mouseup",function(s){return ie(e),se(N(2).onTimePickerElementMouseUp(s))})("keyup.enter",function(s){return ie(e),se(N(2).onTimePickerElementMouseUp(s))})("keyup.space",function(s){return ie(e),se(N(2).onTimePickerElementMouseUp(s))})("mouseleave",function(){return ie(e),se(N(2).onTimePickerElementMouseLeave())}),me(22,n3e,1,0,"ChevronDownIcon",6)(23,s3e,1,0,null,12),k()(),me(24,r3e,3,1,"div",71)(25,f3e,10,8,"div",72)(26,b3e,9,7,"div",73),k()}if(2&n){const e=N(2);I(2),Nt("aria-label",e.getTranslation("nextHour")),I(),B("ngIf",!e.incrementIconTemplate),I(),B("ngTemplateOutlet",e.incrementIconTemplate),I(2),B("ngIf",e.currentHour<10),I(),Ye(e.currentHour),I(),Nt("aria-label",e.getTranslation("prevHour")),I(),B("ngIf",!e.decrementIconTemplate),I(),B("ngTemplateOutlet",e.decrementIconTemplate),I(3),Ye(e.timeSeparator),I(2),Nt("aria-label",e.getTranslation("nextMinute")),I(),B("ngIf",!e.incrementIconTemplate),I(),B("ngTemplateOutlet",e.incrementIconTemplate),I(2),B("ngIf",e.currentMinute<10),I(),Ye(e.currentMinute),I(),Nt("aria-label",e.getTranslation("prevMinute")),I(),B("ngIf",!e.decrementIconTemplate),I(),B("ngTemplateOutlet",e.decrementIconTemplate),I(),B("ngIf",e.showSeconds),I(),B("ngIf",e.showSeconds),I(),B("ngIf","12"==e.hourFormat)}}const zee=n=>[n];function w3e(n,t){if(1&n){const e=vt();L(0,"div",77)(1,"button",78),ye("keydown",function(s){return ie(e),se(N(2).onContainerButtonKeydown(s))})("click",function(s){return ie(e),se(N(2).onTodayButtonClick(s))}),k(),L(2,"button",78),ye("keydown",function(s){return ie(e),se(N(2).onContainerButtonKeydown(s))})("click",function(s){return ie(e),se(N(2).onClearButtonClick(s))}),k()()}if(2&n){const e=N(2);I(),B("label",e.getTranslation("today"))("ngClass",Ds(4,zee,e.todayButtonStyleClass)),I(),B("label",e.getTranslation("clear"))("ngClass",Ds(6,zee,e.clearButtonStyleClass))}}function C3e(n,t){1&n&&kf(0)}const M3e=(n,t,e,i,s,r)=>({"p-datepicker p-component":!0,"p-datepicker-inline":n,"p-disabled":t,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":s,"p-datepicker-touch-ui":r}),Uee=(n,t)=>({showTransitionParams:n,hideTransitionParams:t}),T3e=n=>({value:"visibleTouchUI",params:n}),S3e=n=>({value:"visible",params:n});function D3e(n,t){if(1&n){const e=vt();L(0,"div",19,20),ye("@overlayAnimation.start",function(s){return ie(e),se(N().onOverlayAnimationStart(s))})("@overlayAnimation.done",function(s){return ie(e),se(N().onOverlayAnimationDone(s))})("click",function(s){return ie(e),se(N().onOverlayClick(s))}),Bo(2),me(3,lNe,1,0,"ng-container",12)(4,YNe,5,3,"ng-container",6)(5,x3e,27,20,"div",21)(6,w3e,3,8,"div",22),Bo(7,1),me(8,C3e,1,0,"ng-container",12),k()}if(2&n){const e=N();uo(e.panelStyleClass),B("ngStyle",e.panelStyle)("ngClass",function e6(n,t,e,i,s,r,o,a,l){const c=xo()+n,d=Oe(),u=Gl(d,c,e,i,s,r);return Mm(d,c+4,o,a)||u?Bd(d,c+6,l?t.call(l,e,i,s,r,o,a):t(e,i,s,r,o,a)):tw(d,c+6)}(14,M3e,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,"month"===e.view,e.touchUI))("@overlayAnimation",e.touchUI?Ds(24,T3e,Lf(21,Uee,e.showTransitionOptions,e.hideTransitionOptions)):Ds(29,S3e,Lf(26,Uee,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0===e.inline),Nt("aria-label",e.getTranslation("chooseDate"))("role",e.inline?null:"dialog")("aria-modal",e.inline?null:"true"),I(3),B("ngTemplateOutlet",e.headerTemplate),I(),B("ngIf",!e.timeOnly),I(),B("ngIf",(e.showTime||e.timeOnly)&&"date"===e.currentView),I(),B("ngIf",e.showButtonBar),I(2),B("ngTemplateOutlet",e.footerTemplate)}}const E3e=[[["p-header"]],[["p-footer"]]],A3e=(n,t,e,i,s)=>({"p-calendar":!0,"p-input-icon-right":n,"p-calendar-w-btn":t,"p-calendar-timeonly":e,"p-calendar-disabled":i,"p-focus":s}),k3e=["p-header","p-footer"],I3e={provide:Ca,useExisting:vi(()=>L3e),multi:!0};let L3e=(()=>{class n{document;el;renderer;cd;zone;config;overlayService;iconDisplay="button";style;styleClass;inputStyle;inputId;name;inputStyleClass;placeholder;ariaLabelledBy;ariaLabel;iconAriaLabel;disabled;dateFormat;multipleSeparator=",";rangeSeparator="-";inline=!1;showOtherMonths=!0;selectOtherMonths;showIcon;icon;appendTo;readonlyInput;shortYearCutoff="+10";monthNavigator;yearNavigator;hourFormat="24";timeOnly;stepHour=1;stepMinute=1;stepSecond=1;showSeconds=!1;required;showOnFocus=!0;showWeek=!1;showClear=!1;dataType="date";selectionMode="single";maxDateCount;showButtonBar;todayButtonStyleClass="p-button-text";clearButtonStyleClass="p-button-text";autoZIndex=!0;baseZIndex=0;panelStyleClass;panelStyle;keepInvalid=!1;hideOnDateTimeSelect=!0;touchUI;timeSeparator=":";focusTrap=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";tabindex;get minDate(){return this._minDate}set minDate(e){this._minDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){const i=e.split(":"),s=parseInt(i[0]),r=parseInt(i[1]);this.populateYearOptions(s,r)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){const i=e||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}onFocus=new Fe;onBlur=new Fe;onClose=new Fe;onSelect=new Fe;onClear=new Fe;onInput=new Fe;onTodayClick=new Fe;onClearClick=new Fe;onMonthChange=new Fe;onYearChange=new Fe;onClickOutside=new Fe;onShow=new Fe;templates;containerViewChild;inputfieldViewChild;set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):!this.focus&&!this.inline&&this.initFocusableCell())}contentViewChild;value;dates;months;weekDays;currentMonth;currentYear;currentHour;currentMinute;currentSecond;pm;mask;maskClickListener;overlay;responsiveStyleElement;overlayVisible;onModelChange=()=>{};onModelTouched=()=>{};calendarElement;timePickerTimer;documentClickListener;animationEndListener;ticksTo1970;yearOptions;focus;isKeydown;filled;inputFieldValue=null;_minDate;_maxDate;_showTime;_yearRange;preventDocumentListener;dateTemplate;headerTemplate;footerTemplate;disabledDateTemplate;decadeTemplate;previousIconTemplate;nextIconTemplate;triggerIconTemplate;clearIconTemplate;decrementIconTemplate;incrementIconTemplate;inputIconTemplate;_disabledDates;_disabledDays;selectElement;todayElement;focusElement;scrollHandler;documentResizeListener;navigationState=null;isMonthNavigate;initialized;translationSubscription;_locale;_responsiveOptions;currentView;attributeSelector;panelId;_numberOfMonths=1;_firstDayOfWeek;_view="date";preventFocus;_defaultDate;window;get locale(){return this._locale}get iconButtonAriaLabel(){return this.iconAriaLabel?this.iconAriaLabel:this.getTranslation("chooseDate")}get prevIconAriaLabel(){return this.getTranslation("year"===this.currentView?"prevDecade":"month"===this.currentView?"prevYear":"prevMonth")}get nextIconAriaLabel(){return this.getTranslation("year"===this.currentView?"nextDecade":"month"===this.currentView?"nextYear":"nextMonth")}constructor(e,i,s,r,o,a,l){this.document=e,this.el=i,this.renderer=s,this.cd=r,this.zone=o,this.config=a,this.overlayService=l,this.window=this.document.defaultView}ngOnInit(){this.attributeSelector=Lee(),this.panelId=this.attributeSelector+"_panel";const e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.yearOptions=[],this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":default:this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"inputicon":this.inputIconTemplate=e.template;break;case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template;break;case"triggericon":this.triggerIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"decrementicon":this.decrementIconTemplate=e.template;break;case"incrementicon":this.incrementIconTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),!this.disabled&&!this.inline&&(this.initFocusableCell(),1===this.numberOfMonths&&this.contentViewChild&&this.contentViewChild.nativeElement&&(this.contentViewChild.nativeElement.style.width=Yt.getOuterWidth(this.containerViewChild?.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,i){this.yearOptions=[];for(let s=e;s<=i;s++)this.yearOptions.push(s)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),i=this.getTranslation(du.DAY_NAMES_MIN);for(let s=0;s<7;s++)this.weekDays.push(i[e]),e=6==e?0:++e}monthPickerValues(){let e=[];for(let i=0;i<=11;i++)e.push(this.config.getTranslation("monthNamesShort")[i]);return e}yearPickerValues(){let e=[],i=this.currentYear-this.currentYear%10;for(let s=0;s<10;s++)e.push(i+s);return e}createMonths(e,i){this.months=this.months=[];for(let s=0;s<this.numberOfMonths;s++){let r=e+s,o=i;r>11&&(r=r%11-1,o=i+1),this.months.push(this.createMonth(r,o))}}getWeekNumber(e){let i=new Date(e.getTime());i.setDate(i.getDate()+4-(i.getDay()||7));let s=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((s-i.getTime())/864e5)/7)+1}createMonth(e,i){let s=[],r=this.getFirstDayOfMonthIndex(e,i),o=this.getDaysCountInMonth(e,i),a=this.getDaysCountInPrevMonth(e,i),l=1,c=new Date,d=[],u=Math.ceil((o+r)/7);for(let f=0;f<u;f++){let m=[];if(0==f){for(let v=a-r+1;v<=a;v++){let _=this.getPreviousMonthAndYear(e,i);m.push({day:v,month:_.month,year:_.year,otherMonth:!0,today:this.isToday(c,v,_.month,_.year),selectable:this.isSelectable(v,_.month,_.year,!0)})}let g=7-m.length;for(let v=0;v<g;v++)m.push({day:l,month:e,year:i,today:this.isToday(c,l,e,i),selectable:this.isSelectable(l,e,i,!1)}),l++}else for(let g=0;g<7;g++){if(l>o){let v=this.getNextMonthAndYear(e,i);m.push({day:l-o,month:v.month,year:v.year,otherMonth:!0,today:this.isToday(c,l-o,v.month,v.year),selectable:this.isSelectable(l-o,v.month,v.year,!0)})}else m.push({day:l,month:e,year:i,today:this.isToday(c,l,e,i),selectable:this.isSelectable(l,e,i,!1)});l++}this.showWeek&&d.push(this.getWeekNumber(new Date(m[0].year,m[0].month,m[0].day))),s.push(m)}return{month:e,year:i,dates:s,weekNumbers:d}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){this.currentYear--;let e=this.yearOptions;if(this.yearNavigator&&this.currentYear<e[0]){let i=e[e.length-1]-e[0];this.populateYearOptions(e[0]-i,e[e.length-1]-i)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){this.currentYear++;let e=this.yearOptions;if(this.yearNavigator&&this.currentYear>e[e.length-1]){let i=e[e.length-1]-e[0];this.populateYearOptions(e[0]+i,e[e.length-1]+i)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,i){!this.disabled&&i.selectable?(this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((s,r)=>!this.isDateEquals(s,i)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),(this.isSingleSelection()&&this.hideOnDateTimeSelect||this.isRangeSelection()&&this.value[1])&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()):e.preventDefault()}shouldSelectDate(e){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(e,i){"month"===this.view?this.onDateSelect(e,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,i){"year"===this.view?this.onDateSelect(e,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value)if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++)e+=this.formatDateTime(this.value[i]),i!==this.value.length-1&&(e+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let s=this.value[1];e=this.formatDateTime(this.value[0]),s&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(s))}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let i=this.keepInvalid?e:null;return this.isValidDate(e)?this.timeOnly?i=this.formatTime(e):(i=this.formatDate(e,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(e))):"string"===this.dataType&&(i=e),i}setCurrentHourPM(e){"12"==this.hourFormat?(this.pm=e>11,this.currentHour=e>=12?12==e?12:e-12:0==e?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let i=new Date(e.year,e.month,e.day);if(this.showTime&&(i.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let s=this.value[0],r=this.value[1];!r&&i.getTime()>=s.getTime()?r=i:(s=i,r=null),this.updateModel([s,r])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(e){if(this.value=e,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;Array.isArray(this.value)&&(i=this.value.map(s=>this.formatDateTime(s))),this.onModelChange(i)}}getFirstDayOfMonthIndex(e,i){let s=new Date;s.setDate(1),s.setMonth(e),s.setFullYear(i);let r=s.getDay()+this.getSundayIndex();return r>=7?r-7:r}getDaysCountInMonth(e,i){return 32-this.daylightSavingAdjust(new Date(i,e,32)).getDate()}getDaysCountInPrevMonth(e,i){let s=this.getPreviousMonthAndYear(e,i);return this.getDaysCountInMonth(s.month,s.year)}getPreviousMonthAndYear(e,i){let s,r;return 0===e?(s=11,r=i-1):(s=e-1,r=i),{month:s,year:r}}getNextMonthAndYear(e,i){let s,r;return 11===e?(s=0,r=i+1):(s=e+1,r=i),{month:s,year:r}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let i=!1;for(let s of this.value)if(i=this.isDateEquals(s,e),i)break;return i}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(e){if(this.isComparable()&&!this.isMultipleSelection()){const[i,s]=this.isRangeSelection()?this.value:[this.value,this.value],r=new Date(this.currentYear,e,1);return r>=i&&r<=(s??i)}return!1}isMonthDisabled(e){for(let i=1;i<this.getDaysCountInMonth(e,this.currentYear)+1;i++)if(this.isSelectable(i,e,this.currentYear,!1))return!1;return!0}isYearDisabled(e){return!this.isSelectable(1,this.currentMonth,e,!1)}isYearSelected(e){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&i.getFullYear()===e}return!1}isDateEquals(e,i){return!(!e||!hc.isDate(e))&&e.getDate()===i.day&&e.getMonth()===i.month&&e.getFullYear()===i.year}isDateBetween(e,i,s){if(hc.isDate(e)&&hc.isDate(i)){let o=new Date(s.year,s.month,s.day);return e.getTime()<=o.getTime()&&i.getTime()>=o.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(e,i,s,r){return e.getDate()===i&&e.getMonth()===s&&e.getFullYear()===r}isSelectable(e,i,s,r){let o=!0,a=!0,l=!0,c=!0;return!(r&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>s||this.minDate.getFullYear()===s&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>e))&&(o=!1),this.maxDate&&(this.maxDate.getFullYear()<s||this.maxDate.getFullYear()===s&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<e))&&(a=!1),this.disabledDates&&(l=!this.isDateDisabled(e,i,s)),this.disabledDays&&(c=!this.isDayDisabled(e,i,s)),o&&a&&l&&c)}isDateDisabled(e,i,s){if(this.disabledDates)for(let r of this.disabledDates)if(r.getFullYear()===s&&r.getMonth()===i&&r.getDate()===e)return!0;return!1}isDayDisabled(e,i,s){if(this.disabledDays){let o=new Date(s,i,e).getDay();return-1!==this.disabledDays.indexOf(o)}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,i=this.inputfieldViewChild?.nativeElement){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return"month"===this.currentView?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:if(this.inline||this.trapFocus(e),this.inline){const i=Yt.findSingle(this.containerViewChild?.nativeElement,".p-datepicker-header");e.target==i.children[i.children.length-1]&&this.initFocusableCell()}break;case 27:this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault()}}onInputKeydown(e){this.isKeydown=!0,40===e.keyCode&&this.contentViewChild?this.trapFocus(e):27===e.keyCode?this.overlayVisible&&(this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault()):13===e.keyCode?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):9===e.keyCode&&this.contentViewChild&&(Yt.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,i,s){const r=e.currentTarget,o=r.parentElement;switch(e.which){case 40:{r.tabIndex="-1";let a=Yt.index(o),l=o.parentElement.nextElementSibling;l?Yt.hasClass(l.children[a].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(l.children[a].children[0].tabIndex="0",l.children[a].children[0].focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 38:{r.tabIndex="-1";let a=Yt.index(o),l=o.parentElement.previousElementSibling;if(l){let c=l.children[a].children[0];Yt.hasClass(c,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(c.tabIndex="0",c.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{r.tabIndex="-1";let a=o.previousElementSibling;if(a){let l=a.children[0];Yt.hasClass(l,"p-disabled")||Yt.hasClass(l.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,s):(l.tabIndex="0",l.focus())}else this.navigateToMonth(!0,s);e.preventDefault();break}case 39:{r.tabIndex="-1";let a=o.nextElementSibling;if(a){let l=a.children[0];Yt.hasClass(l,"p-disabled")?this.navigateToMonth(!1,s):(l.tabIndex="0",l.focus())}else this.navigateToMonth(!1,s);e.preventDefault();break}case 13:case 32:this.onDateSelect(e,i),e.preventDefault();break;case 27:this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onMonthCellKeydown(e,i){const s=e.currentTarget;switch(e.which){case 38:case 40:{s.tabIndex="-1";var r=s.parentElement.children,o=Yt.index(s);let a=r[40===e.which?o+3:o-3];a&&(a.tabIndex="0",a.focus()),e.preventDefault();break}case 37:{s.tabIndex="-1";let a=s.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{s.tabIndex="-1";let a=s.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:this.onMonthSelect(e,i),e.preventDefault();break;case 27:this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onYearCellKeydown(e,i){const s=e.currentTarget;switch(e.which){case 38:case 40:{s.tabIndex="-1";var r=s.parentElement.children,o=Yt.index(s);let a=r[40===e.which?o+2:o-2];a&&(a.tabIndex="0",a.focus()),e.preventDefault();break}case 37:{s.tabIndex="-1";let a=s.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{s.tabIndex="-1";let a=s.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:this.onYearSelect(e,i),e.preventDefault();break;case 27:this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break;case 9:this.trapFocus(e)}}navigateToMonth(e,i){if(e)if(1===this.numberOfMonths||0===i)this.navigationState={backward:!0},this.navBackward(event);else{let r=Yt.find(this.contentViewChild.nativeElement.children[i-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),o=r[r.length-1];o.tabIndex="0",o.focus()}else if(1===this.numberOfMonths||i===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let r=Yt.findSingle(this.contentViewChild.nativeElement.children[i+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");r.tabIndex="0",r.focus()}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?Yt.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():Yt.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;i=Yt.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(e=i[i.length-1])}else e=Yt.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){const e=this.contentViewChild?.nativeElement;let i;if("month"===this.currentView){let s=Yt.find(e,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),r=Yt.findSingle(e,".p-monthpicker .p-monthpicker-month.p-highlight");s.forEach(o=>o.tabIndex=-1),i=r||s[0],0===s.length&&Yt.find(e,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if("year"===this.currentView){let s=Yt.find(e,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),r=Yt.findSingle(e,".p-yearpicker .p-yearpicker-year.p-highlight");s.forEach(o=>o.tabIndex=-1),i=r||s[0],0===s.length&&Yt.find(e,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(i=Yt.findSingle(e,"span.p-highlight"),!i){let s=Yt.findSingle(e,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");i=s||Yt.findSingle(e,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}i&&(i.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||i.focus()},1),this.preventFocus=!1)}trapFocus(e){let i=Yt.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let s=i.indexOf(i[0].ownerDocument.activeElement);if(e.shiftKey)if(-1==s||0===s)if(this.focusTrap)i[i.length-1].focus();else{if(-1===s)return this.hideOverlay();if(0===s)return}else i[s-1].focus();else if(-1==s)if(this.timeOnly)i[0].focus();else{let r=0;for(let o=0;o<i.length;o++)"SPAN"===i[o].tagName&&(r=o);i[r].focus()}else if(s===i.length-1){if(!this.focusTrap&&-1!=s)return this.hideOverlay();i[0].focus()}else i[s+1].focus()}else i[0].focus();e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}convertTo24Hour=function(e,i){return"12"==this.hourFormat?12===e?i?12:0:i?e+12:e:e};validateTime(e,i,s,r){let o=this.value;const a=this.convertTo24Hour(e,r);this.isRangeSelection()&&(o=this.value[1]||this.value[0]),this.isMultipleSelection()&&(o=this.value[this.value.length-1]);const l=o?o.toDateString():null;return!(this.minDate&&l&&this.minDate.toDateString()===l&&(this.minDate.getHours()>a||this.minDate.getHours()===a&&(this.minDate.getMinutes()>i||this.minDate.getMinutes()===i&&this.minDate.getSeconds()>s))||this.maxDate&&l&&this.maxDate.toDateString()===l&&(this.maxDate.getHours()<a||this.maxDate.getHours()===a&&(this.maxDate.getMinutes()<i||this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<s)))}incrementHour(e){let s=this.currentHour+this.stepHour,r=this.pm;"24"==this.hourFormat?s=s>=24?s-24:s:"12"==this.hourFormat&&(this.currentHour<12&&s>11&&(r=!this.pm),s=s>=13?s-12:s),this.validateTime(s,this.currentMinute,this.currentSecond,r)&&(this.currentHour=s,this.pm=r),e.preventDefault()}onTimePickerElementMouseDown(e,i,s){this.disabled||(this.repeat(e,null,i,s),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,i,s,r){let o=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,s,r),this.cd.markForCheck()},o),s){case 0:1===r?this.incrementHour(e):this.decrementHour(e);break;case 1:1===r?this.incrementMinute(e):this.decrementMinute(e);break;case 2:1===r?this.incrementSecond(e):this.decrementSecond(e)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let i=this.currentHour-this.stepHour,s=this.pm;"24"==this.hourFormat?i=i<0?24+i:i:"12"==this.hourFormat&&(12===this.currentHour&&(s=!this.pm),i=i<=0?12+i:i),this.validateTime(i,this.currentMinute,this.currentSecond,s)&&(this.currentHour=i,this.pm=s),e.preventDefault()}incrementMinute(e){let i=this.currentMinute+this.stepMinute;i=i>59?i-60:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}decrementMinute(e){let i=this.currentMinute-this.stepMinute;i=i<0?60+i:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}incrementSecond(e){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}decrementSecond(e){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,e.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(e=this.value[1]?[this.value[0],e]:[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){const i=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,i)&&(this.pm=i,this.updateTime()),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let i=e.target.value;try{let s=this.parseValueFromString(i);this.isValidSelection(s)?(this.updateModel(s),this.updateUI()):this.keepInvalid&&this.updateModel(s)}catch{this.updateModel(this.keepInvalid?i:null)}this.filled=null!=i&&i.length,this.onInput.emit(e)}isValidSelection(e){let i=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)||(i=!1):e.every(s=>this.isSelectable(s.getDate(),s.getMonth(),s.getFullYear(),!1))&&this.isRangeSelection()&&(i=e.length>1&&e[1]>e[0]),i}parseValueFromString(e){if(!e||0===e.trim().length)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(e);else if(this.isMultipleSelection()){let s=e.split(this.multipleSeparator);i=[];for(let r of s)i.push(this.parseDateTime(r.trim()))}else if(this.isRangeSelection()){let s=e.split(" "+this.rangeSeparator+" ");i=[];for(let r=0;r<s.length;r++)i[r]=this.parseDateTime(s[r].trim())}return i}parseDateTime(e){let i,s=e.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,s[0],s[1]);else{const r=this.getDateFormat();if(this.showTime){let o="12"==this.hourFormat?s.pop():null,a=s.pop();i=this.parseDate(s.join(" "),r),this.populateTime(i,a,o)}else i=this.parseDate(e,r)}return i}populateTime(e,i,s){if("12"==this.hourFormat&&!s)throw"Invalid Time";this.pm="PM"===s||"pm"===s;let r=this.parseTime(i);e.setHours(r.hour),e.setMinutes(r.minute),e.setSeconds(r.second)}isValidDate(e){return hc.isDate(e)&&hc.isNotEmpty(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e[0]);let i=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild?.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay?.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?m2.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):m2.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e)}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&m2.clear(e.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?this.document.body.appendChild(this.overlay):Yt.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=Yt.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=Yt.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px"):this.overlay.style.width=Yt.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px",Yt.absolutePosition(this.overlay,this.inputfieldViewChild?.nativeElement)):Yt.relativePosition(this.overlay,this.inputfieldViewChild?.nativeElement))}enableModality(e){!this.mask&&this.touchUI&&(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(e.style.zIndex)-1)),Yt.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",s=>{this.disableModality(),this.overlayVisible=!1}),this.renderer.appendChild(this.document.body,this.mask),Yt.blockBodyScroll())}disableModality(){this.mask&&(Yt.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyMask.bind(this))))}destroyMask(){if(!this.mask)return;this.renderer.removeChild(this.document.body,this.mask);let i,e=this.document.body.children;for(let s=0;s<e.length;s++)if(Yt.hasClass(e[s],"p-datepicker-mask-scrollblocker")){i=!0;break}i||Yt.unblockBodyScroll(),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}writeValue(e){if(this.value=e,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(du.FIRST_DAY_OF_WEEK)}formatDate(e,i){if(!e)return"";let s;const r=d=>{const u=s+1<i.length&&i.charAt(s+1)===d;return u&&s++,u},o=(d,u,f)=>{let m=""+u;if(r(d))for(;m.length<f;)m="0"+m;return m},a=(d,u,f,m)=>r(d)?m[u]:f[u];let l="",c=!1;if(e)for(s=0;s<i.length;s++)if(c)"'"!==i.charAt(s)||r("'")?l+=i.charAt(s):c=!1;else switch(i.charAt(s)){case"d":l+=o("d",e.getDate(),2);break;case"D":l+=a("D",e.getDay(),this.getTranslation(du.DAY_NAMES_SHORT),this.getTranslation(du.DAY_NAMES));break;case"o":l+=o("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=o("m",e.getMonth()+1,2);break;case"M":l+=a("M",e.getMonth(),this.getTranslation(du.MONTH_NAMES_SHORT),this.getTranslation(du.MONTH_NAMES));break;case"y":l+=r("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":l+=e.getTime();break;case"!":l+=1e4*e.getTime()+this.ticksTo1970;break;case"'":r("'")?l+="'":c=!0;break;default:l+=i.charAt(s)}return l}formatTime(e){if(!e)return"";let i="",s=e.getHours(),r=e.getMinutes(),o=e.getSeconds();return"12"==this.hourFormat&&s>11&&12!=s&&(s-=12),i+="12"==this.hourFormat&&0===s?12:s<10?"0"+s:s,i+=":",i+=r<10?"0"+r:r,this.showSeconds&&(i+=":",i+=o<10?"0"+o:o),"12"==this.hourFormat&&(i+=e.getHours()>11?" PM":" AM"),i}parseTime(e){let i=e.split(":");if(i.length!==(this.showSeconds?3:2))throw"Invalid time";let r=parseInt(i[0]),o=parseInt(i[1]),a=this.showSeconds?parseInt(i[2]):null;if(isNaN(r)||isNaN(o)||r>23||o>59||"12"==this.hourFormat&&r>12||this.showSeconds&&(isNaN(a)||a>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==r&&this.pm?r+=12:!this.pm&&12===r&&(r-=12)),{hour:r,minute:o,second:a}}parseDate(e,i){if(null==i||null==e)throw"Invalid arguments";if(""===(e="object"==typeof e?e.toString():e+""))return null;let s,r,o,g,a=0,l="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),c=-1,d=-1,u=-1,f=-1,m=!1,v=w=>{let S=s+1<i.length&&i.charAt(s+1)===w;return S&&s++,S},_=w=>{let S=v(w),R="@"===w?14:"!"===w?20:"y"===w&&S?4:"o"===w?3:2,H=new RegExp("^\\d{"+("y"===w?R:1)+","+R+"}"),$=e.substring(a).match(H);if(!$)throw"Missing number at position "+a;return a+=$[0].length,parseInt($[0],10)},y=(w,S,R)=>{let O=-1,H=v(w)?R:S,$=[];for(let F=0;F<H.length;F++)$.push([F,H[F]]);$.sort((F,W)=>-(F[1].length-W[1].length));for(let F=0;F<$.length;F++){let W=$[F][1];if(e.substr(a,W.length).toLowerCase()===W.toLowerCase()){O=$[F][0],a+=W.length;break}}if(-1!==O)return O+1;throw"Unknown name at position "+a},C=()=>{if(e.charAt(a)!==i.charAt(s))throw"Unexpected literal at position "+a;a++};for("month"===this.view&&(u=1),s=0;s<i.length;s++)if(m)"'"!==i.charAt(s)||v("'")?C():m=!1;else switch(i.charAt(s)){case"d":u=_("d");break;case"D":y("D",this.getTranslation(du.DAY_NAMES_SHORT),this.getTranslation(du.DAY_NAMES));break;case"o":f=_("o");break;case"m":d=_("m");break;case"M":d=y("M",this.getTranslation(du.MONTH_NAMES_SHORT),this.getTranslation(du.MONTH_NAMES));break;case"y":c=_("y");break;case"@":g=new Date(_("@")),c=g.getFullYear(),d=g.getMonth()+1,u=g.getDate();break;case"!":g=new Date((_("!")-this.ticksTo1970)/1e4),c=g.getFullYear(),d=g.getMonth()+1,u=g.getDate();break;case"'":v("'")?C():m=!0;break;default:C()}if(a<e.length&&(o=e.substr(a),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===c?c=(new Date).getFullYear():c<100&&(c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=l?0:-100)),f>-1)for(d=1,u=f;r=this.getDaysCountInMonth(c,d-1),!(u<=r);)d++,u-=r;if("year"===this.view&&(d=-1===d?1:d,u=-1===u?1:u),g=this.daylightSavingAdjust(new Date(c,d-1,u)),g.getFullYear()!==c||g.getMonth()+1!==d||g.getDate()!==u)throw"Invalid date";return g}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(e){const i=new Date,s={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.createMonths(i.getMonth(),i.getFullYear()),this.onDateSelect(e,s),this.onTodayClick.emit(e)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",this.renderer.appendChild(this.document.body,this.responsiveStyleElement));let e="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(s=>!(!s.breakpoint||!s.numMonths)).sort((s,r)=>-1*s.breakpoint.localeCompare(r.breakpoint,void 0,{numeric:!0}));for(let s=0;s<i.length;s++){let{breakpoint:r,numMonths:o}=i[s],a=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${o}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let l=o;l<this.numberOfMonths;l++)a+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${l+1}) {\n                                display: none !important;\n                            }\n                        `;e+=`\n                        @media screen and (max-width: ${r}) {\n                            ${a}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=e}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,"mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new SFe(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return Yt.hasClass(e.target,"p-datepicker-prev")||Yt.hasClass(e.target,"p-datepicker-prev-icon")||Yt.hasClass(e.target,"p-datepicker-next")||Yt.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!Yt.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&m2.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}static \u0275fac=function(i){return new(i||n)(K(Gn),K(gn),K(Js),K(er),K(ln),K(kee),K(MFe))};static \u0275cmp=Ht({type:n,selectors:[["p-calendar"]],contentQueries:function(i,s,r){if(1&i&&Em(r,TFe,4),2&i){let o;Bs(o=Hs())&&(s.templates=o)}},viewQuery:function(i,s){if(1&i&&($r(UFe,5),$r(WFe,5),$r(YFe,5)),2&i){let r;Bs(r=Hs())&&(s.containerViewChild=r.first),Bs(r=Hs())&&(s.inputfieldViewChild=r.first),Bs(r=Hs())&&(s.content=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,s){2&i&&dn("p-inputwrapper-filled",s.filled)("p-inputwrapper-focus",s.focus)("p-calendar-clearable",s.showClear&&!s.disabled)},inputs:{iconDisplay:"iconDisplay",style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale",view:"view",defaultDate:"defaultDate"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[pi([I3e])],ngContentSelectors:k3e,decls:4,vars:12,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","role","combobox","aria-autocomplete","none","aria-haspopup","dialog","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],[4,"ngIf"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","class","p-datepicker-trigger p-button-icon-only","tabindex","0",3,"disabled","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-calendar-clear-icon",3,"click",4,"ngIf"],[3,"styleClass","click"],[1,"p-calendar-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger","p-button-icon-only",3,"disabled","click"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","click",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[3,"styleClass",4,"ngIf"],["class","p-datepicker-next-icon",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],["class","p-datepicker-prev-icon",4,"ngIf"],[3,"styleClass"],[1,"p-datepicker-prev-icon"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[1,"p-datepicker-next-icon"],[1,"p-datepicker-calendar-container"],["role","grid",1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],["class","p-hidden-accessible","aria-live","polite",4,"ngIf"],["aria-live","polite",1,"p-hidden-accessible"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(i,s){1&i&&(jl(E3e),L(0,"span",0,1),me(2,aNe,5,21,"ng-template",2)(3,D3e,9,31,"div",3),k()),2&i&&(uo(s.styleClass),B("ngClass",function JY(n,t,e,i,s,r,o,a){const l=xo()+n,c=Oe(),d=Gl(c,l,e,i,s,r);return Ir(c,l+4,o)||d?Bd(c,l+5,a?t.call(a,e,i,s,r,o):t(e,i,s,r,o)):tw(c,l+5)}(6,A3e,s.showIcon&&"input"===s.iconDisplay,s.showIcon&&"button"===s.iconDisplay,s.timeOnly,s.disabled,s.focus||s.overlayVisible))("ngStyle",s.style),I(2),B("ngIf",!s.inline),I(),B("ngIf",s.inline||s.overlayVisible))},dependencies:()=>[Zl,nr,$s,NO,bw,zFe,kFe,Oee,Fee,Nee,Vee,Bee,Hee],styles:["@layer primeng{.p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-datepicker-icon{pointer-events:none}.p-calendar-clearable{position:relative}}\n"],encapsulation:2,data:{animation:[Tl("overlayAnimation",[su("visibleTouchUI",gi({transform:"translate(-50%,-50%)",opacity:1})),js("void => visible",[gi({opacity:0,transform:"scaleY(0.8)"}),sr("{{showTransitionParams}}",gi({opacity:1,transform:"*"}))]),js("visible => void",[sr("{{hideTransitionParams}}",gi({opacity:0}))]),js("void => visibleTouchUI",[gi({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),sr("{{showTransitionParams}}")]),js("visibleTouchUI => void",[sr("{{hideTransitionParams}}",gi({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0})}return n})(),R3e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=fn({type:n});static \u0275inj=cn({imports:[xa,Pee,p2,Ree,Oee,Fee,Nee,Vee,Bee,Hee,Pee,p2]})}return n})();function P3e(){}function wH(n){return null==n?P3e:function(){return this.querySelector(n)}}function N3e(){return[]}function Wee(n){return null==n?N3e:function(){return this.querySelectorAll(n)}}function Yee(n){return function(){return this.matches(n)}}function Gee(n){return function(t){return t.matches(n)}}var H3e=Array.prototype.find;function U3e(){return this.firstElementChild}var Y3e=Array.prototype.filter;function G3e(){return Array.from(this.children)}function $ee(n){return new Array(n.length)}function g2(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}function K3e(n,t,e,i,s,r){for(var a,o=0,l=t.length,c=r.length;o<c;++o)(a=t[o])?(a.__data__=r[o],i[o]=a):e[o]=new g2(n,r[o]);for(;o<l;++o)(a=t[o])&&(s[o]=a)}function Q3e(n,t,e,i,s,r,o){var a,l,m,c=new Map,d=t.length,u=r.length,f=new Array(d);for(a=0;a<d;++a)(l=t[a])&&(f[a]=m=o.call(l,l.__data__,a,t)+"",c.has(m)?s[a]=l:c.set(m,l));for(a=0;a<u;++a)m=o.call(n,r[a],a,r)+"",(l=c.get(m))?(i[a]=l,l.__data__=r[a],c.delete(m)):e[a]=new g2(n,r[a]);for(a=0;a<d;++a)(l=t[a])&&c.get(f[a])===l&&(s[a]=l)}function J3e(n){return n.__data__}function tVe(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function aVe(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}g2.prototype={constructor:g2,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var CH="http://www.w3.org/1999/xhtml";const jee={svg:"http://www.w3.org/2000/svg",xhtml:CH,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _2(n){var t=n+="",e=t.indexOf(":");return e>=0&&"xmlns"!==(t=n.slice(0,e))&&(n=n.slice(e+1)),jee.hasOwnProperty(t)?{space:jee[t],local:n}:n}function pVe(n){return function(){this.removeAttribute(n)}}function mVe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function gVe(n,t){return function(){this.setAttribute(n,t)}}function _Ve(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function vVe(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function yVe(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function Xee(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function xVe(n){return function(){this.style.removeProperty(n)}}function wVe(n,t,e){return function(){this.style.setProperty(n,t,e)}}function CVe(n,t,e){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function Cy(n,t){return n.style.getPropertyValue(t)||Xee(n).getComputedStyle(n,null).getPropertyValue(t)}function TVe(n){return function(){delete this[n]}}function SVe(n,t){return function(){this[n]=t}}function DVe(n,t){return function(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function qee(n){return n.trim().split(/^|\s+/)}function MH(n){return n.classList||new Zee(n)}function Zee(n){this._node=n,this._names=qee(n.getAttribute("class")||"")}function Kee(n,t){for(var e=MH(n),i=-1,s=t.length;++i<s;)e.add(t[i])}function Qee(n,t){for(var e=MH(n),i=-1,s=t.length;++i<s;)e.remove(t[i])}function AVe(n){return function(){Kee(this,n)}}function kVe(n){return function(){Qee(this,n)}}function IVe(n,t){return function(){(t.apply(this,arguments)?Kee:Qee)(this,n)}}function RVe(){this.textContent=""}function PVe(n){return function(){this.textContent=n}}function OVe(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function NVe(){this.innerHTML=""}function VVe(n){return function(){this.innerHTML=n}}function BVe(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function zVe(){this.nextSibling&&this.parentNode.appendChild(this)}function WVe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function GVe(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===CH&&t.documentElement.namespaceURI===CH?t.createElement(n):t.createElementNS(e,n)}}function $Ve(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Jee(n){var t=_2(n);return(t.local?$Ve:GVe)(t)}function XVe(){return null}function ZVe(){var n=this.parentNode;n&&n.removeChild(this)}function QVe(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function JVe(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function sBe(n){return function(){var t=this.__on;if(t){for(var r,e=0,i=-1,s=t.length;e<s;++e)r=t[e],n.type&&r.type!==n.type||r.name!==n.name?t[++i]=r:this.removeEventListener(r.type,r.listener,r.options);++i?t.length=i:delete this.__on}}}function rBe(n,t,e){return function(){var s,i=this.__on,r=function nBe(n){return function(t){n.call(this,t,this.__data__)}}(t);if(i)for(var o=0,a=i.length;o<a;++o)if((s=i[o]).type===n.type&&s.name===n.name)return this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=r,s.options=e),void(s.value=t);this.addEventListener(n.type,r,e),s={type:n.type,name:n.name,value:t,listener:r,options:e},i?i.push(s):this.__on=[s]}}function ete(n,t,e){var i=Xee(n),s=i.CustomEvent;"function"==typeof s?s=new s(t,e):(s=i.document.createEvent("Event"),e?(s.initEvent(t,e.bubbles,e.cancelable),s.detail=e.detail):s.initEvent(t,!1,!1)),n.dispatchEvent(s)}function aBe(n,t){return function(){return ete(this,n,t)}}function lBe(n,t){return function(){return ete(this,n,t.apply(this,arguments))}}Zee.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var tte=[null];function kl(n,t){this._groups=n,this._parents=t}function nte(){return new kl([[document.documentElement]],tte)}kl.prototype=nte.prototype={constructor:kl,select:function O3e(n){"function"!=typeof n&&(n=wH(n));for(var t=this._groups,e=t.length,i=new Array(e),s=0;s<e;++s)for(var l,c,r=t[s],o=r.length,a=i[s]=new Array(o),d=0;d<o;++d)(l=r[d])&&(c=n.call(l,l.__data__,d,r))&&("__data__"in l&&(c.__data__=l.__data__),a[d]=c);return new kl(i,this._parents)},selectAll:function B3e(n){n="function"==typeof n?function V3e(n){return function(){return function F3e(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}(n.apply(this,arguments))}}(n):Wee(n);for(var t=this._groups,e=t.length,i=[],s=[],r=0;r<e;++r)for(var l,o=t[r],a=o.length,c=0;c<a;++c)(l=o[c])&&(i.push(n.call(l,l.__data__,c,o)),s.push(l));return new kl(i,s)},selectChild:function W3e(n){return this.select(null==n?U3e:function z3e(n){return function(){return H3e.call(this.children,n)}}("function"==typeof n?n:Gee(n)))},selectChildren:function j3e(n){return this.selectAll(null==n?G3e:function $3e(n){return function(){return Y3e.call(this.children,n)}}("function"==typeof n?n:Gee(n)))},filter:function X3e(n){"function"!=typeof n&&(n=Yee(n));for(var t=this._groups,e=t.length,i=new Array(e),s=0;s<e;++s)for(var l,r=t[s],o=r.length,a=i[s]=[],c=0;c<o;++c)(l=r[c])&&n.call(l,l.__data__,c,r)&&a.push(l);return new kl(i,this._parents)},data:function eVe(n,t){if(!arguments.length)return Array.from(this,J3e);var e=t?Q3e:K3e,i=this._parents,s=this._groups;"function"!=typeof n&&(n=function Z3e(n){return function(){return n}}(n));for(var r=s.length,o=new Array(r),a=new Array(r),l=new Array(r),c=0;c<r;++c){var d=i[c],u=s[c],f=u.length,m=tVe(n.call(d,d&&d.__data__,c,i)),g=m.length,v=a[c]=new Array(g),_=o[c]=new Array(g);e(d,u,v,_,l[c]=new Array(f),m,t);for(var S,R,C=0,w=0;C<g;++C)if(S=v[C]){for(C>=w&&(w=C+1);!(R=_[w])&&++w<g;);S._next=R||null}}return(o=new kl(o,i))._enter=a,o._exit=l,o},enter:function q3e(){return new kl(this._enter||this._groups.map($ee),this._parents)},exit:function nVe(){return new kl(this._exit||this._groups.map($ee),this._parents)},join:function iVe(n,t,e){var i=this.enter(),s=this,r=this.exit();return"function"==typeof n?(i=n(i))&&(i=i.selection()):i=i.append(n+""),null!=t&&(s=t(s))&&(s=s.selection()),null==e?r.remove():e(r),i&&s?i.merge(s).order():s},merge:function sVe(n){for(var t=n.selection?n.selection():n,e=this._groups,i=t._groups,s=e.length,o=Math.min(s,i.length),a=new Array(s),l=0;l<o;++l)for(var m,c=e[l],d=i[l],u=c.length,f=a[l]=new Array(u),g=0;g<u;++g)(m=c[g]||d[g])&&(f[g]=m);for(;l<s;++l)a[l]=e[l];return new kl(a,this._parents)},selection:function uBe(){return this},order:function rVe(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var o,i=n[t],s=i.length-1,r=i[s];--s>=0;)(o=i[s])&&(r&&4^o.compareDocumentPosition(r)&&r.parentNode.insertBefore(o,r),r=o);return this},sort:function oVe(n){function t(u,f){return u&&f?n(u.__data__,f.__data__):!u-!f}n||(n=aVe);for(var e=this._groups,i=e.length,s=new Array(i),r=0;r<i;++r){for(var c,o=e[r],a=o.length,l=s[r]=new Array(a),d=0;d<a;++d)(c=o[d])&&(l[d]=c);l.sort(t)}return new kl(s,this._parents).order()},call:function lVe(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function cVe(){return Array.from(this)},node:function dVe(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],s=0,r=i.length;s<r;++s){var o=i[s];if(o)return o}return null},size:function uVe(){let n=0;for(const t of this)++n;return n},empty:function hVe(){return!this.node()},each:function fVe(n){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var a,s=t[e],r=0,o=s.length;r<o;++r)(a=s[r])&&n.call(a,a.__data__,r,s);return this},attr:function bVe(n,t){var e=_2(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==t?e.local?mVe:pVe:"function"==typeof t?e.local?yVe:vVe:e.local?_Ve:gVe)(e,t))},style:function MVe(n,t,e){return arguments.length>1?this.each((null==t?xVe:"function"==typeof t?CVe:wVe)(n,t,e??"")):Cy(this.node(),n)},property:function EVe(n,t){return arguments.length>1?this.each((null==t?TVe:"function"==typeof t?DVe:SVe)(n,t)):this.node()[n]},classed:function LVe(n,t){var e=qee(n+"");if(arguments.length<2){for(var i=MH(this.node()),s=-1,r=e.length;++s<r;)if(!i.contains(e[s]))return!1;return!0}return this.each(("function"==typeof t?IVe:t?AVe:kVe)(e,t))},text:function FVe(n){return arguments.length?this.each(null==n?RVe:("function"==typeof n?OVe:PVe)(n)):this.node().textContent},html:function HVe(n){return arguments.length?this.each(null==n?NVe:("function"==typeof n?BVe:VVe)(n)):this.node().innerHTML},raise:function UVe(){return this.each(zVe)},lower:function YVe(){return this.each(WVe)},append:function jVe(n){var t="function"==typeof n?n:Jee(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function qVe(n,t){var e="function"==typeof n?n:Jee(n),i=null==t?XVe:"function"==typeof t?t:wH(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function KVe(){return this.each(ZVe)},clone:function eBe(n){return this.select(n?JVe:QVe)},datum:function tBe(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function oBe(n,t,e){var s,o,i=function iBe(n){return n.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}(n+""),r=i.length;if(!(arguments.length<2)){for(a=t?rBe:sBe,s=0;s<r;++s)this.each(a(i[s],t,e));return this}var a=this.node().__on;if(a)for(var d,l=0,c=a.length;l<c;++l)for(s=0,d=a[l];s<r;++s)if((o=i[s]).type===d.type&&o.name===d.name)return d.value},dispatch:function cBe(n,t){return this.each(("function"==typeof t?lBe:aBe)(n,t))},[Symbol.iterator]:function*dBe(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var o,i=n[t],s=0,r=i.length;s<r;++s)(o=i[s])&&(yield o)}};const P1=nte;var hBe={value:()=>{}};function ite(){for(var i,n=0,t=arguments.length,e={};n<t;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new v2(e)}function v2(n){this._=n}function pBe(n,t){for(var s,e=0,i=n.length;e<i;++e)if((s=n[e]).name===t)return s.value}function ste(n,t,e){for(var i=0,s=n.length;i<s;++i)if(n[i].name===t){n[i]=hBe,n=n.slice(0,i).concat(n.slice(i+1));break}return null!=e&&n.push({name:t,value:e}),n}v2.prototype=ite.prototype={constructor:v2,on:function(n,t){var s,e=this._,i=function fBe(n,t){return n.trim().split(/^|\s+/).map(function(e){var i="",s=e.indexOf(".");if(s>=0&&(i=e.slice(s+1),e=e.slice(0,s)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}(n+"",e),r=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++r<o;)if(s=(n=i[r]).type)e[s]=ste(e[s],n.name,t);else if(null==t)for(s in e)e[s]=ste(e[s],n.name,null);return this}for(;++r<o;)if((s=(n=i[r]).type)&&(s=pBe(e[s],n.name)))return s},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new v2(n)},call:function(n,t){if((s=arguments.length-2)>0)for(var s,r,e=new Array(s),i=0;i<s;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,s=(r=this._[n]).length;i<s;++i)r[i].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],s=0,r=i.length;s<r;++s)i[s].value.apply(t,e)}};const rte=ite;function DH(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function ote(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function O1(){}var y2=1/.7,My="\\s*([+-]?\\d+)\\s*",N1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",uu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_Be=/^#([0-9a-f]{3,8})$/,vBe=new RegExp(`^rgb\\(${My},${My},${My}\\)$`),yBe=new RegExp(`^rgb\\(${uu},${uu},${uu}\\)$`),bBe=new RegExp(`^rgba\\(${My},${My},${My},${N1}\\)$`),xBe=new RegExp(`^rgba\\(${uu},${uu},${uu},${N1}\\)$`),wBe=new RegExp(`^hsl\\(${N1},${uu},${uu}\\)$`),CBe=new RegExp(`^hsla\\(${N1},${uu},${uu},${N1}\\)$`),ate={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function lte(){return this.rgb().formatHex()}function cte(){return this.rgb().formatRgb()}function Lg(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=_Be.exec(n))?(e=t[1].length,t=parseInt(t[1],16),6===e?dte(t):3===e?new sl(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===e?b2(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===e?b2(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=vBe.exec(n))?new sl(t[1],t[2],t[3],1):(t=yBe.exec(n))?new sl(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=bBe.exec(n))?b2(t[1],t[2],t[3],t[4]):(t=xBe.exec(n))?b2(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=wBe.exec(n))?fte(t[1],t[2]/100,t[3]/100,1):(t=CBe.exec(n))?fte(t[1],t[2]/100,t[3]/100,t[4]):ate.hasOwnProperty(n)?dte(ate[n]):"transparent"===n?new sl(NaN,NaN,NaN,0):null}function dte(n){return new sl(n>>16&255,n>>8&255,255&n,1)}function b2(n,t,e,i){return i<=0&&(n=t=e=NaN),new sl(n,t,e,i)}function x2(n,t,e,i){return 1===arguments.length?function SBe(n){return n instanceof O1||(n=Lg(n)),n?new sl((n=n.rgb()).r,n.g,n.b,n.opacity):new sl}(n):new sl(n,t,e,i??1)}function sl(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}function ute(){return`#${Pg(this.r)}${Pg(this.g)}${Pg(this.b)}`}function hte(){const n=w2(this.opacity);return`${1===n?"rgb(":"rgba("}${Rg(this.r)}, ${Rg(this.g)}, ${Rg(this.b)}${1===n?")":`, ${n})`}`}function w2(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Rg(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Pg(n){return((n=Rg(n))<16?"0":"")+n.toString(16)}function fte(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new dd(n,t,e,i)}function pte(n){if(n instanceof dd)return new dd(n.h,n.s,n.l,n.opacity);if(n instanceof O1||(n=Lg(n)),!n)return new dd;if(n instanceof dd)return n;var t=(n=n.rgb()).r/255,e=n.g/255,i=n.b/255,s=Math.min(t,e,i),r=Math.max(t,e,i),o=NaN,a=r-s,l=(r+s)/2;return a?(o=t===r?(e-i)/a+6*(e<i):e===r?(i-t)/a+2:(t-e)/a+4,a/=l<.5?r+s:2-r-s,o*=60):a=l>0&&l<1?0:o,new dd(o,a,l,n.opacity)}function dd(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}function mte(n){return(n=(n||0)%360)<0?n+360:n}function C2(n){return Math.max(0,Math.min(1,n||0))}function EH(n,t,e){return 255*(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)}function gte(n,t,e,i,s){var r=n*n,o=r*n;return((1-3*n+3*r-o)*t+(4-6*r+3*o)*e+(1+3*n+3*r-3*o)*i+o*s)/6}DH(O1,Lg,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:lte,formatHex:lte,formatHex8:function MBe(){return this.rgb().formatHex8()},formatHsl:function TBe(){return pte(this).formatHsl()},formatRgb:cte,toString:cte}),DH(sl,x2,ote(O1,{brighter(n){return n=null==n?y2:Math.pow(y2,n),new sl(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new sl(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new sl(Rg(this.r),Rg(this.g),Rg(this.b),w2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ute,formatHex:ute,formatHex8:function DBe(){return`#${Pg(this.r)}${Pg(this.g)}${Pg(this.b)}${Pg(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:hte,toString:hte})),DH(dd,function EBe(n,t,e,i){return 1===arguments.length?pte(n):new dd(n,t,e,i??1)},ote(O1,{brighter(n){return n=null==n?y2:Math.pow(y2,n),new dd(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new dd(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,s=2*e-i;return new sl(EH(n>=240?n-240:n+120,s,i),EH(n,s,i),EH(n<120?n+240:n-120,s,i),this.opacity)},clamp(){return new dd(mte(this.h),C2(this.s),C2(this.l),w2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=w2(this.opacity);return`${1===n?"hsl(":"hsla("}${mte(this.h)}, ${100*C2(this.s)}%, ${100*C2(this.l)}%${1===n?")":`, ${n})`}`}}));const AH=n=>()=>n;function vte(n,t){var e=t-n;return e?function _te(n,t){return function(e){return n+e*t}}(n,e):AH(isNaN(n)?t:n)}const M2=function n(t){var e=function LBe(n){return 1==(n=+n)?vte:function(t,e){return e-t?function IBe(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}(t,e,n):AH(isNaN(t)?e:t)}}(t);function i(s,r){var o=e((s=x2(s)).r,(r=x2(r)).r),a=e(s.g,r.g),l=e(s.b,r.b),c=vte(s.opacity,r.opacity);return function(d){return s.r=o(d),s.g=a(d),s.b=l(d),s.opacity=c(d),s+""}}return i.gamma=n,i}(1);function yte(n){return function(t){var o,a,e=t.length,i=new Array(e),s=new Array(e),r=new Array(e);for(o=0;o<e;++o)a=x2(t[o]),i[o]=a.r||0,s[o]=a.g||0,r[o]=a.b||0;return i=n(i),s=n(s),r=n(r),a.opacity=1,function(l){return a.r=i(l),a.g=s(l),a.b=r(l),a+""}}}function ud(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}yte(function ABe(n){var t=n.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),s=n[i],r=n[i+1];return gte((e-i/t)*t,i>0?n[i-1]:2*s-r,s,r,i<t-1?n[i+2]:2*r-s)}}),yte(function kBe(n){var t=n.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*t);return gte((e-i/t)*t,n[(i+t-1)%t],n[i%t],n[(i+1)%t],n[(i+2)%t])}});var kH=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,IH=new RegExp(kH.source,"g");function xte(n,t){var i,s,r,e=kH.lastIndex=IH.lastIndex=0,o=-1,a=[],l=[];for(n+="",t+="";(i=kH.exec(n))&&(s=IH.exec(t));)(r=s.index)>e&&(r=t.slice(e,r),a[o]?a[o]+=r:a[++o]=r),(i=i[0])===(s=s[0])?a[o]?a[o]+=s:a[++o]=s:(a[++o]=null,l.push({i:o,x:ud(i,s)})),e=IH.lastIndex;return e<t.length&&(r=t.slice(e),a[o]?a[o]+=r:a[++o]=r),a.length<2?l[0]?function FBe(n){return function(t){return n(t)+""}}(l[0].x):function OBe(n){return function(){return n}}(t):(t=l.length,function(c){for(var u,d=0;d<t;++d)a[(u=l[d]).i]=u.x(c);return a.join("")})}var S2,H1,Ty=0,V1=0,B1=0,Cte=1e3,D2=0,Og=0,E2=0,z1="object"==typeof performance&&performance.now?performance:Date,Mte="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function LH(){return Og||(Mte(HBe),Og=z1.now()+E2)}function HBe(){Og=0}function A2(){this._call=this._time=this._next=null}function Tte(n,t,e){var i=new A2;return i.restart(n,t,e),i}function Ste(){Og=(D2=z1.now())+E2,Ty=V1=0;try{!function zBe(){LH(),++Ty;for(var t,n=S2;n;)(t=Og-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Ty}()}finally{Ty=0,function WBe(){for(var n,e,t=S2,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:S2=e);H1=n,RH(i)}(),Og=0}}function UBe(){var n=z1.now(),t=n-D2;t>Cte&&(E2-=t,D2=n)}function RH(n){Ty||(V1&&(V1=clearTimeout(V1)),n-Og>24?(n<1/0&&(V1=setTimeout(Ste,n-z1.now()-E2)),B1&&(B1=clearInterval(B1))):(B1||(D2=z1.now(),B1=setInterval(UBe,Cte)),Ty=1,Mte(Ste)))}function Dte(n,t,e){var i=new A2;return i.restart(s=>{i.stop(),n(s+t)},t=null==t?0:+t,e),i}A2.prototype=Tte.prototype={constructor:A2,restart:function(n,t,e){if("function"!=typeof n)throw new TypeError("callback is not a function");e=(null==e?LH():+e)+(null==t?0:+t),!this._next&&H1!==this&&(H1?H1._next=this:S2=this,H1=this),this._call=n,this._time=e,RH()},stop:function(){this._call&&(this._call=null,this._time=1/0,RH())}};var YBe=rte("start","end","cancel","interrupt"),GBe=[],Ete=0,k2=3;function L2(n,t,e,i,s,r){var o=n.__transition;if(o){if(e in o)return}else n.__transition={};!function $Be(n,t,e){var s,i=n.__transition;function o(c){var d,u,f,m;if(1!==e.state)return l();for(d in i)if((m=i[d]).name===e.name){if(m.state===k2)return Dte(o);4===m.state?(m.state=6,m.timer.stop(),m.on.call("interrupt",n,n.__data__,m.index,m.group),delete i[d]):+d<t&&(m.state=6,m.timer.stop(),m.on.call("cancel",n,n.__data__,m.index,m.group),delete i[d])}if(Dte(function(){e.state===k2&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(c))}),e.state=2,e.on.call("start",n,n.__data__,e.index,e.group),2===e.state){for(e.state=k2,s=new Array(f=e.tween.length),d=0,u=-1;d<f;++d)(m=e.tween[d].value.call(n,n.__data__,e.index,e.group))&&(s[++u]=m);s.length=u+1}}function a(c){for(var d=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(l),e.state=5,1),u=-1,f=s.length;++u<f;)s[u].call(n,d);5===e.state&&(e.on.call("end",n,n.__data__,e.index,e.group),l())}function l(){for(var c in e.state=6,e.timer.stop(),delete i[t],i)return;delete n.__transition}i[t]=e,e.timer=Tte(function r(c){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=c&&o(c-e.delay)},0,e.time)}(n,e,{name:t,index:i,group:s,on:YBe,tween:GBe,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Ete})}function FH(n,t){var e=hd(n,t);if(e.state>Ete)throw new Error("too late; already scheduled");return e}function hu(n,t){var e=hd(n,t);if(e.state>k2)throw new Error("too late; already running");return e}function hd(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}var R2,Ite=180/Math.PI,VH={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Lte(n,t,e,i,s,r){var o,a,l;return(o=Math.sqrt(n*n+t*t))&&(n/=o,t/=o),(l=n*e+t*i)&&(e-=n*l,i-=t*l),(a=Math.sqrt(e*e+i*i))&&(e/=a,i/=a,l/=a),n*i<t*e&&(n=-n,t=-t,l=-l,o=-o),{translateX:s,translateY:r,rotate:Math.atan2(t,n)*Ite,skewX:Math.atan(l)*Ite,scaleX:o,scaleY:a}}function Rte(n,t,e,i){function s(c){return c.length?c.pop()+" ":""}return function(c,d){var u=[],f=[];return c=n(c),d=n(d),function r(c,d,u,f,m,g){if(c!==u||d!==f){var v=m.push("translate(",null,t,null,e);g.push({i:v-4,x:ud(c,u)},{i:v-2,x:ud(d,f)})}else(u||f)&&m.push("translate("+u+t+f+e)}(c.translateX,c.translateY,d.translateX,d.translateY,u,f),function o(c,d,u,f){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),f.push({i:u.push(s(u)+"rotate(",null,i)-2,x:ud(c,d)})):d&&u.push(s(u)+"rotate("+d+i)}(c.rotate,d.rotate,u,f),function a(c,d,u,f){c!==d?f.push({i:u.push(s(u)+"skewX(",null,i)-2,x:ud(c,d)}):d&&u.push(s(u)+"skewX("+d+i)}(c.skewX,d.skewX,u,f),function l(c,d,u,f,m,g){if(c!==u||d!==f){var v=m.push(s(m)+"scale(",null,",",null,")");g.push({i:v-4,x:ud(c,u)},{i:v-2,x:ud(d,f)})}else(1!==u||1!==f)&&m.push(s(m)+"scale("+u+","+f+")")}(c.scaleX,c.scaleY,d.scaleX,d.scaleY,u,f),c=d=null,function(m){for(var _,g=-1,v=f.length;++g<v;)u[(_=f[g]).i]=_.x(m);return u.join("")}}}var ZBe=Rte(function XBe(n){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?VH:Lte(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),KBe=Rte(function qBe(n){return null!=n&&(R2||(R2=document.createElementNS("http://www.w3.org/2000/svg","g")),R2.setAttribute("transform",n),n=R2.transform.baseVal.consolidate())?Lte((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):VH},", ",")",")");function QBe(n,t){var e,i;return function(){var s=hu(this,n),r=s.tween;if(r!==e)for(var o=0,a=(i=e=r).length;o<a;++o)if(i[o].name===t){(i=i.slice()).splice(o,1);break}s.tween=i}}function JBe(n,t,e){var i,s;if("function"!=typeof e)throw new Error;return function(){var r=hu(this,n),o=r.tween;if(o!==i){s=(i=o).slice();for(var a={name:t,value:e},l=0,c=s.length;l<c;++l)if(s[l].name===t){s[l]=a;break}l===c&&s.push(a)}r.tween=s}}function BH(n,t,e){var i=n._id;return n.each(function(){var s=hu(this,i);(s.value||(s.value={}))[t]=e.apply(this,arguments)}),function(s){return hd(s,i).value[t]}}function Pte(n,t){var e;return("number"==typeof t?ud:t instanceof Lg?M2:(e=Lg(t))?(t=e,M2):xte)(n,t)}function tHe(n){return function(){this.removeAttribute(n)}}function nHe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function iHe(n,t,e){var i,r,s=e+"";return function(){var o=this.getAttribute(n);return o===s?null:o===i?r:r=t(i=o,e)}}function sHe(n,t,e){var i,r,s=e+"";return function(){var o=this.getAttributeNS(n.space,n.local);return o===s?null:o===i?r:r=t(i=o,e)}}function rHe(n,t,e){var i,s,r;return function(){var o,l,a=e(this);return null==a?void this.removeAttribute(n):(o=this.getAttribute(n))===(l=a+"")?null:o===i&&l===s?r:(s=l,r=t(i=o,a))}}function oHe(n,t,e){var i,s,r;return function(){var o,l,a=e(this);return null==a?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local))===(l=a+"")?null:o===i&&l===s?r:(s=l,r=t(i=o,a))}}function dHe(n,t){var e,i;function s(){var r=t.apply(this,arguments);return r!==i&&(e=(i=r)&&function cHe(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}(n,r)),e}return s._value=t,s}function uHe(n,t){var e,i;function s(){var r=t.apply(this,arguments);return r!==i&&(e=(i=r)&&function lHe(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}(n,r)),e}return s._value=t,s}function fHe(n,t){return function(){FH(this,n).delay=+t.apply(this,arguments)}}function pHe(n,t){return t=+t,function(){FH(this,n).delay=t}}function gHe(n,t){return function(){hu(this,n).duration=+t.apply(this,arguments)}}function _He(n,t){return t=+t,function(){hu(this,n).duration=t}}var LHe=P1.prototype.constructor;function Ote(n){return function(){this.style.removeProperty(n)}}var ZHe=0;function Ah(n,t,e,i){this._groups=n,this._parents=t,this._name=e,this._id=i}function Fte(){return++ZHe}var kh=P1.prototype;Ah.prototype=function KHe(n){return P1().transition(n)}.prototype={constructor:Ah,select:function kHe(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=wH(n));for(var i=this._groups,s=i.length,r=new Array(s),o=0;o<s;++o)for(var d,u,a=i[o],l=a.length,c=r[o]=new Array(l),f=0;f<l;++f)(d=a[f])&&(u=n.call(d,d.__data__,f,a))&&("__data__"in d&&(u.__data__=d.__data__),c[f]=u,L2(c[f],t,e,f,c,hd(d,e)));return new Ah(r,this._parents,t,e)},selectAll:function IHe(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=Wee(n));for(var i=this._groups,s=i.length,r=[],o=[],a=0;a<s;++a)for(var d,l=i[a],c=l.length,u=0;u<c;++u)if(d=l[u]){for(var m,f=n.call(d,d.__data__,u,l),g=hd(d,e),v=0,_=f.length;v<_;++v)(m=f[v])&&L2(m,t,e,v,f,g);r.push(f),o.push(d)}return new Ah(r,o,t,e)},selectChild:kh.selectChild,selectChildren:kh.selectChildren,filter:function CHe(n){"function"!=typeof n&&(n=Yee(n));for(var t=this._groups,e=t.length,i=new Array(e),s=0;s<e;++s)for(var l,r=t[s],o=r.length,a=i[s]=[],c=0;c<o;++c)(l=r[c])&&n.call(l,l.__data__,c,r)&&a.push(l);return new Ah(i,this._parents,this._name,this._id)},merge:function MHe(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,i=t.length,r=Math.min(i,e.length),o=new Array(i),a=0;a<r;++a)for(var f,l=t[a],c=e[a],d=l.length,u=o[a]=new Array(d),m=0;m<d;++m)(f=l[m]||c[m])&&(u[m]=f);for(;a<i;++a)o[a]=t[a];return new Ah(o,this._parents,this._name,this._id)},selection:function RHe(){return new LHe(this._groups,this._parents)},transition:function XHe(){for(var n=this._name,t=this._id,e=Fte(),i=this._groups,s=i.length,r=0;r<s;++r)for(var l,o=i[r],a=o.length,c=0;c<a;++c)if(l=o[c]){var d=hd(l,t);L2(l,n,e,c,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Ah(i,this._parents,n,e)},call:kh.call,nodes:kh.nodes,node:kh.node,size:kh.size,empty:kh.empty,each:kh.each,on:function DHe(n,t){var e=this._id;return arguments.length<2?hd(this.node(),e).on.on(n):this.each(function SHe(n,t,e){var i,s,r=function THe(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(t)?FH:hu;return function(){var o=r(this,n),a=o.on;a!==i&&(s=(i=a).copy()).on(t,e),o.on=s}}(e,n,t))},attr:function aHe(n,t){var e=_2(n),i="transform"===e?KBe:Pte;return this.attrTween(n,"function"==typeof t?(e.local?oHe:rHe)(e,i,BH(this,"attr."+n,t)):null==t?(e.local?nHe:tHe)(e):(e.local?sHe:iHe)(e,i,t))},attrTween:function hHe(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;var i=_2(n);return this.tween(e,(i.local?dHe:uHe)(i,t))},style:function VHe(n,t,e){var i="transform"==(n+="")?ZBe:Pte;return null==t?this.styleTween(n,function PHe(n,t){var e,i,s;return function(){var r=Cy(this,n),o=(this.style.removeProperty(n),Cy(this,n));return r===o?null:r===e&&o===i?s:s=t(e=r,i=o)}}(n,i)).on("end.style."+n,Ote(n)):"function"==typeof t?this.styleTween(n,function FHe(n,t,e){var i,s,r;return function(){var o=Cy(this,n),a=e(this),l=a+"";return null==a&&(this.style.removeProperty(n),l=a=Cy(this,n)),o===l?null:o===i&&l===s?r:(s=l,r=t(i=o,a))}}(n,i,BH(this,"style."+n,t))).each(function NHe(n,t){var e,i,s,a,r="style."+t,o="end."+r;return function(){var l=hu(this,n),c=l.on,d=null==l.value[r]?a||(a=Ote(t)):void 0;(c!==e||s!==d)&&(i=(e=c).copy()).on(o,s=d),l.on=i}}(this._id,n)):this.styleTween(n,function OHe(n,t,e){var i,r,s=e+"";return function(){var o=Cy(this,n);return o===s?null:o===i?r:r=t(i=o,e)}}(n,i,t),e).on("end.style."+n,null)},styleTween:function zHe(n,t,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,function HHe(n,t,e){var i,s;function r(){var o=t.apply(this,arguments);return o!==s&&(i=(s=o)&&function BHe(n,t,e){return function(i){this.style.setProperty(n,t.call(this,i),e)}}(n,o,e)),i}return r._value=t,r}(n,t,e??""))},text:function YHe(n){return this.tween("text","function"==typeof n?function WHe(n){return function(){var t=n(this);this.textContent=t??""}}(BH(this,"text",n)):function UHe(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function jHe(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;return this.tween(t,function $He(n){var t,e;function i(){var s=n.apply(this,arguments);return s!==e&&(t=(e=s)&&function GHe(n){return function(t){this.textContent=n.call(this,t)}}(s)),t}return i._value=n,i}(n))},remove:function AHe(){return this.on("end.remove",function EHe(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}(this._id))},tween:function eHe(n,t){var e=this._id;if(n+="",arguments.length<2){for(var o,i=hd(this.node(),e).tween,s=0,r=i.length;s<r;++s)if((o=i[s]).name===n)return o.value;return null}return this.each((null==t?QBe:JBe)(e,n,t))},delay:function mHe(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?fHe:pHe)(t,n)):hd(this.node(),t).delay},duration:function vHe(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?gHe:_He)(t,n)):hd(this.node(),t).duration},ease:function bHe(n){var t=this._id;return arguments.length?this.each(function yHe(n,t){if("function"!=typeof t)throw new Error;return function(){hu(this,n).ease=t}}(t,n)):hd(this.node(),t).ease},easeVarying:function wHe(n){if("function"!=typeof n)throw new Error;return this.each(function xHe(n,t){return function(){var e=t.apply(this,arguments);if("function"!=typeof e)throw new Error;hu(this,n).ease=e}}(this._id,n))},end:function qHe(){var n,t,e=this,i=e._id,s=e.size();return new Promise(function(r,o){var a={value:o},l={value:function(){0==--s&&r()}};e.each(function(){var c=hu(this,i),d=c.on;d!==n&&((t=(n=d).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),0===s&&r()})},[Symbol.iterator]:kh[Symbol.iterator]};var JHe={time:null,delay:0,duration:250,ease:function QHe(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function e4e(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}P1.prototype.interrupt=function jBe(n){return this.each(function(){!function NH(n,t){var i,s,o,e=n.__transition,r=!0;if(e){for(o in t=null==t?null:t+"",e)(i=e[o]).name===t?(s=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(s?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[o]):r=!1;r&&delete n.__transition}}(this,n)})},P1.prototype.transition=function t4e(n){var t,e;n instanceof Ah?(t=n._id,n=n._name):(t=Fte(),(e=JHe).time=LH(),n=null==n?null:n+"");for(var i=this._groups,s=i.length,r=0;r<s;++r)for(var l,o=i[r],a=o.length,c=0;c<a;++c)(l=o[c])&&L2(l,n,t,c,o,e||e4e(l,t));return new Ah(i,this._parents,n,t)};Math;function U1(n){return{type:n}}function F2(n,t){return null==n||null==t?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function h4e(n,t){return null==n||null==t?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function $H(n){let t,e,i;function s(a,l,c=0,d=a.length){if(c<d){if(0!==t(l,l))return d;do{const u=c+d>>>1;e(a[u],l)<0?c=u+1:d=u}while(c<d)}return c}return 2!==n.length?(t=F2,e=(a,l)=>F2(n(a),l),i=(a,l)=>n(a)-l):(t=n===F2||n===h4e?n:f4e,e=n,i=n),{left:s,center:function o(a,l,c=0,d=a.length){const u=s(a,l,c,d-1);return u>c&&i(a[u-1],l)>-i(a[u],l)?u-1:u},right:function r(a,l,c=0,d=a.length){if(c<d){if(0!==t(l,l))return d;do{const u=c+d>>>1;e(a[u],l)<=0?c=u+1:d=u}while(c<d)}return c}}}function f4e(){return 0}["w","e"].map(U1),["n","s"].map(U1),["n","w","e","s","nw","ne","sw","se"].map(U1);const p4e=Math.sqrt(50),m4e=Math.sqrt(10),g4e=Math.sqrt(2);function N2(n,t,e){const i=(t-n)/Math.max(0,e),s=Math.floor(Math.log10(i)),r=i/Math.pow(10,s),o=r>=p4e?10:r>=m4e?5:r>=g4e?2:1;let a,l,c;return s<0?(c=Math.pow(10,-s)/o,a=Math.round(n*c),l=Math.round(t*c),a/c<n&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,s)*o,a=Math.round(n/c),l=Math.round(t/c),a*c<n&&++a,l*c>t&&--l),l<a&&.5<=e&&e<2?N2(n,t,2*e):[a,l,c]}function jH(n,t,e){return N2(n=+n,t=+t,e=+e)[2]}function XH(n,t,e){e=+e;const i=(t=+t)<(n=+n),s=i?jH(t,n,e):jH(n,t,e);return(i?-1:1)*(s<0?1/-s:s)}const Lh=1e3,fc=6e4,Rh=60*fc,Ph=24*Rh,qH=7*Ph,ZH=365*Ph,KH=new Date,QH=new Date;function eo(n,t,e,i){function s(r){return n(r=0===arguments.length?new Date:new Date(+r)),r}return s.floor=r=>(n(r=new Date(+r)),r),s.ceil=r=>(n(r=new Date(r-1)),t(r,1),n(r),r),s.round=r=>{const o=s(r),a=s.ceil(r);return r-o<a-r?o:a},s.offset=(r,o)=>(t(r=new Date(+r),null==o?1:Math.floor(o)),r),s.range=(r,o,a)=>{const l=[];if(r=s.ceil(r),a=null==a?1:Math.floor(a),!(r<o&&a>0))return l;let c;do{l.push(c=new Date(+r)),t(r,a),n(r)}while(c<r&&r<o);return l},s.filter=r=>eo(o=>{if(o>=o)for(;n(o),!r(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!r(o););else for(;--a>=0;)for(;t(o,1),!r(o););}),e&&(s.count=(r,o)=>(KH.setTime(+r),QH.setTime(+o),n(KH),n(QH),Math.floor(e(KH,QH))),s.every=r=>(r=Math.floor(r),isFinite(r)&&r>0?r>1?s.filter(i?o=>i(o)%r==0:o=>s.count(0,o)%r==0):s:null)),s}const V2=eo(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);V2.every=n=>(n=Math.floor(n),isFinite(n)&&n>0?n>1?eo(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):V2:null);const Ey=eo(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*Lh)},(n,t)=>(t-n)/Lh,n=>n.getUTCSeconds()),JH=eo(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Lh)},(n,t)=>{n.setTime(+n+t*fc)},(n,t)=>(t-n)/fc,n=>n.getMinutes()),Wte=eo(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*fc)},(n,t)=>(t-n)/fc,n=>n.getUTCMinutes()),e4=eo(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Lh-n.getMinutes()*fc)},(n,t)=>{n.setTime(+n+t*Rh)},(n,t)=>(t-n)/Rh,n=>n.getHours()),Yte=eo(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*Rh)},(n,t)=>(t-n)/Rh,n=>n.getUTCHours()),t4=eo(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*fc)/Ph,n=>n.getDate()-1),Gte=(eo(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Ph,n=>n.getUTCDate()-1),eo(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Ph,n=>Math.floor(n/Ph)));function Fg(n){return eo(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+7*e)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fc)/qH)}const n4=Fg(0);function Ng(n){return eo(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)},(t,e)=>(e-t)/qH)}Fg(1),Fg(2),Fg(3),Fg(4),Fg(5),Fg(6);const $te=Ng(0),s4=(Ng(1),Ng(2),Ng(3),Ng(4),Ng(5),Ng(6),eo(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+12*(t.getFullYear()-n.getFullYear()),n=>n.getMonth())),jte=eo(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+12*(t.getUTCFullYear()-n.getUTCFullYear()),n=>n.getUTCMonth()),B2=eo(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());B2.every=n=>isFinite(n=Math.floor(n))&&n>0?eo(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)}):null;const r4=eo(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());function Xte(n,t,e,i,s,r){const o=[[Ey,1,Lh],[Ey,5,5e3],[Ey,15,15e3],[Ey,30,3e4],[r,1,fc],[r,5,5*fc],[r,15,15*fc],[r,30,30*fc],[s,1,Rh],[s,3,3*Rh],[s,6,6*Rh],[s,12,12*Rh],[i,1,Ph],[i,2,2*Ph],[e,1,qH],[t,1,2592e6],[t,3,7776e6],[n,1,ZH]];function l(c,d,u){const f=Math.abs(d-c)/u,m=$H(([,,_])=>_).right(o,f);if(m===o.length)return n.every(XH(c/ZH,d/ZH,u));if(0===m)return V2.every(Math.max(XH(c,d,u),1));const[g,v]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return g.every(v)}return[function a(c,d,u){const f=d<c;f&&([c,d]=[d,c]);const m=u&&"function"==typeof u.range?u:l(c,d,u),g=m?m.range(c,+d+1):[];return f?g.reverse():g},l]}r4.every=n=>isFinite(n=Math.floor(n))&&n>0?eo(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null;const[Ust,Wst]=Xte(r4,jte,$te,Gte,Yte,Wte),[k4e,I4e]=Xte(B2,s4,n4,t4,e4,JH);var o4=new Date,a4=new Date;function Oh(n,t,e,i){function s(r){return n(r=0===arguments.length?new Date:new Date(+r)),r}return s.floor=function(r){return n(r=new Date(+r)),r},s.ceil=function(r){return n(r=new Date(r-1)),t(r,1),n(r),r},s.round=function(r){var o=s(r),a=s.ceil(r);return r-o<a-r?o:a},s.offset=function(r,o){return t(r=new Date(+r),null==o?1:Math.floor(o)),r},s.range=function(r,o,a){var c,l=[];if(r=s.ceil(r),a=null==a?1:Math.floor(a),!(r<o&&a>0))return l;do{l.push(c=new Date(+r)),t(r,a),n(r)}while(c<r&&r<o);return l},s.filter=function(r){return Oh(function(o){if(o>=o)for(;n(o),!r(o);)o.setTime(o-1)},function(o,a){if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!r(o););else for(;--a>=0;)for(;t(o,1),!r(o););})},e&&(s.count=function(r,o){return o4.setTime(+r),a4.setTime(+o),n(o4),n(a4),Math.floor(e(o4,a4))},s.every=function(r){return r=Math.floor(r),isFinite(r)&&r>0?r>1?s.filter(i?function(o){return i(o)%r==0}:function(o){return s.count(0,o)%r==0}):s:null}),s}function Vg(n){return Oh(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var Zte=Vg(0),H2=Vg(1),Ay=(Vg(2),Vg(3),Vg(4));const Qte=(Vg(5),Vg(6),Oh(function(n){n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCDate(n.getUTCDate()+t)},function(n,t){return(t-n)/864e5},function(n){return n.getUTCDate()-1}));function Bg(n){return Oh(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}var Jte=Bg(0),z2=Bg(1),ky=(Bg(2),Bg(3),Bg(4));const tne=(Bg(5),Bg(6),Oh(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/864e5,n=>n.getDate()-1));var c4=Oh(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n,t){return t.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});c4.every=function(n){return isFinite(n=Math.floor(n))&&n>0?Oh(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};const Y1=c4;var d4=Oh(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t)},function(n,t){return t.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});d4.every=function(n){return isFinite(n=Math.floor(n))&&n>0?Oh(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};const G1=d4;function u4(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function h4(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function $1(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}var nne={"-":"",_:" ",0:"0"},mo=/^\s*\d+/,z4e=/^%/,U4e=/[\\^$*+?|[\]().{}]/g;function $i(n,t,e){var i=n<0?"-":"",s=(i?-n:n)+"",r=s.length;return i+(r<e?new Array(e-r+1).join(t)+s:s)}function W4e(n){return n.replace(U4e,"\\$&")}function j1(n){return new RegExp("^(?:"+n.map(W4e).join("|")+")","i")}function X1(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function Y4e(n,t,e){var i=mo.exec(t.slice(e,e+1));return i?(n.w=+i[0],e+i[0].length):-1}function G4e(n,t,e){var i=mo.exec(t.slice(e,e+1));return i?(n.u=+i[0],e+i[0].length):-1}function $4e(n,t,e){var i=mo.exec(t.slice(e,e+2));return i?(n.U=+i[0],e+i[0].length):-1}function j4e(n,t,e){var i=mo.exec(t.slice(e,e+2));return i?(n.V=+i[0],e+i[0].length):-1}function X4e(n,t,e){var i=mo.exec(t.slice(e,e+2));return i?(n.W=+i[0],e+i[0].length):-1}function ine(n,t,e){var i=mo.exec(t.slice(e,e+4));return i?(n.y=+i[0],e+i[0].length):-1}function sne(n,t,e){var i=mo.exec(t.slice(e,e+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function q4e(n,t,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function Z4e(n,t,e){var i=mo.exec(t.slice(e,e+1));return i?(n.q=3*i[0]-3,e+i[0].length):-1}function K4e(n,t,e){var i=mo.exec(t.slice(e,e+2));return i?(n.m=i[0]-1,e+i[0].length):-1}function rne(n,t,e){var i=mo.exec(t.slice(e,e+2));return i?(n.d=+i[0],e+i[0].length):-1}function Q4e(n,t,e){var i=mo.exec(t.slice(e,e+3));return i?(n.m=0,n.d=+i[0],e+i[0].length):-1}function one(n,t,e){var i=mo.exec(t.slice(e,e+2));return i?(n.H=+i[0],e+i[0].length):-1}function J4e(n,t,e){var i=mo.exec(t.slice(e,e+2));return i?(n.M=+i[0],e+i[0].length):-1}function e5e(n,t,e){var i=mo.exec(t.slice(e,e+2));return i?(n.S=+i[0],e+i[0].length):-1}function t5e(n,t,e){var i=mo.exec(t.slice(e,e+3));return i?(n.L=+i[0],e+i[0].length):-1}function n5e(n,t,e){var i=mo.exec(t.slice(e,e+6));return i?(n.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function i5e(n,t,e){var i=z4e.exec(t.slice(e,e+1));return i?e+i[0].length:-1}function s5e(n,t,e){var i=mo.exec(t.slice(e));return i?(n.Q=+i[0],e+i[0].length):-1}function r5e(n,t,e){var i=mo.exec(t.slice(e));return i?(n.s=+i[0],e+i[0].length):-1}function ane(n,t){return $i(n.getDate(),t,2)}function o5e(n,t){return $i(n.getHours(),t,2)}function a5e(n,t){return $i(n.getHours()%12||12,t,2)}function l5e(n,t){return $i(1+tne.count(Y1(n),n),t,3)}function lne(n,t){return $i(n.getMilliseconds(),t,3)}function c5e(n,t){return lne(n,t)+"000"}function d5e(n,t){return $i(n.getMonth()+1,t,2)}function u5e(n,t){return $i(n.getMinutes(),t,2)}function h5e(n,t){return $i(n.getSeconds(),t,2)}function f5e(n){var t=n.getDay();return 0===t?7:t}function p5e(n,t){return $i(Jte.count(Y1(n)-1,n),t,2)}function cne(n){var t=n.getDay();return t>=4||0===t?ky(n):ky.ceil(n)}function m5e(n,t){return n=cne(n),$i(ky.count(Y1(n),n)+(4===Y1(n).getDay()),t,2)}function g5e(n){return n.getDay()}function _5e(n,t){return $i(z2.count(Y1(n)-1,n),t,2)}function v5e(n,t){return $i(n.getFullYear()%100,t,2)}function y5e(n,t){return $i((n=cne(n)).getFullYear()%100,t,2)}function b5e(n,t){return $i(n.getFullYear()%1e4,t,4)}function x5e(n,t){var e=n.getDay();return $i((n=e>=4||0===e?ky(n):ky.ceil(n)).getFullYear()%1e4,t,4)}function w5e(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$i(t/60|0,"0",2)+$i(t%60,"0",2)}function dne(n,t){return $i(n.getUTCDate(),t,2)}function C5e(n,t){return $i(n.getUTCHours(),t,2)}function M5e(n,t){return $i(n.getUTCHours()%12||12,t,2)}function T5e(n,t){return $i(1+Qte.count(G1(n),n),t,3)}function une(n,t){return $i(n.getUTCMilliseconds(),t,3)}function S5e(n,t){return une(n,t)+"000"}function D5e(n,t){return $i(n.getUTCMonth()+1,t,2)}function E5e(n,t){return $i(n.getUTCMinutes(),t,2)}function A5e(n,t){return $i(n.getUTCSeconds(),t,2)}function k5e(n){var t=n.getUTCDay();return 0===t?7:t}function I5e(n,t){return $i(Zte.count(G1(n)-1,n),t,2)}function hne(n){var t=n.getUTCDay();return t>=4||0===t?Ay(n):Ay.ceil(n)}function L5e(n,t){return n=hne(n),$i(Ay.count(G1(n),n)+(4===G1(n).getUTCDay()),t,2)}function R5e(n){return n.getUTCDay()}function P5e(n,t){return $i(H2.count(G1(n)-1,n),t,2)}function O5e(n,t){return $i(n.getUTCFullYear()%100,t,2)}function F5e(n,t){return $i((n=hne(n)).getUTCFullYear()%100,t,2)}function N5e(n,t){return $i(n.getUTCFullYear()%1e4,t,4)}function V5e(n,t){var e=n.getUTCDay();return $i((n=e>=4||0===e?Ay(n):Ay.ceil(n)).getUTCFullYear()%1e4,t,4)}function B5e(){return"+0000"}function fne(){return"%"}function pne(n){return+n}function mne(n){return Math.floor(+n/1e3)}!function W5e(n){(function H4e(n){var t=n.dateTime,e=n.date,i=n.time,s=n.periods,r=n.days,o=n.shortDays,a=n.months,l=n.shortMonths,c=j1(s),d=X1(s),u=j1(r),f=X1(r),m=j1(o),g=X1(o),v=j1(a),_=X1(a),y=j1(l),C=X1(l),w={a:function ce(et){return o[et.getDay()]},A:function pe(et){return r[et.getDay()]},b:function xe(et){return l[et.getMonth()]},B:function Ae(et){return a[et.getMonth()]},c:null,d:ane,e:ane,f:c5e,g:y5e,G:x5e,H:o5e,I:a5e,j:l5e,L:lne,m:d5e,M:u5e,p:function fe(et){return s[+(et.getHours()>=12)]},q:function Ce(et){return 1+~~(et.getMonth()/3)},Q:pne,s:mne,S:h5e,u:f5e,U:p5e,V:m5e,w:g5e,W:_5e,x:null,X:null,y:v5e,Y:b5e,Z:w5e,"%":fne},S={a:function ft(et){return o[et.getUTCDay()]},A:function ot(et){return r[et.getUTCDay()]},b:function kt(et){return l[et.getUTCMonth()]},B:function on(et){return a[et.getUTCMonth()]},c:null,d:dne,e:dne,f:S5e,g:F5e,G:V5e,H:C5e,I:M5e,j:T5e,L:une,m:D5e,M:E5e,p:function yt(et){return s[+(et.getUTCHours()>=12)]},q:function jt(et){return 1+~~(et.getUTCMonth()/3)},Q:pne,s:mne,S:A5e,u:k5e,U:I5e,V:L5e,w:R5e,W:P5e,x:null,X:null,y:O5e,Y:N5e,Z:B5e,"%":fne},R={a:function W(et,zt,bt){var X=m.exec(zt.slice(bt));return X?(et.w=g.get(X[0].toLowerCase()),bt+X[0].length):-1},A:function re(et,zt,bt){var X=u.exec(zt.slice(bt));return X?(et.w=f.get(X[0].toLowerCase()),bt+X[0].length):-1},b:function we(et,zt,bt){var X=y.exec(zt.slice(bt));return X?(et.m=C.get(X[0].toLowerCase()),bt+X[0].length):-1},B:function le(et,zt,bt){var X=v.exec(zt.slice(bt));return X?(et.m=_.get(X[0].toLowerCase()),bt+X[0].length):-1},c:function ue(et,zt,bt){return $(et,t,zt,bt)},d:rne,e:rne,f:n5e,g:sne,G:ine,H:one,I:one,j:Q4e,L:t5e,m:K4e,M:J4e,p:function F(et,zt,bt){var X=c.exec(zt.slice(bt));return X?(et.p=d.get(X[0].toLowerCase()),bt+X[0].length):-1},q:Z4e,Q:s5e,s:r5e,S:e5e,u:G4e,U:$4e,V:j4e,w:Y4e,W:X4e,x:function he(et,zt,bt){return $(et,e,zt,bt)},X:function oe(et,zt,bt){return $(et,i,zt,bt)},y:sne,Y:ine,Z:q4e,"%":i5e};function O(et,zt){return function(bt){var Ze,lt,xt,X=[],at=-1,ke=0,ct=et.length;for(bt instanceof Date||(bt=new Date(+bt));++at<ct;)37===et.charCodeAt(at)&&(X.push(et.slice(ke,at)),null!=(lt=nne[Ze=et.charAt(++at)])?Ze=et.charAt(++at):lt="e"===Ze?" ":"0",(xt=zt[Ze])&&(Ze=xt(bt,lt)),X.push(Ze),ke=at+1);return X.push(et.slice(ke,at)),X.join("")}}function H(et,zt){return function(bt){var ke,ct,X=$1(1900,void 0,1);if($(X,et,bt+="",0)!=bt.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(1e3*X.s+("L"in X?X.L:0));if(zt&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+12*X.p),void 0===X.m&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(ct=(ke=h4($1(X.y,0,1))).getUTCDay(),ke=ct>4||0===ct?H2.ceil(ke):H2(ke),ke=Qte.offset(ke,7*(X.V-1)),X.y=ke.getUTCFullYear(),X.m=ke.getUTCMonth(),X.d=ke.getUTCDate()+(X.w+6)%7):(ct=(ke=u4($1(X.y,0,1))).getDay(),ke=ct>4||0===ct?z2.ceil(ke):z2(ke),ke=tne.offset(ke,7*(X.V-1)),X.y=ke.getFullYear(),X.m=ke.getMonth(),X.d=ke.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),ct="Z"in X?h4($1(X.y,0,1)).getUTCDay():u4($1(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+7*X.W-(ct+5)%7:X.w+7*X.U-(ct+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,h4(X)):u4(X)}}function $(et,zt,bt,X){for(var Ze,lt,at=0,ke=zt.length,ct=bt.length;at<ke;){if(X>=ct)return-1;if(37===(Ze=zt.charCodeAt(at++))){if(Ze=zt.charAt(at++),!(lt=R[Ze in nne?zt.charAt(at++):Ze])||(X=lt(et,bt,X))<0)return-1}else if(Ze!=bt.charCodeAt(X++))return-1}return X}return w.x=O(e,w),w.X=O(i,w),w.c=O(t,w),S.x=O(e,S),S.X=O(i,S),S.c=O(t,S),{format:function(et){var zt=O(et+="",w);return zt.toString=function(){return et},zt},parse:function(et){var zt=H(et+="",!1);return zt.toString=function(){return et},zt},utcFormat:function(et){var zt=O(et+="",S);return zt.toString=function(){return et},zt},utcParse:function(et){var zt=H(et+="",!0);return zt.toString=function(){return et},zt}}})(n)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),$H(F2),$H(function Y5e(n){return null===n?NaN:+n});var wne,sze=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function W2(n){if(!(t=sze.exec(n)))throw new Error("invalid format: "+n);var t;return new p4({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function p4(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}function Y2(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,i=n.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+n.slice(e+1)]}function Cne(n,t){var e=Y2(n,t);if(!e)return n+"";var i=e[0],s=e[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}W2.prototype=p4.prototype,p4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Mne={"%":(n,t)=>(100*n).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:function rze(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>Cne(100*n,t),r:Cne,s:function dze(n,t){var e=Y2(n,t);if(!e)return n+"";var i=e[0],s=e[1],r=s-(wne=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,o=i.length;return r===o?i:r>o?i+new Array(r-o+1).join("0"):r>0?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+Y2(n,Math.max(0,t+r-1))[0]},X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Tne(n){return n}var Sne=Array.prototype.map,Dne=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function uze(n){var t=void 0===n.grouping||void 0===n.thousands?Tne:function aze(n,t){return function(e,i){for(var s=e.length,r=[],o=0,a=n[0],l=0;s>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),r.push(e.substring(s-=a,s+a)),!((l+=a+1)>i));)a=n[o=(o+1)%n.length];return r.reverse().join(t)}}(Sne.call(n.grouping,Number),n.thousands+""),e=void 0===n.currency?"":n.currency[0]+"",i=void 0===n.currency?"":n.currency[1]+"",s=void 0===n.decimal?".":n.decimal+"",r=void 0===n.numerals?Tne:function lze(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}(Sne.call(n.numerals,String)),o=void 0===n.percent?"%":n.percent+"",a=void 0===n.minus?"\u2212":n.minus+"",l=void 0===n.nan?"NaN":n.nan+"";function c(u){var f=(u=W2(u)).fill,m=u.align,g=u.sign,v=u.symbol,_=u.zero,y=u.width,C=u.comma,w=u.precision,S=u.trim,R=u.type;"n"===R?(C=!0,R="g"):Mne[R]||(void 0===w&&(w=12),S=!0,R="g"),(_||"0"===f&&"="===m)&&(_=!0,f="0",m="=");var O="$"===v?e:"#"===v&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",H="$"===v?i:/[%p]/.test(R)?o:"",$=Mne[R],F=/[defgprs%]/.test(R);function W(re){var ue,he,oe,we=O,le=H;if("c"===R)le=$(re)+le,re="";else{var ce=(re=+re)<0||1/re<0;if(re=isNaN(re)?l:$(Math.abs(re),w),S&&(re=function cze(n){e:for(var s,t=n.length,e=1,i=-1;e<t;++e)switch(n[e]){case".":i=s=e;break;case"0":0===i&&(i=e),s=e;break;default:if(!+n[e])break e;i>0&&(i=0)}return i>0?n.slice(0,i)+n.slice(s+1):n}(re)),ce&&0==+re&&"+"!==g&&(ce=!1),we=(ce?"("===g?g:a:"-"===g||"("===g?"":g)+we,le=("s"===R?Dne[8+wne/3]:"")+le+(ce&&"("===g?")":""),F)for(ue=-1,he=re.length;++ue<he;)if(48>(oe=re.charCodeAt(ue))||oe>57){le=(46===oe?s+re.slice(ue+1):re.slice(ue))+le,re=re.slice(0,ue);break}}C&&!_&&(re=t(re,1/0));var pe=we.length+re.length+le.length,xe=pe<y?new Array(y-pe+1).join(f):"";switch(C&&_&&(re=t(xe+re,xe.length?y-le.length:1/0),xe=""),m){case"<":re=we+re+le+xe;break;case"=":re=we+xe+re+le;break;case"^":re=xe.slice(0,pe=xe.length>>1)+we+re+le+xe.slice(pe);break;default:re=xe+we+re+le}return r(re)}return w=void 0===w?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w)),W.toString=function(){return u+""},W}return{format:c,formatPrefix:function d(u,f){var m=c(((u=W2(u)).type="f",u)),g=3*Math.max(-8,Math.min(8,Math.floor(function Ry(n){return(n=Y2(Math.abs(n)))?n[1]:NaN}(f)/3))),v=Math.pow(10,-g),_=Dne[8+g/3];return function(y){return m(v*y)+_}}}}!function hze(n){uze(n)}({thousands:",",grouping:[3],currency:["$",""]}),Map,Symbol("implicit");var yze=Qe(178);const bze=["caretElm"];function xze(n,t){}const wze=n=>({model:n});function Cze(n,t){if(1&n&&(L(0,"span"),me(1,xze,0,0,"ng-template",5),k()),2&n){const e=N();I(),B("ngTemplateOutlet",e.template)("ngTemplateOutletContext",Ds(2,wze,e.context))}}function Mze(n,t){1&n&&Te(0,"span",6),2&n&&B("innerHTML",N().title,yS)}function hWe(n,t,e){e=e||{};let i,s,r,o=null,a=0;function l(){a=!1===e.leading?0:+new Date,o=null,r=n.apply(i,s)}return function(){const c=+new Date;!a&&!1===e.leading&&(a=c);const d=t-(c-a);return i=this,s=arguments,d<=0?(clearTimeout(o),o=null,a=c,r=n.apply(i,s)):!o&&!1!==e.trailing&&(o=setTimeout(l,d)),r}}function fWe(n,t){return function(i,s,r){return{configurable:!0,enumerable:r.enumerable,get:function(){return Object.defineProperty(this,s,{configurable:!0,enumerable:r.enumerable,value:hWe(r.value,n,t)}),this[s]}}}}var wi=function(n){return n.Top="top",n.Bottom="bottom",n.Left="left",n.Right="right",n.Center="center",n}(wi||{});function Hne(n,t,e){return e===wi.Top?n.top-7:e===wi.Bottom?n.top+n.height-t.height+7:e===wi.Center?n.top+n.height/2-t.height/2:void 0}function zne(n,t,e){return e===wi.Left?n.left-7:e===wi.Right?n.left+n.width-t.width+7:e===wi.Center?n.left+n.width/2-t.width/2:void 0}class Il{static calculateVerticalAlignment(t,e,i){let s=Hne(t,e,i);return s+e.height>window.innerHeight&&(s=window.innerHeight-e.height),s}static calculateVerticalCaret(t,e,i,s){let r;s===wi.Top&&(r=t.height/2-i.height/2+7),s===wi.Bottom&&(r=e.height-t.height/2-i.height/2-7),s===wi.Center&&(r=e.height/2-i.height/2);const o=Hne(t,e,s);return o+e.height>window.innerHeight&&(r+=o+e.height-window.innerHeight),r}static calculateHorizontalAlignment(t,e,i){let s=zne(t,e,i);return s+e.width>window.innerWidth&&(s=window.innerWidth-e.width),s}static calculateHorizontalCaret(t,e,i,s){let r;s===wi.Left&&(r=t.width/2-i.width/2+7),s===wi.Right&&(r=e.width-t.width/2-i.width/2-7),s===wi.Center&&(r=e.width/2-i.width/2);const o=zne(t,e,s);return o+e.width>window.innerWidth&&(r+=o+e.width-window.innerWidth),r}static shouldFlip(t,e,i,s){let r=!1;return i===wi.Right&&t.left+t.width+e.width+s>window.innerWidth&&(r=!0),i===wi.Left&&t.left-e.width-s<0&&(r=!0),i===wi.Top&&t.top-e.height-s<0&&(r=!0),i===wi.Bottom&&t.top+t.height+e.height+s>window.innerHeight&&(r=!0),r}static positionCaret(t,e,i,s,r){let o=0,a=0;return t===wi.Right?(a=-7,o=Il.calculateVerticalCaret(i,e,s,r)):t===wi.Left?(a=e.width,o=Il.calculateVerticalCaret(i,e,s,r)):t===wi.Top?(o=e.height,a=Il.calculateHorizontalCaret(i,e,s,r)):t===wi.Bottom&&(o=-7,a=Il.calculateHorizontalCaret(i,e,s,r)),{top:o,left:a}}static positionContent(t,e,i,s,r){let o=0,a=0;return t===wi.Right?(a=i.left+i.width+s,o=Il.calculateVerticalAlignment(i,e,r)):t===wi.Left?(a=i.left-e.width-s,o=Il.calculateVerticalAlignment(i,e,r)):t===wi.Top?(o=i.top-e.height-s,a=Il.calculateHorizontalAlignment(i,e,r)):t===wi.Bottom&&(o=i.top+i.height+s,a=Il.calculateHorizontalAlignment(i,e,r)),{top:o,left:a}}static determinePlacement(t,e,i,s){if(Il.shouldFlip(i,e,t,s)){if(t===wi.Right)return wi.Left;if(t===wi.Left)return wi.Right;if(t===wi.Top)return wi.Bottom;if(t===wi.Bottom)return wi.Top}return t}}let pWe=(()=>{class n{constructor(e,i,s){this.element=e,this.renderer=i,this.platformId=s}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!Of(this.platformId))return;const e=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const s=e.getBoundingClientRect();this.checkFlip(i,s),this.positionContent(e,i,s),this.showCaret&&this.positionCaret(i,s),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,i,s){const{top:r,left:o}=Il.positionContent(this.placement,s,i,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${r}px`),this.renderer.setStyle(e,"left",`${o}px`)}positionCaret(e,i){const s=this.caretElm.nativeElement,r=s.getBoundingClientRect(),{top:o,left:a}=Il.positionCaret(this.placement,i,e,r,this.alignment);this.renderer.setStyle(s,"top",`${o}px`),this.renderer.setStyle(s,"left",`${a}px`)}checkFlip(e,i){this.placement=Il.determinePlacement(this.placement,i,e,this.spacing)}onWindowResize(){this.position()}}return n.\u0275fac=function(e){return new(e||n)(K(gn),K(Js),K(To))},n.\u0275cmp=Ht({type:n,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,i){if(1&e&&$r(bze,5),2&e){let s;Bs(s=Hs())&&(i.caretElm=s.first)}},hostVars:2,hostBindings:function(e,i){1&e&&ye("resize",function(){return i.onWindowResize()},0,ux),2&e&&uo(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,i){1&e&&(L(0,"div"),Te(1,"span",0,1),L(3,"div",2),me(4,Cze,2,4,"span",3)(5,Mze,1,1,"span",4),k()()),2&e&&(I(),function kW(n,t,e){$c(ua,zd,Bv(Oe(),n,t,e),!0)}("tooltip-caret position-",i.placement,""),B("hidden",!i.showCaret),I(3),B("ngIf",!i.title),I(),B("ngIf",i.title))},dependencies:[$s,NO],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),JO([fWe(100)],n.prototype,"onWindowResize",null),n})();class mWe{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map}getByType(t=this.type){return this.components.get(t)}create(t){return this.createByType(this.type,t)}createByType(t,e){e=this.assignDefaults(e);const i=this.injectComponent(t,e);return this.register(t,i),i}destroy(t){const e=this.components.get(t.componentType);if(e&&e.length){const i=e.indexOf(t);i>-1&&(e[i].destroy(),e.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(t){const e=this.components.get(t);if(e&&e.length){let i=e.length-1;for(;i>=0;)this.destroy(e[i--])}}injectComponent(t,e){return this.injectionService.appendComponent(t,e)}assignDefaults(t){const e={...this.defaults.inputs},i={...this.defaults.outputs};return!t.inputs&&!t.outputs&&(t={inputs:t}),e&&(t.inputs={...e,...t.inputs}),i&&(t.outputs={...i,...t.outputs}),t}register(t,e){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(e)}}let y4,Une=(()=>{class n{constructor(e,i,s){this.applicationRef=e,this.componentFactoryResolver=i,this.injector=s}static setGlobalRootViewContainer(e){n.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(n.globalRootViewContainer)return n.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function gWe(n){return n.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,i){if(i){if(void 0!==i.inputs){const s=Object.getOwnPropertyNames(i.inputs);for(const r of s)e.instance[r]=i.inputs[r]}if(void 0!==i.outputs){const s=Object.getOwnPropertyNames(i.outputs);for(const r of s)e.instance[r]=i.outputs[r]}}return e}appendComponent(e,i={},s){s||(s=this.getRootViewContainer());const r=this.getComponentRootNode(s),o=new kZ(r,this.componentFactoryResolver,this.applicationRef,this.injector),a=new ZC(e),l=o.attach(a);return this.projectComponentBindings(l,i),l}}return n.globalRootViewContainer=null,n.\u0275fac=function(e){return new(e||n)(be(Ud),be(Nd),be(Fs))},n.\u0275prov=Be({token:n,factory:n.\u0275fac}),n})(),g4=(()=>{class n extends mWe{constructor(e){super(e),this.type=pWe}}return n.\u0275fac=function(e){return new(e||n)(be(Une))},n.\u0275prov=Be({token:n,factory:n.\u0275fac}),n})(),Xne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=cn({imports:[[xa]]}),n})(),Zne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=cn({providers:[Une,g4],imports:[[xa]]}),n})();typeof window<"u"?y4=window:typeof global<"u"&&(y4=global);let Ll=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=cn({imports:[[xa,Xne,Zne],xa,Xne,Zne]}),n})(),kWe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=cn({imports:[[Ll]]}),n})(),sie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=cn({imports:[[Ll]]}),n})();yze();let RWe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=cn({imports:[[Ll]]}),n})(),PWe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=cn({imports:[[Ll]]}),n})(),OWe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=cn({imports:[[Ll]]}),n})(),rie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=cn({imports:[[Ll]]}),n})();Math;let x4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=cn({imports:[[Ll]]}),n})(),VWe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=cn({imports:[[Ll,x4,rie]]}),n})(),HWe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=cn({imports:[[Ll]]}),n})(),zWe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=cn({imports:[[Ll]]}),n})(),WWe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=cn({imports:[[Ll,x4,sie]]}),n})(),GWe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=cn({imports:[[Ll]]}),n})(),$We=(()=>{class n{constructor(){!function YWe(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=cn({imports:[Ll,kWe,sie,RWe,PWe,OWe,GWe,rie,VWe,HWe,x4,zWe,WWe]}),n})();function Hg(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function Ra(n){return"string"==typeof n}function K2(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function wp(n){return n&&n.getTime&&!isNaN(n.getTime())}function zg(n){return n instanceof Function||"[object Function]"===Object.prototype.toString.call(n)}function Ug(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function qs(n){return n instanceof Array||"[object Array]"===Object.prototype.toString.call(n)}function Qo(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function Wg(n){return null!=n&&"[object Object]"===Object.prototype.toString.call(n)}function oie(n){return void 0===n}function Ci(n){const t=+n;let e=0;return 0!==t&&isFinite(t)&&(e=Hg(t)),e}const Z1={},aie={date:"day",hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function Jo(n,t){const e=n.toLowerCase();let i=n;e in aie&&(i=aie[e]),Z1[e]=Z1[`${e}s`]=Z1[t]=i}function lie(n){return Ra(n)?Z1[n]||Z1[n.toLowerCase()]:void 0}const fd=0,Fh=1,fu=2,to=3,pd=4,Nh=5,Yg=6,ZWe=7,KWe=8;function Vh(n,t,e){const i=`${Math.abs(n)}`;return(n>=0?e?"+":"":"-")+Math.pow(10,Math.max(0,t-i.length)).toString().substr(1)+i}const w4={},Fy={},cie=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;function Wn(n,t,e,i){n&&(Fy[n]=i),t&&(Fy[t[0]]=function(){return Vh(i.apply(null,arguments),t[1],t[2])}),e&&(Fy[e]=function(s,r){return r.locale.ordinal(i.apply(null,arguments),n)})}function JWe(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function Q2(n,t,e){const i=new Date(Date.UTC.apply(null,arguments));return n<100&&n>=0&&isFinite(i.getUTCFullYear())&&i.setUTCFullYear(n),i}function J2(n,t=0,e=1,i=0,s=0,r=0,o=0){const a=new Date(n,t,e,i,s,r,o);return n<100&&n>=0&&isFinite(a.getFullYear())&&a.setFullYear(n),a}function Mi(n,t=!1){return t?n.getUTCHours():n.getHours()}function Ny(n,t=!1){return t?n.getUTCMinutes():n.getMinutes()}function C4(n,t=!1){return t?n.getUTCSeconds():n.getSeconds()}function Bh(n,t=!1){return t?n.getUTCMilliseconds():n.getMilliseconds()}function pu(n,t=!1){return t?n.getUTCDay():n.getDay()}function Gg(n,t=!1){return t?n.getUTCDate():n.getDate()}function Ti(n,t=!1){return t?n.getUTCMonth():n.getMonth()}function rr(n,t=!1){return t?n.getUTCFullYear():n.getFullYear()}function Vy(n,t){return!(!n||!t)&&By(n,t)&&Ti(n)===Ti(t)}function By(n,t){return!(!n||!t)&&rr(n)===rr(t)}function Cp(n,t){return!(!n||!t)&&By(n,t)&&Vy(n,t)&&Gg(n)===Gg(t)}const die=/\d/,Rl=/\d\d/,uie=/\d{3}/,M4=/\d{4}/,eI=/[+-]?\d{6}/,Us=/\d\d?/,hie=/\d\d\d\d?/,fie=/\d\d\d\d\d\d?/,tI=/\d{1,3}/,T4=/\d{1,4}/,nI=/[+-]?\d{1,6}/,rYe=/\d+/,iI=/[+-]?\d+/,sI=/Z|[+-]\d\d(?::?\d\d)?/gi,aYe=/[+-]?\d+(\.\d{1,3})?/,K1=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,rI={};function un(n,t,e){rI[n]=zg(t)?t:function(i,s){return i&&e?e:t}}function lYe(n,t){return Qo(rI,n)?rI[n](!1,t):new RegExp(function cYe(n){return $g(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(t,e,i,s,r)=>e||i||s||r))}(n))}function $g(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const S4={};function Ws(n,t){const e=Ra(n)?[n]:n;let i=t;if(Ug(t)&&(i=function(s,r,o){return r[t]=Ci(s),o}),qs(e)&&zg(i)){let s;for(s=0;s<e.length;s++)S4[e[s]]=i}}function Q1(n,t){Ws(n,function(e,i,s,r){return s._w=s._w||{},t(e,s._w,s,r)})}function dYe(n,t,e){return null!=t&&Qo(S4,n)&&S4[n](t,e._a,e,n),e}const uYe={};function ea(n,t){uYe[n]=t}function Wi(n){return null==n._pf&&(n._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),n._pf}function D4(n,t){return t.locale.getFullYear?t.locale.getFullYear(n,t.isUTC).toString():rr(n,t.isUTC).toString()}function E4(n){return Ci(n)+(Ci(n)>68?1900:2e3)}function J1(n){return A4(n)?366:365}function A4(n){return n%4==0&&n%100!=0||n%400==0}function oI(n,t){if(isNaN(n)||isNaN(t))return NaN;const e=function jWe(n,t){return(n%t+t)%t}(t,12);return 1===e?A4(n+(t-e)/12)?29:28:31-e%7%2}const gYe={year:0,month:0,day:0,hour:0,minute:0,seconds:0};function go(n,t){const e=Object.assign({},gYe,t),i=n.getFullYear()+(e.year||0),s=n.getMonth()+(e.month||0);let r=n.getDate()+(e.day||0);return e.month&&!e.day&&(r=Math.min(r,oI(i,s))),J2(i,s,r,n.getHours()+(e.hour||0),n.getMinutes()+(e.minute||0),n.getSeconds()+(e.seconds||0))}function Hy(n,t){return Ug(t)?t:n}function jg(n,t,e){const i=Math.min(Gg(n),oI(rr(n),t));return e?n.setUTCMonth(t,i):n.setMonth(t,i),n}function k4(n,t,e){return e?n.setUTCDate(t):n.setDate(t),n}function Hh(n){return new Date(n.getTime())}function zh(n,t,e){const i=Hh(n);switch(t){case"year":jg(i,0,e);case"quarter":case"month":k4(i,1,e);case"week":case"isoWeek":case"day":case"date":!function yYe(n,t,e){e?n.setUTCHours(t):n.setHours(t)}(i,0,e);case"hours":!function bYe(n,t,e){e?n.setUTCMinutes(t):n.setMinutes(t)}(i,0,e);case"minutes":!function xYe(n,t,e){e?n.setUTCSeconds(t):n.setSeconds(t)}(i,0,e);case"seconds":!function wYe(n,t,e){e?n.setUTCMilliseconds(t):n.setMilliseconds(t)}(i,0,e)}return"week"===t&&function O6e(n,t,e={}){_u(n,t-W4(n,e.locale,e.isUTC),"day")}(i,0,{isUTC:e}),"isoWeek"===t&&function F6e(n,t,e={}){const i=function P6e(n,t=no()){return Ra(n)?t.weekdaysParse(n)%7||7:Ug(n)&&isNaN(n)?null:n}(t,e.locale);sM(n,function Nr(n,t){return pu(n,t)}(n)%7?i:i-7)}(i,1),"quarter"===t&&jg(i,3*Math.floor(Ti(i,e)/3),e),i}function aI(n,t,e){let i=t;return"date"===i&&(i="day"),function I6e(n,t,e,i){return zie(n,U4(t,e),-1,i)}(_u(zh(n,i,e),1,"isoWeek"===i?"week":i,e),1,"milliseconds",e)}function I4(n,t){const e=+zh(n,"day",t),i=+zh(n,"year",t);return Math.round((e-i)/864e5)+1}function lI(n,t,e){const i=t-e+7;return-(Q2(n,0,i).getUTCDay()-t+7)%7+i-1}function zy(n,t,e,i){const s=lI(rr(n,i),t,e),r=Math.floor((I4(n,i)-s-1)/7)+1;let o,a;return r<1?(a=rr(n,i)-1,o=r+Xg(a,t,e)):r>Xg(rr(n,i),t,e)?(o=r-Xg(rr(n,i),t,e),a=rr(n,i)+1):(a=rr(n,i),o=r),{week:o,year:a}}function Xg(n,t,e){const i=lI(n,t,e),s=lI(n+1,t,e);return(J1(n)-i+s)/7}const gie=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,TYe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),_ie="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),SYe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),vie="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),DYe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),yie={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},kYe=K1,IYe=K1;class bie{constructor(t){t&&this.set(t)}set(t){let e;for(e in t){if(!t.hasOwnProperty(e))continue;const i=t[e];this[zg(i)?e:`_${e}`]=i}this._config=t}calendar(t,e,i){const s=this._calendar[t]||this._calendar.sameElse;return zg(s)?s.call(null,e,i):s}longDateFormat(t){const e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(s){return s.slice(1)}),this._longDateFormat[t])}get invalidDate(){return this._invalidDate}set invalidDate(t){this._invalidDate=t}ordinal(t,e){return this._ordinal.replace("%d",t.toString(10))}preparse(t,e){return t}getFullYear(t,e=!1){return rr(t,e)}postformat(t){return t}relativeTime(t,e,i,s){const r=this._relativeTime[i];return zg(r)?r(t,e,i,s):r.replace(/%d/i,t.toString(10))}pastFuture(t,e){const i=this._relativeTime[t>0?"future":"past"];return zg(i)?i(e):i.replace(/%s/i,e)}months(t,e,i=!1){if(!t)return qs(this._months)?this._months:this._months.standalone;if(qs(this._months))return this._months[Ti(t,i)];const s=(this._months.isFormat||gie).test(e)?"format":"standalone";return this._months[s][Ti(t,i)]}monthsShort(t,e,i=!1){if(!t)return qs(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;if(qs(this._monthsShort))return this._monthsShort[Ti(t,i)];const s=gie.test(e)?"format":"standalone";return this._monthsShort[s][Ti(t,i)]}monthsParse(t,e,i){let s,r,o;if(this._monthsParseExact)return this.handleMonthStrictParse(t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(s=new Date(Date.UTC(2e3,o)),i&&!this._longMonthsParse[o]){const a=this.months(s,"",!0).replace(".",""),l=this.monthsShort(s,"",!0).replace(".","");this._longMonthsParse[o]=new RegExp(`^${a}$`,"i"),this._shortMonthsParse[o]=new RegExp(`^${l}$`,"i")}if(!i&&!this._monthsParse[o]&&(r=`^${this.months(s,"",!0)}|^${this.monthsShort(s,"",!0)}`,this._monthsParse[o]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[o].test(t)||i&&"MMM"===e&&this._shortMonthsParse[o].test(t)||!i&&this._monthsParse[o].test(t))return o}}monthsRegex(t){return this._monthsParseExact?(Qo(this,"_monthsRegex")||this.computeMonthsParse(),t?this._monthsStrictRegex:this._monthsRegex):(Qo(this,"_monthsRegex")||(this._monthsRegex=IYe),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}monthsShortRegex(t){return this._monthsParseExact?(Qo(this,"_monthsRegex")||this.computeMonthsParse(),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Qo(this,"_monthsShortRegex")||(this._monthsShortRegex=kYe),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}week(t,e){return zy(t,this._week.dow,this._week.doy,e).week}firstDayOfWeek(){return this._week.dow}firstDayOfYear(){return this._week.doy}weekdays(t,e,i){if(!t)return qs(this._weekdays)?this._weekdays:this._weekdays.standalone;if(qs(this._weekdays))return this._weekdays[pu(t,i)];const s=this._weekdays.isFormat.test(e)?"format":"standalone";return this._weekdays[s][pu(t,i)]}weekdaysMin(t,e,i){return t?this._weekdaysMin[pu(t,i)]:this._weekdaysMin}weekdaysShort(t,e,i){return t?this._weekdaysShort[pu(t,i)]:this._weekdaysShort}weekdaysParse(t,e,i){let s,r;if(this._weekdaysParseExact)return this.handleWeekStrictParse(t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){const o=sM(new Date(Date.UTC(2e3,1)),s,null,!0);if(i&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp(`^${this.weekdays(o,"",!0).replace(".",".?")}$`,"i"),this._shortWeekdaysParse[s]=new RegExp(`^${this.weekdaysShort(o,"",!0).replace(".",".?")}$`,"i"),this._minWeekdaysParse[s]=new RegExp(`^${this.weekdaysMin(o,"",!0).replace(".",".?")}$`,"i")),this._weekdaysParse[s]||(r=`^${this.weekdays(o,"",!0)}|^${this.weekdaysShort(o,"",!0)}|^${this.weekdaysMin(o,"",!0)}`,this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),!(qs(this._fullWeekdaysParse)&&qs(this._shortWeekdaysParse)&&qs(this._minWeekdaysParse)&&qs(this._weekdaysParse)))return;if(i&&"dddd"===e&&this._fullWeekdaysParse[s].test(t))return s;if(i&&"ddd"===e&&this._shortWeekdaysParse[s].test(t))return s;if(i&&"dd"===e&&this._minWeekdaysParse[s].test(t))return s;if(!i&&this._weekdaysParse[s].test(t))return s}}weekdaysRegex(t){return this._weekdaysParseExact?(Qo(this,"_weekdaysRegex")||this.computeWeekdaysParse(),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Qo(this,"_weekdaysRegex")||(this._weekdaysRegex=K1),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}weekdaysShortRegex(t){return this._weekdaysParseExact?(Qo(this,"_weekdaysRegex")||this.computeWeekdaysParse(),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Qo(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=K1),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}weekdaysMinRegex(t){return this._weekdaysParseExact?(Qo(this,"_weekdaysRegex")||this.computeWeekdaysParse(),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Qo(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=K1),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}isPM(t){return"p"===t.toLowerCase().charAt(0)}meridiem(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}formatLongDate(t){this._longDateFormat=this._longDateFormat?this._longDateFormat:yie;const e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,s=>s.slice(1)),this._longDateFormat[t])}handleMonthStrictParse(t,e,i){const s=t.toLocaleLowerCase();let r,o,a;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=new Date(2e3,r),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return i?"MMM"===e?(o=this._shortMonthsParse.indexOf(s),-1!==o?o:null):(o=this._longMonthsParse.indexOf(s),-1!==o?o:null):"MMM"===e?(o=this._shortMonthsParse.indexOf(s),-1!==o?o:(o=this._longMonthsParse.indexOf(s),-1!==o?o:null)):(o=this._longMonthsParse.indexOf(s),-1!==o?o:(o=this._shortMonthsParse.indexOf(s),-1!==o?o:null))}handleWeekStrictParse(t,e,i){let s;const r=t.toLocaleLowerCase();if(!this._weekdaysParse){let o;for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o){const a=sM(new Date(Date.UTC(2e3,1)),o,null,!0);this._minWeekdaysParse[o]=this.weekdaysMin(a).toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(a).toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(a,"").toLocaleLowerCase()}}if(qs(this._weekdaysParse)&&qs(this._shortWeekdaysParse)&&qs(this._minWeekdaysParse))return i?"dddd"===e?(s=this._weekdaysParse.indexOf(r),-1!==s?s:null):"ddd"===e?(s=this._shortWeekdaysParse.indexOf(r),-1!==s?s:null):(s=this._minWeekdaysParse.indexOf(r),-1!==s?s:null):"dddd"===e?(s=this._weekdaysParse.indexOf(r),-1!==s||(s=this._shortWeekdaysParse.indexOf(r),-1!==s)?s:(s=this._minWeekdaysParse.indexOf(r),-1!==s?s:null)):"ddd"===e?(s=this._shortWeekdaysParse.indexOf(r),-1!==s||(s=this._weekdaysParse.indexOf(r),-1!==s)?s:(s=this._minWeekdaysParse.indexOf(r),-1!==s?s:null)):(s=this._minWeekdaysParse.indexOf(r),-1!==s||(s=this._weekdaysParse.indexOf(r),-1!==s)?s:(s=this._shortWeekdaysParse.indexOf(r),-1!==s?s:null))}computeMonthsParse(){const t=[],e=[],i=[];let s,r;for(r=0;r<12;r++)s=new Date(2e3,r),t.push(this.monthsShort(s,"")),e.push(this.months(s,"")),i.push(this.months(s,"")),i.push(this.monthsShort(s,""));for(t.sort(qg),e.sort(qg),i.sort(qg),r=0;r<12;r++)t[r]=$g(t[r]),e[r]=$g(e[r]);for(r=0;r<24;r++)i[r]=$g(i[r]);this._monthsRegex=new RegExp(`^(${i.join("|")})`,"i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(`^(${e.join("|")})`,"i"),this._monthsShortStrictRegex=new RegExp(`^(${t.join("|")})`,"i")}computeWeekdaysParse(){const t=[],e=[],i=[],s=[];let r;for(r=0;r<7;r++){const o=sM(new Date(Date.UTC(2e3,1)),r,null,!0),a=this.weekdaysMin(o),l=this.weekdaysShort(o),c=this.weekdays(o);t.push(a),e.push(l),i.push(c),s.push(a),s.push(l),s.push(c)}for(t.sort(qg),e.sort(qg),i.sort(qg),s.sort(qg),r=0;r<7;r++)e[r]=$g(e[r]),i[r]=$g(i[r]),s[r]=$g(s[r]);this._weekdaysRegex=new RegExp(`^(${s.join("|")})`,"i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(`^(${i.join("|")})`,"i"),this._weekdaysShortStrictRegex=new RegExp(`^(${e.join("|")})`,"i"),this._weekdaysMinStrictRegex=new RegExp(`^(${t.join("|")})`,"i")}}function qg(n,t){return t.length-n.length}const xie={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:yie,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:TYe,monthsShort:_ie,week:{dow:0,doy:6},weekdays:SYe,weekdaysMin:DYe,weekdaysShort:vie,meridiemParse:/[ap]\.?m?\.?/i};function LYe(n,t,e){const i=Math.min(n.length,t.length),s=Math.abs(n.length-t.length);let o,r=0;for(o=0;o<i;o++)(e&&n[o]!==t[o]||!e&&Ci(n[o])!==Ci(t[o]))&&r++;return r+s}function cI(n,t){Wn(null,[n,n.length,!1],null,t)}function wie(n,t){return R4(n,t.locale).toString()}function Cie(n){return Mie(n).toString()}function R4(n,t=no(),e){return zy(n,t.firstDayOfWeek(),t.firstDayOfYear(),e).year}function Mie(n,t){return zy(n,1,4,t).year}function Sie(n,t){Wn(n,null,null,function(e,i){let s=function Kg(n,t={}){return t._isUTC?t._offset||0:function Die(n){return 15*-Math.round(n.getTimezoneOffset()/15)}(n)}(e,{_isUTC:i.isUTC,_offset:i.offset}),r="+";return s<0&&(s=-s,r="-"),r+Vh(~~(s/60),2)+t+Vh(~~s%60,2)})}const UYe=/([\+\-]|\d\d)/gi;const _o={},eM={};let tM;function Eie(n){return n&&n.toLowerCase().replace("_","-")}function kie(n){return _o[n]||console.error(`Khronos locale error: please load locale "${n}" before using it`),_o[n]}function O4(n,t){let e;return n&&(oie(t)?e=no(n):Ra(n)&&(e=Iie(n,t)),e&&(tM=e)),tM&&tM._abbr}function Iie(n,t){if(null===t)return delete _o[n],tM=no("en"),null;if(!t)return;let e=xie;if(t.abbr=n,null!=t.parentLocale){if(null==_o[t.parentLocale])return eM[t.parentLocale]||(eM[t.parentLocale]=[]),eM[t.parentLocale].push({name:n,config:t}),null;e=_o[t.parentLocale]._config}return _o[n]=new bie(function Aie(n,t){const e=Object.assign({},n);for(const i in t)Qo(t,i)&&(Wg(n[i])&&Wg(t[i])?(e[i]={},Object.assign(e[i],n[i]),Object.assign(e[i],t[i])):null!=t[i]?e[i]=t[i]:delete e[i]);for(const i in n)Qo(n,i)&&!Qo(t,i)&&Wg(n[i])&&(e[i]=Object.assign({},e[i]));return e}(e,t)),eM[n]&&eM[n].forEach(function(i){Iie(i.name,i.config)}),O4(n),_o[n]}function no(n){return function XYe(){_o.en||(O4("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal(n){const t=n%10;return n+(1===Ci(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),function RYe(){Wn("w",["ww",2,!1],"wo",function(n,t){return function Zg(n,t=no(),e){return t.week(n,e)}(n,t.locale).toString(10)}),Wn("W",["WW",2,!1],"Wo",function(n){return function L4(n,t){return zy(n,1,4,t).week}(n).toString(10)}),Jo("week","w"),Jo("isoWeek","W"),ea("week",5),ea("isoWeek",5),un("w",Us),un("ww",Us,Rl),un("W",Us),un("WW",Us,Rl),Q1(["w","ww","W","WW"],function(n,t,e,i){return t[i.substr(0,1)]=Ci(n),e})}(),function PYe(){Wn(null,["gg",2,!1],null,function(n,t){return(R4(n,t.locale)%100).toString()}),Wn(null,["GG",2,!1],null,function(n){return(Mie(n)%100).toString()}),cI("gggg",wie),cI("ggggg",wie),cI("GGGG",Cie),cI("GGGGG",Cie),Jo("weekYear","gg"),Jo("isoWeekYear","GG"),ea("weekYear",1),ea("isoWeekYear",1),un("G",iI),un("g",iI),un("GG",Us,Rl),un("gg",Us,Rl),un("GGGG",T4,M4),un("gggg",T4,M4),un("GGGGG",nI,eI),un("ggggg",nI,eI),Q1(["gggg","ggggg","GGGG","GGGGG"],function(n,t,e,i){return t[i.substr(0,2)]=Ci(n),e}),Q1(["gg","GG"],function(n,t,e,i){return t[i]=E4(n),e})}(),function pYe(){Wn("Y",null,null,function(n,t){const e=rr(n,t.isUTC);return e<=9999?e.toString(10):`+${e}`}),Wn(null,["YY",2,!1],null,function(n,t){return(rr(n,t.isUTC)%100).toString(10)}),Wn(null,["YYYY",4,!1],null,D4),Wn(null,["YYYYY",5,!1],null,D4),Wn(null,["YYYYYY",6,!0],null,D4),Jo("year","y"),ea("year",1),un("Y",iI),un("YY",Us,Rl),un("YYYY",T4,M4),un("YYYYY",nI,eI),un("YYYYYY",nI,eI),Ws(["YYYYY","YYYYYY"],fd),Ws("YYYY",function(n,t,e){return t[fd]=2===n.length?E4(n):Ci(n),e}),Ws("YY",function(n,t,e){return t[fd]=E4(n),e}),Ws("Y",function(n,t,e){return t[fd]=parseInt(n,10),e})}(),function FYe(){Wn("z",null,null,function(n,t){return t.isUTC?"UTC":""}),Wn("zz",null,null,function(n,t){return t.isUTC?"Coordinated Universal Time":""})}(),function NYe(){Wn("X",null,null,function(n){return function tYe(n){return Math.floor(n.valueOf()/1e3)}(n).toString(10)}),Wn("x",null,null,function(n){return n.valueOf().toString(10)}),un("x",iI),un("X",aYe),Ws("X",function(n,t,e){return e._d=new Date(1e3*parseFloat(n)),e}),Ws("x",function(n,t,e){return e._d=new Date(Ci(n)),e})}(),function VYe(){Wn("s",["ss",2,!1],null,function(n,t){return C4(n,t.isUTC).toString(10)}),Jo("second","s"),ea("second",15),un("s",Us),un("ss",Us,Rl),Ws(["s","ss"],Nh)}(),function BYe(){Wn("Q",null,"Qo",function(n,t){return function HYe(n,t=!1){return Math.ceil((Ti(n,t)+1)/3)}(n,t.isUTC).toString(10)}),Jo("quarter","Q"),ea("quarter",7),un("Q",die),Ws("Q",function(n,t,e){return t[Fh]=3*(Ci(n)-1),e})}(),function zYe(){Sie("Z",":"),Sie("ZZ",""),un("Z",sI),un("ZZ",sI),Ws(["Z","ZZ"],function(n,t,e){return e._useUTC=!0,e._tzm=function P4(n,t){const e=(t||"").match(n);if(null===e)return null;const s=e[e.length-1].match(UYe)||["-","0","0"],r=60*parseInt(s[1],10)+Ci(s[2]);return 0===r?0:"+"===s[0]?r:-r}(sI,n),e})}(),function mYe(){Wn("M",["MM",2,!1],"Mo",function(n,t){return(Ti(n,t.isUTC)+1).toString(10)}),Wn("MMM",null,null,function(n,t){return t.locale.monthsShort(n,t.format,t.isUTC)}),Wn("MMMM",null,null,function(n,t){return t.locale.months(n,t.format,t.isUTC)}),Jo("month","M"),ea("month",8),un("M",Us),un("MM",Us,Rl),un("MMM",function(n,t){return t.monthsShortRegex(n)}),un("MMMM",function(n,t){return t.monthsRegex(n)}),Ws(["M","MM"],function(n,t,e){return t[Fh]=Ci(n)-1,e}),Ws(["MMM","MMMM"],function(n,t,e,i){const s=e._locale.monthsParse(n,i,e._strict);return null!=s?t[Fh]=s:Wi(e).invalidMonth=!!n,e})}(),function YYe(){Wn("m",["mm",2,!1],null,function(n,t){return Ny(n,t.isUTC).toString(10)}),Jo("minute","m"),ea("minute",14),un("m",Us),un("mm",Us,Rl),Ws(["m","mm"],pd)}(),function GYe(){let n;for(Wn("S",null,null,function(e,i){return(~~(Bh(e,i.isUTC)/100)).toString(10)}),Wn(null,["SS",2,!1],null,function(e,i){return(~~(Bh(e,i.isUTC)/10)).toString(10)}),Wn(null,["SSS",3,!1],null,function(e,i){return Bh(e,i.isUTC).toString(10)}),Wn(null,["SSSS",4,!1],null,function(e,i){return(10*Bh(e,i.isUTC)).toString(10)}),Wn(null,["SSSSS",5,!1],null,function(e,i){return(100*Bh(e,i.isUTC)).toString(10)}),Wn(null,["SSSSSS",6,!1],null,function(e,i){return(1e3*Bh(e,i.isUTC)).toString(10)}),Wn(null,["SSSSSSS",7,!1],null,function(e,i){return(1e4*Bh(e,i.isUTC)).toString(10)}),Wn(null,["SSSSSSSS",8,!1],null,function(e,i){return(1e5*Bh(e,i.isUTC)).toString(10)}),Wn(null,["SSSSSSSSS",9,!1],null,function(e,i){return(1e6*Bh(e,i.isUTC)).toString(10)}),Jo("millisecond","ms"),ea("millisecond",16),un("S",tI,die),un("SS",tI,Rl),un("SSS",tI,uie),n="SSSS";n.length<=9;n+="S")un(n,rYe);function t(e,i,s){return i[Yg]=Ci(1e3*parseFloat(`0.${e}`)),s}for(n="S";n.length<=9;n+="S")Ws(n,t)}(),function $Ye(){function n(s,r){return Mi(s,r)%12||12}function e(s,r){Wn(s,null,null,function(o,a){return a.locale.meridiem(Mi(o,a.isUTC),Ny(o,a.isUTC),r)})}function i(s,r){return r._meridiemParse}Wn("H",["HH",2,!1],null,function(s,r){return Mi(s,r.isUTC).toString(10)}),Wn("h",["hh",2,!1],null,function(s,r){return n(s,r.isUTC).toString(10)}),Wn("k",["kk",2,!1],null,function(s,r){return function t(s,r){return Mi(s,r)||24}(s,r.isUTC).toString(10)}),Wn("hmm",null,null,function(s,r){return`${n(s,r.isUTC)}${Vh(Ny(s,r.isUTC),2)}`}),Wn("hmmss",null,null,function(s,r){return`${n(s,r.isUTC)}${Vh(Ny(s,r.isUTC),2)}${Vh(C4(s,r.isUTC),2)}`}),Wn("Hmm",null,null,function(s,r){return`${Mi(s,r.isUTC)}${Vh(Ny(s,r.isUTC),2)}`}),Wn("Hmmss",null,null,function(s,r){return`${Mi(s,r.isUTC)}${Vh(Ny(s,r.isUTC),2)}${Vh(C4(s,r.isUTC),2)}`}),e("a",!0),e("A",!1),Jo("hour","h"),ea("hour",13),un("a",i),un("A",i),un("H",Us),un("h",Us),un("k",Us),un("HH",Us,Rl),un("hh",Us,Rl),un("kk",Us,Rl),un("hmm",hie),un("hmmss",fie),un("Hmm",hie),un("Hmmss",fie),Ws(["H","HH"],to),Ws(["k","kk"],function(s,r,o){const a=Ci(s);return r[to]=24===a?0:a,o}),Ws(["a","A"],function(s,r,o){return o._isPm=o._locale.isPM(s),o._meridiem=s,o}),Ws(["h","hh"],function(s,r,o){return r[to]=Ci(s),Wi(o).bigHour=!0,o}),Ws("hmm",function(s,r,o){const a=s.length-2;return r[to]=Ci(s.substr(0,a)),r[pd]=Ci(s.substr(a)),Wi(o).bigHour=!0,o}),Ws("hmmss",function(s,r,o){const a=s.length-4,l=s.length-2;return r[to]=Ci(s.substr(0,a)),r[pd]=Ci(s.substr(a,2)),r[Nh]=Ci(s.substr(l)),Wi(o).bigHour=!0,o}),Ws("Hmm",function(s,r,o){const a=s.length-2;return r[to]=Ci(s.substr(0,a)),r[pd]=Ci(s.substr(a)),o}),Ws("Hmmss",function(s,r,o){const a=s.length-4,l=s.length-2;return r[to]=Ci(s.substr(0,a)),r[pd]=Ci(s.substr(a,2)),r[Nh]=Ci(s.substr(l)),o})}(),function MYe(){Wn("DDD",["DDDD",3,!1],"DDDo",function(n){return I4(n).toString(10)}),Jo("dayOfYear","DDD"),ea("dayOfYear",4),un("DDD",tI),un("DDDD",uie),Ws(["DDD","DDDD"],function(n,t,e){return e._dayOfYear=Ci(n),e})}(),function L6e(){Wn("d",null,"do",function(n,t){return pu(n,t.isUTC).toString(10)}),Wn("dd",null,null,function(n,t){return t.locale.weekdaysMin(n,t.format,t.isUTC)}),Wn("ddd",null,null,function(n,t){return t.locale.weekdaysShort(n,t.format,t.isUTC)}),Wn("dddd",null,null,function(n,t){return t.locale.weekdays(n,t.format,t.isUTC)}),Wn("e",null,null,function(n,t){return W4(n,t.locale,t.isUTC).toString(10)}),Wn("E",null,null,function(n,t){return function Uie(n,t){return pu(n,t)||7}(n,t.isUTC).toString(10)}),Jo("day","d"),Jo("weekday","e"),Jo("isoWeekday","E"),ea("day",11),ea("weekday",11),ea("isoWeekday",11),un("d",Us),un("e",Us),un("E",Us),un("dd",function(n,t){return t.weekdaysMinRegex(n)}),un("ddd",function(n,t){return t.weekdaysShortRegex(n)}),un("dddd",function(n,t){return t.weekdaysRegex(n)}),Q1(["dd","ddd","dddd"],function(n,t,e,i){const s=e._locale.weekdaysParse(n,i,e._strict);return null!=s?t.d=s:Wi(e).invalidWeekday=!!n,e}),Q1(["d","e","E"],function(n,t,e,i){return t[i]=Ci(n),e})}(),function hYe(){Wn("D",["DD",2,!1],"Do",function(n,t){return Gg(n,t.isUTC).toString(10)}),Jo("date","D"),ea("date",9),un("D",Us),un("DD",Us,Rl),un("Do",function(n,t){return t._dayOfMonthOrdinalParse||t._ordinalParse}),Ws(["D","DD"],fu),Ws("Do",function(n,t,e){return t[fu]=Ci(n.match(Us)[0]),e})}())}(),n?function jYe(n){let t,e,i=0;for(;i<n.length;){const s=Eie(n[i]).split("-");let r=s.length;for(t=Eie(n[i+1]),t=t?t.split("-"):null;r>0;){if(e=kie(s.slice(0,r).join("-")),e)return e;if(t&&t.length>=r&&LYe(s,t,!0)>=r-1)break;r--}i++}return null}(qs(n)?n:[n]):tM}const nM=["year","quarter","month","week","day","hours","minutes","seconds","milliseconds"],qYe=nM.reduce((n,t)=>(n[t]=!0,n),{});function Lie(n){return n<0?Math.floor(n):Math.ceil(n)}function Rie(n){return 4800*n/146097}function F4(n){return 146097*n/4800}let Mp=Math.round;const mu_ss=44,mu_s=45,mu_m=45,mu_h=22,mu_d=26,mu_M=11;function QYe(n,t,e,i,s){return s.relativeTime(t||1,!!e,n,i)}class Pie{constructor(t,e={}){this._data={},this._locale=no(),this._locale=e&&e._locale||no();const s=t.year||0,r=t.quarter||0,o=t.month||0,a=t.week||0,l=t.day||0,c=t.hours||0,d=t.minutes||0,u=t.seconds||0,f=t.milliseconds||0;return this._isValid=function ZYe(n){if(Object.keys(n).some(i=>i in qYe&&null===n[i]||isNaN(n[i])))return!1;let e=!1;for(let i=0;i<nM.length;++i)if(n[nM[i]]){if(e)return!1;n[nM[i]]!==Ci(n[nM[i]])&&(e=!0)}return!0}(t),this._milliseconds=+f+1e3*u+60*d*1e3+1e3*c*60*60,this._days=+l+7*a,this._months=+o+3*r+12*s,function KYe(n){let t=n._milliseconds,e=n._days,i=n._months;const s=n._data;t>=0&&e>=0&&i>=0||t<=0&&e<=0&&i<=0||(t+=864e5*Lie(F4(i)+e),e=0,i=0),s.milliseconds=t%1e3;const r=Hg(t/1e3);s.seconds=r%60;const o=Hg(r/60);s.minutes=o%60;const a=Hg(o/60);s.hours=a%24,e+=Hg(a/24);const l=Hg(Rie(e));i+=l,e-=Lie(F4(l));const c=Hg(i/12);return i%=12,s.day=e,s.month=i,s.year=c,n}(this)}isValid(){return this._isValid}humanize(t){if(!this.isValid())return this.localeData().invalidDate;const e=this.localeData();let i=function JYe(n,t,e){const i=U4(n).abs(),s=Mp(i.as("s")),r=Mp(i.as("m")),o=Mp(i.as("h")),a=Mp(i.as("d")),l=Mp(i.as("M")),c=Mp(i.as("y")),d=s<=mu_ss&&["s",s]||s<mu_s&&["ss",s]||r<=1&&["m"]||r<mu_m&&["mm",r]||o<=1&&["h"]||o<mu_h&&["hh",o]||a<=1&&["d"]||a<mu_d&&["dd",a]||l<=1&&["M"]||l<mu_M&&["MM",l]||c<=1&&["y"]||["yy",c];return QYe.apply(null,[d[0],d[1],t,+n>0,e])}(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}localeData(){return this._locale}locale(t){return t?(this._locale=no(t)||this._locale,this):this._locale._abbr}abs(){const t=Math.abs,e=this._data;return this._milliseconds=t(this._milliseconds),this._days=t(this._days),this._months=t(this._months),e.milliseconds=t(e.milliseconds),e.seconds=t(e.seconds),e.minutes=t(e.minutes),e.hours=t(e.hours),e.month=t(e.month),e.year=t(e.year),this}as(t){if(!this.isValid())return NaN;let e,i;const s=this._milliseconds,r=lie(t);if("month"===r||"year"===r)return e=this._days+s/864e5,i=this._months+Rie(e),"month"===r?i:i/12;switch(e=this._days+Math.round(F4(this._months)),r){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hours":return 24*e+s/36e5;case"minutes":return 1440*e+s/6e4;case"seconds":return 86400*e+s/1e3;case"milliseconds":return Math.floor(864e5*e)+s;default:throw new Error(`Unknown unit ${r}`)}}valueOf(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Ci(this._months/12):NaN}}function N4(n){if(null==n._isValid){const t=Wi(n),e=Array.prototype.some.call(t.parsedDateParts,function(s){return null!=s});let i=!isNaN(n._d&&n._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&e);if(n._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(n))return i;n._isValid=i}return n._isValid}function uI(n,t){return n._d=new Date(NaN),Object.assign(Wi(n),t||{userInvalidated:!0}),n}const n6e=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,i6e=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,s6e=/Z|[+-]\d\d(?::?\d\d)?/,hI=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/,!0],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/,!0],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/,!0],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/,!0],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/,!0],["YYYYMMDD",/\d{8}/,!0],["GGGG[W]WWE",/\d{4}W\d{3}/,!0],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/,!0]],V4=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],r6e=/^\/?Date\((\-?\d+)/i,o6e={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},a6e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Oie(n){if(!Ra(n._i))return n;const t=n._i,e=n6e.exec(t)||i6e.exec(t);let i,s,r,o,a,l;if(!e)return n._isValid=!1,n;for(a=0,l=hI.length;a<l;a++)if(hI[a][1].exec(e[1])){s=hI[a][0],i=!1!==hI[a][2];break}if(null==s)return n._isValid=!1,n;if(e[3]){for(a=0,l=V4.length;a<l;a++)if(V4[a][1].exec(e[3])){r=(e[2]||" ")+V4[a][0];break}if(null==r)return n._isValid=!1,n}if(!i&&null!=r)return n._isValid=!1,n;if(e[4]){if(!s6e.exec(e[4]))return n._isValid=!1,n;o="Z"}return n._f=s+(r||"")+(o||""),H4(n)}function c6e(n){const t=parseInt(n,10);return t<=49?t+2e3:t}function Fie(n){if(!Ra(n._i))return n;const t=a6e.exec(function d6e(n){return n.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(n._i));if(!t)return function t6e(n){return n._isValid=!1,n}(n);const e=function l6e(n,t,e,i,s,r){const o=[c6e(n),_ie.indexOf(t),parseInt(e,10),parseInt(i,10),parseInt(s,10)];return r&&o.push(parseInt(r,10)),o}(t[4],t[3],t[2],t[5],t[6],t[7]);return function u6e(n,t,e){return!n||vie.indexOf(n)===new Date(t[0],t[1],t[2]).getDay()||(Wi(e).weekdayMismatch=!0,e._isValid=!1,!1)}(t[1],e,n)&&(n._a=e,n._tzm=function h6e(n,t,e){if(n)return o6e[n];if(t)return 0;{const i=parseInt(e,10),s=i%100;return(i-s)/100*60+s}}(t[8],t[9],t[10]),n._d=Q2.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),Wi(n).rfc2822=!0),n}function pc(n,t,e,i,s=0){const r=no(e||"en");if(!r)throw new Error(`Locale "${e}" is not defined, please add it with "defineLocale(...)"`);const a=function p6e(n,t,e,i,s=0){if(!wp(n))return e.invalidDate;const r=Nie(t,e);return w4[r]=w4[r]||function QWe(n){const t=n.match(cie),e=t.length,i=new Array(e);for(let s=0;s<e;s++)i[s]=Fy[t[s]]?Fy[t[s]]:JWe(t[s]);return function(s,r,o,a=0){let l="";for(let c=0;c<e;c++)l+=zg(i[c])?i[c].call(null,s,{format:n,locale:r,isUTC:o,offset:a}):i[c];return l}}(r),w4[r](n,e,i,s)}(n,t||(i?"YYYY-MM-DDTHH:mm:ss[Z]":"YYYY-MM-DDTHH:mm:ssZ"),r,i,s);return a&&r.postformat(a)}function Nie(n,t){let e=n,i=5;const s=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,r=o=>t.formatLongDate(o)||o;for(s.lastIndex=0;i>=0&&s.test(e);)e=e.replace(s,r),s.lastIndex=0,i-=1;return e}function Uy(n,t,e){return n??t??e}function B4(n){const t=[];let e,i,s;if(n._d)return n;const r=function m6e(n){const t=new Date;return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(n);for(n._w&&null==n._a[fu]&&null==n._a[Fh]&&function g6e(n){let t,e,i,s,r,o,a;const l=n._w;if(null!=l.GG||null!=l.W||null!=l.E)s=1,r=4,t=Uy(l.GG,n._a[fd],zy(new Date,1,4).year),e=Uy(l.W,1),i=Uy(l.E,1),(i<1||i>7)&&(a=!0);else{s=n._locale._week.dow,r=n._locale._week.doy;const c=zy(new Date,s,r);t=Uy(l.gg,n._a[fd],c.year),e=Uy(l.w,c.week),null!=l.d?(i=l.d,(i<0||i>6)&&(a=!0)):null!=l.e?(i=l.e+s,(l.e<0||l.e>6)&&(a=!0)):i=s}e<1||e>Xg(t,s,r)?Wi(n)._overflowWeeks=!0:null!=a?Wi(n)._overflowWeekday=!0:(o=function mie(n,t,e,i,s){const a=1+7*(t-1)+(7+e-i)%7+lI(n,i,s);let l,c;return a<=0?(l=n-1,c=J1(l)+a):a>J1(n)?(l=n+1,c=a-J1(n)):(l=n,c=a),{year:l,dayOfYear:c}}(t,e,i,s,r),n._a[fd]=o.year,n._dayOfYear=o.dayOfYear)}(n),null!=n._dayOfYear&&(s=Uy(n._a[fd],r[fd]),(n._dayOfYear>J1(s)||0===n._dayOfYear)&&(Wi(n)._overflowDayOfYear=!0),i=new Date(Date.UTC(s,0,n._dayOfYear)),n._a[Fh]=i.getUTCMonth(),n._a[fu]=i.getUTCDate()),e=0;e<3&&null==n._a[e];++e)n._a[e]=t[e]=r[e];for(;e<7;e++)n._a[e]=t[e]=null==n._a[e]?2===e?1:0:n._a[e];24===n._a[to]&&0===n._a[pd]&&0===n._a[Nh]&&0===n._a[Yg]&&(n._nextDay=!0,n._a[to]=0),n._d=(n._useUTC?Q2:J2).apply(null,t);const o=n._useUTC?n._d.getUTCDay():n._d.getDay();return null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[to]=24),n._w&&typeof n._w.d<"u"&&n._w.d!==o&&(Wi(n).weekdayMismatch=!0),n}function Vie(n){let t;const e=n._a;return e&&-2===Wi(n).overflow&&(t=e[Fh]<0||e[Fh]>11?Fh:e[fu]<1||e[fu]>oI(e[fd],e[Fh])?fu:e[to]<0||e[to]>24||24===e[to]&&(0!==e[pd]||0!==e[Nh]||0!==e[Yg])?to:e[pd]<0||e[pd]>59?pd:e[Nh]<0||e[Nh]>59?Nh:e[Yg]<0||e[Yg]>999?Yg:-1,Wi(n)._overflowDayOfYear&&(t<fd||t>fu)&&(t=fu),Wi(n)._overflowWeeks&&-1===t&&(t=ZWe),Wi(n)._overflowWeekday&&-1===t&&(t=KWe),Wi(n).overflow=t),n}const _6e="ISO_8601",v6e="RFC_2822";function H4(n){if(n._f===_6e)return Oie(n);if(n._f===v6e)return Fie(n);if(n._a=[],Wi(n).empty=!0,qs(n._f)||!n._i&&0!==n._i)return n;let t=n._i.toString(),e=0;const i=t.length,s=Nie(n._f,n._locale).match(cie)||[];let r,o,a,l;for(r=0;r<s.length;r++)o=s[r],a=(t.match(lYe(o,n._locale))||[])[0],a&&(l=t.substr(0,t.indexOf(a)),l.length>0&&Wi(n).unusedInput.push(l),t=t.slice(t.indexOf(a)+a.length),e+=a.length),Fy[o]?(a?Wi(n).empty=!1:Wi(n).unusedTokens.push(o),dYe(o,a,n)):n._strict&&!a&&Wi(n).unusedTokens.push(o);return Wi(n).charsLeftOver=i-e,t.length>0&&Wi(n).unusedInput.push(t),n._a[to]<=12&&!0===Wi(n).bigHour&&n._a[to]>0&&(Wi(n).bigHour=void 0),Wi(n).parsedDateParts=n._a.slice(0),Wi(n).meridiem=n._meridiem,n._a[to]=function y6e(n,t,e){let i=t;if(null==e)return i;if(null!=n.meridiemHour)return n.meridiemHour(i,e);if(null==n.isPM)return i;const s=n.isPM(e);return s&&i<12&&(i+=12),!s&&12===i&&(i=0),i}(n._locale,n._a[to],n._meridiem),B4(n),Vie(n)}function w6e(n){const t=Vie(function C6e(n){let t=n._i;const e=n._f;return n._locale=n._locale||no(n._l),null===t||void 0===e&&""===t?uI(n,{nullInput:!0}):(Ra(t)&&(n._i=t=n._locale.preparse(t,e)),K2(t)?(n._d=Hh(t),n):(qs(e)?function b6e(n){let t,e,i,s,r;if(!n._f||0===n._f.length)return Wi(n).invalidFormat=!0,uI(n);for(r=0;r<n._f.length;r++)s=0,t=Object.assign({},n),null!=n._useUTC&&(t._useUTC=n._useUTC),t._f=n._f[r],H4(t),N4(t)&&(s+=Wi(t).charsLeftOver,s+=10*Wi(t).unusedTokens.length,Wi(t).score=s,(null==i||s<i)&&(i=s,e=t));Object.assign(n,e||t)}(n):e?H4(n):function M6e(n){const t=n._i;if(oie(t))n._d=new Date;else if(K2(t))n._d=Hh(t);else if(Ra(t))!function f6e(n){if(!Ra(n._i))return n;const t=r6e.exec(n._i);null!==t?n._d=new Date(+t[1]):(Oie(n),!1!==n._isValid||(delete n._isValid,Fie(n),!1!==n._isValid||(delete n._isValid,uI(n))))}(n);else if(qs(t)&&t.length){const e=t.slice(0);n._a=e.map(i=>Ra(i)?parseInt(i,10):i),B4(n)}else if(Wg(t))!function x6e(n){if(n._d)return n;const t=n._i;if(Wg(t)){const e=function qWe(n){const t={};let e,i;for(i in n)Qo(n,i)&&(e=lie(i),e&&(t[e]=n[i]));return t}(t);n._a=[e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.milliseconds].map(i=>Ra(i)?parseInt(i,10):i)}return B4(n)}(n);else{if(!Ug(t))return uI(n);n._d=new Date(t)}}(n),N4(n)||(n._d=null),n))}(n));return t._d=new Date(null!=t._d?t._d.getTime():NaN),N4(Object.assign({},t,{_isValid:null}))||(t._d=new Date(NaN)),t}function iM(n,t,e,i,s){return K2(n)?n:function T6e(n,t,e,i,s){const r={};let o=n;return(Wg(o)&&function XWe(n){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(n).length;let t;for(t in n)if(n.hasOwnProperty(t))return!1;return!0}(o)||qs(o)&&0===o.length)&&(o=void 0),r._useUTC=r._isUTC=s,r._l=e,r._i=o,r._f=t,r._strict=i,w6e(r)}(n,t,e,i,s)._d}function Bie(n){return n instanceof Date?new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()):null}function z4(n){return n<0?-1*Math.round(-1*n):Math.round(n)}function md(n,t,e="milliseconds"){return!(!n||!t)&&("milliseconds"===e?n.valueOf()>t.valueOf():t.valueOf()<zh(n,e).valueOf())}function gu(n,t,e="milliseconds"){return!(!n||!t)&&("milliseconds"===e?n.valueOf()<t.valueOf():aI(n,e).valueOf()<t.valueOf())}function Wy(n,t,e="milliseconds"){if(!n||!t)return!1;if("milliseconds"===e)return n.valueOf()===t.valueOf();const i=t.valueOf();return zh(n,e).valueOf()<=i&&i<=aI(n,e).valueOf()}const D6e=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,E6e=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function U4(n,t,e={}){const i=function A6e(n,t){if(null==n)return{};if(function e6e(n){return n instanceof Pie}(n))return{milliseconds:n._milliseconds,day:n._days,month:n._months};if(Ug(n))return t?{[t]:n}:{milliseconds:n};if(Ra(n)){let e=D6e.exec(n);if(e){const i="-"===e[1]?-1:1;return{year:0,day:Ci(e[fu])*i,hours:Ci(e[to])*i,minutes:Ci(e[pd])*i,seconds:Ci(e[Nh])*i,milliseconds:Ci(z4(1e3*Ci(e[Yg])))*i}}if(e=E6e.exec(n),e){const i="-"===e[1]?-1:1;return{year:Qg(e[2],i),month:Qg(e[3],i),week:Qg(e[4],i),day:Qg(e[5],i),hours:Qg(e[6],i),minutes:Qg(e[7],i),seconds:Qg(e[8],i)}}}if(Wg(n)&&("from"in n||"to"in n)){const e=function k6e(n,t){if(!wp(n)||!wp(t))return{milliseconds:0,months:0};let e;const i=function WYe(n,t,e={}){if(!e._isUTC)return n;const i=Hh(t),s=6e4*(e._offset||0),r=n.valueOf()-i.valueOf()+s;return i.setTime(i.valueOf()+r),i}(t,n,{_offset:n.getTimezoneOffset()});return gu(n,i)?e=Hie(n,i):(e=Hie(i,n),e.milliseconds=-e.milliseconds,e.months=-e.months),e}(iM(n.from),iM(n.to));return{milliseconds:e.milliseconds,month:e.months}}return n}(n,t);return new Pie(i,e)}function Qg(n,t){const e=n&&parseFloat(n.replace(",","."));return(isNaN(e)?0:e)*t}function Hie(n,t){const e={milliseconds:0,months:0};return e.months=Ti(t)-Ti(n)+12*(rr(t)-rr(n)),md(_u(Hh(n),e.months,"month"),t)&&--e.months,e.milliseconds=+t-+_u(Hh(n),e.months,"month"),e}function _u(n,t,e,i){return zie(n,U4(t,e),1,i)}function zie(n,t,e,i){const s=t._milliseconds,r=z4(t._days),o=z4(t._months);return o&&jg(n,Ti(n,i)+o*e,i),r&&k4(n,Gg(n,i)+r*e,i),s&&function CYe(n,t){n.setTime(t)}(n,function eYe(n){return n.getTime()}(n)+s*e),Hh(n)}function sM(n,t,e=no(),i){const s=pu(n,i),r=function R6e(n,t){if(!Ra(n))return n;const e=parseInt(n,10);if(!isNaN(e))return e;const i=t.weekdaysParse(n);return Ug(i)?i:null}(t,e);return _u(n,r-s,"day")}function W4(n,t=no(),e){return(pu(n,e)+7-t.firstDayOfWeek())%7}const Wie=function(n){return 0===n?0:1===n?1:2===n?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},B6e={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},mc=function(n){return function(t,e){const i=Wie(t);let s=B6e[n][Wie(t)];return 2===i&&(s=s[e?0:1]),s.replace(/%d/i,t.toString())}};"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),mc("s"),mc("s"),mc("m"),mc("m"),mc("h"),mc("h"),mc("d"),mc("d"),mc("M"),mc("M"),mc("y"),mc("y"),"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"gen._feb._mar._abr._mai._jun._jul._ago._set._oct._nov._des.".split("_"),"ene_feb_mar_abr_mai_jun_jul_ago_set_oct_nov_des".split("_"),"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),"diu._dil._dim._dix._dij._div._dis.".split("_"),"dg_dl_dt_dc_dj_dv_ds".split("_");const G4="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),$4="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_");(function(n,t){let e,i=[];for(e=0;e<12;e++)i[e]=new RegExp("^"+n[e]+"$|^"+t[e]+"$","i")})(G4,$4),function(n){let t,e=[];for(t=0;t<12;t++)e[t]=new RegExp("^"+n[t]+"$","i")}($4),function(n){let t,e=[];for(t=0;t<12;t++)e[t]=new RegExp("^"+n[t]+"$","i")}(G4),"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"Januar_Februar_Marts_April_Maj_Juni_Juli_August_September_Oktober_November_December".split("_"),"Jan_Feb_Mar_Apr_Maj_Jun_Jul_Aug_Sep_Okt_Nov_Dec".split("_"),"S\xf8ndag_Mandag_Tirsdag_Onsdag_Torsdag_Fredag_L\xf8rdag".split("_"),"S\xf8n_Man_Tir_Ons_Tor_Fre_L\xf8r".split("_"),"S\xf8_Ma_Ti_On_To_Fr_L\xf8".split("_"),"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),"P_E_T_K_N_R_L".split("_"),"P_E_T_K_N_R_L".split("_"),"nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),"dim._lun._mar._mer._jeu._ven._sam.".split("_"),"di_lu_ma_me_je_ve_sa".split("_"),"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),"xan_feb_mar_abr_mai_xu\xf1_xul_ago_set_out_nov_dec".split("_"),"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),"vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" "),"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),"v_h_k_sze_cs_p_szo".split("_"),"Sije\u010danj_Velja\u010da_O\u017eujak_Travanj_Svibanj_Lipanj_Srpanj_Kolovoz_Rujan_Listopad_Studeni_Prosinac".split("_"),"Sij_Velj_O\u017eu_Tra_Svi_Lip_Srp_Kol_Ruj_Lis_Stu_Pro".split("_"),"Nedjelja_Ponedjeljak_Utorak_Srijeda_\u010cetvrtak_Petak_Subota".split("_"),"Ned_Pon_Uto_Sri_\u010cet_Pet_Sub".split("_"),"Ne_Po_Ut_Sr_\u010ce_Pe_Su".split("_"),"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),"dom_lun_mar_mer_gio_ven_sab".split("_"),"do_lu_ma_me_gi_ve_sa".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),"S_P_A_T_K_Pn_\u0160".split("_"),"Janv\u0101ris_Febru\u0101ris_Marts_Apr\u012blis_Maijs_J\u016bnijs_J\u016blijs_Augusts_Septembris_Oktobris_Novembris_Decembris".split("_"),"Jan_Feb_Mar_Apr_Mai_J\u016bn_J\u016bl_Aug_Sep_Okt_Nov_Dec".split("_"),"Sv\u0113tdiena_Pirmdiena_Otrdiena_Tre\u0161diena_Ceturtdiena_Piektdiena_Sestdiena".split("_"),"Sv\u0113td_Pirmd_Otrd_Tre\u0161d_Ceturtd_Piektd_Sestd".split("_"),"Sv_Pi_Ot_Tr_Ce_Pk_Se".split("_"),"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),"stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),"jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),"ne_po_to_sr_\u010de_pe_so".split("_"),"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),"E Diel\xeb_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),"Di_He_Ma_Me_En_Pr_Sh".split("_"),"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_");const lse={abbr:"th-be",months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:n=>"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===n,meridiem:(n,t,e)=>n<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07",calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"},preparse(n,t){const e=lse.longDateFormat[t]?lse.longDateFormat[t]:t;return-1!==e.indexOf("YYYY",e.length-4)?n.substr(0,n.length-4)+(parseInt(n.substr(n.length-4),10)-543):n},getFullYear:(n,t=!1)=>543+(t?n.getUTCFullYear():n.getFullYear())};function qy(n){return function(t){return n+"\u043e"+(11===Mi(t)?"\u0431":"")+"] LT"}}"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),qy("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),qy("[\u0417\u0430\u0432\u0442\u0440\u0430 "),qy("[\u0412\u0447\u043e\u0440\u0430 "),qy("[\u0423] dddd ["),"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_");class o8e{constructor(t,e){this.open=t,this.close=e||t}isManual(){return"manual"===this.open||"manual"===this.close}}const a8e={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function n5(n,t=a8e){const e=(n||"").trim();if(0===e.length)return[];const i=e.split(/\s+/).map(r=>r.split(":")).map(r=>{const o=t[r[0]]||r;return new o8e(o[0],o[1])}),s=i.filter(r=>r.isManual());if(s.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===s.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}const io=typeof window<"u"&&window||{};let Uh;function dse(){const n=io.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),io.document.head.appendChild(n);const t=io.getComputedStyle(n).paddingLeft;return t&&parseFloat(t)?(io.document.head.removeChild(n),"bs4"):(io.document.head.removeChild(n),"bs5")}function Zy(){return{isBs4:(Uh||(Uh=dse()),"bs4"===Uh),isBs5:(Uh||(Uh=dse()),"bs5"===Uh)}}function p8e(){const n="Change";return function(e,i){const s=` __${i}Value`;Object.defineProperty(e,i,{get(){return this[s]},set(r){const o=this[s];this[s]=r,o!==r&&this[i+n]&&this[i+n].emit(r)}})}}typeof console>"u"||console;var hse=function(n){return n.top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",n}(hse||{}),pI=function(n){return n.top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",n}(pI||{});function n_(n,t){if(1!==n.nodeType)return[];const i=n.ownerDocument.defaultView?.getComputedStyle(n,null);return t?i&&i[t]:i}function s5(n){if(!n)return document.documentElement;let i,e=n?.offsetParent;for(;null===e&&n.nextElementSibling&&i!==n.nextElementSibling;)i=n.nextElementSibling,e=i.offsetParent;const s=e&&e.nodeName;return s&&"BODY"!==s&&"HTML"!==s?e&&-1!==["TH","TD","TABLE"].indexOf(e.nodeName)&&"static"===n_(e,"position")?s5(e):e:i?i.ownerDocument.documentElement:document.documentElement}function r5(n){return null!==n.parentNode?r5(n.parentNode):n}function mI(n,t){if(!(n&&n.nodeType&&t&&t.nodeType))return document.documentElement;const e=n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=e?n:t,s=e?t:n,r=document.createRange();r.setStart(i,0),r.setEnd(s,0);const o=r.commonAncestorContainer;if(n!==o&&t!==o||i.contains(s))return function g8e(n){const{nodeName:t}=n;return"BODY"!==t&&("HTML"===t||s5(n.firstElementChild)===n)}(o)?o:s5(o);const a=r5(n);return a.host?mI(a.host,t):mI(n,r5(t).host)}function fse(n){if(!n||!n.parentElement)return document.documentElement;let t=n.parentElement;for(;t?.parentElement&&"none"===n_(t,"transform");)t=t.parentElement;return t||document.documentElement}function pse(n,t){const e="x"===t?"Left":"Top",i="Left"===e?"Right":"Bottom";return parseFloat(n[`border${e}Width`])+parseFloat(n[`border${i}Width`])}function mse(n,t,e){return Math.max(t[`offset${n}`],t[`scroll${n}`],e[`client${n}`],e[`offset${n}`],e[`scroll${n}`],0)}function gse(n){const t=n.body,e=n.documentElement;return{height:mse("Height",t,e),width:mse("Width",t,e)}}function oM(n){return{...n,right:(n.left||0)+n.width,bottom:(n.top||0)+n.height}}function Zs(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function _se(n){const t=n.getBoundingClientRect();if(!(t&&Zs(t.top)&&Zs(t.left)&&Zs(t.bottom)&&Zs(t.right)))return t;const e={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===n.nodeName?gse(n.ownerDocument):void 0,s=i?.width||n.clientWidth||Zs(t.right)&&Zs(e.left)&&t.right-e.left||0,r=i?.height||n.clientHeight||Zs(t.bottom)&&Zs(e.top)&&t.bottom-e.top||0;let o=n.offsetWidth-s,a=n.offsetHeight-r;if(o||a){const l=n_(n);o-=pse(l,"x"),a-=pse(l,"y"),e.width-=o,e.height-=a}return oM(e)}function o5(n,t,e=!1){const i="HTML"===t.nodeName,s=_se(n),r=_se(t),o=n_(t),a=parseFloat(o.borderTopWidth),l=parseFloat(o.borderLeftWidth);e&&i&&(r.top=Math.max(r.top??0,0),r.left=Math.max(r.left??0,0));const c=oM({top:(s.top??0)-(r.top??0)-a,left:(s.left??0)-(r.left??0)-l,width:s.width,height:s.height});if(c.marginTop=0,c.marginLeft=0,i){const d=parseFloat(o.marginTop),u=parseFloat(o.marginLeft);Zs(c.top)&&(c.top-=a-d),Zs(c.bottom)&&(c.bottom-=a-d),Zs(c.left)&&(c.left-=l-u),Zs(c.right)&&(c.right-=l-u),c.marginTop=d,c.marginLeft=u}return c}function a5(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function vse(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:t,overflowX:e,overflowY:i}=n_(n);return/(auto|scroll|overlay)/.test(String(t)+String(i)+String(e))?n:vse(a5(n))}function yse(n,t="top"){const e="top"===t?"scrollTop":"scrollLeft",i=n.nodeName;return"BODY"===i||"HTML"===i?(n.ownerDocument.scrollingElement||n.ownerDocument.documentElement)[e]:n[e]}function bse(n){const t=n.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===n_(n,"position")||bse(a5(n)))}function l5(n,t,e=0,i,s=!1){let r={top:0,left:0};const o=s?fse(n):mI(n,t);if("viewport"===i)r=function v8e(n,t=!1){const e=n.ownerDocument.documentElement,i=o5(n,e),s=Math.max(e.clientWidth,window.innerWidth||0),r=Math.max(e.clientHeight,window.innerHeight||0),o=t?0:yse(e),a=t?0:yse(e,"left");return oM({top:o-Number(i?.top)+Number(i?.marginTop),left:a-Number(i?.left)+Number(i?.marginLeft),width:s,height:r})}(o,s);else{let a;"scrollParent"===i?(a=vse(a5(t)),"BODY"===a.nodeName&&(a=n.ownerDocument.documentElement)):a="window"===i?n.ownerDocument.documentElement:i;const l=o5(a,o,s);if(l&&"HTML"===a.nodeName&&!bse(o)){const{height:c,width:d}=gse(n.ownerDocument);Zs(r.top)&&Zs(l.top)&&Zs(l.marginTop)&&(r.top+=l.top-l.marginTop),Zs(r.top)&&(r.bottom=Number(c)+Number(l.top)),Zs(r.left)&&Zs(l.left)&&Zs(l.marginLeft)&&(r.left+=l.left-l.marginLeft),Zs(r.top)&&(r.right=Number(d)+Number(l.left))}else l&&(r=l)}return Zs(r.left)&&(r.left+=e),Zs(r.top)&&(r.top+=e),Zs(r.right)&&(r.right-=e),Zs(r.bottom)&&(r.bottom-=e),r}function y8e({width:n,height:t}){return n*t}function xse(n,t,e,i,s=["top","bottom","right","left"],r="viewport",o=0){if(-1===n.indexOf("auto"))return n;const a=l5(e,i,o,r),l={top:{width:a?.width??0,height:(t?.top??0)-(a?.top??0)},right:{width:(a?.right??0)-(t?.right??0),height:a?.height??0},bottom:{width:a?.width??0,height:(a?.bottom??0)-(t?.bottom??0)},left:{width:(t.left??0)-(a?.left??0),height:a?.height??0}},c=Object.keys(l).map(m=>({position:m,...l[m],area:y8e(l[m])})).sort((m,g)=>g.area-m.area);let d=c.filter(({width:m,height:g})=>m>=e.clientWidth&&g>=e.clientHeight);d=d.filter(({position:m})=>s.some(g=>g===m));const u=d.length>0?d[0].position:c[0].position,f=n.split(" ")[1];return e.className=e.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${Zy().isBs5?pI[u]:u}`),u+(f?`-${f}`:"")}const gI=(n,t=0)=>n?parseFloat(n):t;function wse(n){const e=n.ownerDocument.defaultView?.getComputedStyle(n),i=gI(e?.marginTop)+gI(e?.marginBottom),s=gI(e?.marginLeft)+gI(e?.marginRight);return{width:Number(n.offsetWidth)+s,height:Number(n.offsetHeight)+i}}function Cse(n,t,e){return o5(t,e?fse(n):mI(n,t),e)}function c5(n,t,e){const i=e.split(" ")[0],s=wse(n),r={width:s.width,height:s.height},o=-1!==["right","left"].indexOf(i),a=o?"top":"left",l=o?"left":"top",c=o?"height":"width",d=o?"width":"height";return r[a]=(t[a]??0)+t[c]/2-s[c]/2,r[l]=i===l?(t[l]??0)-s[d]:t[function x8e(n){const t={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,e=>t[e])}(l)]??0,r}function Mse(n,t){return!!n.modifiers[t]?.enabled}const C8e={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function _I(n,t){return!!Zy().isBs5&&C8e[t].includes(n)}function Tse(n,t,e){!n||!t||Object.keys(t).forEach(i=>{let s="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&function _8e(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(t[i])&&(s="px"),e?e.setStyle(n,i,`${String(t[i])}${s}`):n.style[i]=String(t[i])+s})}function S8e(n){let t=n.offsets.target;const e=n.instance.target.querySelector(".arrow");if(!e)return n;const i=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),s=i?"height":"width",r=i?"Top":"Left",o=r.toLowerCase(),a=i?"left":"top",l=i?"bottom":"right",c=wse(e)[s],d=n.placement.split(" ")[1];(n.offsets.host[l]??0)-c<(t[o]??0)&&(t[o]-=(t[o]??0)-((n.offsets.host[l]??0)-c)),Number(n.offsets.host[o])+Number(c)>(t[l]??0)&&(t[o]+=Number(n.offsets.host[o])+Number(c)-Number(t[l])),t=oM(t);const u=n_(n.instance.target),f=parseFloat(u[`margin${r}`])||0,m=parseFloat(u[`border${r}Width`])||0;let g;if(d){const _=parseFloat(u.borderRadius)||0,y=Number(f+m+_);g=o===d?Number(n.offsets.host[o])+y:Number(n.offsets.host[o])+Number(n.offsets.host[s]-y)}else g=Number(n.offsets.host[o])+Number(n.offsets.host[s]/2-c/2);let v=g-(t[o]??0)-f-m;return v=Math.max(Math.min(t[s]-(c+5),v),0),n.offsets.arrow={[o]:Math.round(v),[a]:""},n.instance.arrow=e,n}function D8e(n){if(n.offsets.target=oM(n.offsets.target),!Mse(n.options,"flip"))return n.offsets.target={...n.offsets.target,...c5(n.instance.target,n.offsets.host,n.placement)},n;const t=l5(n.instance.target,n.instance.host,0,"viewport",!1);let e=n.placement.split(" ")[0],i=n.placement.split(" ")[1]||"";const a=xse("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),l=[e,a];return l.forEach((c,d)=>{if(e!==c||l.length===d+1)return;e=n.placement.split(" ")[0];const u="left"===e&&Math.floor(n.offsets.target.right??0)>Math.floor(n.offsets.host.left??0)||"right"===e&&Math.floor(n.offsets.target.left??0)<Math.floor(n.offsets.host.right??0)||"top"===e&&Math.floor(n.offsets.target.bottom??0)>Math.floor(n.offsets.host.top??0)||"bottom"===e&&Math.floor(n.offsets.target.top??0)<Math.floor(n.offsets.host.bottom??0),f=Math.floor(n.offsets.target.left??0)<Math.floor(t.left??0),m=Math.floor(n.offsets.target.right??0)>Math.floor(t.right??0),g=Math.floor(n.offsets.target.top??0)<Math.floor(t.top??0),v=Math.floor(n.offsets.target.bottom??0)>Math.floor(t.bottom??0),_="left"===e&&f||"right"===e&&m||"top"===e&&g||"bottom"===e&&v,y=-1!==["top","bottom"].indexOf(e),C=y&&"left"===i&&f||y&&"right"===i&&m||!y&&"left"===i&&g||!y&&"right"===i&&v;(u||_||C)&&((u||_)&&(e=l[d+1]),C&&(i=function w8e(n){return"right"===n?"left":"left"===n?"right":n}(i)),n.placement=e+(i?` ${i}`:""),n.offsets.target={...n.offsets.target,...c5(n.instance.target,n.offsets.host,n.placement)})}),n}function A8e(n){if(!Mse(n.options,"preventOverflow"))return n;const t="transform",e=n.instance.target.style,{top:i,left:s,[t]:r}=e;e.top="",e.left="",e[t]="";const o=l5(n.instance.target,n.instance.host,0,n.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);e.top=i,e.left=s,e[t]=r;const l={primary(c){let d=n.offsets.target[c];return(n.offsets.target[c]??0)<(o[c]??0)&&(d=Math.max(n.offsets.target[c]??0,o[c]??0)),{[c]:d}},secondary(c){const d="right"===c,u=d?"left":"top";let m=n.offsets.target[u];return(n.offsets.target[c]??0)>(o[c]??0)&&(m=Math.min(n.offsets.target[u]??0,(o[c]??0)-n.offsets.target[d?"width":"height"])),{[u]:m}}};return["left","right","top","bottom"].forEach(c=>{const d=-1!==["left","top","start"].indexOf(c)?l.primary:l.secondary;n.offsets.target={...n.offsets.target,...d(c)}}),n}function k8e(n){const t=n.placement,e=t.split(" ")[0],i=t.split(" ")[1];if(i){const{host:s,target:r}=n.offsets,o=-1!==["bottom","top"].indexOf(e),a=o?"left":"top",l=o?"width":"height",c={start:{[a]:s[a]},end:{[a]:(s[a]??0)+s[l]-r[l]}};n.offsets.target={...r,[a]:a===i?c.start[a]:c.end[a]}}return n}const L8e=new class I8e{position(t,e){return this.offset(t,e)}offset(t,e){return Cse(e,t)}positionElements(t,e,i,s,r){const o=[D8e,k8e,A8e,S8e],l=function E8e(n,t,e,i){if(!n||!t)return;const s=Cse(n,t);!e.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!e.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(e="auto");const r=!!e.match(/auto/g);let o=e.match(/auto\s(left|right|top|bottom|start|end)/)?e.split(" ")[1]||"auto":e;const a=o.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return a&&(o=a[1]+(a[2]?` ${a[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(o)&&(o="auto"),o=xse(o,s,n,t,i?i.allowedPositions:void 0),{options:i||{modifiers:{}},instance:{target:n,host:t,arrow:void 0},offsets:{target:c5(n,s,o),host:s,arrow:void 0},positionFixed:!1,placement:o,placementAuto:r}}(e,t,hse[i],r);if(l)return o.reduce((c,d)=>d(c),l)}};function R8e(n,t,e,i,s,r){const o=L8e.positionElements(n,t,e,i,s);if(!o)return;const a=function b8e(n){return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(n.offsets.target.left??0),top:Math.round(n.offsets.target.top??0),bottom:Math.round(n.offsets.target.bottom??0),right:Math.floor(n.offsets.target.right??0)}}(o);Tse(t,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},r),o.instance.arrow&&Tse(o.instance.arrow,o.offsets.arrow,r),function T8e(n,t){const e=n.instance.target;let i=e.className;const s=Zy().isBs5?pI[n.placement]:n.placement;n.placementAuto&&(i=i.replace(/bs-popover-auto/g,`bs-popover-${s}`),i=i.replace(/ms-2|me-2|mb-2|mt-2/g,""),i=i.replace(/bs-tooltip-auto/g,`bs-tooltip-${s}`),i=i.replace(/\sauto/g,` ${s}`),-1!==i.indexOf("popover")&&(i=i+" "+function M8e(n){return Zy().isBs5?_I(n,"end")?"ms-2":_I(n,"start")?"me-2":_I(n,"top")?"mb-2":_I(n,"bottom")?"mt-2":"":""}(s)),-1!==i.indexOf("popover")&&-1===i.indexOf("popover-auto")&&(i+=" popover-auto"),-1!==i.indexOf("tooltip")&&-1===i.indexOf("tooltip-auto")&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom|end|start/g,`${s.split(" ")[0]}`),t?t.setAttribute(e,"class",i):e.className=i}(o,r)}let Ky=(()=>{class n{constructor(e,i,s){this.update$$=new Gt,this.positionElements=new Map,this.isDisabled=!1,Of(s)&&e.runOutsideAngular(()=>{this.triggerEvent$=mg(py(window,"scroll",{passive:!0}),py(window,"resize",{passive:!0}),rn(0,OV),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(r=>{R8e(vI(r.target),vI(r.element),r.attachment,r.appendToBody,this.options,i.createRenderer(null,null))})})})}position(e){this.addPositionElement(e)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(e){this.positionElements.set(vI(e.element),e)}calcPosition(){this.update$$.next(null)}deletePositionElement(e){this.positionElements.delete(vI(e))}setOptions(e){this.options=e}static#e=this.\u0275fac=function(i){return new(i||n)(be(ln),be(Ev),be(To))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vI(n){return"string"==typeof n?document.querySelector(n):n instanceof gn?n.nativeElement:n??null}const F8e=new class O8e extends ek{}(class P8e extends JA{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}});class Sse extends xs{constructor(t,e,i){super(t),e.pipe(iF(F8e)).pipe(S$((o,a)=>a?i(o,a):o,t)).subscribe(o=>this.next(o))}}class yI extends Qi{constructor(t,e,i){super(),this._dispatcher=t,this._reducer=e,this.source=i}select(t){return(this.source?.pipe(Vn(t))||(new Qi).pipe(Vn(t))).pipe(KA())}lift(t){const e=new yI(this._dispatcher,this._reducer,this);return e.operator=t,e}dispatch(t){this._dispatcher.next(t)}next(t){this._dispatcher.next(t)}error(t){this._dispatcher.error(t)}complete(){}}function N8e(n,t){1&n&&(L(0,"td"),U(1,"\xa0\xa0\xa0"),k())}function V8e(n,t){if(1&n){const e=vt();L(0,"td")(1,"a",1),ye("click",function(){ie(e);const s=N();return se(s.changeMinutes(s.minuteStep))}),Te(2,"span",2),k()()}if(2&n){const e=N();I(),dn("disabled",!e.canIncrementMinutes||!e.isEditable)}}function B8e(n,t){1&n&&(L(0,"td"),U(1,"\xa0"),k())}function H8e(n,t){if(1&n){const e=vt();L(0,"td")(1,"a",1),ye("click",function(){ie(e);const s=N();return se(s.changeSeconds(s.secondsStep))}),Te(2,"span",2),k()()}if(2&n){const e=N();I(),dn("disabled",!e.canIncrementSeconds||!e.isEditable)}}function z8e(n,t){1&n&&(L(0,"td"),U(1,"\xa0\xa0\xa0"),k())}function U8e(n,t){1&n&&Te(0,"td")}function W8e(n,t){1&n&&(L(0,"td"),U(1,"\xa0:\xa0"),k())}function Y8e(n,t){if(1&n){const e=vt();L(0,"td",4)(1,"input",5),ye("wheel",function(s){ie(e);const r=N();return r.prevDef(s),se(r.changeMinutes(r.minuteStep*r.wheelSign(s),"wheel"))})("keydown.ArrowUp",function(){ie(e);const s=N();return se(s.changeMinutes(s.minuteStep,"key"))})("keydown.ArrowDown",function(){ie(e);const s=N();return se(s.changeMinutes(-s.minuteStep,"key"))})("change",function(s){return ie(e),se(N().updateMinutes(s.target))}),k()()}if(2&n){const e=N();dn("has-error",e.invalidMinutes),I(),dn("is-invalid",e.invalidMinutes),B("placeholder",e.minutesPlaceholder)("readonly",e.readonlyInput)("disabled",e.disabled)("value",e.minutes),Nt("aria-label",e.labelMinutes)}}function G8e(n,t){1&n&&(L(0,"td"),U(1,"\xa0:\xa0"),k())}function $8e(n,t){if(1&n){const e=vt();L(0,"td",4)(1,"input",5),ye("wheel",function(s){ie(e);const r=N();return r.prevDef(s),se(r.changeSeconds(r.secondsStep*r.wheelSign(s),"wheel"))})("keydown.ArrowUp",function(){ie(e);const s=N();return se(s.changeSeconds(s.secondsStep,"key"))})("keydown.ArrowDown",function(){ie(e);const s=N();return se(s.changeSeconds(-s.secondsStep,"key"))})("change",function(s){return ie(e),se(N().updateSeconds(s.target))}),k()()}if(2&n){const e=N();dn("has-error",e.invalidSeconds),I(),dn("is-invalid",e.invalidSeconds),B("placeholder",e.secondsPlaceholder)("readonly",e.readonlyInput)("disabled",e.disabled)("value",e.seconds),Nt("aria-label",e.labelSeconds)}}function j8e(n,t){1&n&&(L(0,"td"),U(1,"\xa0\xa0\xa0"),k())}function X8e(n,t){if(1&n){const e=vt();L(0,"td")(1,"button",8),ye("click",function(){return ie(e),se(N().toggleMeridian())}),U(2),k()()}if(2&n){const e=N();I(),dn("disabled",!e.isEditable||!e.canToggleMeridian),B("disabled",!e.isEditable||!e.canToggleMeridian),I(),Ot("",e.meridian," ")}}function q8e(n,t){1&n&&(L(0,"td"),U(1,"\xa0\xa0\xa0"),k())}function Z8e(n,t){if(1&n){const e=vt();L(0,"td")(1,"a",1),ye("click",function(){ie(e);const s=N();return se(s.changeMinutes(-s.minuteStep))}),Te(2,"span",7),k()()}if(2&n){const e=N();I(),dn("disabled",!e.canDecrementMinutes||!e.isEditable)}}function K8e(n,t){1&n&&(L(0,"td"),U(1,"\xa0"),k())}function Q8e(n,t){if(1&n){const e=vt();L(0,"td")(1,"a",1),ye("click",function(){ie(e);const s=N();return se(s.changeSeconds(-s.secondsStep))}),Te(2,"span",7),k()()}if(2&n){const e=N();I(),dn("disabled",!e.canDecrementSeconds||!e.isEditable)}}function J8e(n,t){1&n&&(L(0,"td"),U(1,"\xa0\xa0\xa0"),k())}function eGe(n,t){1&n&&Te(0,"td")}let Wh=(()=>{class n{static#e=this.WRITE_VALUE="[timepicker] write value from ng model";static#t=this.CHANGE_HOURS="[timepicker] change hours";static#n=this.CHANGE_MINUTES="[timepicker] change minutes";static#i=this.CHANGE_SECONDS="[timepicker] change seconds";static#s=this.SET_TIME_UNIT="[timepicker] set time unit";static#r=this.UPDATE_CONTROLS="[timepicker] update controls";writeValue(e){return{type:n.WRITE_VALUE,payload:e}}changeHours(e){return{type:n.CHANGE_HOURS,payload:e}}changeMinutes(e){return{type:n.CHANGE_MINUTES,payload:e}}changeSeconds(e){return{type:n.CHANGE_SECONDS,payload:e}}setTime(e){return{type:n.SET_TIME_UNIT,payload:e}}updateControls(e){return{type:n.UPDATE_CONTROLS,payload:e}}static#o=this.\u0275fac=function(i){return new(i||n)};static#a=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const tGe=10,nGe=24,Dse=12,iGe=60,sGe=60;function d5(n){return!(!n||n instanceof Date&&isNaN(n.getHours()))&&("string"!=typeof n||d5(new Date(n)))}function u5(n,t){return!(n.min&&t<n.min||n.max&&t>n.max)}function i_(n){return typeof n>"u"?NaN:"number"==typeof n?n:parseInt(n,tGe)}function Ese(n,t=!1){const e=i_(n);return isNaN(e)||e<0||e>(t?Dse:nGe)?NaN:e}function Ase(n){const t=i_(n);return isNaN(t)||t<0||t>iGe?NaN:t}function kse(n){const t=i_(n);return isNaN(t)||t<0||t>sGe?NaN:t}function Ise(n){return"string"==typeof n?new Date(n):n}function wc(n,t){if(!n)return wc(bI(new Date,0,0,0),t);if(!t)return n;let e=n.getHours(),i=n.getMinutes(),s=n.getSeconds();return t.hour&&(e+=i_(t.hour)),t.minute&&(i+=i_(t.minute)),t.seconds&&(s+=i_(t.seconds)),bI(n,e,i,s)}function Lse(n,t){let e=Ese(t.hour);const i=Ase(t.minute),s=kse(t.seconds)||0;return t.isPM&&12!==e&&(e+=Dse),n?isNaN(e)||isNaN(i)?n:bI(n,e,i,s):isNaN(e)||isNaN(i)?n:bI(new Date,e,i,s)}function bI(n,t,e,i){const s=new Date(n.getFullYear(),n.getMonth(),n.getDate(),t,e,i,n.getMilliseconds());return s.setFullYear(n.getFullYear()),s.setMonth(n.getMonth()),s.setDate(n.getDate()),s}function h5(n){const t=n.toString();return t.length>1?t:`0${t}`}function Rse(n,t){return!isNaN(Ese(n,t))}function Pse(n){return!isNaN(Ase(n))}function Ose(n){return!isNaN(kse(n))}function Fse(n,t="0",e="0",i){return Rse(n,i)&&Pse(t)&&Ose(e)}function xI(n,t){return!(n.readonlyInput||n.disabled||t&&("wheel"===t.source&&!n.mousewheel||"key"===t.source&&!n.arrowkeys))}function Nse(n){const{hourStep:t,minuteStep:e,secondsStep:i,readonlyInput:s,disabled:r,mousewheel:o,arrowkeys:a,showSpinners:l,showMeridian:c,showSeconds:d,meridians:u,min:f,max:m}=n;return{hourStep:t,minuteStep:e,secondsStep:i,readonlyInput:s,disabled:r,mousewheel:o,arrowkeys:a,showSpinners:l,showMeridian:c,showSeconds:d,meridians:u,min:f,max:m}}let Vse=(()=>{class n{constructor(){this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.showMeridian=!0,this.meridians=["AM","PM"],this.readonlyInput=!1,this.disabled=!1,this.allowEmptyTime=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showSeconds=!1,this.showMinutes=!0,this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.ariaLabelHours="hours",this.ariaLabelMinutes="minutes",this.ariaLabelSeconds="seconds"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Bse={value:void 0,config:new Vse,controls:{canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0}};function Hse(n=Bse,t){switch(t.type){case Wh.WRITE_VALUE:return Object.assign({},n,{value:t.payload});case Wh.CHANGE_HOURS:{if(!xI(n.config,t.payload)||!function aGe(n,t){return!(!n.step||n.step>0&&!t.canIncrementHours||n.step<0&&!t.canDecrementHours)}(t.payload,n.controls))return n;const e=wc(n.value,{hour:t.payload.step});return!n.config.max&&!n.config.min||u5(n.config,e)?Object.assign({},n,{value:e}):n}case Wh.CHANGE_MINUTES:{if(!xI(n.config,t.payload)||!function lGe(n,t){return!(!n.step||n.step>0&&!t.canIncrementMinutes||n.step<0&&!t.canDecrementMinutes)}(t.payload,n.controls))return n;const e=wc(n.value,{minute:t.payload.step});return!n.config.max&&!n.config.min||u5(n.config,e)?Object.assign({},n,{value:e}):n}case Wh.CHANGE_SECONDS:{if(!xI(n.config,t.payload)||!function cGe(n,t){return!(!n.step||n.step>0&&!t.canIncrementSeconds||n.step<0&&!t.canDecrementSeconds)}(t.payload,n.controls))return n;const e=wc(n.value,{seconds:t.payload.step});return!n.config.max&&!n.config.min||u5(n.config,e)?Object.assign({},n,{value:e}):n}case Wh.SET_TIME_UNIT:{if(!xI(n.config))return n;const e=Lse(n.value,t.payload);return Object.assign({},n,{value:e})}case Wh.UPDATE_CONTROLS:{const e=function dGe(n,t){const{min:s,max:r,hourStep:o,minuteStep:a,secondsStep:l,showSeconds:c}=t,d={canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0};if(!n)return d;if(r){const u=wc(n,{hour:o});if(d.canIncrementHours=r>u&&n.getHours()+o<24,!d.canIncrementHours){const f=wc(n,{minute:a});d.canIncrementMinutes=c?r>f:r>=f}if(!d.canIncrementMinutes){const f=wc(n,{seconds:l});d.canIncrementSeconds=r>=f}n.getHours()<12&&(d.canToggleMeridian=wc(n,{hour:12})<r)}if(s){const u=wc(n,{hour:-o});if(d.canDecrementHours=s<u,!d.canDecrementHours){const f=wc(n,{minute:-a});d.canDecrementMinutes=c?s<f:s<=f}if(!d.canDecrementMinutes){const f=wc(n,{seconds:-l});d.canDecrementSeconds=s<=f}n.getHours()>=12&&(d.canToggleMeridian=wc(n,{hour:-12})>s)}return d}(n.value,t.payload),i={value:n.value,config:t.payload,controls:e};return n.config.showMeridian!==i.config.showMeridian&&n.value&&(i.value=new Date(n.value)),Object.assign({},n,i)}default:return n}}let wI=(()=>{class n extends yI{constructor(){const e=new xs({type:"[mini-ngrx] dispatcher init"});super(e,Hse,new Sse(Bse,e,Hse))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const uGe={provide:Ca,useExisting:vi(()=>f5),multi:!0};let f5=(()=>{class n{constructor(e,i,s,r){this._cd=i,this._store=s,this._timepickerActions=r,this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.readonlyInput=!1,this.disabled=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showMeridian=!0,this.showMinutes=!0,this.showSeconds=!1,this.meridians=["AM","PM"],this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.isValid=new Fe,this.meridianChange=new Fe,this.hours="",this.minutes="",this.seconds="",this.meridian="",this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1,this.labelHours="hours",this.labelMinutes="minutes",this.labelSeconds="seconds",this.canIncrementHours=!0,this.canIncrementMinutes=!0,this.canIncrementSeconds=!0,this.canDecrementHours=!0,this.canDecrementMinutes=!0,this.canDecrementSeconds=!0,this.canToggleMeridian=!0,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.config=e,Object.assign(this,this.config),this.timepickerSub=s.select(o=>o.value).subscribe(o=>{this._renderTime(o),this.onChange(o),this._store.dispatch(this._timepickerActions.updateControls(Nse(this)))}),s.select(o=>o.controls).subscribe(o=>{const a=Fse(this.hours,this.minutes,this.seconds,this.isPM()),l=this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||a;this.isValid.emit(l),Object.assign(this,o),i.markForCheck()})}get isSpinnersVisible(){return this.showSpinners&&!this.readonlyInput}get isEditable(){return!(this.readonlyInput||this.disabled)}resetValidation(){this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1}isPM(){return this.showMeridian&&this.meridian===this.meridians[1]}prevDef(e){e.preventDefault()}wheelSign(e){return-1*Math.sign(e.deltaY||0)}ngOnChanges(){this._store.dispatch(this._timepickerActions.updateControls(Nse(this)))}changeHours(e,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeHours({step:e,source:i}))}changeMinutes(e,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeMinutes({step:e,source:i}))}changeSeconds(e,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeSeconds({step:e,source:i}))}updateHours(e){this.resetValidation(),this.hours=e.value;const i=Rse(this.hours,this.isPM())&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidHours=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateMinutes(e){this.resetValidation(),this.minutes=e.value;const i=Pse(this.minutes)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidMinutes=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateSeconds(e){this.resetValidation(),this.seconds=e.value;const i=Ose(this.seconds)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidSeconds=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}isValidLimit(){return function rGe(n,t,e){const i=Lse(new Date,n);return!(!i||t&&i>t||e&&i<e)}({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()},this.max,this.min)}isOneOfDatesIsEmpty(){return function oGe(n,t,e){return 0===n.length||0===t.length||0===e.length}(this.hours,this.minutes,this.seconds)}_updateTime(){const s=Fse(this.hours,this.showMinutes?this.minutes:void 0,this.showSeconds?this.seconds:void 0,this.isPM());if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||s))return this.isValid.emit(!1),void this.onChange(null);this._store.dispatch(this._timepickerActions.setTime({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()}))}toggleMeridian(){this.showMeridian&&this.isEditable&&this._store.dispatch(this._timepickerActions.changeHours({step:12,source:""}))}writeValue(e){d5(e)?(this.resetValidation(),this._store.dispatch(this._timepickerActions.writeValue(Ise(e)))):null==e&&this._store.dispatch(this._timepickerActions.writeValue())}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._cd.markForCheck()}ngOnDestroy(){this.timepickerSub?.unsubscribe()}_renderTime(e){if(!e||!d5(e))return this.hours="",this.minutes="",this.seconds="",this.meridian=this.meridians[0],void this.meridianChange.emit(this.meridian);const i=Ise(e);if(!i)return;let r=i.getHours();this.showMeridian&&(this.meridian=this.meridians[r>=12?1:0],this.meridianChange.emit(this.meridian),r%=12,0===r&&(r=12)),this.hours=h5(r),this.minutes=h5(i.getMinutes()),this.seconds=h5(i.getUTCSeconds())}static#e=this.\u0275fac=function(i){return new(i||n)(K(Vse),K(er),K(wI),K(Wh))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["timepicker"]],inputs:{hourStep:"hourStep",minuteStep:"minuteStep",secondsStep:"secondsStep",readonlyInput:"readonlyInput",disabled:"disabled",mousewheel:"mousewheel",arrowkeys:"arrowkeys",showSpinners:"showSpinners",showMeridian:"showMeridian",showMinutes:"showMinutes",showSeconds:"showSeconds",meridians:"meridians",min:"min",max:"max",hoursPlaceholder:"hoursPlaceholder",minutesPlaceholder:"minutesPlaceholder",secondsPlaceholder:"secondsPlaceholder"},outputs:{isValid:"isValid",meridianChange:"meridianChange"},features:[pi([uGe,wI]),Ii],decls:31,vars:33,consts:[[1,"text-center",3,"hidden"],["href","javascript:void(0);",1,"btn","btn-link",3,"click"],[1,"bs-chevron","bs-chevron-up"],[4,"ngIf"],[1,"form-group","mb-3"],["type","text","maxlength","2",1,"form-control","text-center","bs-timepicker-field",3,"placeholder","readonly","disabled","value","wheel","keydown.ArrowUp","keydown.ArrowDown","change"],["class","form-group mb-3",3,"has-error",4,"ngIf"],[1,"bs-chevron","bs-chevron-down"],["type","button",1,"btn","btn-default","text-center",3,"disabled","click"]],template:function(i,s){1&i&&(L(0,"table")(1,"tbody")(2,"tr",0)(3,"td")(4,"a",1),ye("click",function(){return s.changeHours(s.hourStep)}),Te(5,"span",2),k()(),me(6,N8e,2,0,"td",3)(7,V8e,3,2,"td",3)(8,B8e,2,0,"td",3)(9,H8e,3,2,"td",3)(10,z8e,2,0,"td",3)(11,U8e,1,0,"td",3),k(),L(12,"tr")(13,"td",4)(14,"input",5),ye("wheel",function(o){return s.prevDef(o),s.changeHours(s.hourStep*s.wheelSign(o),"wheel")})("keydown.ArrowUp",function(){return s.changeHours(s.hourStep,"key")})("keydown.ArrowDown",function(){return s.changeHours(-s.hourStep,"key")})("change",function(o){return s.updateHours(o.target)}),k()(),me(15,W8e,2,0,"td",3)(16,Y8e,2,9,"td",6)(17,G8e,2,0,"td",3)(18,$8e,2,9,"td",6)(19,j8e,2,0,"td",3)(20,X8e,3,4,"td",3),k(),L(21,"tr",0)(22,"td")(23,"a",1),ye("click",function(){return s.changeHours(-s.hourStep)}),Te(24,"span",7),k()(),me(25,q8e,2,0,"td",3)(26,Z8e,3,2,"td",3)(27,K8e,2,0,"td",3)(28,Q8e,3,2,"td",3)(29,J8e,2,0,"td",3)(30,eGe,1,0,"td",3),k()()()),2&i&&(I(2),B("hidden",!s.showSpinners),I(2),dn("disabled",!s.canIncrementHours||!s.isEditable),I(2),B("ngIf",s.showMinutes),I(),B("ngIf",s.showMinutes),I(),B("ngIf",s.showSeconds),I(),B("ngIf",s.showSeconds),I(),B("ngIf",s.showMeridian),I(),B("ngIf",s.showMeridian),I(2),dn("has-error",s.invalidHours),I(),dn("is-invalid",s.invalidHours),B("placeholder",s.hoursPlaceholder)("readonly",s.readonlyInput)("disabled",s.disabled)("value",s.hours),Nt("aria-label",s.labelHours),I(),B("ngIf",s.showMinutes),I(),B("ngIf",s.showMinutes),I(),B("ngIf",s.showSeconds),I(),B("ngIf",s.showSeconds),I(),B("ngIf",s.showMeridian),I(),B("ngIf",s.showMeridian),I(),B("hidden",!s.showSpinners),I(2),dn("disabled",!s.canDecrementHours||!s.isEditable),I(2),B("ngIf",s.showMinutes),I(),B("ngIf",s.showMinutes),I(),B("ngIf",s.showSeconds),I(),B("ngIf",s.showSeconds),I(),B("ngIf",s.showMeridian),I(),B("ngIf",s.showMeridian))},dependencies:[$s],styles:[".bs-chevron{border-style:solid;display:block;width:9px;height:9px;position:relative;border-width:3px 0px 0 3px}.bs-chevron-up{transform:rotate(45deg);top:2px}.bs-chevron-down{transform:rotate(-135deg);top:-2px}.bs-timepicker-field{width:65px;padding:.375rem .55rem}\n"],encapsulation:2,changeDetection:0})}return n})(),hGe=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Wh,wI]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({providers:[wI],imports:[xa]})}return n})();class aM{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}class fGe{constructor(t,e,i,s,r,o,a,l,c){this._viewContainerRef=t,this._renderer=e,this._elementRef=i,this._injector=s,this._componentFactoryResolver=r,this._ngZone=o,this._applicationRef=a,this._posService=l,this._document=c,this.onBeforeShow=new Fe,this.onShown=new Fe,this.onBeforeHide=new Fe,this.onHidden=new Fe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}to(t){return this.container=t||this.container,this}position(t){return t?(this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this):this}provide(t){return this._providers.push(t),this}show(t={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);const e=Fs.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof gn&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const i=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!i)return;i.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(t.id?{id:t.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(t){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const e=this._componentRef.location.nativeElement;return e.parentNode?.removeChild(e),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(t?{id:t}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(t){this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||this._elementRef?.nativeElement;const e=this._listenOpts.hide=()=>t.hide?t.hide():void this.hide(),i=this._listenOpts.show=r=>{t.show?t.show(r):this.show(r),r()};return this._renderer&&(this._unregisterListenersFn=function l8e(n,t){const e=n5(t.triggers),i=t.target;if(1===e.length&&e[0].isManual())return Function.prototype;const s=[],r=[],o=()=>{r.forEach(a=>s.push(a())),r.length=0};return e.forEach(a=>{const l=a.open===a.close,c=l?t.toggle:t.show;if(!l&&a.close&&t.hide){const d=a.close,u=t.hide;r.push(()=>n.listen(i,d,u))}c&&s.push(n.listen(i,a.open,()=>c(o)))}),()=>{s.forEach(a=>a())}}(this._renderer,{target:t.target,triggers:t.triggers,show:i,hide:e,toggle:r=>{this.isShown?e():i(r)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(t,e){return t&&e&&(this._inlineViewRef=t.createEmbeddedView(e)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const t=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function c8e(n,t){return t.outsideClick?n.listen("document","click",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(i=>i.contains(e.target))||t.hide&&t.hide()}):Function.prototype}(this._renderer,{targets:[t,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function d8e(n,t){return t.outsideEsc?n.listen("document","keyup.esc",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(i=>i.contains(e.target))||t.hide&&t.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(t,e,i){if(!t)return new aM([]);if(t instanceof Za){if(this._viewContainerRef){const o=this._viewContainerRef.createEmbeddedView(t,e);return o.markForCheck(),new aM([o.rootNodes],o)}const r=t.createEmbeddedView({});return this._applicationRef.attachView(r),new aM([r.rootNodes],r)}if("function"==typeof t){const r=this._componentFactoryResolver.resolveComponentFactory(t),o=Fs.create({providers:this._providers,parent:this._injector}),a=r.create(o);return Object.assign(a.instance,i),this._applicationRef.attachView(a.hostView),new aM([[a.location.nativeElement]],a.hostView,a)}const s=this._renderer?[this._renderer.createText(`${t}`)]:[];return new aM([s])}}let lM=(()=>{class n{constructor(e,i,s,r,o,a){this._componentFactoryResolver=e,this._ngZone=i,this._injector=s,this._posService=r,this._applicationRef=o,this._document=a}createLoader(e,i,s){return new fGe(i,s,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(be(Nd),be(ln),be(Fs),be(Ky),be(Ud),be(Gn))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pGe=["*"];let p5=(()=>{class n{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mGe=(()=>{class n{get _bsVersions(){return Zy()}constructor(e){Object.assign(this,e)}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=pI[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}static#e=this.\u0275fac=function(i){return new(i||n)(K(p5))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(i,s){2&i&&(Nt("id",s.id),uo("show tooltip in tooltip-"+s.placement+" bs-tooltip-"+s.placement+" "+s.placement+" "+s.containerClass))},ngContentSelectors:pGe,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(i,s){1&i&&(jl(),Te(0,"div",0),L(1,"div",1),Bo(2),k())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none;position:absolute}.tooltip[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute}"],changeDetection:0})}return n})(),gGe=0,_Ge=(()=>{class n{get isOpen(){return this._tooltip.isShown}set isOpen(e){e?this.show():this.hide()}set htmlContent(e){this.tooltip=e}set _placement(e){this.placement=e}set _isOpen(e){this.isOpen=e}get _isOpen(){return this.isOpen}set _enable(e){this.isDisabled=!e}get _enable(){return this.isDisabled}set _appendToBody(e){this.container=e?"body":this.container}get _appendToBody(){return"body"===this.container}set _popupClass(e){}set _tooltipContext(e){}set _tooltipPopupDelay(e){this.delay=e}get _tooltipTrigger(){return this.triggers}set _tooltipTrigger(e){this.triggers=(e||"").toString()}constructor(e,i,s,r,o,a){this._elementRef=r,this._renderer=o,this._positionService=a,this.tooltipId=gGe++,this.adaptivePosition=!0,this.tooltipChange=new Fe,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new Fe,this._tooltip=i.createLoader(this._elementRef,e,this._renderer).provide({provide:p5,useValue:s}),Object.assign(this,s),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(e=>{e||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const e=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(mGe).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},i=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=NV(this.delay).subscribe(()=>{e(),i()}),this.triggers&&n5(this.triggers).forEach(s=>{s.close&&(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,s.close,()=>{this._delaySubscription?.unsubscribe(),i()}))})):e()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance?.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(K(Ao),K(lM),K(p5),K(gn),K(Js),K(Ky))};static#t=this.\u0275dir=ee({type:n,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:[St.None,"tooltipHtml","htmlContent"],_placement:[St.None,"tooltipPlacement","_placement"],_isOpen:[St.None,"tooltipIsOpen","_isOpen"],_enable:[St.None,"tooltipEnable","_enable"],_appendToBody:[St.None,"tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:[St.None,"tooltipClass","_popupClass"],_tooltipContext:[St.None,"tooltipContext","_tooltipContext"],_tooltipPopupDelay:[St.None,"tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:[St.None,"tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]})}return JO([p8e(),J8("design:type",Object)],n.prototype,"tooltip",void 0),n})(),vGe=(()=>{class n{static forRoot(){return{ngModule:n,providers:[lM,Ky]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({imports:[xa]})}return n})();function yGe(n,t){if(1&n){const e=vt();L(0,"button",2),ye("click",function(){const r=ie(e).$implicit;return se(N().selectFromRanges(r))}),U(1),k()}if(2&n){const e=t.$implicit,i=N();dn("selected",e.value===i.selectedRange),I(),Ot(" ",e.label," ")}}function bGe(n,t){1&n&&Te(0,"bs-current-date",4)}function xGe(n,t){1&n&&Te(0,"bs-timepicker")}const wGe=[[["bs-datepicker-navigation-view"]],"*"],CGe=["bs-datepicker-navigation-view","*"],MGe=["bsDatepickerDayDecorator",""];function TGe(n,t){if(1&n){const e=vt();es(0),U(1," \u200b "),L(2,"button",2),ye("click",function(){return ie(e),se(N().view("month"))}),L(3,"span"),U(4),k()(),ts()}if(2&n){const e=N();I(2),B("disabled",e.isDisabled),I(2),Ye(e.calendar.monthTitle)}}function SGe(n,t){1&n&&Te(0,"th")}function DGe(n,t){if(1&n&&(L(0,"th",5),U(1),k()),2&n){const e=t.index,i=N();I(),Ot("",i.calendar.weekdays[e]," ")}}function EGe(n,t){if(1&n){const e=vt();L(0,"span",11),ye("click",function(){ie(e);const s=N(2).$implicit;return se(N().selectWeek(s))}),U(1),k()}if(2&n){const e=N(2).index,i=N();I(),Ye(i.calendar.weekNumbers[e])}}function AGe(n,t){if(1&n){const e=vt();L(0,"span",12),ye("click",function(){ie(e);const s=N(2).$implicit;return se(N().selectWeek(s))})("mouseenter",function(){ie(e);const s=N(2).$implicit;return se(N().weekHoverHandler(s,!0))})("mouseleave",function(){ie(e);const s=N(2).$implicit;return se(N().weekHoverHandler(s,!1))}),U(1),k()}if(2&n){const e=N(2).index,i=N();I(),Ye(i.calendar.weekNumbers[e])}}function kGe(n,t){if(1&n&&(L(0,"td",8),me(1,EGe,2,1,"span",9)(2,AGe,2,1,"span",10),k()),2&n){const e=N(2);dn("active-week",e.isWeekHovered),I(),B("ngIf",e.isiOS),I(),B("ngIf",!e.isiOS)}}function IGe(n,t){if(1&n){const e=vt();L(0,"span",17),ye("click",function(){ie(e);const s=N().$implicit;return se(N(2).selectDay(s))})("mouseenter",function(){ie(e);const s=N().$implicit;return se(N(2).hoverDay(s,!0))})("mouseleave",function(){ie(e);const s=N().$implicit;return se(N(2).hoverDay(s,!1))}),U(1),k()}if(2&n){const e=N().$implicit;YP("tooltip",e.tooltipText),B("day",e),I(),Ot("",e.label," 3")}}function LGe(n,t){if(1&n){const e=vt();L(0,"span",18),ye("click",function(){ie(e);const s=N().$implicit;return se(N(2).selectDay(s))})("mouseenter",function(){ie(e);const s=N().$implicit;return se(N(2).hoverDay(s,!0))})("mouseleave",function(){ie(e);const s=N().$implicit;return se(N(2).hoverDay(s,!1))}),U(1),k()}if(2&n){const e=N().$implicit;B("day",e),I(),Ot("",e.label," 2")}}function RGe(n,t){if(1&n){const e=vt();L(0,"span",19),ye("click",function(){ie(e);const s=N().$implicit;return se(N(2).selectDay(s))}),U(1),k()}if(2&n){const e=N().$implicit;B("day",e),I(),Ot("",e.label," 1")}}function PGe(n,t){if(1&n&&(L(0,"td",13),me(1,IGe,2,3,"span",14)(2,LGe,2,2,"span",15)(3,RGe,2,2,"span",16),k()),2&n){const e=N(2);I(),B("ngIf",!e.isiOS&&e.isShowTooltip),I(),B("ngIf",!e.isiOS&&!e.isShowTooltip),I(),B("ngIf",e.isiOS)}}function OGe(n,t){if(1&n&&(L(0,"tr"),me(1,kGe,3,4,"td",6)(2,PGe,4,3,"td",7),k()),2&n){const e=t.$implicit,i=N();I(),B("ngIf",i.options&&i.options.showWeekNumbers),I(),B("ngForOf",e.days)}}function FGe(n,t){if(1&n){const e=vt();L(0,"td",4),ye("click",function(){const r=ie(e).$implicit;return se(N(2).viewMonth(r))})("mouseenter",function(){const r=ie(e).$implicit;return se(N(2).hoverMonth(r,!0))})("mouseleave",function(){const r=ie(e).$implicit;return se(N(2).hoverMonth(r,!1))}),L(1,"span"),U(2),k()()}if(2&n){const e=t.$implicit;dn("disabled",e.isDisabled)("is-highlighted",e.isHovered),I(),dn("selected",e.isSelected),I(),Ye(e.label)}}function NGe(n,t){if(1&n&&(L(0,"tr"),me(1,FGe,3,7,"td",3),k()),2&n){const e=t.$implicit;I(),B("ngForOf",e)}}function VGe(n,t){if(1&n){const e=vt();L(0,"td",4),ye("click",function(){const r=ie(e).$implicit;return se(N(2).viewYear(r))})("mouseenter",function(){const r=ie(e).$implicit;return se(N(2).hoverYear(r,!0))})("mouseleave",function(){const r=ie(e).$implicit;return se(N(2).hoverYear(r,!1))}),L(1,"span"),U(2),k()()}if(2&n){const e=t.$implicit;dn("disabled",e.isDisabled)("is-highlighted",e.isHovered),I(),dn("selected",e.isSelected),I(),Ye(e.label)}}function BGe(n,t){if(1&n&&(L(0,"tr"),me(1,VGe,3,7,"td",3),k()),2&n){const e=t.$implicit;I(),B("ngForOf",e)}}const zse=["startTP"];function HGe(n,t){if(1&n){const e=vt();L(0,"bs-days-calendar-view",11),ye("onNavigate",function(s){return ie(e),se(N(3).navigateTo(s))})("onViewMode",function(s){return ie(e),se(N(3).setViewMode(s))})("onHover",function(s){return ie(e),se(N(3).dayHoverHandler(s))})("onHoverWeek",function(s){return ie(e),se(N(3).weekHoverHandler(s))})("onSelect",function(s){return ie(e),se(N(3).daySelectHandler(s))}),Zn(1,"async"),k()}if(2&n){const e=t.$implicit,i=N(3);dn("bs-datepicker-multiple",i.multipleCalendars),B("calendar",e)("isDisabled",i.isDatePickerDisabled)("options",va(1,5,i.options$))}}function zGe(n,t){1&n&&Te(0,"timepicker",13,16),2&n&&B("disabled",N(4).isDatePickerDisabled)}function UGe(n,t){if(1&n&&(L(0,"div",12),Te(1,"timepicker",13,14),me(3,zGe,2,1,"timepicker",15),k()),2&n){const e=N(3);I(),B("disabled",e.isDatePickerDisabled),I(2),B("ngIf",e.isRangePicker)}}function WGe(n,t){if(1&n&&(es(0),L(1,"div",8),me(2,HGe,2,7,"bs-days-calendar-view",9),Zn(3,"async"),k(),me(4,UGe,4,2,"div",10),ts()),2&n){const e=N(2);I(2),B("ngForOf",va(3,2,e.daysCalendar$)),I(2),B("ngIf",e.withTimepicker)}}function YGe(n,t){if(1&n){const e=vt();L(0,"bs-month-calendar-view",18),ye("onNavigate",function(s){return ie(e),se(N(3).navigateTo(s))})("onViewMode",function(s){return ie(e),se(N(3).setViewMode(s))})("onHover",function(s){return ie(e),se(N(3).monthHoverHandler(s))})("onSelect",function(s){return ie(e),se(N(3).monthSelectHandler(s))}),k()}if(2&n){const e=t.$implicit;dn("bs-datepicker-multiple",N(3).multipleCalendars),B("calendar",e)}}function GGe(n,t){if(1&n&&(L(0,"div",8),me(1,YGe,1,3,"bs-month-calendar-view",17),Zn(2,"async"),k()),2&n){const e=N(2);I(),B("ngForOf",va(2,1,e.monthsCalendar))}}function $Ge(n,t){if(1&n){const e=vt();L(0,"bs-years-calendar-view",18),ye("onNavigate",function(s){return ie(e),se(N(3).navigateTo(s))})("onViewMode",function(s){return ie(e),se(N(3).setViewMode(s))})("onHover",function(s){return ie(e),se(N(3).yearHoverHandler(s))})("onSelect",function(s){return ie(e),se(N(3).yearSelectHandler(s))}),k()}if(2&n){const e=t.$implicit;dn("bs-datepicker-multiple",N(3).multipleCalendars),B("calendar",e)}}function jGe(n,t){if(1&n&&(L(0,"div",8),me(1,$Ge,1,3,"bs-years-calendar-view",17),Zn(2,"async"),k()),2&n){const e=N(2);I(),B("ngForOf",va(2,1,e.yearsCalendar))}}function XGe(n,t){1&n&&(L(0,"div",19)(1,"button",20),U(2,"Apply"),k(),L(3,"button",21),U(4,"Cancel"),k()())}function qGe(n,t){if(1&n){const e=vt();L(0,"div",24)(1,"button",25),ye("click",function(){return ie(e),se(N(3).setToday())}),U(2),k()()}if(2&n){const e=N(3);dn("today-left","left"===e.todayPos)("today-right","right"===e.todayPos)("today-center","center"===e.todayPos),I(2),Ye(e.todayBtnLbl)}}function ZGe(n,t){if(1&n){const e=vt();L(0,"div",26)(1,"button",25),ye("click",function(){return ie(e),se(N(3).clearDate())}),U(2),k()()}if(2&n){const e=N(3);dn("clear-left","left"===e.clearPos)("clear-right","right"===e.clearPos)("clear-center","center"===e.clearPos),I(2),Ye(e.clearBtnLbl)}}function KGe(n,t){if(1&n&&(L(0,"div",19),me(1,qGe,3,7,"div",22)(2,ZGe,3,7,"div",23),k()),2&n){const e=N(2);I(),B("ngIf",e.showTodayBtn),I(),B("ngIf",e.showClearBtn)}}function QGe(n,t){if(1&n){const e=vt();L(0,"div",27)(1,"bs-custom-date-view",28),ye("onSelect",function(s){return ie(e),se(N(2).setRangeOnCalendar(s))}),k()()}if(2&n){const e=N(2);I(),B("selectedRange",e.chosenRange)("ranges",e.customRanges)("customRangeLabel",e.customRangeBtnLbl)}}function JGe(n,t){if(1&n){const e=vt();L(0,"div",1)(1,"div",2),ye("@datepickerAnimation.done",function(){return ie(e),se(N().positionServiceEnable())}),L(2,"div",3),Zn(3,"async"),me(4,WGe,5,4,"ng-container",4)(5,GGe,3,3,"div",5)(6,jGe,3,3,"div",5),k(),me(7,XGe,5,0,"div",6)(8,KGe,3,2,"div",6),k(),me(9,QGe,2,3,"div",7),k()}if(2&n){const e=N();B("ngClass",e.containerClass),I(),B("@datepickerAnimation",e.animationState),I(),B("ngSwitch",va(3,9,e.viewMode)),I(2),B("ngSwitchCase","day"),I(),B("ngSwitchCase","month"),I(),B("ngSwitchCase","year"),I(),B("ngIf",!1),I(),B("ngIf",e.showTodayBtn||e.showClearBtn),I(),B("ngIf",e.customRanges&&e.customRanges.length>0)}}const f$e=["endTP"];function p$e(n,t){if(1&n){const e=vt();L(0,"bs-days-calendar-view",11),ye("onNavigate",function(s){return ie(e),se(N(3).navigateTo(s))})("onViewMode",function(s){return ie(e),se(N(3).setViewMode(s))})("onHover",function(s){return ie(e),se(N(3).dayHoverHandler(s))})("onHoverWeek",function(s){return ie(e),se(N(3).weekHoverHandler(s))})("onSelect",function(s){return ie(e),se(N(3).daySelectHandler(s))}),Zn(1,"async"),k()}if(2&n){const e=t.$implicit,i=N(3);dn("bs-datepicker-multiple",i.multipleCalendars),B("calendar",e)("isDisabled",i.isDatePickerDisabled)("options",va(1,5,i.options$))}}function m$e(n,t){1&n&&Te(0,"timepicker",13,16),2&n&&B("disabled",N(4).isDatePickerDisabled)}function g$e(n,t){if(1&n&&(L(0,"div",12),Te(1,"timepicker",13,14),me(3,m$e,2,1,"timepicker",15),k()),2&n){const e=N(3);I(),B("disabled",e.isDatePickerDisabled),I(2),B("ngIf",e.isRangePicker)}}function _$e(n,t){if(1&n&&(es(0),L(1,"div",8),me(2,p$e,2,7,"bs-days-calendar-view",9),Zn(3,"async"),k(),me(4,g$e,4,2,"div",10),ts()),2&n){const e=N(2);I(2),B("ngForOf",va(3,2,e.daysCalendar$)),I(2),B("ngIf",e.withTimepicker)}}function v$e(n,t){if(1&n){const e=vt();L(0,"bs-month-calendar-view",18),ye("onNavigate",function(s){return ie(e),se(N(3).navigateTo(s))})("onViewMode",function(s){return ie(e),se(N(3).setViewMode(s))})("onHover",function(s){return ie(e),se(N(3).monthHoverHandler(s))})("onSelect",function(s){return ie(e),se(N(3).monthSelectHandler(s))}),k()}if(2&n){const e=t.$implicit;dn("bs-datepicker-multiple",N(3).multipleCalendars),B("calendar",e)}}function y$e(n,t){if(1&n&&(L(0,"div",8),me(1,v$e,1,3,"bs-month-calendar-view",17),Zn(2,"async"),k()),2&n){const e=N(2);I(),B("ngForOf",va(2,1,e.monthsCalendar))}}function b$e(n,t){if(1&n){const e=vt();L(0,"bs-years-calendar-view",18),ye("onNavigate",function(s){return ie(e),se(N(3).navigateTo(s))})("onViewMode",function(s){return ie(e),se(N(3).setViewMode(s))})("onHover",function(s){return ie(e),se(N(3).yearHoverHandler(s))})("onSelect",function(s){return ie(e),se(N(3).yearSelectHandler(s))}),k()}if(2&n){const e=t.$implicit;dn("bs-datepicker-multiple",N(3).multipleCalendars),B("calendar",e)}}function x$e(n,t){if(1&n&&(L(0,"div",8),me(1,b$e,1,3,"bs-years-calendar-view",17),Zn(2,"async"),k()),2&n){const e=N(2);I(),B("ngForOf",va(2,1,e.yearsCalendar))}}function w$e(n,t){1&n&&(L(0,"div",19)(1,"button",20),U(2,"Apply"),k(),L(3,"button",21),U(4,"Cancel"),k()())}function C$e(n,t){if(1&n){const e=vt();L(0,"div",24)(1,"button",25),ye("click",function(){return ie(e),se(N(3).setToday())}),U(2),k()()}if(2&n){const e=N(3);dn("today-left","left"===e.todayPos)("today-right","right"===e.todayPos)("today-center","center"===e.todayPos),I(2),Ye(e.todayBtnLbl)}}function M$e(n,t){if(1&n){const e=vt();L(0,"div",26)(1,"button",25),ye("click",function(){return ie(e),se(N(3).clearDate())}),U(2),k()()}if(2&n){const e=N(3);dn("clear-left","left"===e.clearPos)("clear-right","right"===e.clearPos)("clear-center","center"===e.clearPos),I(2),Ye(e.clearBtnLbl)}}function T$e(n,t){if(1&n&&(L(0,"div",19),me(1,C$e,3,7,"div",22)(2,M$e,3,7,"div",23),k()),2&n){const e=N(2);I(),B("ngIf",e.showTodayBtn),I(),B("ngIf",e.showClearBtn)}}function S$e(n,t){if(1&n){const e=vt();L(0,"div",27)(1,"bs-custom-date-view",28),ye("onSelect",function(s){return ie(e),se(N(2).setRangeOnCalendar(s))}),k()()}if(2&n){const e=N(2);I(),B("selectedRange",e.chosenRange)("ranges",e.customRanges)("customRangeLabel",e.customRangeBtnLbl)}}function D$e(n,t){if(1&n){const e=vt();L(0,"div",1)(1,"div",2),ye("@datepickerAnimation.done",function(){return ie(e),se(N().positionServiceEnable())}),L(2,"div",3),Zn(3,"async"),me(4,_$e,5,4,"ng-container",4)(5,y$e,3,3,"div",5)(6,x$e,3,3,"div",5),k(),me(7,w$e,5,0,"div",6)(8,T$e,3,2,"div",6),k(),me(9,S$e,2,3,"div",7),k()}if(2&n){const e=N();B("ngClass",e.containerClass),I(),B("@datepickerAnimation",e.animationState),I(),B("ngSwitch",va(3,9,e.viewMode)),I(2),B("ngSwitchCase","day"),I(),B("ngSwitchCase","month"),I(),B("ngSwitchCase","year"),I(),B("ngIf",!1),I(),B("ngIf",e.showTodayBtn||e.showClearBtn),I(),B("ngIf",e.customRanges&&e.customRanges.length>0)}}let Yh=(()=>{class n{constructor(){this.adaptivePosition=!1,this.useUtc=!1,this.isAnimated=!1,this.startView="day",this.returnFocusToInput=!1,this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w",this.showTodayButton=!1,this.showClearButton=!1,this.todayPosition="center",this.clearPosition="right",this.todayButtonLabel="Today",this.clearButtonLabel="Clear",this.customRangeButtonLabel="Custom Range",this.withTimepicker=!1,this.allowedPositions=["top","bottom"],this.keepDatepickerOpened=!1,this.keepDatesOutOfRules=!1}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Use="220ms cubic-bezier(0, 0, 0.2, 1)",Wse=Tl("datepickerAnimation",[su("animated-down",gi({height:"*",overflow:"hidden"})),js("* => animated-down",[gi({height:0,overflow:"hidden"}),sr(Use)]),su("animated-up",gi({height:"*",overflow:"hidden"})),js("* => animated-up",[gi({height:"*",overflow:"hidden"}),sr(Use)]),js("* => unanimated",sr("0s"))]);class Yse{constructor(){this.containerClass="",this.customRanges=[],this.chosenRange=[],this._daysCalendarSub=new ti,this.selectedTimeSub=new ti}set minDate(t){this._effects?.setMinDate(t)}set maxDate(t){this._effects?.setMaxDate(t)}set daysDisabled(t){this._effects?.setDaysDisabled(t)}set datesDisabled(t){this._effects?.setDatesDisabled(t)}set datesEnabled(t){this._effects?.setDatesEnabled(t)}set isDisabled(t){this._effects?.setDisabled(t)}set dateCustomClasses(t){this._effects?.setDateCustomClasses(t)}set dateTooltipTexts(t){this._effects?.setDateTooltipTexts(t)}set daysCalendar$(t){this._daysCalendar$=t,this._daysCalendarSub.unsubscribe(),this._daysCalendarSub.add(this._daysCalendar$.subscribe(e=>{this.multipleCalendars=!!e&&e.length>1}))}get daysCalendar$(){return this._daysCalendar$}setViewMode(t){}navigateTo(t){}dayHoverHandler(t){}weekHoverHandler(t){}monthHoverHandler(t){}yearHoverHandler(t){}timeSelectHandler(t,e){}daySelectHandler(t){}monthSelectHandler(t){}yearSelectHandler(t){}setRangeOnCalendar(t){}setToday(){}clearDate(){}_stopPropagation(t){t.stopPropagation()}}let Vr=(()=>{class n{static#e=this.CALCULATE="[datepicker] calculate dates matrix";static#t=this.FORMAT="[datepicker] format datepicker values";static#n=this.FLAG="[datepicker] set flags";static#i=this.SELECT="[datepicker] select date";static#s=this.NAVIGATE_OFFSET="[datepicker] shift view date";static#r=this.NAVIGATE_TO="[datepicker] change view date";static#o=this.SET_OPTIONS="[datepicker] update render options";static#a=this.HOVER="[datepicker] hover date";static#l=this.CHANGE_VIEWMODE="[datepicker] switch view mode";static#c=this.SET_MIN_DATE="[datepicker] set min date";static#d=this.SET_MAX_DATE="[datepicker] set max date";static#u=this.SET_DAYSDISABLED="[datepicker] set days disabled";static#h=this.SET_DATESDISABLED="[datepicker] set dates disabled";static#f=this.SET_DATESENABLED="[datepicker] set dates enabled";static#p=this.SET_IS_DISABLED="[datepicker] set is disabled";static#m=this.SET_DATE_CUSTOM_CLASSES="[datepicker] set date custom classes";static#g=this.SET_DATE_TOOLTIP_TEXTS="[datepicker] set date tooltip texts";static#_=this.SET_LOCALE="[datepicker] set datepicker locale";static#v=this.SELECT_TIME="[datepicker] select time";static#y=this.SELECT_RANGE="[daterangepicker] select dates range";calculate(){return{type:n.CALCULATE}}format(){return{type:n.FORMAT}}flag(){return{type:n.FLAG}}select(e){return{type:n.SELECT,payload:e}}selectTime(e,i){return{type:n.SELECT_TIME,payload:{date:e,index:i}}}changeViewMode(e){return{type:n.CHANGE_VIEWMODE,payload:e}}navigateTo(e){return{type:n.NAVIGATE_TO,payload:e}}navigateStep(e){return{type:n.NAVIGATE_OFFSET,payload:e}}setOptions(e){return{type:n.SET_OPTIONS,payload:e}}selectRange(e){return{type:n.SELECT_RANGE,payload:e}}hoverDay(e){return{type:n.HOVER,payload:e.isHovered?e.cell.date:null}}minDate(e){return{type:n.SET_MIN_DATE,payload:e}}maxDate(e){return{type:n.SET_MAX_DATE,payload:e}}daysDisabled(e){return{type:n.SET_DAYSDISABLED,payload:e}}datesDisabled(e){return{type:n.SET_DATESDISABLED,payload:e}}datesEnabled(e){return{type:n.SET_DATESENABLED,payload:e}}isDisabled(e){return{type:n.SET_IS_DISABLED,payload:e}}setDateCustomClasses(e){return{type:n.SET_DATE_CUSTOM_CLASSES,payload:e}}setDateTooltipTexts(e){return{type:n.SET_DATE_TOOLTIP_TEXTS,payload:e}}setLocale(e){return{type:n.SET_LOCALE,payload:e}}static#b=this.\u0275fac=function(i){return new(i||n)};static#x=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),CI=(()=>{class n{constructor(){this._defaultLocale="en",this._locale=new xs(this._defaultLocale),this._localeChange=this._locale.asObservable()}get locale(){return this._locale}get localeChange(){return this._localeChange}get currentLocale(){return this._locale.getValue()}use(e){e!==this.currentLocale&&this._locale.next(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),cM=(()=>{class n{constructor(e,i){this._actions=e,this._localeService=i,this._subs=[]}init(e){return this._store=e,this}setValue(e){this._store?.dispatch(this._actions.select(e))}setRangeValue(e){this._store?.dispatch(this._actions.selectRange(e))}setMinDate(e){return this._store?.dispatch(this._actions.minDate(e)),this}setMaxDate(e){return this._store?.dispatch(this._actions.maxDate(e)),this}setDaysDisabled(e){return this._store?.dispatch(this._actions.daysDisabled(e)),this}setDatesDisabled(e){return this._store?.dispatch(this._actions.datesDisabled(e)),this}setDatesEnabled(e){return this._store?.dispatch(this._actions.datesEnabled(e)),this}setDisabled(e){return this._store?.dispatch(this._actions.isDisabled(e)),this}setDateCustomClasses(e){return this._store?.dispatch(this._actions.setDateCustomClasses(e)),this}setDateTooltipTexts(e){return this._store?.dispatch(this._actions.setDateTooltipTexts(e)),this}setOptions(e){const i=Object.assign({locale:this._localeService.currentLocale},e);return this._store?.dispatch(this._actions.setOptions(i)),this}setBindings(e){return this._store?(e.selectedTime=this._store.select(i=>i.selectedTime).pipe(vs(i=>!!i)),e.daysCalendar$=this._store.select(i=>i.flaggedMonths).pipe(vs(i=>!!i)),e.monthsCalendar=this._store.select(i=>i.flaggedMonthsCalendar).pipe(vs(i=>!!i)),e.yearsCalendar=this._store.select(i=>i.yearsCalendarFlagged).pipe(vs(i=>!!i)),e.viewMode=this._store.select(i=>i.view?.mode),e.options$=Nw([this._store.select(i=>i.showWeekNumbers),this._store.select(i=>i.displayMonths)]).pipe(Vn(i=>({showWeekNumbers:i[0],displayMonths:i[1]}))),this):this}setEventHandlers(e){return e.setViewMode=i=>{this._store?.dispatch(this._actions.changeViewMode(i))},e.navigateTo=i=>{this._store?.dispatch(this._actions.navigateStep(i.step))},e.dayHoverHandler=i=>{const s=i.cell;s.isOtherMonth||s.isDisabled||(this._store?.dispatch(this._actions.hoverDay(i)),s.isHovered=i.isHovered)},e.monthHoverHandler=i=>{i.cell.isHovered=i.isHovered},e.yearHoverHandler=i=>{i.cell.isHovered=i.isHovered},this}registerDatepickerSideEffects(){return this._store?(this._subs.push(this._store.select(e=>e.view).subscribe(()=>{this._store?.dispatch(this._actions.calculate())})),this._subs.push(this._store.select(e=>e.monthsModel).pipe(vs(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.format()))),this._subs.push(this._store.select(e=>e.formattedMonths).pipe(vs(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.selectedDate).pipe(vs(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.selectedRange).pipe(vs(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.monthsCalendar).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.yearsCalendarModel).pipe(vs(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.hoveredDate).pipe(vs(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.dateCustomClasses).pipe(vs(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.dateTooltipTexts).pipe(vs(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._localeService.localeChange.subscribe(e=>this._store?.dispatch(this._actions.setLocale(e)))),this):this}destroy(){for(const e of this._subs)e.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(be(Vr),be(CI))};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const W$e={date:new Date,mode:"day"},Gse=Object.assign(new Yh,{locale:"en",view:W$e,selectedRange:[],selectedTime:[],monthViewOptions:{width:7,height:6}});function m5(n,t,e){const i=t&&gu(aI(n,"month"),t,"day"),s=e&&md(zh(n,"month"),e,"day");return i||s||!1}function dM(n,t,e){const i=t&&gu(aI(n,"year"),t,"day"),s=e&&md(zh(n,"year"),e,"day");return i||s||!1}function g5(n,t,e){return!!(t&&qs(t)&&t.length)&&(e&&"year"===e&&!t[0].getDate()?t.some(i=>Wy(n,i,"year")):t.some(i=>Wy(n,i,"date")))}function _5(n,t,e){return!!(t&&qs(t)&&t.length)&&!t.some(i=>Wy(n,i,e||"date"))}function $se(n,t=0){const e=n&&n.yearsCalendarModel&&n.yearsCalendarModel[t];return e?.years[0]&&e.years[0][0]&&e.years[0][0].date}function $$e(n,t){return!n||!t||!n.length&&!n[0].value||n.forEach(e=>(!e||!e.value||e.value instanceof Date||!(e.value instanceof Array&&e.value.length)||(e.value=Xse(e.value,t)),n)),n}function jse(n,t){return!n||!t||n instanceof Array&&!n.length||n instanceof Date?n:Xse(n,t)}function Xse(n,t){return n instanceof Array?n.map(i=>i&&(md(i,t,"date")&&(i=t),i)):n}function qse(n){return n&&Kse(n)}function Zse(n){return n?.length&&n.map(t=>t&&Kse(t)),n}function Kse(n){const t=new Date;return n.setMilliseconds(t.getMilliseconds()),n.setSeconds(t.getSeconds()),n.setMinutes(t.getMinutes()),n.setHours(t.getHours()),n}function v5(n,t){let e=n.initialDate;const i=new Array(n.height);for(let s=0;s<n.height;s++){i[s]=new Array(n.width);for(let r=0;r<n.width;r++)i[s][r]=t(e),e=go(e,n.shift)}return i}function y5(n,t){const e=function nYe(n){return J2(n.getFullYear(),n.getMonth(),1,n.getHours(),n.getMinutes(),n.getSeconds())}(n),i=function Y$e(n,t){if(function sYe(n,t){return n.getDay()===Number(t)}(n,t.firstDayOfWeek))return n;const i=function G$e(n,t){const e=Number(t);if(isNaN(e))return 0;if(0===e)return n;const i=n-e%7;return i<0?i+7:i}(pu(n),t.firstDayOfWeek);return go(n,{day:-i})}(e,t);return{daysMatrix:v5({width:t.width||0,height:t.height||0,initialDate:i,shift:{day:1}},o=>o),month:e}}function X$e(n,t,e){return n.map(i=>i[0]?pc(i[0],t,e):"")}function q$e(n){const t=no(n),e=t.weekdaysShort(),i=t.firstDayOfWeek();return[...e.slice(i),...e.slice(0,i)]}function Qse(n,t){return!t||n>=t}const Q$e=4,J$e=3,e7e={month:1};function Jse(n,t){const e=zh(n,"year");return{months:v5({width:J$e,height:Q$e,initialDate:e,shift:e7e},r=>({date:r,label:pc(r,t.monthLabel,t.locale)})),monthTitle:"",yearTitle:pc(n,t.yearTitle,t.locale),hideRightArrow:!1,hideLeftArrow:!1,disableRightArrow:!1,disableLeftArrow:!1}}const b5=4,x5=4,MI=b5*x5,ere=-1*(Math.floor(MI/2)-1),n7e={year:1};function tre(n,t,e){const i=function i7e(n,t){return t&&n.getFullYear()>=t.getFullYear()&&n.getFullYear()<t.getFullYear()+MI?t:go(n,{year:ere})}(n,e),r=v5({width:x5,height:b5,initialDate:i,shift:n7e},a=>({date:a,label:pc(a,t.yearLabel,t.locale)})),o=function s7e(n,t){return`${pc(n[0][0].date,t.yearTitle,t.locale)} - ${pc(n[b5-1][x5-1].date,t.yearTitle,t.locale)}`}(r,t);return{years:r,monthTitle:"",yearTitle:o,hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}function w5(n,t){!n||!isNaN(n.getTime())||(n.setHours(t.getHours()),n.setMinutes(t.getMinutes()),n.setSeconds(t.getSeconds()),n.setMilliseconds(t.getMilliseconds()))}function nre(n=Gse,t){switch(t.type){case Vr.CALCULATE:return function o7e(n){if(!n.view)return n;let t;t=n.displayOneMonthRange&&ire(n.view.date,n.minDate,n.maxDate)?1:n.displayMonths||1;let e=n.view.date;if("day"===n.view.mode&&n.monthViewOptions){n.showPreviousMonth&&n.selectedRange&&0===n.selectedRange.length&&(e=go(e,{month:-1})),n.monthViewOptions.firstDayOfWeek=no(n.locale).firstDayOfWeek();let i=new Array(t);for(let s=0;s<t;s++)i[s]=y5(e,n.monthViewOptions),e=go(e,{month:1});if(n.preventChangeToNextMonth&&n.flaggedMonths&&n.hoveredDate){const s=y5(n.view.date,n.monthViewOptions);n.flaggedMonths.length&&n.flaggedMonths[1].month.getMonth()===s.month.getMonth()&&(i=n.flaggedMonths.map(r=>n.monthViewOptions?y5(r.month,n.monthViewOptions):null).filter(r=>null!==r))}return Object.assign({},n,{monthsModel:i})}if("month"===n.view.mode){const i=new Array(t);for(let s=0;s<t;s++)i[s]=Jse(e,uM(n)),e=go(e,{year:1});return Object.assign({},n,{monthsCalendar:i})}if("year"===n.view.mode){const i=new Array(t);for(let s=0;s<t;s++)i[s]=tre(e,uM(n),"year"===n.minMode?$se(n,s):void 0),e=go(e,{year:MI});return Object.assign({},n,{yearsCalendarModel:i})}return n}(n);case Vr.FORMAT:return function a7e(n){if(!n.view)return n;if("day"===n.view.mode&&n.monthsModel){const i=n.monthsModel.map((s,r)=>function j$e(n,t,e){return{month:n.month,monthTitle:pc(n.month,t.monthTitle,t.locale),yearTitle:pc(n.month,t.yearTitle,t.locale),weekNumbers:X$e(n.daysMatrix,t.weekNumbers,t.locale),weekdays:q$e(t.locale),weeks:n.daysMatrix.map((i,s)=>({days:i.map((r,o)=>({date:r,label:pc(r,t.dayLabel,t.locale),monthIndex:e,weekIndex:s,dayIndex:o}))})),hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}(s,uM(n),r));return Object.assign({},n,{formattedMonths:i})}const t=n.displayMonths||1;let e=n.view.date;if("month"===n.view.mode){const i=new Array(t);for(let s=0;s<t;s++)i[s]=Jse(e,uM(n)),e=go(e,{year:1});return Object.assign({},n,{monthsCalendar:i})}if("year"===n.view.mode){const i=new Array(t);for(let s=0;s<t;s++)i[s]=tre(e,uM(n)),e=go(e,{year:16});return Object.assign({},n,{yearsCalendarModel:i})}return n}(n);case Vr.FLAG:return function l7e(n){if(!n.view)return n;const t=ire(n.view.date,n.minDate,n.maxDate)?1:n.displayMonths;if(n.formattedMonths&&"day"===n.view.mode){const e=n.formattedMonths.map((i,s)=>function Z$e(n,t){return n.weeks.forEach(e=>{e.days.forEach((i,s)=>{const r=!Vy(i.date,n.month),o=!r&&Cp(i.date,t.hoveredDate),a=!r&&t.selectedRange&&Cp(i.date,t.selectedRange[0]),l=!r&&t.selectedRange&&Cp(i.date,t.selectedRange[1]),c=!r&&Cp(i.date,t.selectedDate)||a||l,d=!r&&t.selectedRange&&function K$e(n,t,e){return!!(n&&t&&t[0])&&(t[1]?n>t[0]&&n<=t[1]:!!e&&n>t[0]&&n<=e)}(i.date,t.selectedRange,t.hoveredDate),u=t.isDisabled||gu(i.date,t.minDate,"day")||md(i.date,t.maxDate,"day")||function S6e(n,t){return!(typeof t>"u"||!t||!t.length)&&t.some(e=>e===n.getDay())}(i.date,t.daysDisabled)||g5(i.date,t.datesDisabled)||_5(i.date,t.datesEnabled),m=!r&&Cp(i.date,new Date),g=t.dateCustomClasses&&t.dateCustomClasses.map(y=>Cp(i.date,y.date)?y.classes:[]).reduce((y,C)=>y.concat(C),[]).join(" ")||"",v=t.dateTooltipTexts&&t.dateTooltipTexts.map(y=>Cp(i.date,y.date)?y.tooltipText:"").reduce((y,C)=>(y.push(C),y),[]).join(" ")||"",_=Object.assign({},i,{isOtherMonth:r,isHovered:o,isSelected:c,isSelectionStart:a,isSelectionEnd:l,isInRange:d,isDisabled:u,isToday:m,customClasses:g,tooltipText:v});(i.isOtherMonth!==_.isOtherMonth||i.isHovered!==_.isHovered||i.isSelected!==_.isSelected||i.isSelectionStart!==_.isSelectionStart||i.isSelectionEnd!==_.isSelectionEnd||i.isDisabled!==_.isDisabled||i.isInRange!==_.isInRange||i.customClasses!==_.customClasses||i.tooltipText!==_.tooltipText)&&(e.days[s]=_)})}),n.hideLeftArrow=t.isDisabled||!!t.monthIndex&&t.monthIndex>0&&t.monthIndex!==t.displayMonths,n.hideRightArrow=t.isDisabled||(!!t.monthIndex||0===t.monthIndex)&&!!t.displayMonths&&t.monthIndex<t.displayMonths&&t.monthIndex+1!==t.displayMonths,n.disableLeftArrow=m5(go(n.month,{month:-1}),t.minDate,t.maxDate),n.disableRightArrow=m5(go(n.month,{month:1}),t.minDate,t.maxDate),n}(i,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,daysDisabled:n.daysDisabled,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,hoveredDate:n.hoveredDate,selectedDate:n.selectedDate,selectedRange:n.selectedRange,displayMonths:t,dateCustomClasses:n.dateCustomClasses,dateTooltipTexts:n.dateTooltipTexts,monthIndex:s}));return Object.assign({},n,{flaggedMonths:e})}if("month"===n.view.mode&&n.monthsCalendar){const e=n.monthsCalendar.map((i,s)=>function t7e(n,t){return n.months.forEach((e,i)=>{e.forEach((s,r)=>{let o;const a=Vy(s.date,t.hoveredMonth),l=t.isDisabled||g5(s.date,t.datesDisabled)||_5(s.date,t.datesEnabled,"month")||m5(s.date,t.minDate,t.maxDate);!t.selectedDate&&t.selectedRange?(o=Vy(s.date,t.selectedRange[0]),o||(o=Vy(s.date,t.selectedRange[1]))):o=Vy(s.date,t.selectedDate);const c=Object.assign(s,{isHovered:a,isDisabled:l,isSelected:o});(s.isHovered!==c.isHovered||s.isDisabled!==c.isDisabled||s.isSelected!==c.isSelected)&&(n.months[i][r]=c)})}),n.hideLeftArrow=!!t.monthIndex&&t.monthIndex>0&&t.monthIndex!==t.displayMonths,n.hideRightArrow=(!!t.monthIndex||0===t.monthIndex)&&(!!t.displayMonths||0===t.displayMonths)&&t.monthIndex<t.displayMonths&&t.monthIndex+1!==t.displayMonths,n.disableLeftArrow=dM(go(n.months[0][0].date,{year:-1}),t.minDate,t.maxDate),n.disableRightArrow=dM(go(n.months[0][0].date,{year:1}),t.minDate,t.maxDate),n}(i,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,hoveredMonth:n.hoveredMonth,selectedDate:n.selectedDate,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,selectedRange:n.selectedRange,displayMonths:t,monthIndex:s}));return Object.assign({},n,{flaggedMonthsCalendar:e})}if("year"===n.view.mode&&n.yearsCalendarModel){const e=n.yearsCalendarModel.map((i,s)=>function r7e(n,t){n.years.forEach((s,r)=>{s.forEach((o,a)=>{let l;const c=By(o.date,t.hoveredYear),d=t.isDisabled||g5(o.date,t.datesDisabled,"year")||_5(o.date,t.datesEnabled,"year")||dM(o.date,t.minDate,t.maxDate);!t.selectedDate&&t.selectedRange?(l=By(o.date,t.selectedRange[0]),l||(l=By(o.date,t.selectedRange[1]))):l=By(o.date,t.selectedDate);const u=Object.assign(o,{isHovered:c,isDisabled:d,isSelected:l});(o.isHovered!==u.isHovered||o.isDisabled!==u.isDisabled||o.isSelected!==u.isSelected)&&(n.years[r][a]=u)})}),n.hideLeftArrow=!!t.yearIndex&&t.yearIndex>0&&t.yearIndex!==t.displayMonths,n.hideRightArrow=!!t.yearIndex&&!!t.displayMonths&&t.yearIndex<t.displayMonths&&t.yearIndex+1!==t.displayMonths,n.disableLeftArrow=dM(go(n.years[0][0].date,{year:-1}),t.minDate,t.maxDate);const e=n.years.length-1;return n.disableRightArrow=dM(go(n.years[e][n.years[e].length-1].date,{year:1}),t.minDate,t.maxDate),n}(i,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,hoveredYear:n.hoveredYear,selectedDate:n.selectedDate,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,selectedRange:n.selectedRange,displayMonths:t,yearIndex:s}));return Object.assign({},n,{yearsCalendarFlagged:e})}return n}(n);case Vr.NAVIGATE_OFFSET:return function c7e(n,t){if(!n.view)return n;const e=function d7e(n,t){if(n.view){if("year"===n.view.mode&&"year"===n.minMode){const e=$se(n,0);if(e){const i=go(e,{year:-ere});return go(i,t.payload)}}return go(zh(n.view.date,"month"),t.payload)}}(n,t);if(!e)return n;return Object.assign({},n,{view:{mode:n.view.mode,date:e}})}(n,t);case Vr.NAVIGATE_TO:{const e=t.payload;if(!n.view||!e.unit)return n;const i=function _Ye(n,t){return J2(Hy(n.getFullYear(),t.year),Hy(n.getMonth(),t.month),1,Hy(n.getHours(),t.hour),Hy(n.getMinutes(),t.minute),Hy(n.getSeconds(),t.seconds),Hy(n.getMilliseconds(),t.milliseconds))}(n.view.date,e.unit);let s,r;return Qse(e.viewMode,n.minMode)?(r=e.viewMode,s={view:{date:i,mode:r}}):(r=n.view.mode,s={selectedDate:i,view:{date:i,mode:r}}),Object.assign({},n,s)}case Vr.CHANGE_VIEWMODE:return Qse(t.payload,n.minMode)&&n.view?Object.assign({},n,{view:{date:n.view.date,mode:t.payload}}):n;case Vr.HOVER:return Object.assign({},n,{hoveredDate:t.payload});case Vr.SELECT:{if(!n.view)return n;const e={selectedDate:t.payload,view:n.view};if(Array.isArray(n.selectedTime)){const o=n.selectedTime[0];e.selectedDate&&o&&w5(e.selectedDate,o)}const i=n.view.mode,r=C5(t.payload||n.view.date,n.minDate,n.maxDate);return e.view={mode:i,date:r},Object.assign({},n,e)}case Vr.SELECT_TIME:{const{date:e,index:i}=t.payload,s=n.selectedTime?[...n.selectedTime]:[];return s[i]=e,Object.assign({},n,{selectedTime:s})}case Vr.SET_OPTIONS:{if(!n.view)return n;const e=t.payload,i=e.minMode?e.minMode:n.view.mode,r=C5(wp(e.value)&&e.value||qs(e.value)&&wp(e.value[0])&&e.value[0]||n.view.date,e.minDate,e.maxDate);return e.view={mode:i,date:r},e.value&&(qs(e.value)&&(e.selectedRange=e.value,e.selectedTime=e.value.map(o=>o)),e.value instanceof Date&&(e.selectedDate=e.value,e.selectedTime=[e.value])),Object.assign({},n,e)}case Vr.SELECT_RANGE:{if(!n.view)return n;const e={selectedRange:t.payload,view:n.view};e.selectedRange?.forEach((o,a)=>{if(Array.isArray(n.selectedTime)){const l=n.selectedTime[a];l&&w5(o,l)}});const i=n.view.mode,r=C5(t.payload&&t.payload[0]||n.view.date,n.minDate,n.maxDate);return e.view={mode:i,date:r},Object.assign({},n,e)}case Vr.SET_MIN_DATE:return Object.assign({},n,{minDate:t.payload});case Vr.SET_MAX_DATE:return Object.assign({},n,{maxDate:t.payload});case Vr.SET_IS_DISABLED:return Object.assign({},n,{isDisabled:t.payload});case Vr.SET_DATE_CUSTOM_CLASSES:return Object.assign({},n,{dateCustomClasses:t.payload});case Vr.SET_DATE_TOOLTIP_TEXTS:return Object.assign({},n,{dateTooltipTexts:t.payload});default:return n}}function uM(n){return{locale:n.locale,monthTitle:n.monthTitle,yearTitle:n.yearTitle,dayLabel:n.dayLabel,monthLabel:n.monthLabel,yearLabel:n.yearLabel,weekNumbers:n.weekNumbers}}function C5(n,t,e){const i=Array.isArray(n)?n[0]:n;return t&&md(t,i,"day")?t:e&&gu(e,i,"day")?e:i}function ire(n,t,e){return!(!e||!Wy(e,n,"day"))||t&&e&&t.getMonth()===e.getMonth()}let hM=(()=>{class n extends yI{constructor(){const e=new xs({type:"[datepicker] dispatcher init"});super(e,nre,new Sse(Gse,e,nre))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),sre=(()=>{class n{constructor(){this.onSelect=new Fe}selectFromRanges(e){this.onSelect.emit(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ht({type:n,selectors:[["bs-custom-date-view"]],inputs:{ranges:"ranges",selectedRange:"selectedRange",customRangeLabel:"customRangeLabel"},outputs:{onSelect:"onSelect"},decls:2,vars:1,consts:[[1,"bs-datepicker-predefined-btns"],["type","button","class","btn",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"btn",3,"click"]],template:function(i,s){1&i&&(L(0,"div",0),me(1,yGe,2,3,"button",1),k()),2&i&&(I(),B("ngForOf",s.ranges))},dependencies:[nr],encapsulation:2,changeDetection:0})}return n})();var Qy=function(n){return n[n.UP=0]="UP",n[n.DOWN=1]="DOWN",n}(Qy||{});let Jy,u7e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ht({type:n,selectors:[["bs-current-date"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"current-timedate"]],template:function(i,s){1&i&&(L(0,"div",0)(1,"span"),U(2),k()()),2&i&&(I(2),Ye(s.title))},encapsulation:2})}return n})(),h7e=(()=>{class n{constructor(){this.ampm="ok",this.hours=0,this.minutes=0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ht({type:n,selectors:[["bs-timepicker"]],decls:16,vars:3,consts:[[1,"bs-timepicker-container"],[1,"bs-timepicker-controls"],["type","button",1,"bs-decrease"],["type","text","placeholder","00",3,"value"],["type","button",1,"bs-increase"],["type","button",1,"switch-time-format"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==","alt",""]],template:function(i,s){1&i&&(L(0,"div",0)(1,"div",1)(2,"button",2),U(3,"-"),k(),Te(4,"input",3),L(5,"button",4),U(6,"+"),k()(),L(7,"div",1)(8,"button",2),U(9,"-"),k(),Te(10,"input",3),L(11,"button",4),U(12,"+"),k()(),L(13,"button",5),U(14),Te(15,"img",6),k()()),2&i&&(I(4),B("value",s.hours),I(6),B("value",s.minutes),I(4),Ot("",s.ampm," "))},encapsulation:2})}return n})(),M5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ht({type:n,selectors:[["bs-calendar-layout"]],ngContentSelectors:CGe,decls:6,vars:2,consts:[["title","hey there",4,"ngIf"],[1,"bs-datepicker-head"],[1,"bs-datepicker-body"],[4,"ngIf"],["title","hey there"]],template:function(i,s){1&i&&(jl(wGe),me(0,bGe,1,0,"bs-current-date",0),L(1,"div",1),Bo(2),k(),L(3,"div",2),Bo(4,1),k(),me(5,xGe,1,0,"bs-timepicker",3)),2&i&&(B("ngIf",!1),I(5),B("ngIf",!1))},dependencies:[$s,u7e,h7e],encapsulation:2})}return n})(),f7e=(()=>{class n{constructor(e,i,s){this._config=e,this._elRef=i,this._renderer=s,this.day={date:new Date,label:""}}ngOnInit(){this.day?.isToday&&this._config&&this._config.customTodayClass&&this._renderer.addClass(this._elRef.nativeElement,this._config.customTodayClass),"string"==typeof this.day?.customClasses&&this.day?.customClasses.split(" ").filter(e=>e).forEach(e=>{this._renderer.addClass(this._elRef.nativeElement,e)})}static#e=this.\u0275fac=function(i){return new(i||n)(K(Yh),K(gn),K(Js))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["","bsDatepickerDayDecorator",""]],hostVars:16,hostBindings:function(i,s){2&i&&dn("disabled",s.day.isDisabled)("is-highlighted",s.day.isHovered)("is-other-month",s.day.isOtherMonth)("is-active-other-month",s.day.isOtherMonthHovered)("in-range",s.day.isInRange)("select-start",s.day.isSelectionStart)("select-end",s.day.isSelectionEnd)("selected",s.day.isSelected)},inputs:{day:"day"},attrs:MGe,decls:1,vars:1,template:function(i,s){1&i&&U(0),2&i&&Ye(s.day&&s.day.label||"")},encapsulation:2,changeDetection:0})}return n})(),T5=(()=>{class n{constructor(){this.isDisabled=!1,this.onNavigate=new Fe,this.onViewMode=new Fe}navTo(e){this.onNavigate.emit(e?Qy.DOWN:Qy.UP)}view(e){this.isDisabled||this.onViewMode.emit(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ht({type:n,selectors:[["bs-datepicker-navigation-view"]],inputs:{calendar:"calendar",isDisabled:"isDisabled"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode"},decls:12,vars:9,consts:[["type","button",1,"previous",3,"disabled","click"],[4,"ngIf"],["type","button",1,"current",3,"disabled","click"],["type","button",1,"next",3,"disabled","click"]],template:function(i,s){1&i&&(L(0,"button",0),ye("click",function(){return s.navTo(!0)}),L(1,"span"),U(2,"\u2039"),k()(),me(3,TGe,5,2,"ng-container",1),U(4," \u200b "),L(5,"button",2),ye("click",function(){return s.view("year")}),L(6,"span"),U(7),k()(),U(8," \u200b "),L(9,"button",3),ye("click",function(){return s.navTo(!1)}),L(10,"span"),U(11,"\u203a"),k()()),2&i&&(vr("visibility",s.calendar.hideLeftArrow?"hidden":"visible"),B("disabled",s.calendar.disableLeftArrow),I(3),B("ngIf",s.calendar&&s.calendar.monthTitle),I(2),B("disabled",s.isDisabled),I(2),Ye(s.calendar.yearTitle),I(2),vr("visibility",s.calendar.hideRightArrow?"hidden":"visible"),B("disabled",s.calendar.disableRightArrow))},dependencies:[$s],encapsulation:2,changeDetection:0})}return n})(),rre=(()=>{class n{constructor(e){this._config=e,this.onNavigate=new Fe,this.onViewMode=new Fe,this.onSelect=new Fe,this.onHover=new Fe,this.onHoverWeek=new Fe,this.isiOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,this._config.dateTooltipTexts&&this._config.dateTooltipTexts.length>0&&(this.isShowTooltip=!0)}navigateTo(e){this.onNavigate.emit({step:{month:Qy.DOWN===e?-1:1}})}changeViewMode(e){this.onViewMode.emit(e)}selectDay(e){this.onSelect.emit(e)}selectWeek(e){if(!this._config.selectWeek&&!this._config.selectWeekDateRange||0===e.days.length)return;if(this._config.selectWeek&&e.days[0]&&!e.days[0].isDisabled&&this._config.selectFromOtherMonth)return void this.onSelect.emit(e.days[0]);const i=e.days.find(s=>(this._config.selectFromOtherMonth||!s.isOtherMonth)&&!s.isDisabled);if(this.onSelect.emit(i),this._config.selectWeekDateRange){const r=e.days.slice(0).reverse().find(o=>(this._config.selectFromOtherMonth||!o.isOtherMonth)&&!o.isDisabled);this.onSelect.emit(r)}}weekHoverHandler(e,i){(this._config.selectWeek||this._config.selectWeekDateRange)&&e.days.find(r=>(this._config.selectFromOtherMonth||!r.isOtherMonth)&&!r.isDisabled)&&(e.isHovered=i,this.isWeekHovered=i,this.onHoverWeek.emit(e))}hoverDay(e,i){this._config.selectFromOtherMonth&&e.isOtherMonth&&(e.isOtherMonthHovered=i),this._config.dateTooltipTexts&&(e.tooltipText="",this._config.dateTooltipTexts.forEach(s=>{Cp(s.date,e.date)&&(e.tooltipText=s.tooltipText)})),this.onHover.emit({cell:e,isHovered:i})}static#e=this.\u0275fac=function(i){return new(i||n)(K(Yh))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["bs-days-calendar-view"]],inputs:{calendar:"calendar",options:"options",isDisabled:"isDisabled"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"},decls:9,vars:5,consts:[[3,"calendar","isDisabled","onNavigate","onViewMode"],["role","grid",1,"days","weeks"],[4,"ngIf"],["aria-label","weekday",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["aria-label","weekday"],["class","week",3,"active-week",4,"ngIf"],["role","gridcell",4,"ngFor","ngForOf"],[1,"week"],[3,"click",4,"ngIf"],[3,"click","mouseenter","mouseleave",4,"ngIf"],[3,"click"],[3,"click","mouseenter","mouseleave"],["role","gridcell"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click"]],template:function(i,s){1&i&&(L(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),ye("onNavigate",function(o){return s.navigateTo(o)})("onViewMode",function(o){return s.changeViewMode(o)}),k(),L(2,"table",1)(3,"thead")(4,"tr"),me(5,SGe,1,0,"th",2)(6,DGe,2,1,"th",3),k()(),L(7,"tbody"),me(8,OGe,3,2,"tr",4),k()()()),2&i&&(I(),B("calendar",s.calendar)("isDisabled",!!s.isDisabled),I(4),B("ngIf",s.options&&s.options.showWeekNumbers),I(),B("ngForOf",s.calendar.weekdays),I(2),B("ngForOf",s.calendar.weeks))},dependencies:[nr,$s,_Ge,M5,f7e,T5],encapsulation:2})}return n})(),ore=(()=>{class n{constructor(){this.onNavigate=new Fe,this.onViewMode=new Fe,this.onSelect=new Fe,this.onHover=new Fe}navigateTo(e){this.onNavigate.emit({step:{year:Qy.DOWN===e?-1:1}})}viewMonth(e){this.onSelect.emit(e)}hoverMonth(e,i){this.onHover.emit({cell:e,isHovered:i})}changeViewMode(e){this.onViewMode.emit(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ht({type:n,selectors:[["bs-month-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"months"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(i,s){1&i&&(L(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),ye("onNavigate",function(o){return s.navigateTo(o)})("onViewMode",function(o){return s.changeViewMode(o)}),k(),L(2,"table",1)(3,"tbody"),me(4,NGe,2,1,"tr",2),k()()()),2&i&&(I(),B("calendar",s.calendar),I(3),B("ngForOf",null==s.calendar?null:s.calendar.months))},dependencies:[nr,M5,T5],encapsulation:2})}return n})(),are=(()=>{class n{constructor(){this.onNavigate=new Fe,this.onViewMode=new Fe,this.onSelect=new Fe,this.onHover=new Fe}navigateTo(e){this.onNavigate.emit({step:{year:(Qy.DOWN===e?-1:1)*MI}})}viewYear(e){this.onSelect.emit(e)}hoverYear(e,i){this.onHover.emit({cell:e,isHovered:i})}changeViewMode(e){this.onViewMode.emit(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ht({type:n,selectors:[["bs-years-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"years"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(i,s){1&i&&(L(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),ye("onNavigate",function(o){return s.navigateTo(o)})("onViewMode",function(o){return s.changeViewMode(o)}),k(),L(2,"table",1)(3,"tbody"),me(4,BGe,2,1,"tr",2),k()()()),2&i&&(I(),B("calendar",s.calendar),I(3),B("ngForOf",null==s.calendar?null:s.calendar.years))},dependencies:[nr,M5,T5],encapsulation:2})}return n})(),p7e=(()=>{class n extends Yse{set value(e){this._effects?.setValue(e)}get isDatePickerDisabled(){return!!this._config.isDisabled}get isDatepickerDisabled(){return this.isDatePickerDisabled?"":null}get isDatepickerReadonly(){return this.isDatePickerDisabled?"":null}constructor(e,i,s,r,o,a,l){super(),this._config=i,this._store=s,this._element=r,this._actions=o,this._positionService=l,this.valueChange=new Fe,this.animationState="void",this.isRangePicker=!1,this._subs=[],this._effects=a,e.setStyle(r.nativeElement,"display","block"),e.setStyle(r.nativeElement,"position","absolute")}ngOnInit(){let e;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),this._positionService.event$?.pipe(Ta(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.containerClass=this._config.containerClass,this.showTodayBtn=this._config.showTodayButton,this.todayBtnLbl=this._config.todayButtonLabel,this.todayPos=this._config.todayPosition,this.showClearBtn=this._config.showClearButton,this.clearBtnLbl=this._config.clearButtonLabel,this.clearPos=this._config.clearPosition,this.customRangeBtnLbl=this._config.customRangeButtonLabel,this.withTimepicker=this._config.withTimepicker,this._effects?.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedDate).subscribe(i=>{e=i,this.valueChange.emit(i)})),this._subs.push(this._store.select(i=>i.selectedTime).subscribe(i=>{!i||!i[0]||!(i[0]instanceof Date)||i[0]===e||this.valueChange.emit(i[0])})),this._store.dispatch(this._actions.changeViewMode(this._config.startView))}ngAfterViewInit(){this.selectedTimeSub.add(this.selectedTime?.subscribe(e=>{Array.isArray(e)&&e.length>=1&&this.startTimepicker?.writeValue(e[0])})),this.startTimepicker?.registerOnChange(e=>{this.timeSelectHandler(e,0)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(e,i){this._store.dispatch(this._actions.selectTime(e,i))}daySelectHandler(e){!e||(this.isOtherMonthsActive?e.isDisabled:e.isOtherMonth||e.isDisabled)||this._store.dispatch(this._actions.select(e.date))}monthSelectHandler(e){!e||e.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{month:Ti(e.date),year:rr(e.date)},viewMode:"day"}))}yearSelectHandler(e){!e||e.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{year:rr(e.date)},viewMode:"month"}))}setToday(){this._store.dispatch(this._actions.select(new Date))}clearDate(){this._store.dispatch(this._actions.select(void 0))}ngOnDestroy(){for(const e of this._subs)e.unsubscribe();this.selectedTimeSub.unsubscribe(),this._effects?.destroy()}static#e=this.\u0275fac=function(i){return new(i||n)(K(Js),K(Yh),K(hM),K(gn),K(Vr),K(cM),K(Ky))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["bs-datepicker-container"]],viewQuery:function(i,s){if(1&i&&$r(zse,5),2&i){let r;Bs(r=Hs())&&(s.startTimepicker=r.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostVars:2,hostBindings:function(i,s){1&i&&ye("click",function(o){return s._stopPropagation(o)}),2&i&&Nt("disabled",s.isDatepickerDisabled)("readonly",s.isDatepickerReadonly)},features:[pi([hM,cM]),Jn],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],[3,"disabled"],["startTP",""],[3,"disabled",4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(i,s){1&i&&(me(0,JGe,10,11,"div",0),Zn(1,"async")),2&i&&B("ngIf",va(1,1,s.viewMode))},dependencies:[Zl,nr,$s,yw,FO,f5,sre,rre,ore,are,xw],encapsulation:2,data:{animation:[Wse]}})}return n})(),m7e=(()=>{class n{get readonlyValue(){return this.isDisabled?"":null}constructor(e,i,s,r,o){this._config=e,this._elementRef=i,this._renderer=s,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new Gt,this.isDisabled=!1,this.bsValueChange=new Fe,this._subs=[],this._dateInputFormat$=new Gt,Object.assign(this,this._config),this._datepicker=o.createLoader(i,r,s),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new xs(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(e){this.isOpen$.next(e)}set bsValue(e){this._bsValue&&e&&this._bsValue.getTime()===e.getTime()||(!this._bsValue&&e&&!this._config.withTimepicker&&w5(e,new Date),e&&this.bsConfig?.initCurrentTime&&(e=qse(e)),this.initPreviousValue(),this._bsValue=e,this.bsValueChange.emit(e))}get dateInputFormat$(){return this._dateInputFormat$}ngOnInit(){this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig(),this.initPreviousValue()}initPreviousValue(){Jy=this._bsValue}ngOnChanges(e){e.bsConfig&&(e.bsConfig.currentValue?.initCurrentTime&&e.bsConfig.currentValue?.initCurrentTime!==e.bsConfig.previousValue?.initCurrentTime&&this._bsValue&&(this.initPreviousValue(),this._bsValue=qse(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._dateInputFormat$.next(this.bsConfig&&this.bsConfig.dateInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(e.minDate&&(this._datepickerRef.instance.minDate=this.minDate),e.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),e.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),e.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),e.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),e.isDisabled&&(this._datepickerRef.instance.isDisabled=this.isDisabled),e.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses),e.dateTooltipTexts&&(this._datepickerRef.instance.dateTooltipTexts=this.dateTooltipTexts))}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(e=>{this._datepickerRef&&(this._datepickerRef.instance.value=e)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.subscribe(e=>{this.initPreviousValue(),this.bsValue=e,!this.keepDatepickerModalOpened()&&this.hide()}))}keepDatepickerModalOpened(){return!!(Jy&&this.bsConfig?.keepDatepickerOpened&&this._config.withTimepicker)&&this.isDateSame()}isDateSame(){return Jy instanceof Date&&this._bsValue?.getDate()===Jy?.getDate()&&this._bsValue?.getMonth()===Jy?.getMonth()&&this._bsValue?.getFullYear()===Jy?.getFullYear()}ngAfterViewInit(){this.isOpen$.pipe(vs(e=>e!==this.isOpen),Ql(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:Yh,useValue:this._config}).attach(p7e).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}hide(){this.isOpen&&this._datepicker.hide();for(const e of this._subs)e.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}setConfig(){this._config=Object.assign({},this._config,this.bsConfig,{value:this._config.keepDatesOutOfRules?this._bsValue:jse(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,dateTooltipTexts:this.dateTooltipTexts||this.bsConfig&&this.bsConfig.dateTooltipTexts,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,minMode:this.minMode||this.bsConfig&&this.bsConfig.minMode,initCurrentTime:this.bsConfig?.initCurrentTime,keepDatepickerOpened:this.bsConfig?.keepDatepickerOpened,keepDatesOutOfRules:this.bsConfig?.keepDatesOutOfRules})}unsubscribeSubscriptions(){this._subs?.length&&(this._subs.map(e=>e.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}static#e=this.\u0275fac=function(i){return new(i||n)(K(Yh),K(gn),K(Js),K(Ao),K(lM))};static#t=this.\u0275dir=ee({type:n,selectors:[["","bsDatepicker",""]],hostVars:1,hostBindings:function(i,s){2&i&&Nt("readonly",s.readonlyValue)},inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled",dateCustomClasses:"dateCustomClasses",dateTooltipTexts:"dateTooltipTexts",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDatepicker"],features:[Ii]})}return n})(),g7e=(()=>{class n extends Yse{set value(e){this._effects?.setRangeValue(e)}get isDatePickerDisabled(){return!!this._config.isDisabled}get isDatepickerDisabled(){return this.isDatePickerDisabled?"":null}get isDatepickerReadonly(){return this.isDatePickerDisabled?"":null}constructor(e,i,s,r,o,a,l){super(),this._config=i,this._store=s,this._element=r,this._actions=o,this._positionService=l,this.valueChange=new Fe,this.animationState="void",this._rangeStack=[],this.chosenRange=[],this._subs=[],this.isRangePicker=!0,this._effects=a,this.customRanges=this._config.ranges||[],this.customRangeBtnLbl=this._config.customRangeButtonLabel,e.setStyle(r.nativeElement,"display","block"),e.setStyle(r.nativeElement,"position","absolute")}ngOnInit(){let e;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),this._positionService.event$?.pipe(Ta(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.containerClass=this._config.containerClass,this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.withTimepicker=this._config.withTimepicker,this._effects?.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedRange).subscribe(i=>{e=i,this.valueChange.emit(i),this.chosenRange=i||[]})),this._subs.push(this._store.select(i=>i.selectedTime).subscribe(i=>{!i||!i[0]||!i[1]||!(i[0]instanceof Date)||!(i[1]instanceof Date)||e&&i[0]===e[0]&&i[1]===e[1]||(this.valueChange.emit(i),this.chosenRange=i||[])}))}ngAfterViewInit(){this.selectedTimeSub.add(this.selectedTime?.subscribe(e=>{Array.isArray(e)&&e.length>=2&&(this.startTimepicker?.writeValue(e[0]),this.endTimepicker?.writeValue(e[1]))})),this.startTimepicker?.registerOnChange(e=>{this.timeSelectHandler(e,0)}),this.endTimepicker?.registerOnChange(e=>{this.timeSelectHandler(e,1)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(e,i){this._store.dispatch(this._actions.selectTime(e,i))}daySelectHandler(e){!e||(this.isOtherMonthsActive?e.isDisabled:e.isOtherMonth||e.isDisabled)||this.rangesProcessing(e)}monthSelectHandler(e){if(e&&!e.isDisabled){if(e.isSelected=!0,"month"!==this._config.minMode){if(e.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{month:Ti(e.date),year:rr(e.date)},viewMode:"day"}))}this.rangesProcessing(e)}}yearSelectHandler(e){if(e&&!e.isDisabled){if(e.isSelected=!0,"year"!==this._config.minMode){if(e.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{year:rr(e.date)},viewMode:"month"}))}this.rangesProcessing(e)}}rangesProcessing(e){1===this._rangeStack.length&&(this._rangeStack=e.date>=this._rangeStack[0]?[this._rangeStack[0],e.date]:[e.date]),this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(e.date),0===this._rangeStack.length&&(this._rangeStack=[e.date],this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(e.date)),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[])}ngOnDestroy(){for(const e of this._subs)e.unsubscribe();this.selectedTimeSub.unsubscribe(),this._effects?.destroy()}setRangeOnCalendar(e){e&&(this._rangeStack=e.value instanceof Date?[e.value]:e.value),this._store.dispatch(this._actions.selectRange(this._rangeStack))}setMaxDateRangeOnCalendar(e){let i=new Date(e);if(this._config.maxDate){const s=this._config.maxDate.getTime(),r=e.getTime()+864e5*(this._config.maxDateRange||0);i=r>s?new Date(this._config.maxDate):new Date(r)}else i.setDate(e.getDate()+(this._config.maxDateRange||0));this._effects?.setMaxDate(i)}static#e=this.\u0275fac=function(i){return new(i||n)(K(Js),K(Yh),K(hM),K(gn),K(Vr),K(cM),K(Ky))};static#t=this.\u0275cmp=Ht({type:n,selectors:[["bs-daterangepicker-container"]],viewQuery:function(i,s){if(1&i&&($r(zse,5),$r(f$e,5)),2&i){let r;Bs(r=Hs())&&(s.startTimepicker=r.first),Bs(r=Hs())&&(s.endTimepicker=r.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostVars:2,hostBindings:function(i,s){1&i&&ye("click",function(o){return s._stopPropagation(o)}),2&i&&Nt("disabled",s.isDatepickerDisabled)("readonly",s.isDatepickerReadonly)},features:[pi([hM,cM]),Jn],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],[3,"disabled"],["startTP",""],[3,"disabled",4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(i,s){1&i&&(me(0,D$e,10,11,"div",0),Zn(1,"async")),2&i&&B("ngIf",va(1,1,s.viewMode))},dependencies:[Zl,nr,$s,yw,FO,f5,sre,rre,ore,are,xw],encapsulation:2,data:{animation:[Wse]}})}return n})();const _7e={provide:Ca,useExisting:vi(()=>lre),multi:!0},v7e={provide:Xr,useExisting:vi(()=>lre),multi:!0};let Dp,lre=(()=>{class n{constructor(e,i,s,r,o){this._picker=e,this._localeService=i,this._renderer=s,this._elRef=r,this.changeDetection=o,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new ti}onChange(e){this.writeValue(e.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}ngOnInit(){const e=i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()};this._picker._bsValue&&e(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(e)),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.dateInputFormat$.pipe(KA()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}_setInputValue(e){const i=e?pc(e,this._picker._config.dateInputFormat,this._localeService.currentLocale):"";this._renderer.setProperty(this._elRef.nativeElement,"value",i)}validate(e){const i=e.value;if(null==i||""===i)return null;if(K2(i)){if(!wp(i))return{bsDate:{invalid:i}};if(this._picker&&this._picker.minDate&&gu(i,this._picker.minDate,"date"))return this.writeValue(this._picker.minDate),{bsDate:{minDate:this._picker.minDate}};if(this._picker&&this._picker.maxDate&&md(i,this._picker.maxDate,"date"))return this.writeValue(this._picker.maxDate),{bsDate:{maxDate:this._picker.maxDate}}}return null}registerOnValidatorChange(e){this._validatorChange=e}writeValue(e){if(e){const i=this._localeService.currentLocale;if(!no(i))throw new Error(`Locale "${i}" is not defined, please add it with "defineLocale(...)"`);if(this._value=iM(e,this._picker._config.dateInputFormat,this._localeService.currentLocale),this._picker._config.useUtc){const r=Bie(this._value);this._value=null===r?void 0:r}}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(e){this._picker.isDisabled=e,e?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}static#e=this.\u0275fac=function(i){return new(i||n)(K(m7e,1),K(CI),K(Js),K(gn),K(er))};static#t=this.\u0275dir=ee({type:n,selectors:[["input","bsDatepicker",""]],hostBindings:function(i,s){1&i&&ye("change",function(o){return s.onChange(o)})("blur",function(){return s.onBlur()})("keyup.esc",function(){return s.hide()})("keydown.enter",function(){return s.hide()})},features:[pi([_7e,v7e])]})}return n})(),y7e=(()=>{class n extends Yh{constructor(){super(...arguments),this.displayMonths=2}static#e=this.\u0275fac=(()=>{let e;return function(s){return(e||(e=ss(n)))(s||n)}})();static#t=this.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),b7e=(()=>{class n{get isOpen(){return this._datepicker.isShown}set isOpen(e){this.isOpen$.next(e)}set bsValue(e){this._bsValue!==e&&(e&&this.bsConfig?.initCurrentTime&&(e=Zse(e)),this.initPreviousValue(),this._bsValue=e,this.bsValueChange.emit(e))}get isDatepickerReadonly(){return this.isDisabled?"":null}get rangeInputFormat$(){return this._rangeInputFormat$}constructor(e,i,s,r,o){this._config=e,this._elementRef=i,this._renderer=s,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new Gt,this.isDisabled=!1,this.bsValueChange=new Fe,this._subs=[],this._rangeInputFormat$=new Gt,this._datepicker=o.createLoader(i,r,s),Object.assign(this,e),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new xs(this.isOpen)}ngOnInit(){this.isDestroy$=new Gt,this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.initPreviousValue(),this.setConfig()}ngOnChanges(e){e.bsConfig&&(e.bsConfig.currentValue?.initCurrentTime&&e.bsConfig.currentValue?.initCurrentTime!==e.bsConfig.previousValue?.initCurrentTime&&this._bsValue&&(this.initPreviousValue(),this._bsValue=Zse(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._rangeInputFormat$.next(e.bsConfig.currentValue&&e.bsConfig.currentValue.rangeInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(e.minDate&&(this._datepickerRef.instance.minDate=this.minDate),e.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),e.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),e.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),e.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),e.isDisabled&&(this._datepickerRef.instance.isDisabled=this.isDisabled),e.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses))}ngAfterViewInit(){this.isOpen$.pipe(vs(e=>e!==this.isOpen),Ql(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:Yh,useValue:this._config}).attach(g7e).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(e=>{this._datepickerRef&&(this._datepickerRef.instance.value=e)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.pipe(vs(e=>e&&e[0]&&!!e[1])).subscribe(e=>{this.initPreviousValue(),this.bsValue=e,!this.keepDatepickerModalOpened()&&this.hide()}))}initPreviousValue(){Dp=this._bsValue}keepDatepickerModalOpened(){return!!(Dp&&this.bsConfig?.keepDatepickerOpened&&this._config.withTimepicker)&&this.isDateSame()}isDateSame(){return this._bsValue?.[0]?.getDate()===Dp?.[0]?.getDate()&&this._bsValue?.[0]?.getMonth()===Dp?.[0]?.getMonth()&&this._bsValue?.[0]?.getFullYear()===Dp?.[0]?.getFullYear()&&this._bsValue?.[1]?.getDate()===Dp?.[1]?.getDate()&&this._bsValue?.[1]?.getMonth()===Dp?.[1]?.getMonth()&&this._bsValue?.[1]?.getFullYear()===Dp?.[1]?.getFullYear()}setConfig(){this._config=Object.assign({},this._config,this.bsConfig,{value:this.bsConfig?.keepDatesOutOfRules?this._bsValue:jse(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,ranges:$$e(this.bsConfig&&this.bsConfig.ranges,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),maxDateRange:this.bsConfig&&this.bsConfig.maxDateRange,initCurrentTime:this.bsConfig?.initCurrentTime,keepDatepickerOpened:this.bsConfig?.keepDatepickerOpened,keepDatesOutOfRules:this.bsConfig?.keepDatesOutOfRules})}hide(){this.isOpen&&this._datepicker.hide();for(const e of this._subs)e.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}unsubscribeSubscriptions(){this._subs?.length&&(this._subs.map(e=>e.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}static#e=this.\u0275fac=function(i){return new(i||n)(K(y7e),K(gn),K(Js),K(Ao),K(lM))};static#t=this.\u0275dir=ee({type:n,selectors:[["","bsDaterangepicker",""]],hostVars:1,hostBindings:function(i,s){2&i&&Nt("readonly",s.isDatepickerReadonly)},inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",dateCustomClasses:"dateCustomClasses",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDaterangepicker"],features:[Ii]})}return n})();const x7e={provide:Ca,useExisting:vi(()=>cre),multi:!0},w7e={provide:Xr,useExisting:vi(()=>cre),multi:!0};let cre=(()=>{class n{constructor(e,i,s,r,o){this._picker=e,this._localeService=i,this._renderer=s,this._elRef=r,this.changeDetection=o,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new ti}ngOnInit(){this._picker._bsValue&&(i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()})(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()})),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.rangeInputFormat$.pipe(KA()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(e){(13===e.keyCode||"Enter"===e.code)&&this.hide()}_setInputValue(e){let i="";if(e){const s=e[0]?pc(e[0],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"",r=e[1]?pc(e[1],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"";i=s&&r?s+this._picker._config.rangeSeparator+r:""}this._renderer.setProperty(this._elRef.nativeElement,"value",i)}onChange(e){this.writeValue(e.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(e){let i=e.value;const s=[];if(null==i||!qs(i))return null;i=i.slice().sort((a,l)=>a.getTime()-l.getTime());const r=wp(i[0]),o=wp(i[1]);return r?o?(this._picker&&this._picker.minDate&&gu(i[0],this._picker.minDate,"date")&&(i[0]=this._picker.minDate,s.push({bsDate:{minDate:this._picker.minDate}})),this._picker&&this._picker.maxDate&&md(i[1],this._picker.maxDate,"date")&&(i[1]=this._picker.maxDate,s.push({bsDate:{maxDate:this._picker.maxDate}})),s.length>0?(this.writeValue(i),s):null):{bsDate:{invalid:i[1]}}:{bsDate:{invalid:i[0]}}}registerOnValidatorChange(e){this._validatorChange=e}writeValue(e){if(e){const i=this._localeService.currentLocale;if(!no(i))throw new Error(`Locale "${i}" is not defined, please add it with "defineLocale(...)"`);let r=[];if("string"==typeof e){const o=this._picker._config.rangeSeparator.trim();r=e.replace(/[^-]/g,"").length>1?e.split(this._picker._config.rangeSeparator):e.split(o.length>0?o:this._picker._config.rangeSeparator).map(a=>a.trim())}Array.isArray(e)&&(r=e),this._value=r.map(o=>this._picker._config.useUtc?Bie(iM(o,this._picker._config.rangeInputFormat,this._localeService.currentLocale)):iM(o,this._picker._config.rangeInputFormat,this._localeService.currentLocale)).map(o=>isNaN(o.valueOf())?void 0:o)}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(e){this._picker.isDisabled=e,e?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}static#e=this.\u0275fac=function(i){return new(i||n)(K(b7e,1),K(CI),K(Js),K(gn),K(er))};static#t=this.\u0275dir=ee({type:n,selectors:[["input","bsDaterangepicker",""]],hostBindings:function(i,s){1&i&&ye("change",function(o){return s.onChange(o)})("keyup.esc",function(){return s.hide()})("keydown",function(o){return s.onKeydownEvent(o)})("blur",function(){return s.onBlur()})},features:[pi([x7e,w7e])]})}return n})(),C7e=(()=>{class n{static forRoot(){return{ngModule:n,providers:[lM,Ky,hM,Vr,cM,CI,Wh]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({imports:[xa,vGe,hGe]})}return n})();const E7e={provide:new Xe("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=Ke(up);return()=>n.scrollStrategies.reposition()}}),deps:[up],useFactory:function D7e(n){return()=>n.scrollStrategies.reposition()}};let A7e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n});static#n=this.\u0275inj=cn({providers:[E7e],imports:[xa,HV,xZ,ka,QC,HJ,xZ,ka]})}return n})();window.FOG=sV();let k7e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=fn({type:n,bootstrap:[BRe]});static#n=this.\u0275inj=cn({providers:[ww,hJ,{provide:kq,useClass:FOe,multi:!0}],imports:[OOe,q8,CRe,fge,HJ,uLe,hge,MLe,fDe,UMe,wFe,JTe,R3e,$We,A7e,C7e.forRoot()]})}return n})();Ape().bootstrapModule(k7e).catch(n=>console.error(n))},990:function(hi,gt,Qe){var hn;hi=Qe.nmd(hi),function(){var q,Je="Expected a function",Ue="__lodash_hash_undefined__",Le="__lodash_placeholder__",dt=1/0,ut=9007199254740991,Pt=4294967295,Nn=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],zn="[object Arguments]",Ut="[object Array]",Sn="[object Boolean]",ai="[object Date]",Ei="[object Error]",Sr="[object Function]",Fa="[object GeneratorFunction]",Dn="[object Map]",Na="[object Number]",Dr="[object Object]",ti="[object Promise]",jh="[object RegExp]",Va="[object Set]",rl="[object String]",yu="[object Symbol]",bu="[object WeakMap]",Ap="[object ArrayBuffer]",Xh="[object DataView]",kp="[object Float32Array]",Mc="[object Float64Array]",qh="[object Int8Array]",eb="[object Int16Array]",Ip="[object Int32Array]",tb="[object Uint8Array]",Lp="[object Uint8ClampedArray]",nb="[object Uint16Array]",xu="[object Uint32Array]",o_=/\b__p \+= '';/g,EI=/\b(__p \+=) '' \+/g,ib=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gM=/&(?:amp|lt|gt|quot|#39);/g,a_=/[&<>"']/g,_d=RegExp(gM.source),AI=RegExp(a_.source),_M=/<%-([\s\S]+?)%>/g,Qi=/<%([\s\S]+?)%>/g,sb=/<%=([\s\S]+?)%>/g,kI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,II=/^\w*$/,LI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Gt=/[\\^$.*+?()[\]{}|]/g,vM=RegExp(Gt.source),xs=/^\s+/,yM=/\s/,Ks=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ps=/\{\n\/\* \[wrapped with (.+)\] \*/,RI=/,? & /,Vn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,k5=/[()=,{}\[\]\/\s]/,bM=/\\(\\)?/g,De=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,wu=/\w*$/,xM=/^[-+]0x[0-9a-f]+$/i,PI=/^0b[01]+$/i,I5=/^\[object .+?Constructor\]$/,L5=/^0o[0-7]+$/i,wM=/^(?:0|[1-9]\d*)$/,R5=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rb=/($^)/,P5=/['\n\r\u2028\u2029\\]/g,Vi="\\ud800-\\udfff",FI="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",CM="\\u2700-\\u27bf",vi="a-z\\xdf-\\xf6\\xf8-\\xff",c_="A-Z\\xc0-\\xd6\\xd8-\\xde",d_="\\ufe0e\\ufe0f",lb="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pp="["+Vi+"]",cb="["+lb+"]",En="["+FI+"]",Bi="\\d+",O5="["+CM+"]",MM="["+vi+"]",TM="[^"+Vi+lb+Bi+CM+vi+c_+"]",SM="\\ud83c[\\udffb-\\udfff]",u_="[^"+Vi+"]",vo="(?:\\ud83c[\\udde6-\\uddff]){2}",DM="[\\ud800-\\udbff][\\udc00-\\udfff]",Zh="["+c_+"]",Tc="(?:"+MM+"|"+TM+")",F5="(?:"+Zh+"|"+TM+")",BI="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",HI="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",zI="(?:"+En+"|"+SM+")?",EM="["+d_+"]?",Oo=EM+zI+"(?:\\u200d(?:"+[u_,vo,DM].join("|")+")"+EM+zI+")*",Mn="(?:"+[O5,vo,DM].join("|")+")"+Oo,B5="(?:"+[u_+En+"?",En,vo,DM,Pp].join("|")+")",H5=RegExp("['\u2019]","g"),z5=RegExp(En,"g"),AM=RegExp(SM+"(?="+SM+")|"+B5+Oo,"g"),Be=RegExp([Zh+"?"+MM+"+"+BI+"(?="+[cb,Zh,"$"].join("|")+")",F5+"+"+HI+"(?="+[cb,Zh+Tc,"$"].join("|")+")",Zh+"?"+Tc+"+"+BI,Zh+"+"+HI,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Bi,Mn].join("|"),"g"),U5=RegExp("[\\u200d"+Vi+FI+d_+"]"),cn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,h_=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],WI=-1,cs={};cs[kp]=cs[Mc]=cs[qh]=cs[eb]=cs[Ip]=cs[tb]=cs[Lp]=cs[nb]=cs[xu]=!0,cs[zn]=cs[Ut]=cs[Ap]=cs[Sn]=cs[Xh]=cs[ai]=cs[Ei]=cs[Sr]=cs[Dn]=cs[Na]=cs[Dr]=cs[jh]=cs[Va]=cs[rl]=cs[bu]=!1;var ds={};ds[zn]=ds[Ut]=ds[Ap]=ds[Xh]=ds[Sn]=ds[ai]=ds[kp]=ds[Mc]=ds[qh]=ds[eb]=ds[Ip]=ds[Dn]=ds[Na]=ds[Dr]=ds[jh]=ds[Va]=ds[rl]=ds[yu]=ds[tb]=ds[Lp]=ds[nb]=ds[xu]=!0,ds[Ei]=ds[Sr]=ds[bu]=!1;var kM={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},YI=parseFloat,fi=parseInt,m_="object"==typeof global&&global&&global.Object===Object&&global,IM="object"==typeof self&&self&&self.Object===Object&&self,Yi=m_||IM||Function("return this")(),ub=gt&&!gt.nodeType&&gt,g_=ub&&hi&&!hi.nodeType&&hi,Hi=g_&&g_.exports===ub,LM=Hi&&m_.process,al=function(){try{return g_&&g_.require&&g_.require("util").types||LM&&LM.binding&&LM.binding("util")}catch{}}(),Xe=al&&al.isArrayBuffer,__=al&&al.isDate,v_=al&&al.isMap,hb=al&&al.isRegExp,y_=al&&al.isSet,RM=al&&al.isTypedArray;function yo(ee,Ie,ge){switch(ge.length){case 0:return ee.call(Ie);case 1:return ee.call(Ie,ge[0]);case 2:return ee.call(Ie,ge[0],ge[1]);case 3:return ee.call(Ie,ge[0],ge[1],ge[2])}return ee.apply(Ie,ge)}function W5(ee,Ie,ge,wt){for(var Qt=-1,li=null==ee?0:ee.length;++Qt<li;){var Ai=ee[Qt];Ie(wt,Ai,ge(Ai),ee)}return wt}function ll(ee,Ie){for(var ge=-1,wt=null==ee?0:ee.length;++ge<wt&&!1!==Ie(ee[ge],ge,ee););return ee}function Y5(ee,Ie){for(var ge=null==ee?0:ee.length;ge--&&!1!==Ie(ee[ge],ge,ee););return ee}function GI(ee,Ie){for(var ge=-1,wt=null==ee?0:ee.length;++ge<wt;)if(!Ie(ee[ge],ge,ee))return!1;return!0}function Cu(ee,Ie){for(var ge=-1,wt=null==ee?0:ee.length,Qt=0,li=[];++ge<wt;){var Ai=ee[ge];Ie(Ai,ge,ee)&&(li[Qt++]=Ai)}return li}function vd(ee,Ie){return!(null==ee||!ee.length)&&Mu(ee,Ie,0)>-1}function Op(ee,Ie,ge){for(var wt=-1,Qt=null==ee?0:ee.length;++wt<Qt;)if(ge(Ie,ee[wt]))return!0;return!1}function is(ee,Ie){for(var ge=-1,wt=null==ee?0:ee.length,Qt=Array(wt);++ge<wt;)Qt[ge]=Ie(ee[ge],ge,ee);return Qt}function yd(ee,Ie){for(var ge=-1,wt=Ie.length,Qt=ee.length;++ge<wt;)ee[Qt+ge]=Ie[ge];return ee}function fb(ee,Ie,ge,wt){var Qt=-1,li=null==ee?0:ee.length;for(wt&&li&&(ge=ee[++Qt]);++Qt<li;)ge=Ie(ge,ee[Qt],Qt,ee);return ge}function $I(ee,Ie,ge,wt){var Qt=null==ee?0:ee.length;for(wt&&Qt&&(ge=ee[--Qt]);Qt--;)ge=Ie(ge,ee[Qt],Qt,ee);return ge}function b_(ee,Ie){for(var ge=-1,wt=null==ee?0:ee.length;++ge<wt;)if(Ie(ee[ge],ge,ee))return!0;return!1}var Kh=Tu("length");function PM(ee,Ie,ge){var wt;return ge(ee,function(Qt,li,Ai){if(Ie(Qt,li,Ai))return wt=li,!1}),wt}function be(ee,Ie,ge,wt){for(var Qt=ee.length,li=ge+(wt?1:-1);wt?li--:++li<Qt;)if(Ie(ee[li],li,ee))return li;return-1}function Mu(ee,Ie,ge){return Ie==Ie?function JI(ee,Ie,ge){for(var wt=ge-1,Qt=ee.length;++wt<Qt;)if(ee[wt]===Ie)return wt;return-1}(ee,Ie,ge):be(ee,Fp,ge)}function Ke(ee,Ie,ge,wt){for(var Qt=ge-1,li=ee.length;++Qt<li;)if(wt(ee[Qt],Ie))return Qt;return-1}function Fp(ee){return ee!=ee}function x_(ee,Ie){var ge=null==ee?0:ee.length;return ge?cl(ee,Ie)/ge:NaN}function Tu(ee){return function(Ie){return null==Ie?q:Ie[ee]}}function pb(ee){return function(Ie){return null==ee?q:ee[Ie]}}function OM(ee,Ie,ge,wt,Qt){return Qt(ee,function(li,Ai,Ji){ge=wt?(wt=!1,li):Ie(ge,li,Ai,Ji)}),ge}function cl(ee,Ie){for(var ge,wt=-1,Qt=ee.length;++wt<Qt;){var li=Ie(ee[wt]);li!==q&&(ge=ge===q?li:ge+li)}return ge}function Qh(ee,Ie){for(var ge=-1,wt=Array(ee);++ge<ee;)wt[ge]=Ie(ge);return wt}function ul(ee){return ee&&ee.slice(0,HM(ee)+1).replace(xs,"")}function Un(ee){return function(Ie){return ee(Ie)}}function St(ee,Ie){return is(Ie,function(ge){return ee[ge]})}function Jh(ee,Ie){return ee.has(Ie)}function w_(ee,Ie){for(var ge=-1,wt=ee.length;++ge<wt&&Mu(Ie,ee[ge],0)>-1;);return ge}function mb(ee,Ie){for(var ge=ee.length;ge--&&Mu(Ie,ee[ge],0)>-1;);return ge}var Np=pb({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),NM=pb({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function VM(ee){return"\\"+kM[ee]}function Su(ee){return U5.test(ee)}function ta(ee){var Ie=-1,ge=Array(ee.size);return ee.forEach(function(wt,Qt){ge[++Ie]=[Qt,wt]}),ge}function BM(ee,Ie){return function(ge){return ee(Ie(ge))}}function Sc(ee,Ie){for(var ge=-1,wt=ee.length,Qt=0,li=[];++ge<wt;){var Ai=ee[ge];(Ai===Ie||Ai===Le)&&(ee[ge]=Le,li[Qt++]=ge)}return li}function C_(ee){var Ie=-1,ge=Array(ee.size);return ee.forEach(function(wt){ge[++Ie]=wt}),ge}function Du(ee){return Su(ee)?function Ht(ee){for(var Ie=AM.lastIndex=0;AM.test(ee);)++Ie;return Ie}(ee):Kh(ee)}function hl(ee){return Su(ee)?function nL(ee){return ee.match(AM)||[]}(ee):function jI(ee){return ee.split("")}(ee)}function HM(ee){for(var Ie=ee.length;Ie--&&yM.test(ee.charAt(Ie)););return Ie}var tL=pb({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Vp=function ee(Ie){var h,ge=(Ie=null==Ie?Yi:Vp.defaults(Yi.Object(),Ie,Vp.pick(Yi,h_))).Array,wt=Ie.Date,Qt=Ie.Error,li=Ie.Function,Ai=Ie.Math,Ji=Ie.Object,M_=Ie.RegExp,T_=Ie.String,Ba=Ie.TypeError,S_=ge.prototype,pt=Ji.prototype,tn=Ie["__core-js_shared__"],Cs=li.prototype.toString,ni=pt.hasOwnProperty,so=0,Ha=(h=/[^.]+$/.exec(tn&&tn.keys&&tn.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"",Dc=pt.toString,us=Cs.call(Ji),bo=Yi._,Ec=M_("^"+Cs.call(ni).replace(Gt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rn=Hi?Ie.Buffer:q,za=Ie.Symbol,Bp=Ie.Uint8Array,Eu=Rn?Rn.allocUnsafe:q,hs=BM(Ji.getPrototypeOf,Ji),ef=Ji.create,Au=pt.propertyIsEnumerable,na=S_.splice,tf=za?za.isConcatSpreadable:q,nf=za?za.iterator:q,Fo=za?za.toStringTag:q,ku=function(){try{var h=Vl(Ji,"defineProperty");return h({},"",{}),h}catch{}}(),Iu=Ie.clearTimeout!==Yi.clearTimeout&&Ie.clearTimeout,Bn=wt&&wt.now!==Yi.Date.now&&wt.now,gb=Ie.setTimeout!==Yi.setTimeout&&Ie.setTimeout,xd=Ai.ceil,ia=Ai.floor,sf=Ji.getOwnPropertySymbols,rf=Rn?Rn.isBuffer:q,Gs=Ie.isFinite,_b=S_.join,ro=BM(Ji.keys,Ji),ki=Ai.max,Er=Ai.min,Lu=wt.now,D_=Ie.parseInt,Ua=Ai.random,vb=S_.reverse,yb=Vl(Ie,"DataView"),Hp=Vl(Ie,"Map"),zp=Vl(Ie,"Promise"),Ru=Vl(Ie,"Set"),Up=Vl(Ie,"WeakMap"),Pu=Vl(Ji,"create"),bb=Up&&new Up,Wp={},G5=ha(yb),$5=ha(Hp),j5=ha(zp),X5=ha(Ru),q5=ha(Up),xb=za?za.prototype:q,E_=xb?xb.valueOf:q,sL=xb?xb.toString:q;function Y(h){if(Ts(h)&&!An(h)&&!(h instanceof bi)){if(h instanceof sa)return h;if(ni.call(h,"__wrapped__"))return X_(h)}return new sa(h)}var Yp=function(){function h(){}return function(p){if(!Vs(p))return{};if(ef)return ef(p);h.prototype=p;var b=new h;return h.prototype=q,b}}();function Gp(){}function sa(h,p){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=q}function bi(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Pt,this.__views__=[]}function ra(h){var p=-1,b=null==h?0:h.length;for(this.clear();++p<b;){var T=h[p];this.set(T[0],T[1])}}function Ac(h){var p=-1,b=null==h?0:h.length;for(this.clear();++p<b;){var T=h[p];this.set(T[0],T[1])}}function Ar(h){var p=-1,b=null==h?0:h.length;for(this.clear();++p<b;){var T=h[p];this.set(T[0],T[1])}}function Li(h){var p=-1,b=null==h?0:h.length;for(this.__data__=new Ar;++p<b;)this.add(h[p])}function ms(h){var p=this.__data__=new Ac(h);this.size=p.size}function A_(h,p){var b=An(h),T=!b&&ju(h),V=!b&&!T&&Pd(h),G=!b&&!T&&!V&&zl(h),ne=b||T||V||G,ae=ne?Qh(h.length,T_):[],ve=ae.length;for(var $e in h)(p||ni.call(h,$e))&&(!ne||!("length"==$e||V&&("offset"==$e||"parent"==$e)||G&&("buffer"==$e||"byteLength"==$e||"byteOffset"==$e)||Vc($e,ve)))&&ae.push($e);return ae}function XM(h){var p=h.length;return p?h[F_(0,p-1)]:q}function Fl(h,p){return j_(wo(h),pn(p,0,h.length))}function qM(h){return j_(wo(h))}function Mb(h,p,b){(b!==q&&!_l(h[p],b)||b===q&&!(p in h))&&fl(h,p,b)}function lf(h,p,b){var T=h[p];(!ni.call(h,p)||!_l(T,b)||b===q&&!(p in h))&&fl(h,p,b)}function cf(h,p){for(var b=h.length;b--;)if(_l(h[b][0],p))return b;return-1}function Tb(h,p,b,T){return Ic(h,function(V,G,ne){p(T,V,b(V),ne)}),T}function df(h,p){return h&&ml(p,kr(p),h)}function fl(h,p,b){"__proto__"==p&&ku?ku(h,p,{configurable:!0,enumerable:!0,value:b,writable:!0}):h[p]=b}function kc(h,p){for(var b=-1,T=p.length,V=ge(T),G=null==h;++b<T;)V[b]=G?q:Sx(h,p[b]);return V}function pn(h,p,b){return h==h&&(b!==q&&(h=h<=b?h:b),p!==q&&(h=h>=p?h:p)),h}function aa(h,p,b,T,V,G){var ne,ae=1&p,ve=2&p,$e=4&p;if(b&&(ne=V?b(h,T,V,G):b(h)),ne!==q)return ne;if(!Vs(h))return h;var qe=An(h);if(qe){if(ne=function sz(h){var p=h.length,b=new h.constructor(p);return p&&"string"==typeof h[0]&&ni.call(h,"index")&&(b.index=h.index,b.input=h.input),b}(h),!ae)return wo(h,ne)}else{var rt=Co(h),Rt=rt==Sr||rt==Fa;if(Pd(h))return aT(h,ae);if(rt==Dr||rt==zn||Rt&&!V){if(ne=ve||Rt?{}:Zb(h),!ae)return ve?function wL(h,p){return ml(h,Xb(h),p)}(h,function k_(h,p){return h&&ml(p,Vo(p),h)}(ne,h)):function cT(h,p){return ml(h,fT(h),p)}(h,df(ne,h))}else{if(!ds[rt])return V?h:{};ne=function kL(h,p,b){var T=h.constructor;switch(p){case Ap:return Wa(h);case Sn:case ai:return new T(+h);case Xh:return function xL(h,p){var b=p?Wa(h.buffer):h.buffer;return new h.constructor(b,h.byteOffset,h.byteLength)}(h,b);case kp:case Mc:case qh:case eb:case Ip:case tb:case Lp:case nb:case xu:return Hb(h,b);case Dn:return new T;case Na:case rl:return new T(h);case jh:return function H_(h){var p=new h.constructor(h.source,wu.exec(h));return p.lastIndex=h.lastIndex,p}(h);case Va:return new T;case yu:return function Bb(h){return E_?Ji(E_.call(h)):{}}(h)}}(h,rt,ae)}}G||(G=new ms);var Jt=G.get(h);if(Jt)return Jt;G.set(h,ne),gv(h)?h.forEach(function(_n){ne.add(aa(_n,p,b,_n,h,G))}):wx(h)&&h.forEach(function(_n,ci){ne.set(ci,aa(_n,p,b,ci,h,G))});var Qn=qe?q:($e?ve?$b:Qs:ve?Vo:kr)(h);return ll(Qn||h,function(_n,ci){Qn&&(_n=h[ci=_n]),lf(ne,ci,aa(_n,p,b,ci,h,G))}),ne}function ZM(h,p,b){var T=b.length;if(null==h)return!T;for(h=Ji(h);T--;){var V=b[T],ne=h[V];if(ne===q&&!(V in h)||!(0,p[V])(ne))return!1}return!0}function KM(h,p,b){if("function"!=typeof h)throw new Ba(Je);return G_(function(){h.apply(q,b)},p)}function Xp(h,p,b,T){var V=-1,G=vd,ne=!0,ae=h.length,ve=[],$e=p.length;if(!ae)return ve;b&&(p=is(p,Un(b))),T?(G=Op,ne=!1):p.length>=200&&(G=Jh,ne=!1,p=new Li(p));e:for(;++V<ae;){var qe=h[V],rt=null==b?qe:b(qe);if(qe=T||0!==qe?qe:0,ne&&rt==rt){for(var Rt=$e;Rt--;)if(p[Rt]===rt)continue e;ve.push(qe)}else G(p,rt,T)||ve.push(qe)}return ve}Y.templateSettings={escape:_M,evaluate:Qi,interpolate:sb,variable:"",imports:{_:Y}},(Y.prototype=Gp.prototype).constructor=Y,(sa.prototype=Yp(Gp.prototype)).constructor=sa,(bi.prototype=Yp(Gp.prototype)).constructor=bi,ra.prototype.clear=function rL(){this.__data__=Pu?Pu(null):{},this.size=0},ra.prototype.delete=function zM(h){var p=this.has(h)&&delete this.__data__[h];return this.size-=p?1:0,p},ra.prototype.get=function Ii(h){var p=this.__data__;if(Pu){var b=p[h];return b===Ue?q:b}return ni.call(p,h)?p[h]:q},ra.prototype.has=function UM(h){var p=this.__data__;return Pu?p[h]!==q:ni.call(p,h)},ra.prototype.set=function oL(h,p){var b=this.__data__;return this.size+=this.has(h)?0:1,b[h]=Pu&&p===q?Ue:p,this},Ac.prototype.clear=function WM(){this.__data__=[],this.size=0},Ac.prototype.delete=function YM(h){var p=this.__data__,b=cf(p,h);return!(b<0||(b==p.length-1?p.pop():na.call(p,b,1),--this.size,0))},Ac.prototype.get=function aL(h){var p=this.__data__,b=cf(p,h);return b<0?q:p[b][1]},Ac.prototype.has=function wb(h){return cf(this.__data__,h)>-1},Ac.prototype.set=function lL(h,p){var b=this.__data__,T=cf(b,h);return T<0?(++this.size,b.push([h,p])):b[T][1]=p,this},Ar.prototype.clear=function GM(){this.size=0,this.__data__={hash:new ra,map:new(Hp||Ac),string:new ra}},Ar.prototype.delete=function $M(h){var p=em(this,h).delete(h);return this.size-=p?1:0,p},Ar.prototype.get=function jM(h){return em(this,h).get(h)},Ar.prototype.has=function cL(h){return em(this,h).has(h)},Ar.prototype.set=function J5(h,p){var b=em(this,h),T=b.size;return b.set(h,p),this.size+=b.size==T?0:1,this},Li.prototype.add=Li.prototype.push=function Cb(h){return this.__data__.set(h,Ue),this},Li.prototype.has=function $p(h){return this.__data__.has(h)},ms.prototype.clear=function dL(){this.__data__=new Ac,this.size=0},ms.prototype.delete=function jp(h){var p=this.__data__,b=p.delete(h);return this.size=p.size,b},ms.prototype.get=function af(h){return this.__data__.get(h)},ms.prototype.has=function oa(h){return this.__data__.has(h)},ms.prototype.set=function uL(h,p){var b=this.__data__;if(b instanceof Ac){var T=b.__data__;if(!Hp||T.length<199)return T.push([h,p]),this.size=++b.size,this;b=this.__data__=new Ar(T)}return b.set(h,p),this.size=b.size,this};var Ic=dT(ie),Ou=dT(se,!0);function hL(h,p){var b=!0;return Ic(h,function(T,V,G){return b=!!p(T,V,G)}),b}function I_(h,p,b){for(var T=-1,V=h.length;++T<V;){var G=h[T],ne=p(G);if(null!=ne&&(ae===q?ne==ne&&!ao(ne):b(ne,ae)))var ae=ne,ve=G}return ve}function QM(h,p){var b=[];return Ic(h,function(T,V,G){p(T,V,G)&&b.push(T)}),b}function Ur(h,p,b,T,V){var G=-1,ne=h.length;for(b||(b=LL),V||(V=[]);++G<ne;){var ae=h[G];p>0&&b(ae)?p>1?Ur(ae,p-1,b,T,V):yd(V,ae):T||(V[V.length]=ae)}return V}var Oe=Wb(),yi=Wb(!0);function ie(h,p){return h&&Oe(h,p,kr)}function se(h,p){return h&&yi(h,p,kr)}function zi(h,p){return Cu(p,function(b){return Ga(h[b])})}function wd(h,p){for(var b=0,T=(p=pl(p,h)).length;null!=h&&b<T;)h=h[Hl(p[b++])];return b&&b==T?h:q}function uf(h,p,b){var T=p(h);return An(h)?T:yd(T,b(h))}function Ms(h){return null==h?h===q?"[object Undefined]":"[object Null]":Fo&&Fo in Ji(h)?function jb(h){var p=ni.call(h,Fo),b=h[Fo];try{h[Fo]=q;var T=!0}catch{}var V=Dc.call(h);return T&&(p?h[Fo]=b:delete h[Fo]),V}(h):function gT(h){return Dc.call(h)}(h)}function qp(h,p){return h>p}function Sb(h,p){return null!=h&&ni.call(h,p)}function pL(h,p){return null!=h&&p in Ji(h)}function L_(h,p,b){for(var T=b?Op:vd,V=h[0].length,G=h.length,ne=G,ae=ge(G),ve=1/0,$e=[];ne--;){var qe=h[ne];ne&&p&&(qe=is(qe,Un(p))),ve=Er(qe.length,ve),ae[ne]=!b&&(p||V>=120&&qe.length>=120)?new Li(ne&&qe):q}qe=h[0];var rt=-1,Rt=ae[0];e:for(;++rt<V&&$e.length<ve;){var Jt=qe[rt],bn=p?p(Jt):Jt;if(Jt=b||0!==Jt?Jt:0,!(Rt?Jh(Rt,bn):T($e,bn,b))){for(ne=G;--ne;){var Qn=ae[ne];if(!(Qn?Jh(Qn,bn):T(h[ne],bn,b)))continue e}Rt&&Rt.push(bn),$e.push(Jt)}}return $e}function la(h,p,b){var T=null==(h=vT(h,p=pl(p,h)))?h:h[Hl(pa(p))];return null==T?q:yo(T,h,b)}function Db(h){return Ts(h)&&Ms(h)==zn}function Zp(h,p,b,T,V){return h===p||(null==h||null==p||!Ts(h)&&!Ts(p)?h!=h&&p!=p:function JM(h,p,b,T,V,G){var ne=An(h),ae=An(p),ve=ne?Ut:Co(h),$e=ae?Ut:Co(p),qe=(ve=ve==zn?Dr:ve)==Dr,rt=($e=$e==zn?Dr:$e)==Dr,Rt=ve==$e;if(Rt&&Pd(h)){if(!Pd(p))return!1;ne=!0,qe=!1}if(Rt&&!qe)return G||(G=new ms),ne||zl(h)?EL(h,p,b,T,V,G):function gf(h,p,b,T,V,G,ne){switch(b){case Xh:if(h.byteLength!=p.byteLength||h.byteOffset!=p.byteOffset)return!1;h=h.buffer,p=p.buffer;case Ap:return!(h.byteLength!=p.byteLength||!G(new Bp(h),new Bp(p)));case Sn:case ai:case Na:return _l(+h,+p);case Ei:return h.name==p.name&&h.message==p.message;case jh:case rl:return h==p+"";case Dn:var ae=ta;case Va:if(ae||(ae=C_),h.size!=p.size&&!(1&T))return!1;var $e=ne.get(h);if($e)return $e==p;T|=2,ne.set(h,p);var qe=EL(ae(h),ae(p),T,V,G,ne);return ne.delete(h),qe;case yu:if(E_)return E_.call(h)==E_.call(p)}return!1}(h,p,ve,b,T,V,G);if(!(1&b)){var Jt=qe&&ni.call(h,"__wrapped__"),bn=rt&&ni.call(p,"__wrapped__");if(Jt||bn){var Qn=Jt?h.value():h,_n=bn?p.value():p;return G||(G=new ms),V(Qn,_n,b,T,G)}}return!!Rt&&(G||(G=new ms),function AL(h,p,b,T,V,G){var ne=1&b,ae=Qs(h),ve=ae.length;if(ve!=Qs(p).length&&!ne)return!1;for(var rt=ve;rt--;){var Rt=ae[rt];if(!(ne?Rt in p:ni.call(p,Rt)))return!1}var Jt=G.get(h),bn=G.get(p);if(Jt&&bn)return Jt==p&&bn==h;var Qn=!0;G.set(h,p),G.set(p,h);for(var _n=ne;++rt<ve;){var ci=h[Rt=ae[rt]],xi=p[Rt];if(T)var ga=ne?T(xi,ci,Rt,p,h,G):T(ci,xi,Rt,h,p,G);if(!(ga===q?ci===xi||V(ci,xi,b,T,G):ga)){Qn=!1;break}_n||(_n="constructor"==Rt)}if(Qn&&!_n){var co=h.constructor,Eo=p.constructor;co!=Eo&&"constructor"in h&&"constructor"in p&&!("function"==typeof co&&co instanceof co&&"function"==typeof Eo&&Eo instanceof Eo)&&(Qn=!1)}return G.delete(h),G.delete(p),Qn}(h,p,b,T,V,G))}(h,p,b,T,Zp,V))}function Eb(h,p,b,T){var V=b.length,G=V,ne=!T;if(null==h)return!G;for(h=Ji(h);V--;){var ae=b[V];if(ne&&ae[2]?ae[1]!==h[ae[0]]:!(ae[0]in h))return!1}for(;++V<G;){var ve=(ae=b[V])[0],$e=h[ve],qe=ae[1];if(ne&&ae[2]){if($e===q&&!(ve in h))return!1}else{var rt=new ms;if(T)var Rt=T($e,qe,ve,h,p,rt);if(!(Rt===q?Zp(qe,$e,3,T,rt):Rt))return!1}}return!0}function R_(h){return!(!Vs(h)||function RL(h){return!!Ha&&Ha in h}(h))&&(Ga(h)?Ec:I5).test(ha(h))}function tT(h){return"function"==typeof h?h:null==h?lo:"object"==typeof h?An(h)?Pb(h[0],h[1]):Rb(h):Vx(h)}function P_(h){if(!tm(h))return ro(h);var p=[];for(var b in Ji(h))ni.call(h,b)&&"constructor"!=b&&p.push(b);return p}function O_(h,p){return h<p}function Lb(h,p){var b=-1,T=So(h)?ge(h.length):[];return Ic(h,function(V,G,ne){T[++b]=p(V,G,ne)}),T}function Rb(h){var p=_f(h);return 1==p.length&&p[0][2]?pT(p[0][0],p[0][1]):function(b){return b===h||Eb(b,h,p)}}function Pb(h,p){return Kb(h)&&Bc(p)?pT(Hl(h),p):function(b){var T=Sx(b,h);return T===q&&T===p?Do(b,h):Zp(p,T,3)}}function hf(h,p,b,T,V){h!==p&&Oe(p,function(G,ne){if(V||(V=new ms),Vs(G))!function gL(h,p,b,T,V,G,ne){var ae=Gu(h,b),ve=Gu(p,b),$e=ne.get(ve);if($e)Mb(h,b,$e);else{var qe=G?G(ae,ve,b+"",h,p,ne):q,rt=qe===q;if(rt){var Rt=An(ve),Jt=!Rt&&Pd(ve),bn=!Rt&&!Jt&&zl(ve);qe=ve,Rt||Jt||bn?An(ae)?qe=ae:Ns(ae)?qe=wo(ae):Jt?(rt=!1,qe=aT(ve,!0)):bn?(rt=!1,qe=Hb(ve,!0)):qe=[]:Cf(ve)||ju(ve)?(qe=ae,ju(ae)?qe=oS(ae):(!Vs(ae)||Ga(ae))&&(qe=Zb(ve))):rt=!1}rt&&(ne.set(ve,qe),V(qe,ve,T,G,ne),ne.delete(ve)),Mb(h,b,qe)}}(h,p,ne,b,hf,T,V);else{var ae=T?T(Gu(h,ne),G,ne+"",h,p,V):q;ae===q&&(ae=G),Mb(h,ne,ae)}},Vo)}function Wr(h,p){var b=h.length;if(b)return Vc(p+=p<0?b:0,b)?h[p]:q}function Cd(h,p,b){p=p.length?is(p,function(G){return An(G)?function(ne){return wd(ne,1===G.length?G[0]:G)}:G}):[lo];var T=-1;return p=is(p,Un(an())),function XI(ee,Ie){var ge=ee.length;for(ee.sort(Ie);ge--;)ee[ge]=ee[ge].value;return ee}(Lb(h,function(G,ne,ae){return{criteria:is(p,function($e){return $e(G)}),index:++T,value:G}}),function(G,ne){return function zb(h,p,b){for(var T=-1,V=h.criteria,G=p.criteria,ne=V.length,ae=b.length;++T<ne;){var ve=Jp(V[T],G[T]);if(ve)return T>=ae?ve:ve*("desc"==b[T]?-1:1)}return h.index-p.index}(G,ne,b)})}function qi(h,p,b){for(var T=-1,V=p.length,G={};++T<V;){var ne=p[T],ae=wd(h,ne);b(ae,ne)&&Md(G,pl(ne,h),ae)}return G}function Fu(h,p,b,T){var V=T?Ke:Mu,G=-1,ne=p.length,ae=h;for(h===p&&(p=wo(p)),b&&(ae=is(h,Un(b)));++G<ne;)for(var ve=0,$e=p[G],qe=b?b($e):$e;(ve=V(ae,qe,ve,T))>-1;)ae!==h&&na.call(ae,ve,1),na.call(h,ve,1);return h}function nT(h,p){for(var b=h?p.length:0,T=b-1;b--;){var V=p[b];if(b==T||V!==G){var G=V;Vc(V)?na.call(h,V,1):Fb(h,V)}}return h}function F_(h,p){return h+ia(Ua()*(p-h+1))}function ff(h,p){var b="";if(!h||p<1||p>ut)return b;do{p%2&&(b+=h),(p=ia(p/2))&&(h+=h)}while(p);return b}function On(h,p){return $_(_T(h,p,lo),h+"")}function vL(h){return XM(Od(h))}function N_(h,p){var b=Od(h);return j_(b,pn(p,0,b.length))}function Md(h,p,b,T){if(!Vs(h))return h;for(var V=-1,G=(p=pl(p,h)).length,ne=G-1,ae=h;null!=ae&&++V<G;){var ve=Hl(p[V]),$e=b;if("__proto__"===ve||"constructor"===ve||"prototype"===ve)return h;if(V!=ne){var qe=ae[ve];($e=T?T(qe,ve,ae):q)===q&&($e=Vs(qe)?qe:Vc(p[V+1])?[]:{})}lf(ae,ve,$e),ae=ae[ve]}return h}var Kp=bb?function(h,p){return bb.set(h,p),h}:lo,Ob=ku?function(h,p){return ku(h,"toString",{configurable:!0,enumerable:!1,value:_m(p),writable:!0})}:lo;function sT(h){return j_(Od(h))}function ca(h,p,b){var T=-1,V=h.length;p<0&&(p=-p>V?0:V+p),(b=b>V?V:b)<0&&(b+=V),V=p>b?0:b-p>>>0,p>>>=0;for(var G=ge(V);++T<V;)G[T]=h[T+p];return G}function yL(h,p){var b;return Ic(h,function(T,V,G){return!(b=p(T,V,G))}),!!b}function Rc(h,p,b){var T=0,V=null==h?T:h.length;if("number"==typeof p&&p==p&&V<=2147483647){for(;T<V;){var G=T+V>>>1,ne=h[G];null!==ne&&!ao(ne)&&(b?ne<=p:ne<p)?T=G+1:V=G}return V}return Nu(h,p,lo,b)}function Nu(h,p,b,T){var V=0,G=null==h?0:h.length;if(0===G)return 0;for(var ne=(p=b(p))!=p,ae=null===p,ve=ao(p),$e=p===q;V<G;){var qe=ia((V+G)/2),rt=b(h[qe]),Rt=rt!==q,Jt=null===rt,bn=rt==rt,Qn=ao(rt);if(ne)var _n=T||bn;else _n=$e?bn&&(T||Rt):ae?bn&&Rt&&(T||!Jt):ve?bn&&Rt&&!Jt&&(T||!Qn):!Jt&&!Qn&&(T?rt<=p:rt<p);_n?V=qe+1:G=qe}return Er(G,4294967294)}function rT(h,p){for(var b=-1,T=h.length,V=0,G=[];++b<T;){var ne=h[b],ae=p?p(ne):ne;if(!b||!_l(ae,ve)){var ve=ae;G[V++]=0===ne?0:ne}}return G}function V_(h){return"number"==typeof h?h:ao(h)?NaN:+h}function da(h){if("string"==typeof h)return h;if(An(h))return is(h,da)+"";if(ao(h))return sL?sL.call(h):"";var p=h+"";return"0"==p&&1/h==-dt?"-0":p}function Td(h,p,b){var T=-1,V=vd,G=h.length,ne=!0,ae=[],ve=ae;if(b)ne=!1,V=Op;else if(G>=200){var $e=p?null:ML(h);if($e)return C_($e);ne=!1,V=Jh,ve=new Li}else ve=p?[]:ae;e:for(;++T<G;){var qe=h[T],rt=p?p(qe):qe;if(qe=b||0!==qe?qe:0,ne&&rt==rt){for(var Rt=ve.length;Rt--;)if(ve[Rt]===rt)continue e;p&&ve.push(rt),ae.push(qe)}else V(ve,rt,b)||(ve!==ae&&ve.push(rt),ae.push(qe))}return ae}function Fb(h,p){return null==(h=vT(h,p=pl(p,h)))||delete h[Hl(pa(p))]}function bL(h,p,b,T){return Md(h,p,b(wd(h,p)),T)}function Nb(h,p,b,T){for(var V=h.length,G=T?V:-1;(T?G--:++G<V)&&p(h[G],G,h););return b?ca(h,T?0:G,T?G+1:V):ca(h,T?G+1:0,T?V:G)}function B_(h,p){var b=h;return b instanceof bi&&(b=b.value()),fb(p,function(T,V){return V.func.apply(V.thisArg,yd([T],V.args))},b)}function Vu(h,p,b){var T=h.length;if(T<2)return T?Td(h[0]):[];for(var V=-1,G=ge(T);++V<T;)for(var ne=h[V],ae=-1;++ae<T;)ae!=V&&(G[V]=Xp(G[V]||ne,h[ae],p,b));return Td(Ur(G,1),p,b)}function oT(h,p,b){for(var T=-1,V=h.length,G=p.length,ne={};++T<V;)b(ne,h[T],T<G?p[T]:q);return ne}function Bu(h){return Ns(h)?h:[]}function Qp(h){return"function"==typeof h?h:lo}function pl(h,p){return An(h)?h:Kb(h,p)?[h]:xT(Ui(h))}var nz=On;function Pc(h,p,b){var T=h.length;return b=b===q?T:b,!p&&b>=T?h:ca(h,p,b)}var Vb=Iu||function(h){return Yi.clearTimeout(h)};function aT(h,p){if(p)return h.slice();var b=h.length,T=Eu?Eu(b):new h.constructor(b);return h.copy(T),T}function Wa(h){var p=new h.constructor(h.byteLength);return new Bp(p).set(new Bp(h)),p}function Hb(h,p){var b=p?Wa(h.buffer):h.buffer;return new h.constructor(b,h.byteOffset,h.length)}function Jp(h,p){if(h!==p){var b=h!==q,T=null===h,V=h==h,G=ao(h),ne=p!==q,ae=null===p,ve=p==p,$e=ao(p);if(!ae&&!$e&&!G&&h>p||G&&ne&&ve&&!ae&&!$e||T&&ne&&ve||!b&&ve||!V)return 1;if(!T&&!G&&!$e&&h<p||$e&&b&&V&&!T&&!G||ae&&b&&V||!ne&&V||!ve)return-1}return 0}function lT(h,p,b,T){for(var V=-1,G=h.length,ne=b.length,ae=-1,ve=p.length,$e=ki(G-ne,0),qe=ge(ve+$e),rt=!T;++ae<ve;)qe[ae]=p[ae];for(;++V<ne;)(rt||V<G)&&(qe[b[V]]=h[V]);for(;$e--;)qe[ae++]=h[V++];return qe}function Ub(h,p,b,T){for(var V=-1,G=h.length,ne=-1,ae=b.length,ve=-1,$e=p.length,qe=ki(G-ae,0),rt=ge(qe+$e),Rt=!T;++V<qe;)rt[V]=h[V];for(var Jt=V;++ve<$e;)rt[Jt+ve]=p[ve];for(;++ne<ae;)(Rt||V<G)&&(rt[Jt+b[ne]]=h[V++]);return rt}function wo(h,p){var b=-1,T=h.length;for(p||(p=ge(T));++b<T;)p[b]=h[b];return p}function ml(h,p,b,T){var V=!b;b||(b={});for(var G=-1,ne=p.length;++G<ne;){var ae=p[G],ve=T?T(b[ae],h[ae],ae,b,h):q;ve===q&&(ve=h[ae]),V?fl(b,ae,ve):lf(b,ae,ve)}return b}function Hu(h,p){return function(b,T){var V=An(b)?W5:Tb,G=p?p():{};return V(b,h,an(T,2),G)}}function Ya(h){return On(function(p,b){var T=-1,V=b.length,G=V>1?b[V-1]:q,ne=V>2?b[2]:q;for(G=h.length>3&&"function"==typeof G?(V--,G):q,ne&&Mo(b[0],b[1],ne)&&(G=V<3?q:G,V=1),p=Ji(p);++T<V;){var ae=b[T];ae&&h(p,ae,T,G)}return p})}function dT(h,p){return function(b,T){if(null==b)return b;if(!So(b))return h(b,T);for(var V=b.length,G=p?V:-1,ne=Ji(b);(p?G--:++G<V)&&!1!==T(ne[G],G,ne););return b}}function Wb(h){return function(p,b,T){for(var V=-1,G=Ji(p),ne=T(p),ae=ne.length;ae--;){var ve=ne[h?ae:++V];if(!1===b(G[ve],ve,G))break}return p}}function zu(h){return function(p){var b=Su(p=Ui(p))?hl(p):q,T=b?b[0]:p.charAt(0),V=b?Pc(b,1).join(""):p.slice(1);return T[h]()+V}}function gl(h){return function(p){return fb(Cv(gS(p).replace(H5,"")),h,"")}}function Os(h){return function(){var p=arguments;switch(p.length){case 0:return new h;case 1:return new h(p[0]);case 2:return new h(p[0],p[1]);case 3:return new h(p[0],p[1],p[2]);case 4:return new h(p[0],p[1],p[2],p[3]);case 5:return new h(p[0],p[1],p[2],p[3],p[4]);case 6:return new h(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new h(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var b=Yp(h.prototype),T=h.apply(b,p);return Vs(T)?T:b}}function ss(h){return function(p,b,T){var V=Ji(p);if(!So(p)){var G=an(b,3);p=kr(p),b=function(ae){return G(V[ae],ae,V)}}var ne=h(p,b,T);return ne>-1?V[G?p[ne]:ne]:q}}function z_(h){return Nc(function(p){var b=p.length,T=b,V=sa.prototype.thru;for(h&&p.reverse();T--;){var G=p[T];if("function"!=typeof G)throw new Ba(Je);if(V&&!ne&&"wrapper"==W_(G))var ne=new sa([],!0)}for(T=ne?T:b;++T<b;){var ae=W_(G=p[T]),ve="wrapper"==ae?Wu(G):q;ne=ve&&vf(ve[0])&&424==ve[1]&&!ve[4].length&&1==ve[9]?ne[W_(ve[0])].apply(ne,ve[3]):1==G.length&&vf(G)?ne[ae]():ne.thru(G)}return function(){var $e=arguments,qe=$e[0];if(ne&&1==$e.length&&An(qe))return ne.plant(qe).value();for(var rt=0,Rt=b?p[rt].apply(this,$e):qe;++rt<b;)Rt=p[rt].call(this,Rt);return Rt}})}function U_(h,p,b,T,V,G,ne,ae,ve,$e){var qe=128&p,rt=1&p,Rt=2&p,Jt=24&p,bn=512&p,Qn=Rt?q:Os(h);return function _n(){for(var ci=arguments.length,xi=ge(ci),ga=ci;ga--;)xi[ga]=arguments[ga];if(Jt)var co=gr(_n),Eo=function FM(ee,Ie){for(var ge=ee.length,wt=0;ge--;)ee[ge]===Ie&&++wt;return wt}(xi,co);if(T&&(xi=lT(xi,T,V,Jt)),G&&(xi=Ub(xi,G,ne,Jt)),ci-=Eo,Jt&&ci<$e){var ar=Sc(xi,co);return Uu(h,p,U_,_n.placeholder,b,xi,ar,ae,ve,$e-ci)}var ja=rt?b:this,Xa=Rt?ja[h]:h;return ci=xi.length,ae?xi=function yf(h,p){for(var b=h.length,T=Er(p.length,b),V=wo(h);T--;){var G=p[T];h[T]=Vc(G,b)?V[G]:q}return h}(xi,ae):bn&&ci>1&&xi.reverse(),qe&&ve<ci&&(xi.length=ve),this&&this!==Yi&&this instanceof _n&&(Xa=Qn||Os(Xa)),Xa.apply(ja,xi)}}function Yb(h,p){return function(b,T){return function xo(h,p,b,T){return ie(h,function(V,G,ne){p(T,b(V),G,ne)}),T}(b,h,p(T),{})}}function Oc(h,p){return function(b,T){var V;if(b===q&&T===q)return p;if(b!==q&&(V=b),T!==q){if(V===q)return T;"string"==typeof b||"string"==typeof T?(b=da(b),T=da(T)):(b=V_(b),T=V_(T)),V=h(b,T)}return V}}function Sd(h){return Nc(function(p){return p=is(p,Un(an())),On(function(b){var T=this;return h(p,function(V){return yo(V,T,b)})})})}function Fc(h,p){var b=(p=p===q?" ":da(p)).length;if(b<2)return b?ff(p,h):p;var T=ff(p,xd(h/Du(p)));return Su(p)?Pc(hl(T),0,h).join(""):T.slice(0,h)}function Gb(h){return function(p,b,T){return T&&"number"!=typeof T&&Mo(p,b,T)&&(b=T=q),p=Uc(p),b===q?(b=p,p=0):b=Uc(b),function iT(h,p,b,T){for(var V=-1,G=ki(xd((p-h)/(b||1)),0),ne=ge(G);G--;)ne[T?G:++V]=h,h+=b;return ne}(p,b,T=T===q?p<b?1:-1:Uc(T),h)}}function mf(h){return function(p,b){return"string"==typeof p&&"string"==typeof b||(p=$a(p),b=$a(b)),h(p,b)}}function Uu(h,p,b,T,V,G,ne,ae,ve,$e){var qe=8&p;p|=qe?32:64,4&(p&=~(qe?64:32))||(p&=-4);var Qn=[h,p,V,qe?G:q,qe?ne:q,qe?q:G,qe?q:ne,ae,ve,$e],_n=b.apply(q,Qn);return vf(h)&&yT(_n,Qn),_n.placeholder=T,bT(_n,h,p)}function hT(h){var p=Ai[h];return function(b,T){if(b=$a(b),(T=null==T?0:Er(Xn(T),292))&&Gs(b)){var V=(Ui(b)+"e").split("e");return+((V=(Ui(p(V[0]+"e"+(+V[1]+T)))+"e").split("e"))[0]+"e"+(+V[1]-T))}return p(b)}}var ML=Ru&&1/C_(new Ru([,-0]))[1]==dt?function(h){return new Ru(h)}:Fx;function TL(h){return function(p){var b=Co(p);return b==Dn?ta(p):b==Va?function QI(ee){var Ie=-1,ge=Array(ee.size);return ee.forEach(function(wt){ge[++Ie]=[wt,wt]}),ge}(p):function dl(ee,Ie){return is(Ie,function(ge){return[ge,ee[ge]]})}(p,h(p))}}function Dd(h,p,b,T,V,G,ne,ae){var ve=2&p;if(!ve&&"function"!=typeof h)throw new Ba(Je);var $e=T?T.length:0;if($e||(p&=-97,T=V=q),ne=ne===q?ne:ki(Xn(ne),0),ae=ae===q?ae:Xn(ae),$e-=V?V.length:0,64&p){var qe=T,rt=V;T=V=q}var Rt=ve?q:Wu(h),Jt=[h,p,b,T,V,qe,rt,G,ne,ae];if(Rt&&function Jb(h,p){var b=h[1],T=p[1],V=b|T;if(!(V<131)&&!(128==T&&8==b||128==T&&256==b&&h[7].length<=p[8]||384==T&&p[7].length<=p[8]&&8==b))return h;1&T&&(h[2]=p[2],V|=1&b?0:4);var ae=p[3];if(ae){var ve=h[3];h[3]=ve?lT(ve,ae,p[4]):ae,h[4]=ve?Sc(h[3],Le):p[4]}(ae=p[5])&&(h[5]=(ve=h[5])?Ub(ve,ae,p[6]):ae,h[6]=ve?Sc(h[5],Le):p[6]),(ae=p[7])&&(h[7]=ae),128&T&&(h[8]=null==h[8]?p[8]:Er(h[8],p[8])),null==h[9]&&(h[9]=p[9]),h[0]=p[0],h[1]=V}(Jt,Rt),h=Jt[0],p=Jt[1],b=Jt[2],T=Jt[3],V=Jt[4],!(ae=Jt[9]=Jt[9]===q?ve?0:h.length:ki(Jt[9]-$e,0))&&24&p&&(p&=-25),p&&1!=p)bn=8==p||16==p?function CL(h,p,b){var T=Os(h);return function V(){for(var G=arguments.length,ne=ge(G),ae=G,ve=gr(V);ae--;)ne[ae]=arguments[ae];var $e=G<3&&ne[0]!==ve&&ne[G-1]!==ve?[]:Sc(ne,ve);return(G-=$e.length)<b?Uu(h,p,U_,V.placeholder,q,ne,$e,q,q,b-G):yo(this&&this!==Yi&&this instanceof V?T:h,this,ne)}}(h,p,ae):32!=p&&33!=p||V.length?U_.apply(q,Jt):function pf(h,p,b,T){var V=1&p,G=Os(h);return function ne(){for(var ae=-1,ve=arguments.length,$e=-1,qe=T.length,rt=ge(qe+ve),Rt=this&&this!==Yi&&this instanceof ne?G:h;++$e<qe;)rt[$e]=T[$e];for(;ve--;)rt[$e++]=arguments[++ae];return yo(Rt,V?b:this,rt)}}(h,p,b,T);else var bn=function uT(h,p,b){var T=1&p,V=Os(h);return function G(){return(this&&this!==Yi&&this instanceof G?V:h).apply(T?b:this,arguments)}}(h,p,b);return bT((Rt?Kp:yT)(bn,Jt),h,p)}function SL(h,p,b,T){return h===q||_l(h,pt[b])&&!ni.call(T,b)?p:h}function DL(h,p,b,T,V,G){return Vs(h)&&Vs(p)&&(G.set(p,h),hf(h,p,q,DL,G),G.delete(p)),h}function iz(h){return Cf(h)?q:h}function EL(h,p,b,T,V,G){var ne=1&b,ae=h.length,ve=p.length;if(ae!=ve&&!(ne&&ve>ae))return!1;var $e=G.get(h),qe=G.get(p);if($e&&qe)return $e==p&&qe==h;var rt=-1,Rt=!0,Jt=2&b?new Li:q;for(G.set(h,p),G.set(p,h);++rt<ae;){var bn=h[rt],Qn=p[rt];if(T)var _n=ne?T(Qn,bn,rt,p,h,G):T(bn,Qn,rt,h,p,G);if(_n!==q){if(_n)continue;Rt=!1;break}if(Jt){if(!b_(p,function(ci,xi){if(!Jh(Jt,xi)&&(bn===ci||V(bn,ci,b,T,G)))return Jt.push(xi)})){Rt=!1;break}}else if(bn!==Qn&&!V(bn,Qn,b,T,G)){Rt=!1;break}}return G.delete(h),G.delete(p),Rt}function Nc(h){return $_(_T(h,q,ST),h+"")}function Qs(h){return uf(h,kr,fT)}function $b(h){return uf(h,Vo,Xb)}var Wu=bb?function(h){return bb.get(h)}:Fx;function W_(h){for(var p=h.name+"",b=Wp[p],T=ni.call(Wp,p)?b.length:0;T--;){var V=b[T],G=V.func;if(null==G||G==h)return V.name}return p}function gr(h){return(ni.call(Y,"placeholder")?Y:h).placeholder}function an(){var h=Y.iteratee||Zu;return h=h===Zu?tT:h,arguments.length?h(arguments[0],arguments[1]):h}function em(h,p){var b=h.__data__;return function Qb(h){var p=typeof h;return"string"==p||"number"==p||"symbol"==p||"boolean"==p?"__proto__"!==h:null===h}(p)?b["string"==typeof p?"string":"hash"]:b.map}function _f(h){for(var p=kr(h),b=p.length;b--;){var T=p[b],V=h[T];p[b]=[T,V,Bc(V)]}return p}function Vl(h,p){var b=function qI(ee,Ie){return null==ee?q:ee[Ie]}(h,p);return R_(b)?b:q}var fT=sf?function(h){return null==h?[]:(h=Ji(h),Cu(sf(h),function(p){return Au.call(h,p)}))}:Bx,Xb=sf?function(h){for(var p=[];h;)yd(p,fT(h)),h=hs(h);return p}:Bx,Co=Ms;function Yu(h,p,b){for(var T=-1,V=(p=pl(p,h)).length,G=!1;++T<V;){var ne=Hl(p[T]);if(!(G=null!=h&&b(h,ne)))break;h=h[ne]}return G||++T!=V?G:!!(V=null==h?0:h.length)&&fv(V)&&Vc(ne,V)&&(An(h)||ju(h))}function Zb(h){return"function"!=typeof h.constructor||tm(h)?{}:Yp(hs(h))}function LL(h){return An(h)||ju(h)||!!(tf&&h&&h[tf])}function Vc(h,p){var b=typeof h;return!!(p=p??ut)&&("number"==b||"symbol"!=b&&wM.test(h))&&h>-1&&h%1==0&&h<p}function Mo(h,p,b){if(!Vs(b))return!1;var T=typeof p;return!!("number"==T?So(b)&&Vc(p,b.length):"string"==T&&p in b)&&_l(b[p],h)}function Kb(h,p){if(An(h))return!1;var b=typeof h;return!("number"!=b&&"symbol"!=b&&"boolean"!=b&&null!=h&&!ao(h))||II.test(h)||!kI.test(h)||null!=p&&h in Ji(p)}function vf(h){var p=W_(h),b=Y[p];if("function"!=typeof b||!(p in bi.prototype))return!1;if(h===b)return!0;var T=Wu(b);return!!T&&h===T[0]}(yb&&Co(new yb(new ArrayBuffer(1)))!=Xh||Hp&&Co(new Hp)!=Dn||zp&&Co(zp.resolve())!=ti||Ru&&Co(new Ru)!=Va||Up&&Co(new Up)!=bu)&&(Co=function(h){var p=Ms(h),b=p==Dr?h.constructor:q,T=b?ha(b):"";if(T)switch(T){case G5:return Xh;case $5:return Dn;case j5:return ti;case X5:return Va;case q5:return bu}return p});var Bl=tn?Ga:Sf;function tm(h){var p=h&&h.constructor;return h===("function"==typeof p&&p.prototype||pt)}function Bc(h){return h==h&&!Vs(h)}function pT(h,p){return function(b){return null!=b&&b[h]===p&&(p!==q||h in Ji(b))}}function _T(h,p,b){return p=ki(p===q?h.length-1:p,0),function(){for(var T=arguments,V=-1,G=ki(T.length-p,0),ne=ge(G);++V<G;)ne[V]=T[p+V];V=-1;for(var ae=ge(p+1);++V<p;)ae[V]=T[V];return ae[p]=b(ne),yo(h,this,ae)}}function vT(h,p){return p.length<2?h:wd(h,ca(p,0,-1))}function Gu(h,p){if(("constructor"!==p||"function"!=typeof h[p])&&"__proto__"!=p)return h[p]}var yT=PL(Kp),G_=gb||function(h,p){return Yi.setTimeout(h,p)},$_=PL(Ob);function bT(h,p,b){var T=p+"";return $_(h,function IL(h,p){var b=p.length;if(!b)return h;var T=b-1;return p[T]=(b>1?"& ":"")+p[T],p=p.join(b>2?", ":" "),h.replace(Ks,"{\n/* [wrapped with "+p+"] */\n")}(T,function wT(h,p){return ll(Nn,function(b){var T="_."+b[0];p&b[1]&&!vd(h,T)&&h.push(T)}),h.sort()}(function qb(h){var p=h.match(Ps);return p?p[1].split(RI):[]}(T),b)))}function PL(h){var p=0,b=0;return function(){var T=Lu(),V=16-(T-b);if(b=T,V>0){if(++p>=800)return arguments[0]}else p=0;return h.apply(q,arguments)}}function j_(h,p){var b=-1,T=h.length,V=T-1;for(p=p===q?T:p;++b<p;){var G=F_(b,V),ne=h[G];h[G]=h[b],h[b]=ne}return h.length=p,h}var xT=function mT(h){var p=am(h,function(T){return 500===b.size&&b.clear(),T}),b=p.cache;return p}(function(h){var p=[];return 46===h.charCodeAt(0)&&p.push(""),h.replace(LI,function(b,T,V,G){p.push(V?G.replace(bM,"$1"):T||b)}),p});function Hl(h){if("string"==typeof h||ao(h))return h;var p=h+"";return"0"==p&&1/h==-dt?"-0":p}function ha(h){if(null!=h){try{return Cs.call(h)}catch{}try{return h+""}catch{}}return""}function X_(h){if(h instanceof bi)return h.clone();var p=new sa(h.__wrapped__,h.__chain__);return p.__actions__=wo(h.__actions__),p.__index__=h.__index__,p.__values__=h.__values__,p}var CT=On(function(h,p){return Ns(h)?Xp(h,Ur(p,1,Ns,!0)):[]}),MT=On(function(h,p){var b=pa(p);return Ns(b)&&(b=q),Ns(h)?Xp(h,Ur(p,1,Ns,!0),an(b,2)):[]}),K_=On(function(h,p){var b=pa(p);return Ns(b)&&(b=q),Ns(h)?Xp(h,Ur(p,1,Ns,!0),q,b):[]});function nx(h,p,b){var T=null==h?0:h.length;if(!T)return-1;var V=null==b?0:Xn(b);return V<0&&(V=ki(T+V,0)),be(h,an(p,3),V)}function Ed(h,p,b){var T=null==h?0:h.length;if(!T)return-1;var V=T-1;return b!==q&&(V=Xn(b),V=b<0?ki(T+V,0):Er(V,T-1)),be(h,an(p,3),V,!0)}function ST(h){return null!=h&&h.length?Ur(h,1):[]}function J_(h){return h&&h.length?h[0]:q}var bf=On(function(h){var p=is(h,Bu);return p.length&&p[0]===h[0]?L_(p):[]}),sx=On(function(h){var p=pa(h),b=is(h,Bu);return p===pa(b)?p=q:b.pop(),b.length&&b[0]===h[0]?L_(b,an(p,2)):[]}),VL=On(function(h){var p=pa(h),b=is(h,Bu);return(p="function"==typeof p?p:q)&&b.pop(),b.length&&b[0]===h[0]?L_(b,q,p):[]});function pa(h){var p=null==h?0:h.length;return p?h[p-1]:q}var zL=On(DT);function DT(h,p){return h&&h.length&&p&&p.length?Fu(h,p):h}var ox=Nc(function(h,p){var b=null==h?0:h.length,T=kc(h,p);return nT(h,is(p,function(V){return Vc(V,b)?+V:V}).sort(Jp)),T});function ax(h){return null==h?h:vb.call(h)}var nm=On(function(h){return Td(Ur(h,1,Ns,!0))}),$L=On(function(h){var p=pa(h);return Ns(p)&&(p=q),Td(Ur(h,1,Ns,!0),an(p,2))}),jL=On(function(h){var p=pa(h);return p="function"==typeof p?p:q,Td(Ur(h,1,Ns,!0),q,p)});function wf(h){if(!h||!h.length)return[];var p=0;return h=Cu(h,function(b){if(Ns(b))return p=ki(b.length,p),!0}),Qh(p,function(b){return is(h,Tu(b))})}function PT(h,p){if(!h||!h.length)return[];var b=wf(h);return null==p?b:is(b,function(T){return yo(p,q,T)})}var OT=On(function(h,p){return Ns(h)?Xp(h,p):[]}),To=On(function(h){return Vu(Cu(h,Ns))}),az=On(function(h){var p=pa(h);return Ns(p)&&(p=q),Vu(Cu(h,Ns),an(p,2))}),$u=On(function(h){var p=pa(h);return p="function"==typeof p?p:q,Vu(Cu(h,Ns),q,p)}),dx=On(wf),ux=On(function(h){var p=h.length,b=p>1?h[p-1]:q;return b="function"==typeof b?(h.pop(),b):q,PT(h,b)});function FT(h){var p=Y(h);return p.__chain__=!0,p}function Hc(h,p){return p(h)}var ma=Nc(function(h){var p=h.length,b=p?h[0]:0,T=this.__wrapped__,V=function(G){return kc(G,h)};return!(p>1||this.__actions__.length)&&T instanceof bi&&Vc(b)?((T=T.slice(b,+b+(p?1:0))).__actions__.push({func:Hc,args:[V],thisArg:q}),new sa(T,this.__chain__).thru(function(G){return p&&!G.length&&G.push(q),G})):this.thru(V)}),BT=Hu(function(h,p,b){ni.call(h,b)?++h[b]:fl(h,b,1)}),cz=ss(nx),zT=ss(Ed);function iv(h,p){return(An(h)?ll:Ic)(h,an(p,3))}function eR(h,p){return(An(h)?Y5:Ou)(h,an(p,3))}var uz=Hu(function(h,p,b){ni.call(h,b)?h[b].push(p):fl(h,b,[p])}),hz=On(function(h,p,b){var T=-1,V="function"==typeof p,G=So(h)?ge(h.length):[];return Ic(h,function(ne){G[++T]=V?yo(p,ne,b):la(ne,p,b)}),G}),fz=Hu(function(h,p,b){fl(h,b,p)});function px(h,p){return(An(h)?is:Lb)(h,an(p,3))}var mz=Hu(function(h,p,b){h[b?0:1].push(p)},function(){return[[],[]]}),YT=On(function(h,p){if(null==h)return[];var b=p.length;return b>1&&Mo(h,p[0],p[1])?p=[]:b>2&&Mo(p[0],p[1],p[2])&&(p=[p[0]]),Cd(h,Ur(p,1),[])}),rm=Bn||function(){return Yi.Date.now()};function om(h,p,b){return p=b?q:p,Dd(h,128,q,q,q,q,p=h&&null==p?h.length:p)}function zc(h,p){var b;if("function"!=typeof p)throw new Ba(Je);return h=Xn(h),function(){return--h>0&&(b=p.apply(this,arguments)),h<=1&&(p=q),b}}var gx=On(function(h,p,b){var T=1;if(b.length){var V=Sc(b,gr(gx));T|=32}return Dd(h,T,p,b,V)}),GT=On(function(h,p,b){var T=3;if(b.length){var V=Sc(b,gr(GT));T|=32}return Dd(p,T,h,b,V)});function av(h,p,b){var T,V,G,ne,ae,ve,$e=0,qe=!1,rt=!1,Rt=!0;if("function"!=typeof h)throw new Ba(Je);function Jt(ar){var ja=T,Xa=V;return T=V=q,$e=ar,ne=h.apply(Xa,ja)}function _n(ar){var ja=ar-ve;return ve===q||ja>=p||ja<0||rt&&ar-$e>=G}function ci(){var ar=rm();if(_n(ar))return xi(ar);ae=G_(ci,function Qn(ar){var ES=p-(ar-ve);return rt?Er(ES,G-(ar-$e)):ES}(ar))}function xi(ar){return ae=q,Rt&&T?Jt(ar):(T=V=q,ne)}function Eo(){var ar=rm(),ja=_n(ar);if(T=arguments,V=this,ve=ar,ja){if(ae===q)return function bn(ar){return $e=ar,ae=G_(ci,p),qe?Jt(ar):ne}(ve);if(rt)return Vb(ae),ae=G_(ci,p),Jt(ve)}return ae===q&&(ae=G_(ci,p)),ne}return p=$a(p)||0,Vs(b)&&(qe=!!b.leading,G=(rt="maxWait"in b)?ki($a(b.maxWait)||0,p):G,Rt="trailing"in b?!!b.trailing:Rt),Eo.cancel=function ga(){ae!==q&&Vb(ae),$e=0,T=ve=V=ae=q},Eo.flush=function co(){return ae===q?ne:xi(rm())},Eo}var iR=On(function(h,p){return KM(h,1,p)}),sR=On(function(h,p,b){return KM(h,$a(p)||0,b)});function am(h,p){if("function"!=typeof h||null!=p&&"function"!=typeof p)throw new Ba(Je);var b=function(){var T=arguments,V=p?p.apply(this,T):T[0],G=b.cache;if(G.has(V))return G.get(V);var ne=h.apply(this,T);return b.cache=G.set(V,ne)||G,ne};return b.cache=new(am.Cache||Ar),b}function lv(h){if("function"!=typeof h)throw new Ba(Je);return function(){var p=arguments;switch(p.length){case 0:return!h.call(this);case 1:return!h.call(this,p[0]);case 2:return!h.call(this,p[0],p[1]);case 3:return!h.call(this,p[0],p[1],p[2])}return!h.apply(this,p)}}am.Cache=Ar;var No=nz(function(h,p){var b=(p=1==p.length&&An(p[0])?is(p[0],Un(an())):is(Ur(p,1),Un(an()))).length;return On(function(T){for(var V=-1,G=Er(T.length,b);++V<G;)T[V]=p[V].call(this,T[V]);return yo(h,this,T)})}),lm=On(function(h,p){var b=Sc(p,gr(lm));return Dd(h,32,q,p,b)}),vx=On(function(h,p){var b=Sc(p,gr(vx));return Dd(h,64,q,p,b)}),yx=Nc(function(h,p){return Dd(h,256,q,q,q,p)});function _l(h,p){return h===p||h!=h&&p!=p}var bx=mf(qp),xx=mf(function(h,p){return h>=p}),ju=Db(function(){return arguments}())?Db:function(h){return Ts(h)&&ni.call(h,"callee")&&!Au.call(h,"callee")},An=ge.isArray,cv=Xe?Un(Xe):function Nl(h){return Ts(h)&&Ms(h)==Ap};function So(h){return null!=h&&fv(h.length)&&!Ga(h)}function Ns(h){return Ts(h)&&So(h)}var Pd=rf||Sf,uR=__?Un(__):function Lc(h){return Ts(h)&&Ms(h)==ai};function uv(h){if(!Ts(h))return!1;var p=Ms(h);return p==Ei||"[object DOMException]"==p||"string"==typeof h.message&&"string"==typeof h.name&&!Cf(h)}function Ga(h){if(!Vs(h))return!1;var p=Ms(h);return p==Sr||p==Fa||"[object AsyncFunction]"==p||"[object Proxy]"==p}function hv(h){return"number"==typeof h&&h==Xn(h)}function fv(h){return"number"==typeof h&&h>-1&&h%1==0&&h<=ut}function Vs(h){var p=typeof h;return null!=h&&("object"==p||"function"==p)}function Ts(h){return null!=h&&"object"==typeof h}var wx=v_?Un(v_):function mL(h){return Ts(h)&&Co(h)==Dn};function tS(h){return"number"==typeof h||Ts(h)&&Ms(h)==Na}function Cf(h){if(!Ts(h)||Ms(h)!=Dr)return!1;var p=hs(h);if(null===p)return!0;var b=ni.call(p,"constructor")&&p.constructor;return"function"==typeof b&&b instanceof b&&Cs.call(b)==us}var mv=hb?Un(hb):function Ab(h){return Ts(h)&&Ms(h)==jh},gv=y_?Un(y_):function eT(h){return Ts(h)&&Co(h)==Va};function um(h){return"string"==typeof h||!An(h)&&Ts(h)&&Ms(h)==rl}function ao(h){return"symbol"==typeof h||Ts(h)&&Ms(h)==yu}var zl=RM?Un(RM):function kb(h){return Ts(h)&&fv(h.length)&&!!cs[Ms(h)]},sS=mf(O_),Mx=mf(function(h,p){return h<=p});function hm(h){if(!h)return[];if(So(h))return um(h)?hl(h):wo(h);if(nf&&h[nf])return function KI(ee){for(var Ie,ge=[];!(Ie=ee.next()).done;)ge.push(Ie.value);return ge}(h[nf]());var p=Co(h);return(p==Dn?ta:p==Va?C_:Od)(h)}function Uc(h){return h?(h=$a(h))===dt||h===-dt?17976931348623157e292*(h<0?-1:1):h==h?h:0:0===h?h:0}function Xn(h){var p=Uc(h),b=p%1;return p==p?b?p-b:p:0}function rS(h){return h?pn(Xn(h),0,Pt):0}function $a(h){if("number"==typeof h)return h;if(ao(h))return NaN;if(Vs(h)){var p="function"==typeof h.valueOf?h.valueOf():h;h=Vs(p)?p+"":p}if("string"!=typeof h)return 0===h?h:+h;h=ul(h);var b=PI.test(h);return b||L5.test(h)?fi(h.slice(2),b?2:8):xM.test(h)?NaN:+h}function oS(h){return ml(h,Vo(h))}function Ui(h){return null==h?"":da(h)}var vv=Ya(function(h,p){if(tm(p)||So(p))ml(p,kr(p),h);else for(var b in p)ni.call(p,b)&&lf(h,b,p[b])}),yv=Ya(function(h,p){ml(p,Vo(p),h)}),Wc=Ya(function(h,p,b,T){ml(p,Vo(p),h,T)}),gR=Ya(function(h,p,b,T){ml(p,kr(p),h,T)}),_R=Nc(kc),vR=On(function(h,p){h=Ji(h);var b=-1,T=p.length,V=T>2?p[2]:q;for(V&&Mo(p[0],p[1],V)&&(T=1);++b<T;)for(var G=p[b],ne=Vo(G),ae=-1,ve=ne.length;++ae<ve;){var $e=ne[ae],qe=h[$e];(qe===q||_l(qe,pt[$e])&&!ni.call(h,$e))&&(h[$e]=G[$e])}return h}),bv=On(function(h){return h.push(q,DL),yo(hS,q,h)});function Sx(h,p,b){var T=null==h?q:wd(h,p);return T===q?b:T}function Do(h,p){return null!=h&&Yu(h,p,pL)}var Ul=Yb(function(h,p,b){null!=p&&"function"!=typeof p.toString&&(p=Dc.call(p)),h[p]=b},_m(lo)),CR=Yb(function(h,p,b){null!=p&&"function"!=typeof p.toString&&(p=Dc.call(p)),ni.call(h,p)?h[p].push(b):h[p]=[b]},an),MR=On(la);function kr(h){return So(h)?A_(h):P_(h)}function Vo(h){return So(h)?A_(h,!0):function Ib(h){if(!Vs(h))return function Y_(h){var p=[];if(null!=h)for(var b in Ji(h))p.push(b);return p}(h);var p=tm(h),b=[];for(var T in h)"constructor"==T&&(p||!ni.call(h,T))||b.push(T);return b}(h)}var uS=Ya(function(h,p,b){hf(h,p,b)}),hS=Ya(function(h,p,b,T){hf(h,p,b,T)}),DR=Nc(function(h,p){var b={};if(null==h)return b;var T=!1;p=is(p,function(G){return G=pl(G,h),T||(T=G.length>1),G}),ml(h,$b(h),b),T&&(b=aa(b,7,iz));for(var V=p.length;V--;)Fb(b,p[V]);return b}),AR=Nc(function(h,p){return null==h?{}:function gs(h,p){return qi(h,p,function(b,T){return Do(h,T)})}(h,p)});function fm(h,p){if(null==h)return{};var b=is($b(h),function(T){return[T]});return p=an(p),qi(h,b,function(T,V){return p(T,V[0])})}var Dx=TL(kr),Ex=TL(Vo);function Od(h){return null==h?[]:St(h,kr(h))}var IR=gl(function(h,p,b){return p=p.toLowerCase(),h+(b?mS(p):p)});function mS(h){return Fd(Ui(h).toLowerCase())}function gS(h){return(h=Ui(h))&&h.replace(R5,Np).replace(z5,"")}var kx=gl(function(h,p,b){return h+(b?"-":"")+p.toLowerCase()}),LR=gl(function(h,p,b){return h+(b?" ":"")+p.toLowerCase()}),Yr=zu("toLowerCase"),FR=gl(function(h,p,b){return h+(b?"_":"")+p.toLowerCase()}),xS=gl(function(h,p,b){return h+(b?" ":"")+Fd(p)}),Px=gl(function(h,p,b){return h+(b?" ":"")+p.toUpperCase()}),Fd=zu("toUpperCase");function Cv(h,p,b){return h=Ui(h),(p=b?q:p)===q?function ZI(ee){return cn.test(ee)}(h)?function iL(ee){return ee.match(Be)||[]}(h):function bd(ee){return ee.match(Vn)||[]}(h):h.match(p)||[]}var Mv=On(function(h,p){try{return yo(h,q,p)}catch(b){return uv(b)?b:new Qt(b)}}),gm=Nc(function(h,p){return ll(p,function(b){b=Hl(b),fl(h,b,gx(h[b],h))}),h});function _m(h){return function(){return h}}var Sv=z_(),Dz=z_(!0);function lo(h){return h}function Zu(h){return tT("function"==typeof h?h:aa(h,1))}var HR=On(function(h,p){return function(b){return la(b,h,p)}}),zR=On(function(h,p){return function(b){return la(h,b,p)}});function vm(h,p,b){var T=kr(p),V=zi(p,T);null==b&&(!Vs(p)||!V.length&&T.length)&&(b=p,p=h,h=this,V=zi(p,kr(p)));var G=!(Vs(b)&&"chain"in b&&!b.chain),ne=Ga(h);return ll(V,function(ae){var ve=p[ae];h[ae]=ve,ne&&(h.prototype[ae]=function(){var $e=this.__chain__;if(G||$e){var qe=h(this.__wrapped__);return(qe.__actions__=wo(this.__actions__)).push({func:ve,args:arguments,thisArg:h}),qe.__chain__=$e,qe}return ve.apply(h,yd([this.value()],arguments))})}),h}function Fx(){}var Tf=Sd(is),MS=Sd(GI),Nx=Sd(b_);function Vx(h){return Kb(h)?Tu(Hl(h)):function _L(h){return function(p){return wd(p,h)}}(h)}var Az=Gb(),ym=Gb(!0);function Bx(){return[]}function Sf(){return!1}var SS=Oc(function(h,p){return h+p},0),GR=hT("ceil"),DS=Oc(function(h,p){return h/p},1),kz=hT("floor"),Ev=Oc(function(h,p){return h*p},1),Js=hT("round"),qR=Oc(function(h,p){return h-p},0);return Y.after=function ov(h,p){if("function"!=typeof p)throw new Ba(Je);return h=Xn(h),function(){if(--h<1)return p.apply(this,arguments)}},Y.ary=om,Y.assign=vv,Y.assignIn=yv,Y.assignInWith=Wc,Y.assignWith=gR,Y.at=_R,Y.before=zc,Y.bind=gx,Y.bindAll=gm,Y.bindKey=GT,Y.castArray=function qT(){if(!arguments.length)return[];var h=arguments[0];return An(h)?h:[h]},Y.chain=FT,Y.chunk=function q_(h,p,b){p=(b?Mo(h,p,b):p===q)?1:ki(Xn(p),0);var T=null==h?0:h.length;if(!T||p<1)return[];for(var V=0,G=0,ne=ge(xd(T/p));V<T;)ne[G++]=ca(h,V,V+=p);return ne},Y.compact=function Z_(h){for(var p=-1,b=null==h?0:h.length,T=0,V=[];++p<b;){var G=h[p];G&&(V[T++]=G)}return V},Y.concat=function OL(){var h=arguments.length;if(!h)return[];for(var p=ge(h-1),b=arguments[0],T=h;T--;)p[T-1]=arguments[T];return yd(An(b)?wo(b):[b],Ur(p,1))},Y.cond=function Tv(h){var p=null==h?0:h.length,b=an();return h=p?is(h,function(T){if("function"!=typeof T[1])throw new Ba(Je);return[b(T[0]),T[1]]}):[],On(function(T){for(var V=-1;++V<p;){var G=h[V];if(yo(G[0],this,T))return yo(G[1],this,T)}})},Y.conforms=function Mf(h){return function ez(h){var p=kr(h);return function(b){return ZM(b,h,p)}}(aa(h,1))},Y.constant=_m,Y.countBy=BT,Y.create=function _z(h,p){var b=Yp(h);return null==p?b:df(b,p)},Y.curry=function $T(h,p,b){var T=Dd(h,8,q,q,q,q,q,p=b?q:p);return T.placeholder=$T.placeholder,T},Y.curryRight=function _x(h,p,b){var T=Dd(h,16,q,q,q,q,q,p=b?q:p);return T.placeholder=_x.placeholder,T},Y.debounce=av,Y.defaults=vR,Y.defaultsDeep=bv,Y.defer=iR,Y.delay=sR,Y.difference=CT,Y.differenceBy=MT,Y.differenceWith=K_,Y.drop=function rz(h,p,b){var T=null==h?0:h.length;return T?ca(h,(p=b||p===q?1:Xn(p))<0?0:p,T):[]},Y.dropRight=function ex(h,p,b){var T=null==h?0:h.length;return T?ca(h,0,(p=T-(p=b||p===q?1:Xn(p)))<0?0:p):[]},Y.dropRightWhile=function FL(h,p){return h&&h.length?Nb(h,an(p,3),!0,!0):[]},Y.dropWhile=function tx(h,p){return h&&h.length?Nb(h,an(p,3),!0):[]},Y.fill=function TT(h,p,b,T){var V=null==h?0:h.length;return V?(b&&"number"!=typeof b&&Mo(h,p,b)&&(b=0,T=V),function fL(h,p,b,T){var V=h.length;for((b=Xn(b))<0&&(b=-b>V?0:V+b),(T=T===q||T>V?V:Xn(T))<0&&(T+=V),T=b>T?0:rS(T);b<T;)h[b++]=p;return h}(h,p,b,T)):[]},Y.filter=function HT(h,p){return(An(h)?Cu:QM)(h,an(p,3))},Y.flatMap=function dz(h,p){return Ur(px(h,p),1)},Y.flatMapDeep=function QL(h,p){return Ur(px(h,p),dt)},Y.flatMapDepth=function JL(h,p,b){return b=b===q?1:Xn(b),Ur(px(h,p),b)},Y.flatten=ST,Y.flattenDeep=function ix(h){return null!=h&&h.length?Ur(h,dt):[]},Y.flattenDepth=function Q_(h,p){return null!=h&&h.length?Ur(h,p=p===q?1:Xn(p)):[]},Y.flip=function rR(h){return Dd(h,512)},Y.flow=Sv,Y.flowRight=Dz,Y.fromPairs=function NL(h){for(var p=-1,b=null==h?0:h.length,T={};++p<b;){var V=h[p];T[V[0]]=V[1]}return T},Y.functions=function bR(h){return null==h?[]:zi(h,kr(h))},Y.functionsIn=function xR(h){return null==h?[]:zi(h,Vo(h))},Y.groupBy=uz,Y.initial=function fa(h){return null!=h&&h.length?ca(h,0,-1):[]},Y.intersection=bf,Y.intersectionBy=sx,Y.intersectionWith=VL,Y.invert=Ul,Y.invertBy=CR,Y.invokeMap=hz,Y.iteratee=Zu,Y.keyBy=fz,Y.keys=kr,Y.keysIn=Vo,Y.map=px,Y.mapKeys=function TR(h,p){var b={};return p=an(p,3),ie(h,function(T,V,G){fl(b,p(T,V,G),T)}),b},Y.mapValues=function SR(h,p){var b={};return p=an(p,3),ie(h,function(T,V,G){fl(b,V,p(T,V,G))}),b},Y.matches=function BR(h){return Rb(aa(h,1))},Y.matchesProperty=function wS(h,p){return Pb(h,aa(p,1))},Y.memoize=am,Y.merge=uS,Y.mergeWith=hS,Y.method=HR,Y.methodOf=zR,Y.mixin=vm,Y.negate=lv,Y.nthArg=function UR(h){return h=Xn(h),On(function(p){return Wr(p,h)})},Y.omit=DR,Y.omitBy=function ER(h,p){return fm(h,lv(an(p)))},Y.once=function oR(h){return zc(2,h)},Y.orderBy=function pz(h,p,b,T){return null==h?[]:(An(p)||(p=null==p?[]:[p]),An(b=T?q:b)||(b=null==b?[]:[b]),Cd(h,p,b))},Y.over=Tf,Y.overArgs=No,Y.overEvery=MS,Y.overSome=Nx,Y.partial=lm,Y.partialRight=vx,Y.partition=mz,Y.pick=AR,Y.pickBy=fm,Y.property=Vx,Y.propertyOf=function Ez(h){return function(p){return null==h?q:wd(h,p)}},Y.pull=zL,Y.pullAll=DT,Y.pullAllBy=function rx(h,p,b){return h&&h.length&&p&&p.length?Fu(h,p,an(b,2)):h},Y.pullAllWith=function Ad(h,p,b){return h&&h.length&&p&&p.length?Fu(h,p,q,b):h},Y.pullAt=ox,Y.range=Az,Y.rangeRight=ym,Y.rearg=yx,Y.reject=function rv(h,p){return(An(h)?Cu:QM)(h,lv(an(p,3)))},Y.remove=function ET(h,p){var b=[];if(!h||!h.length)return b;var T=-1,V=[],G=h.length;for(p=an(p,3);++T<G;){var ne=h[T];p(ne,T,h)&&(b.push(ne),V.push(T))}return nT(h,V),b},Y.rest=function oo(h,p){if("function"!=typeof h)throw new Ba(Je);return On(h,p=p===q?p:Xn(p))},Y.reverse=ax,Y.sampleSize=function UT(h,p,b){return p=(b?Mo(h,p,b):p===q)?1:Xn(p),(An(h)?Fl:N_)(h,p)},Y.set=function pm(h,p,b){return null==h?h:Md(h,p,b)},Y.setWith=function fS(h,p,b,T){return T="function"==typeof T?T:q,null==h?h:Md(h,p,b,T)},Y.shuffle=function WT(h){return(An(h)?qM:sT)(h)},Y.slice=function UL(h,p,b){var T=null==h?0:h.length;return T?(b&&"number"!=typeof b&&Mo(h,p,b)?(p=0,b=T):(p=null==p?0:Xn(p),b=b===q?T:Xn(b)),ca(h,p,b)):[]},Y.sortBy=YT,Y.sortedUniq=function IT(h){return h&&h.length?rT(h):[]},Y.sortedUniqBy=function LT(h,p){return h&&h.length?rT(h,an(p,2)):[]},Y.split=function NR(h,p,b){return b&&"number"!=typeof b&&Mo(h,p,b)&&(p=b=q),(b=b===q?Pt:b>>>0)?(h=Ui(h))&&("string"==typeof p||null!=p&&!mv(p))&&!(p=da(p))&&Su(h)?Pc(hl(h),0,b):h.split(p,b):[]},Y.spread=function cm(h,p){if("function"!=typeof h)throw new Ba(Je);return p=null==p?0:ki(Xn(p),0),On(function(b){var T=b[p],V=Pc(b,0,p);return T&&yd(V,T),yo(h,this,V)})},Y.tail=function Fs(h){var p=null==h?0:h.length;return p?ca(h,1,p):[]},Y.take=function lx(h,p,b){return h&&h.length?ca(h,0,(p=b||p===q?1:Xn(p))<0?0:p):[]},Y.takeRight=function kd(h,p,b){var T=null==h?0:h.length;return T?ca(h,(p=T-(p=b||p===q?1:Xn(p)))<0?0:p,T):[]},Y.takeRightWhile=function tv(h,p){return h&&h.length?Nb(h,an(p,3),!1,!0):[]},Y.takeWhile=function RT(h,p){return h&&h.length?Nb(h,an(p,3)):[]},Y.tap=function NT(h,p){return p(h),h},Y.throttle=function jT(h,p,b){var T=!0,V=!0;if("function"!=typeof h)throw new Ba(Je);return Vs(b)&&(T="leading"in b?!!b.leading:T,V="trailing"in b?!!b.trailing:V),av(h,p,{leading:T,maxWait:p,trailing:V})},Y.thru=Hc,Y.toArray=hm,Y.toPairs=Dx,Y.toPairsIn=Ex,Y.toPath=function Dv(h){return An(h)?is(h,Hl):ao(h)?[h]:wo(xT(Ui(h)))},Y.toPlainObject=oS,Y.transform=function vz(h,p,b){var T=An(h),V=T||Pd(h)||zl(h);if(p=an(p,4),null==b){var G=h&&h.constructor;b=V?T?new G:[]:Vs(h)&&Ga(G)?Yp(hs(h)):{}}return(V?ll:ie)(h,function(ne,ae,ve){return p(b,ne,ae,ve)}),b},Y.unary=function XT(h){return om(h,1)},Y.union=nm,Y.unionBy=$L,Y.unionWith=jL,Y.uniq=function cx(h){return h&&h.length?Td(h):[]},Y.uniqBy=function XL(h,p){return h&&h.length?Td(h,an(p,2)):[]},Y.uniqWith=function Id(h,p){return p="function"==typeof p?p:q,h&&h.length?Td(h,q,p):[]},Y.unset=function yz(h,p){return null==h||Fb(h,p)},Y.unzip=wf,Y.unzipWith=PT,Y.update=function bz(h,p,b){return null==h?h:bL(h,p,Qp(b))},Y.updateWith=function Ax(h,p,b,T){return T="function"==typeof T?T:q,null==h?h:bL(h,p,Qp(b),T)},Y.values=Od,Y.valuesIn=function xz(h){return null==h?[]:St(h,Vo(h))},Y.without=OT,Y.words=Cv,Y.wrap=function aR(h,p){return lm(Qp(p),h)},Y.xor=To,Y.xorBy=az,Y.xorWith=$u,Y.zip=dx,Y.zipObject=function qL(h,p){return oT(h||[],p||[],lf)},Y.zipObjectDeep=function ZL(h,p){return oT(h||[],p||[],Md)},Y.zipWith=ux,Y.entries=Dx,Y.entriesIn=Ex,Y.extend=yv,Y.extendWith=Wc,vm(Y,Y),Y.add=SS,Y.attempt=Mv,Y.camelCase=IR,Y.capitalize=mS,Y.ceil=GR,Y.clamp=function wz(h,p,b){return b===q&&(b=p,p=q),b!==q&&(b=(b=$a(b))==b?b:0),p!==q&&(p=(p=$a(p))==p?p:0),pn($a(h),p,b)},Y.clone=function lR(h){return aa(h,4)},Y.cloneDeep=function cR(h){return aa(h,5)},Y.cloneDeepWith=function KT(h,p){return aa(h,5,p="function"==typeof p?p:q)},Y.cloneWith=function ZT(h,p){return aa(h,4,p="function"==typeof p?p:q)},Y.conformsTo=function dR(h,p){return null==p||ZM(h,p,kr(p))},Y.deburr=gS,Y.defaultTo=function Ox(h,p){return null==h||h!=h?p:h},Y.divide=DS,Y.endsWith=function _S(h,p,b){h=Ui(h),p=da(p);var T=h.length,V=b=b===q?T:pn(Xn(b),0,T);return(b-=p.length)>=0&&h.slice(b,V)==p},Y.eq=_l,Y.escape=function xv(h){return(h=Ui(h))&&AI.test(h)?h.replace(a_,NM):h},Y.escapeRegExp=function vS(h){return(h=Ui(h))&&vM.test(h)?h.replace(Gt,"\\$&"):h},Y.every=function KL(h,p,b){var T=An(h)?GI:hL;return b&&Mo(h,p,b)&&(p=q),T(h,an(p,3))},Y.find=cz,Y.findIndex=nx,Y.findKey=function Tx(h,p){return PM(h,an(p,3),ie)},Y.findLast=zT,Y.findLastIndex=Ed,Y.findLastKey=function lS(h,p){return PM(h,an(p,3),se)},Y.floor=kz,Y.forEach=iv,Y.forEachRight=eR,Y.forIn=function cS(h,p){return null==h?h:Oe(h,an(p,3),Vo)},Y.forInRight=function dS(h,p){return null==h?h:yi(h,an(p,3),Vo)},Y.forOwn=function qu(h,p){return h&&ie(h,an(p,3))},Y.forOwnRight=function yR(h,p){return h&&se(h,an(p,3))},Y.get=Sx,Y.gt=bx,Y.gte=xx,Y.has=function wR(h,p){return null!=h&&Yu(h,p,Sb)},Y.hasIn=Do,Y.head=J_,Y.identity=lo,Y.includes=function fx(h,p,b,T){h=So(h)?h:Od(h),b=b&&!T?Xn(b):0;var V=h.length;return b<0&&(b=ki(V+b,0)),um(h)?b<=V&&h.indexOf(p,b)>-1:!!V&&Mu(h,p,b)>-1},Y.indexOf=function ev(h,p,b){var T=null==h?0:h.length;if(!T)return-1;var V=null==b?0:Xn(b);return V<0&&(V=ki(T+V,0)),Mu(h,p,V)},Y.inRange=function pS(h,p,b){return p=Uc(p),b===q?(b=p,p=0):b=Uc(b),function tz(h,p,b){return h>=Er(p,b)&&h<ki(p,b)}(h=$a(h),p,b)},Y.invoke=MR,Y.isArguments=ju,Y.isArray=An,Y.isArrayBuffer=cv,Y.isArrayLike=So,Y.isArrayLikeObject=Ns,Y.isBoolean=function dv(h){return!0===h||!1===h||Ts(h)&&Ms(h)==Sn},Y.isBuffer=Pd,Y.isDate=uR,Y.isElement=function QT(h){return Ts(h)&&1===h.nodeType&&!Cf(h)},Y.isEmpty=function hR(h){if(null==h)return!0;if(So(h)&&(An(h)||"string"==typeof h||"function"==typeof h.splice||Pd(h)||zl(h)||ju(h)))return!h.length;var p=Co(h);if(p==Dn||p==Va)return!h.size;if(tm(h))return!P_(h).length;for(var b in h)if(ni.call(h,b))return!1;return!0},Y.isEqual=function fR(h,p){return Zp(h,p)},Y.isEqualWith=function pR(h,p,b){var T=(b="function"==typeof b?b:q)?b(h,p):q;return T===q?Zp(h,p,q,b):!!T},Y.isError=uv,Y.isFinite=function dm(h){return"number"==typeof h&&Gs(h)},Y.isFunction=Ga,Y.isInteger=hv,Y.isLength=fv,Y.isMap=wx,Y.isMatch=function Xu(h,p){return h===p||Eb(h,p,_f(p))},Y.isMatchWith=function JT(h,p,b){return b="function"==typeof b?b:q,Eb(h,p,_f(p),b)},Y.isNaN=function eS(h){return tS(h)&&h!=+h},Y.isNative=function mR(h){if(Bl(h))throw new Qt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return R_(h)},Y.isNil=function pv(h){return null==h},Y.isNull=function gz(h){return null===h},Y.isNumber=tS,Y.isObject=Vs,Y.isObjectLike=Ts,Y.isPlainObject=Cf,Y.isRegExp=mv,Y.isSafeInteger=function nS(h){return hv(h)&&h>=-ut&&h<=ut},Y.isSet=gv,Y.isString=um,Y.isSymbol=ao,Y.isTypedArray=zl,Y.isUndefined=function iS(h){return h===q},Y.isWeakMap=function Cx(h){return Ts(h)&&Co(h)==bu},Y.isWeakSet=function _v(h){return Ts(h)&&"[object WeakSet]"==Ms(h)},Y.join=function BL(h,p){return null==h?"":_b.call(h,p)},Y.kebabCase=kx,Y.last=pa,Y.lastIndexOf=function xf(h,p,b){var T=null==h?0:h.length;if(!T)return-1;var V=T;return b!==q&&(V=(V=Xn(b))<0?ki(T+V,0):Er(V,T-1)),p==p?function eL(ee,Ie,ge){for(var wt=ge+1;wt--;)if(ee[wt]===Ie)return wt;return wt}(h,p,V):be(h,Fp,V,!0)},Y.lowerCase=LR,Y.lowerFirst=Yr,Y.lt=sS,Y.lte=Mx,Y.max=function $R(h){return h&&h.length?I_(h,lo,qp):q},Y.maxBy=function Nd(h,p){return h&&h.length?I_(h,an(p,2),qp):q},Y.mean=function jR(h){return x_(h,lo)},Y.meanBy=function Df(h,p){return x_(h,an(p,2))},Y.min=function gn(h){return h&&h.length?I_(h,lo,O_):q},Y.minBy=function XR(h,p){return h&&h.length?I_(h,an(p,2),O_):q},Y.stubArray=Bx,Y.stubFalse=Sf,Y.stubObject=function Hx(){return{}},Y.stubString=function WR(){return""},Y.stubTrue=function TS(){return!0},Y.multiply=Ev,Y.nth=function HL(h,p){return h&&h.length?Wr(h,Xn(p)):q},Y.noConflict=function CS(){return Yi._===this&&(Yi._=bo),this},Y.noop=Fx,Y.now=rm,Y.pad=function yS(h,p,b){h=Ui(h);var T=(p=Xn(p))?Du(h):0;if(!p||T>=p)return h;var V=(p-T)/2;return Fc(ia(V),b)+h+Fc(xd(V),b)},Y.padEnd=function RR(h,p,b){h=Ui(h);var T=(p=Xn(p))?Du(h):0;return p&&T<p?h+Fc(p-T,b):h},Y.padStart=function Ix(h,p,b){h=Ui(h);var T=(p=Xn(p))?Du(h):0;return p&&T<p?Fc(p-T,b)+h:h},Y.parseInt=function bS(h,p,b){return b||null==p?p=0:p&&(p=+p),D_(Ui(h).replace(xs,""),p||0)},Y.random=function kR(h,p,b){if(b&&"boolean"!=typeof b&&Mo(h,p,b)&&(p=b=q),b===q&&("boolean"==typeof p?(b=p,p=q):"boolean"==typeof h&&(b=h,h=q)),h===q&&p===q?(h=0,p=1):(h=Uc(h),p===q?(p=h,h=0):p=Uc(p)),h>p){var T=h;h=p,p=T}if(b||h%1||p%1){var V=Ua();return Er(h+V*(p-h+YI("1e-"+((V+"").length-1))),p)}return F_(h,p)},Y.reduce=function tR(h,p,b){var T=An(h)?fb:OM,V=arguments.length<3;return T(h,an(p,4),b,V,Ic)},Y.reduceRight=function sv(h,p,b){var T=An(h)?$I:OM,V=arguments.length<3;return T(h,an(p,4),b,V,Ou)},Y.repeat=function PR(h,p,b){return p=(b?Mo(h,p,b):p===q)?1:Xn(p),ff(Ui(h),p)},Y.replace=function OR(){var h=arguments,p=Ui(h[0]);return h.length<3?p:p.replace(h[1],h[2])},Y.result=function Yc(h,p,b){var T=-1,V=(p=pl(p,h)).length;for(V||(V=1,h=q);++T<V;){var G=null==h?q:h[Hl(p[T])];G===q&&(T=V,G=b),h=Ga(G)?G.call(h):G}return h},Y.round=Js,Y.runInContext=ee,Y.sample=function mx(h){return(An(h)?XM:vL)(h)},Y.size=function sm(h){if(null==h)return 0;if(So(h))return um(h)?Du(h):h.length;var p=Co(h);return p==Dn||p==Va?h.size:P_(h).length},Y.snakeCase=FR,Y.some=function nR(h,p,b){var T=An(h)?b_:yL;return b&&Mo(h,p,b)&&(p=q),T(h,an(p,3))},Y.sortedIndex=function AT(h,p){return Rc(h,p)},Y.sortedIndexBy=function WL(h,p,b){return Nu(h,p,an(b,2))},Y.sortedIndexOf=function kT(h,p){var b=null==h?0:h.length;if(b){var T=Rc(h,p);if(T<b&&_l(h[T],p))return T}return-1},Y.sortedLastIndex=function YL(h,p){return Rc(h,p,!0)},Y.sortedLastIndexBy=function GL(h,p,b){return Nu(h,p,an(b,2),!0)},Y.sortedLastIndexOf=function oz(h,p){if(null!=h&&h.length){var T=Rc(h,p,!0)-1;if(_l(h[T],p))return T}return-1},Y.startCase=xS,Y.startsWith=function Cz(h,p,b){return h=Ui(h),b=null==b?0:pn(Xn(b),0,h.length),p=da(p),h.slice(b,b+p.length)==p},Y.subtract=qR,Y.sum=function ZR(h){return h&&h.length?cl(h,lo):0},Y.sumBy=function Ux(h,p){return h&&h.length?cl(h,an(p,2)):0},Y.template=function Mz(h,p,b){var T=Y.templateSettings;b&&Mo(h,p,b)&&(p=q),h=Ui(h),p=Wc({},p,T,SL);var ae,ve,V=Wc({},p.imports,T.imports,SL),G=kr(V),ne=St(V,G),$e=0,qe=p.interpolate||rb,rt="__p += '",Rt=M_((p.escape||rb).source+"|"+qe.source+"|"+(qe===sb?De:rb).source+"|"+(p.evaluate||rb).source+"|$","g"),Jt="//# sourceURL="+(ni.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++WI+"]")+"\n";h.replace(Rt,function(_n,ci,xi,ga,co,Eo){return xi||(xi=ga),rt+=h.slice($e,Eo).replace(P5,VM),ci&&(ae=!0,rt+="' +\n__e("+ci+") +\n'"),co&&(ve=!0,rt+="';\n"+co+";\n__p += '"),xi&&(rt+="' +\n((__t = ("+xi+")) == null ? '' : __t) +\n'"),$e=Eo+_n.length,_n}),rt+="';\n";var bn=ni.call(p,"variable")&&p.variable;if(bn){if(k5.test(bn))throw new Qt("Invalid `variable` option passed into `_.template`")}else rt="with (obj) {\n"+rt+"\n}\n";rt=(ve?rt.replace(o_,""):rt).replace(EI,"$1").replace(ib,"$1;"),rt="function("+(bn||"obj")+") {\n"+(bn?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(ae?", __e = _.escape":"")+(ve?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+rt+"return __p\n}";var Qn=Mv(function(){return li(G,Jt+"return "+rt).apply(q,ne)});if(Qn.source=rt,uv(Qn))throw Qn;return Qn},Y.times=function zx(h,p){if((h=Xn(h))<1||h>ut)return[];var b=Pt,T=Er(h,Pt);p=an(p),h-=Pt;for(var V=Qh(T,p);++b<h;)p(b);return V},Y.toFinite=Uc,Y.toInteger=Xn,Y.toLength=rS,Y.toLower=function mm(h){return Ui(h).toLowerCase()},Y.toNumber=$a,Y.toSafeInteger=function aS(h){return h?pn(Xn(h),-ut,ut):0===h?h:0},Y.toString=Ui,Y.toUpper=function Lx(h){return Ui(h).toUpperCase()},Y.trim=function Tz(h,p,b){if((h=Ui(h))&&(b||p===q))return ul(h);if(!h||!(p=da(p)))return h;var T=hl(h),V=hl(p);return Pc(T,w_(T,V),mb(T,V)+1).join("")},Y.trimEnd=function Sz(h,p,b){if((h=Ui(h))&&(b||p===q))return h.slice(0,HM(h)+1);if(!h||!(p=da(p)))return h;var T=hl(h);return Pc(T,0,mb(T,hl(p))+1).join("")},Y.trimStart=function wv(h,p,b){if((h=Ui(h))&&(b||p===q))return h.replace(xs,"");if(!h||!(p=da(p)))return h;var T=hl(h);return Pc(T,w_(T,hl(p))).join("")},Y.truncate=function VR(h,p){var b=30,T="...";if(Vs(p)){var V="separator"in p?p.separator:V;b="length"in p?Xn(p.length):b,T="omission"in p?da(p.omission):T}var G=(h=Ui(h)).length;if(Su(h)){var ne=hl(h);G=ne.length}if(b>=G)return h;var ae=b-Du(T);if(ae<1)return T;var ve=ne?Pc(ne,0,ae).join(""):h.slice(0,ae);if(V===q)return ve+T;if(ne&&(ae+=ve.length-ae),mv(V)){if(h.slice(ae).search(V)){var $e,qe=ve;for(V.global||(V=M_(V.source,Ui(wu.exec(V))+"g")),V.lastIndex=0;$e=V.exec(qe);)var rt=$e.index;ve=ve.slice(0,rt===q?ae:rt)}}else if(h.indexOf(da(V),ae)!=ae){var Rt=ve.lastIndexOf(V);Rt>-1&&(ve=ve.slice(0,Rt))}return ve+T},Y.unescape=function Rx(h){return(h=Ui(h))&&_d.test(h)?h.replace(gM,tL):h},Y.uniqueId=function YR(h){var p=++so;return Ui(h)+p},Y.upperCase=Px,Y.upperFirst=Fd,Y.each=iv,Y.eachRight=eR,Y.first=J_,vm(Y,function(){var h={};return ie(Y,function(p,b){ni.call(Y.prototype,b)||(h[b]=p)}),h}(),{chain:!1}),Y.VERSION="4.17.21",ll(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){Y[h].placeholder=Y}),ll(["drop","take"],function(h,p){bi.prototype[h]=function(b){b=b===q?1:ki(Xn(b),0);var T=this.__filtered__&&!p?new bi(this):this.clone();return T.__filtered__?T.__takeCount__=Er(b,T.__takeCount__):T.__views__.push({size:Er(b,Pt),type:h+(T.__dir__<0?"Right":"")}),T},bi.prototype[h+"Right"]=function(b){return this.reverse()[h](b).reverse()}}),ll(["filter","map","takeWhile"],function(h,p){var b=p+1,T=1==b||3==b;bi.prototype[h]=function(V){var G=this.clone();return G.__iteratees__.push({iteratee:an(V,3),type:b}),G.__filtered__=G.__filtered__||T,G}}),ll(["head","last"],function(h,p){var b="take"+(p?"Right":"");bi.prototype[h]=function(){return this[b](1).value()[0]}}),ll(["initial","tail"],function(h,p){var b="drop"+(p?"":"Right");bi.prototype[h]=function(){return this.__filtered__?new bi(this):this[b](1)}}),bi.prototype.compact=function(){return this.filter(lo)},bi.prototype.find=function(h){return this.filter(h).head()},bi.prototype.findLast=function(h){return this.reverse().find(h)},bi.prototype.invokeMap=On(function(h,p){return"function"==typeof h?new bi(this):this.map(function(b){return la(b,h,p)})}),bi.prototype.reject=function(h){return this.filter(lv(an(h)))},bi.prototype.slice=function(h,p){h=Xn(h);var b=this;return b.__filtered__&&(h>0||p<0)?new bi(b):(h<0?b=b.takeRight(-h):h&&(b=b.drop(h)),p!==q&&(b=(p=Xn(p))<0?b.dropRight(-p):b.take(p-h)),b)},bi.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},bi.prototype.toArray=function(){return this.take(Pt)},ie(bi.prototype,function(h,p){var b=/^(?:filter|find|map|reject)|While$/.test(p),T=/^(?:head|last)$/.test(p),V=Y[T?"take"+("last"==p?"Right":""):p],G=T||/^find/.test(p);V&&(Y.prototype[p]=function(){var ne=this.__wrapped__,ae=T?[1]:arguments,ve=ne instanceof bi,$e=ae[0],qe=ve||An(ne),rt=function(ci){var xi=V.apply(Y,yd([ci],ae));return T&&Rt?xi[0]:xi};qe&&b&&"function"==typeof $e&&1!=$e.length&&(ve=qe=!1);var Rt=this.__chain__,bn=G&&!Rt,Qn=ve&&!this.__actions__.length;if(!G&&qe){ne=Qn?ne:new bi(this);var _n=h.apply(ne,ae);return _n.__actions__.push({func:Hc,args:[rt],thisArg:q}),new sa(_n,Rt)}return bn&&Qn?h.apply(this,ae):(_n=this.thru(rt),bn?T?_n.value()[0]:_n.value():_n)})}),ll(["pop","push","shift","sort","splice","unshift"],function(h){var p=S_[h],b=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",T=/^(?:pop|shift)$/.test(h);Y.prototype[h]=function(){var V=arguments;if(T&&!this.__chain__){var G=this.value();return p.apply(An(G)?G:[],V)}return this[b](function(ne){return p.apply(An(ne)?ne:[],V)})}}),ie(bi.prototype,function(h,p){var b=Y[p];if(b){var T=b.name+"";ni.call(Wp,T)||(Wp[T]=[]),Wp[T].push({name:p,func:b})}}),Wp[U_(q,2).name]=[{name:"wrapper",func:q}],bi.prototype.clone=function Z5(){var h=new bi(this.__wrapped__);return h.__actions__=wo(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=wo(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=wo(this.__views__),h},bi.prototype.reverse=function K5(){if(this.__filtered__){var h=new bi(this);h.__dir__=-1,h.__filtered__=!0}else(h=this.clone()).__dir__*=-1;return h},bi.prototype.value=function Q5(){var h=this.__wrapped__.value(),p=this.__dir__,b=An(h),T=p<0,V=b?h.length:0,G=function ua(h,p,b){for(var T=-1,V=b.length;++T<V;){var G=b[T],ne=G.size;switch(G.type){case"drop":h+=ne;break;case"dropRight":p-=ne;break;case"take":p=Er(p,h+ne);break;case"takeRight":h=ki(h,p-ne)}}return{start:h,end:p}}(0,V,this.__views__),ne=G.start,ae=G.end,ve=ae-ne,$e=T?ae:ne-1,qe=this.__iteratees__,rt=qe.length,Rt=0,Jt=Er(ve,this.__takeCount__);if(!b||!T&&V==ve&&Jt==ve)return B_(h,this.__actions__);var bn=[];e:for(;ve--&&Rt<Jt;){for(var Qn=-1,_n=h[$e+=p];++Qn<rt;){var ci=qe[Qn],ga=ci.type,co=(0,ci.iteratee)(_n);if(2==ga)_n=co;else if(!co){if(1==ga)continue e;break e}}bn[Rt++]=_n}return bn},Y.prototype.at=ma,Y.prototype.chain=function Ld(){return FT(this)},Y.prototype.commit=function hx(){return new sa(this.value(),this.__chain__)},Y.prototype.next=function VT(){this.__values__===q&&(this.__values__=hm(this.value()));var h=this.__index__>=this.__values__.length;return{done:h,value:h?q:this.__values__[this.__index__++]}},Y.prototype.plant=function im(h){for(var p,b=this;b instanceof Gp;){var T=X_(b);T.__index__=0,T.__values__=q,p?V.__wrapped__=T:p=T;var V=T;b=b.__wrapped__}return V.__wrapped__=h,p},Y.prototype.reverse=function lz(){var h=this.__wrapped__;if(h instanceof bi){var p=h;return this.__actions__.length&&(p=new bi(this)),(p=p.reverse()).__actions__.push({func:Hc,args:[ax],thisArg:q}),new sa(p,this.__chain__)}return this.thru(ax)},Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=function nv(){return B_(this.__wrapped__,this.__actions__)},Y.prototype.first=Y.prototype.head,nf&&(Y.prototype[nf]=function Rd(){return this}),Y}();Yi._=Vp,(hn=function(){return Vp}.call(gt,Qe,gt,hi))!==q&&(hi.exports=hn)}.call(this)},178:hi=>{"use strict";function gt(q){return q instanceof Buffer?Buffer.from(q):new q.constructor(q.buffer.slice(),q.byteOffset,q.length)}hi.exports=function Qe(q){return(q=q||{}).circles?function hn(q){var tt=[],nt=[];return q.proto?function Ne(Ue){if("object"!=typeof Ue||null===Ue)return Ue;if(Ue instanceof Date)return new Date(Ue);if(Array.isArray(Ue))return je(Ue,Ne);if(Ue instanceof Map)return new Map(je(Array.from(Ue),Ne));if(Ue instanceof Set)return new Set(je(Array.from(Ue),Ne));var Ve={};for(var Le in tt.push(Ue),nt.push(Ve),Ue){var E=Ue[Le];if("object"!=typeof E||null===E)Ve[Le]=E;else if(E instanceof Date)Ve[Le]=new Date(E);else if(E instanceof Map)Ve[Le]=new Map(je(Array.from(E),Ne));else if(E instanceof Set)Ve[Le]=new Set(je(Array.from(E),Ne));else if(ArrayBuffer.isView(E))Ve[Le]=gt(E);else{var D=tt.indexOf(E);Ve[Le]=-1!==D?nt[D]:Ne(E)}}return tt.pop(),nt.pop(),Ve}:function Je(Ue){if("object"!=typeof Ue||null===Ue)return Ue;if(Ue instanceof Date)return new Date(Ue);if(Array.isArray(Ue))return je(Ue,Je);if(Ue instanceof Map)return new Map(je(Array.from(Ue),Je));if(Ue instanceof Set)return new Set(je(Array.from(Ue),Je));var Ve={};for(var Le in tt.push(Ue),nt.push(Ve),Ue)if(!1!==Object.hasOwnProperty.call(Ue,Le)){var E=Ue[Le];if("object"!=typeof E||null===E)Ve[Le]=E;else if(E instanceof Date)Ve[Le]=new Date(E);else if(E instanceof Map)Ve[Le]=new Map(je(Array.from(E),Je));else if(E instanceof Set)Ve[Le]=new Set(je(Array.from(E),Je));else if(ArrayBuffer.isView(E))Ve[Le]=gt(E);else{var D=tt.indexOf(E);Ve[Le]=-1!==D?nt[D]:Je(E)}}return tt.pop(),nt.pop(),Ve};function je(Ue,Ve){for(var Le=Object.keys(Ue),E=new Array(Le.length),D=0;D<Le.length;D++){var M=Le[D],x=Ue[M];if("object"!=typeof x||null===x)E[M]=x;else if(x instanceof Date)E[M]=new Date(x);else if(ArrayBuffer.isView(x))E[M]=gt(x);else{var P=tt.indexOf(x);E[M]=-1!==P?nt[P]:Ve(x)}}return E}}(q):q.proto?function je(Je){if("object"!=typeof Je||null===Je)return Je;if(Je instanceof Date)return new Date(Je);if(Array.isArray(Je))return tt(Je,je);if(Je instanceof Map)return new Map(tt(Array.from(Je),je));if(Je instanceof Set)return new Set(tt(Array.from(Je),je));var Ne={};for(var Ue in Je){var Ve=Je[Ue];Ne[Ue]="object"!=typeof Ve||null===Ve?Ve:Ve instanceof Date?new Date(Ve):Ve instanceof Map?new Map(tt(Array.from(Ve),je)):Ve instanceof Set?new Set(tt(Array.from(Ve),je)):ArrayBuffer.isView(Ve)?gt(Ve):je(Ve)}return Ne}:function nt(Je){if("object"!=typeof Je||null===Je)return Je;if(Je instanceof Date)return new Date(Je);if(Array.isArray(Je))return tt(Je,nt);if(Je instanceof Map)return new Map(tt(Array.from(Je),nt));if(Je instanceof Set)return new Set(tt(Array.from(Je),nt));var Ne={};for(var Ue in Je)if(!1!==Object.hasOwnProperty.call(Je,Ue)){var Ve=Je[Ue];Ne[Ue]="object"!=typeof Ve||null===Ve?Ve:Ve instanceof Date?new Date(Ve):Ve instanceof Map?new Map(tt(Array.from(Ve),nt)):Ve instanceof Set?new Set(tt(Array.from(Ve),nt)):ArrayBuffer.isView(Ve)?gt(Ve):nt(Ve)}return Ne};function tt(Je,Ne){for(var Ue=Object.keys(Je),Ve=new Array(Ue.length),Le=0;Le<Ue.length;Le++){var E=Ue[Le],D=Je[E];Ve[E]="object"!=typeof D||null===D?D:D instanceof Date?new Date(D):ArrayBuffer.isView(D)?gt(D):Ne(D)}return Ve}}},309:function(hi){var Qe;typeof self<"u"&&self,Qe=()=>(()=>{"use strict";var gt={d:(it,Ge)=>{for(var We in Ge)gt.o(Ge,We)&&!gt.o(it,We)&&Object.defineProperty(it,We,{enumerable:!0,get:Ge[We]})},o:(it,Ge)=>Object.prototype.hasOwnProperty.call(it,Ge),r:it=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(it,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(it,"__esModule",{value:!0})}},Qe={};function hn(){return typeof navigator<"u"?/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600:null}function q(it){for(;it.children&&it.children.length>0;)q(it.children[0]),it.remove(it.children[0]);it.geometry&&it.geometry.dispose(),it.material&&(Object.keys(it.material).forEach(Ge=>{it.material[Ge]&&null!==it.material[Ge]&&"function"==typeof it.material[Ge].dispose&&it.material[Ge].dispose()}),it.material.dispose())}gt.r(Qe),gt.d(Qe,{default:()=>ns}),Number.prototype.clamp=function(it,Ge){return Math.min(Math.max(this,it),Ge)};const tt="object"==typeof window;let nt=tt&&window.THREE||{};tt&&!window.VANTA&&(window.VANTA={});const je=tt&&window.VANTA||{};je.register=(it,Ge)=>je[it]=We=>new Ge(We),je.version="0.5.24";const Je=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};je.VantaBase=class{constructor(it={}){if(!tt)return!1;je.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const Ge="function"==typeof this.getDefaultOptions?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},Ge),(it instanceof HTMLElement||"string"==typeof it)&&(it={el:it}),Object.assign(this.options,it),this.options.THREE&&(nt=this.options.THREE),this.el=this.options.el,null==this.el)Je('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const At=this.el;if(this.el=document.querySelector(At),!this.el)return void Je("Cannot find element",At)}var dt;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(At){return Je("Init error",At),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(dt=this.options.backgroundColor,"number"==typeof dt?"#"+("00000"+dt.toString(16)).slice(-6):dt)))}this.initMouse(),this.resize(),this.animationLoop();const ut=window.addEventListener;ut("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(ut("scroll",this.windowMouseMoveWrapper),ut("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(ut("touchstart",this.windowTouchWrapper),ut("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&ut("deviceorientation",this.windowGyroWrapper)}setOptions(it={}){Object.assign(this.options,it),this.triggerMouseMove()}prepareEl(){let it,Ge;if(typeof Node<"u"&&Node.TEXT_NODE)for(it=0;it<this.el.childNodes.length;it++){const We=this.el.childNodes[it];if(We.nodeType===Node.TEXT_NODE){const dt=document.createElement("span");dt.textContent=We.textContent,We.parentElement.insertBefore(dt,We),We.remove()}}for(it=0;it<this.el.children.length;it++)Ge=this.el.children[it],"static"===getComputedStyle(Ge).position&&(Ge.style.position="relative"),"auto"===getComputedStyle(Ge).zIndex&&(Ge.style.zIndex=1);"static"===getComputedStyle(this.el).position&&(this.el.style.position="relative")}applyCanvasStyles(it,Ge={}){Object.assign(it.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(it.style,Ge),it.classList.add("vanta-canvas")}initThree(){nt.WebGLRenderer?(this.renderer=new nt.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new nt.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const it=this.getCanvasElement();return!!it&&it.getBoundingClientRect()}windowMouseMoveWrapper(it){const Ge=this.getCanvasRect();if(!Ge)return!1;const We=it.clientX-Ge.left,dt=it.clientY-Ge.top;We>=0&&dt>=0&&We<=Ge.width&&dt<=Ge.height&&(this.mouseX=We,this.mouseY=dt,this.options.mouseEase||this.triggerMouseMove(We,dt))}windowTouchWrapper(it){const Ge=this.getCanvasRect();if(!Ge)return!1;if(1===it.touches.length){const We=it.touches[0].clientX-Ge.left,dt=it.touches[0].clientY-Ge.top;We>=0&&dt>=0&&We<=Ge.width&&dt<=Ge.height&&(this.mouseX=We,this.mouseY=dt,this.options.mouseEase||this.triggerMouseMove(We,dt))}}windowGyroWrapper(it){const Ge=this.getCanvasRect();if(!Ge)return!1;const We=Math.round(2*it.alpha)-Ge.left,dt=Math.round(2*it.beta)-Ge.top;We>=0&&dt>=0&&We<=Ge.width&&dt<=Ge.height&&(this.mouseX=We,this.mouseY=dt,this.options.mouseEase||this.triggerMouseMove(We,dt))}triggerMouseMove(it,Ge){void 0===it&&void 0===Ge&&(this.options.mouseEase?(it=this.mouseEaseX,Ge=this.mouseEaseY):(it=this.mouseX,Ge=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=it/this.scale,this.uniforms.iMouse.value.y=Ge/this.scale),"function"==typeof this.onMouseMove&&this.onMouseMove(it/this.width,Ge/this.height)}setSize(){this.scale||(this.scale=1),hn()&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,"function"==typeof this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),"function"==typeof this.onResize&&this.onResize()}isOnScreen(){const it=this.el.offsetHeight,Ge=this.el.getBoundingClientRect(),We=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,dt=Ge.top+We;return dt-window.innerHeight<=We&&We<=dt+it}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const it=performance.now();if(this.prevNow){let Ge=(it-this.prevNow)/16.666666666666668;Ge=Math.max(.2,Math.min(Ge,5)),this.t+=Ge,this.t2+=(this.options.speed||1)*Ge,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=it,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&("function"==typeof this.onUpdate&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),"function"==typeof this.afterRender&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);"function"==typeof this.onRestart&&this.onRestart(),this.init()}init(){"function"==typeof this.onInit&&this.onInit()}destroy(){"function"==typeof this.onDestroy&&this.onDestroy();const it=window.removeEventListener;it("touchstart",this.windowTouchWrapper),it("touchmove",this.windowTouchWrapper),it("scroll",this.windowMouseMoveWrapper),it("mousemove",this.windowMouseMoveWrapper),it("deviceorientation",this.windowGyroWrapper),it("resize",this.resize),window.cancelAnimationFrame(this.req);const Ge=this.scene;Ge&&Ge.children&&q(Ge),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),je.current===this&&(je.current=null)}};const Ne=je.VantaBase;let Ue="object"==typeof window&&window.THREE,{Camera:Ve,ClampToEdgeWrapping:Le,DataTexture:E,FloatType:D,Mesh:M,NearestFilter:x,PlaneBufferGeometry:P,RGBAFormat:z,Scene:_e,ShaderMaterial:It,WebGLRenderTarget:Et}=Ue||{};const yn=function(it,Ge,We,dt){dt&&({Camera:Ve,ClampToEdgeWrapping:Le,DataTexture:E,FloatType:D,Mesh:M,NearestFilter:x,PlaneBufferGeometry:P,RGBAFormat:z,Scene:_e,ShaderMaterial:It,WebGLRenderTarget:Et}=dt),this.variables=[],this.currentTextureIndex=0;var ut=D,At=new _e,Bt=new Ve;Bt.position.z=1;var Pt={passThruTexture:{value:null}},_i=zn("uniform sampler2D passThruTexture;\n\nvoid main() {\n\n\tvec2 uv = gl_FragCoord.xy / resolution.xy;\n\n\tgl_FragColor = texture2D( passThruTexture, uv );\n\n}\n",Pt),ls=new M(new P(2,2),_i);function Nn(Ut){Ut.defines.resolution="vec2( "+it.toFixed(1)+", "+Ge.toFixed(1)+" )"}function zn(Ut,Zt){var Sn=new It({uniforms:Zt=Zt||{},vertexShader:"void main()\t{\n\n\tgl_Position = vec4( position, 1.0 );\n\n}\n",fragmentShader:Ut});return Nn(Sn),Sn}At.add(ls),this.setDataType=function(Ut){return ut=Ut,this},this.addVariable=function(Ut,Zt,Sn){var ai={name:Ut,initialValueTexture:Sn,material:this.createShaderMaterial(Zt),dependencies:null,renderTargets:[],wrapS:null,wrapT:null,minFilter:x,magFilter:x};return this.variables.push(ai),ai},this.setVariableDependencies=function(Ut,Zt){Ut.dependencies=Zt},this.init=function(){if(!We.capabilities.isWebGL2&&!We.extensions.get("OES_texture_float"))return"No OES_texture_float support for float textures.";if(0===We.capabilities.maxVertexTextures)return"No support for vertex shader textures.";for(var Ut=0;Ut<this.variables.length;Ut++){var Zt=this.variables[Ut];Zt.renderTargets[0]=this.createRenderTarget(it,Ge,Zt.wrapS,Zt.wrapT,Zt.minFilter,Zt.magFilter),Zt.renderTargets[1]=this.createRenderTarget(it,Ge,Zt.wrapS,Zt.wrapT,Zt.minFilter,Zt.magFilter),this.renderTexture(Zt.initialValueTexture,Zt.renderTargets[0]),this.renderTexture(Zt.initialValueTexture,Zt.renderTargets[1]);var Sn=Zt.material,ai=Sn.uniforms;if(null!==Zt.dependencies)for(var Xi=0;Xi<Zt.dependencies.length;Xi++){var Ei=Zt.dependencies[Xi];if(Ei.name!==Zt.name){for(var Sr=!1,Fa=0;Fa<this.variables.length;Fa++)if(Ei.name===this.variables[Fa].name){Sr=!0;break}if(!Sr)return"Variable dependency not found. Variable="+Zt.name+", dependency="+Ei.name}ai[Ei.name]={value:null},Sn.fragmentShader="\nuniform sampler2D "+Ei.name+";\n"+Sn.fragmentShader}}return this.currentTextureIndex=0,null},this.compute=function(){for(var Ut=this.currentTextureIndex,Zt=0===this.currentTextureIndex?1:0,Sn=0,ai=this.variables.length;Sn<ai;Sn++){var Xi=this.variables[Sn];if(null!==Xi.dependencies)for(var Ei=Xi.material.uniforms,Sr=0,Fa=Xi.dependencies.length;Sr<Fa;Sr++){var Dn=Xi.dependencies[Sr];Ei[Dn.name].value=Dn.renderTargets[Ut].texture}this.doRenderTarget(Xi.material,Xi.renderTargets[Zt])}this.currentTextureIndex=Zt},this.getCurrentRenderTarget=function(Ut){return Ut.renderTargets[this.currentTextureIndex]},this.getAlternateRenderTarget=function(Ut){return Ut.renderTargets[0===this.currentTextureIndex?1:0]},this.addResolutionDefine=Nn,this.createShaderMaterial=zn,this.createRenderTarget=function(Ut,Zt,Sn,ai,Xi,Ei){return new Et(Ut=Ut||it,Zt=Zt||Ge,{wrapS:Sn=Sn||Le,wrapT:ai=ai||Le,minFilter:Xi=Xi||x,magFilter:Ei=Ei||x,format:z,type:ut,stencilBuffer:!1,depthBuffer:!1})},this.createTexture=function(){var Ut=new Float32Array(it*Ge*4);return new E(Ut,it,Ge,z,D)},this.renderTexture=function(Ut,Zt){Pt.passThruTexture.value=Ut,this.doRenderTarget(_i,Zt),Pt.passThruTexture.value=null},this.doRenderTarget=function(Ut,Zt){var Sn=We.getRenderTarget();ls.material=Ut,We.setRenderTarget(Zt),We.render(At,Bt),ls.material=_i,We.setRenderTarget(Sn)}};let ht="object"==typeof window&&window.THREE;const In=!hn();let qt=32,Kn=qt*qt;const Ft=(it={})=>{const Ge=new ht.BufferGeometry,We=[];function dt(At,Bt,Pt){const _i=1.5*(it.birdSize||1);We.push(new ht.Vector3(At*_i,Bt*_i,Pt*_i))}dt(5,0,0),dt(-5,-1,1),dt(-5,0,0),dt(-5,-2,-1),dt(0,2,-6),dt(0,2,6),dt(2,0,0),dt(-3,0,0),Ge.setFromPoints(We);const ut=[];return ut.push(0,2,1),ut.push(4,7,6),ut.push(5,6,7),Ge.setIndex(ut),Ge};class Pn{constructor(Ge){var We,dt,ut=new ht.Vector3,At=500,Bt=500,Pt=200,ls=Ge;this.position=new ht.Vector3,this.velocity=new ht.Vector3,We=new ht.Vector3,this.setGoal=function(Nn){dt=Nn},this.setWorldSize=function(Nn,zn,Ut){At=Nn,Bt=zn,Pt=Ut},this.run=function(Nn){ut.set(-At,this.position.y,this.position.z),(ut=this.avoid(ut)).multiplyScalar(5),We.add(ut),ut.set(At,this.position.y,this.position.z),(ut=this.avoid(ut)).multiplyScalar(5),We.add(ut),ut.set(this.position.x,-Bt,this.position.z),(ut=this.avoid(ut)).multiplyScalar(5),We.add(ut),ut.set(this.position.x,Bt,this.position.z),(ut=this.avoid(ut)).multiplyScalar(5),We.add(ut),ut.set(this.position.x,this.position.y,-Pt),(ut=this.avoid(ut)).multiplyScalar(5),We.add(ut),ut.set(this.position.x,this.position.y,Pt),(ut=this.avoid(ut)).multiplyScalar(5),We.add(ut),Math.random()>.5&&this.flock(Nn),this.move()},this.flock=function(Nn){dt&&We.add(this.reach(dt,.005)),We.add(this.alignment(Nn)),We.add(this.cohesion(Nn)),We.add(this.separation(Nn))},this.move=function(){this.velocity.add(We);var Nn=this.velocity.length();Nn>2.5&&this.velocity.divideScalar(Nn/2.5),this.position.add(this.velocity),We.set(0,0,0)},this.checkBounds=function(){this.position.x>At&&(this.position.x=-At),this.position.x<-At&&(this.position.x=At),this.position.y>Bt&&(this.position.y=-Bt),this.position.y<-Bt&&(this.position.y=Bt),this.position.z>Pt&&(this.position.z=-Pt),this.position.z<-Pt&&(this.position.z=Pt)},this.avoid=function(Nn){var zn=new ht.Vector3;return zn.copy(this.position),zn.sub(Nn),zn.multiplyScalar(1/this.position.distanceToSquared(Nn)),zn},this.repulse=function(Nn){var zn=this.position.distanceTo(Nn);if(zn<150){var Ut=new ht.Vector3;Ut.subVectors(this.position,Nn),Ut.multiplyScalar(.5/zn),We.add(Ut)}},this.reach=function(Nn,zn){var Ut=new ht.Vector3;return Ut.subVectors(Nn,this.position),Ut.multiplyScalar(zn),Ut},this.alignment=function(Nn){var zn,Ut,Zt=new ht.Vector3,Sn=0;const ai=100*ls.alignment/20;for(var Xi=0,Ei=Nn.length;Xi<Ei;Xi++)Math.random()>.6||(Ut=(zn=Nn[Xi]).position.distanceTo(this.position))>0&&Ut<=ai&&(Zt.add(zn.velocity),Sn++);if(Sn>0){Zt.divideScalar(Sn);var Sr=Zt.length();Sr>.1&&Zt.divideScalar(Sr/.1)}return Zt},this.cohesion=function(Nn){var zn,Ut,Zt=new ht.Vector3,Sn=new ht.Vector3,ai=0;const Xi=100*ls.cohesion/20;for(var Ei=0,Sr=Nn.length;Ei<Sr;Ei++)Math.random()>.6||(Ut=(zn=Nn[Ei]).position.distanceTo(this.position))>0&&Ut<=Xi&&(Zt.add(zn.position),ai++);ai>0&&Zt.divideScalar(ai),Sn.subVectors(Zt,this.position);var Fa=Sn.length();return Fa>.1&&Sn.divideScalar(Fa/.1),Sn},this.separation=function(Nn){var zn,Ut,Zt=new ht.Vector3,Sn=new ht.Vector3;const ai=100*ls.separation/20;for(var Xi=0,Ei=Nn.length;Xi<Ei;Xi++)Math.random()>.6||(Ut=(zn=Nn[Xi]).position.distanceTo(this.position))>0&&Ut<=ai&&(Sn.subVectors(this.position,zn.position),Sn.normalize(),Sn.divideScalar(Ut),Zt.add(Sn));return Zt}}}class Ln extends Ne{static initClass(){this.prototype.defaultOptions={backgroundColor:465199,color1:16711680,color2:53759,colorMode:"varianceGradient",birdSize:1,wingSpan:30,speedLimit:5,separation:20,alignment:20,cohesion:20,quantity:5}}constructor(Ge){ht=Ge.THREE||ht,super(Ge)}initComputeRenderer(){this.gpuCompute=new yn(qt,qt,this.renderer,ht);const Ge=this.gpuCompute.createTexture(),We=this.gpuCompute.createTexture();(function(ut){const At=ut.image.data;let Bt=0;const Pt=At.length;(()=>{const _i=[];for(;Bt<Pt;){const ls=800*Math.random()-400,Nn=800*Math.random()-400,zn=800*Math.random()-400;At[Bt+0]=ls,At[Bt+1]=Nn,At[Bt+2]=zn,At[Bt+3]=1,_i.push(Bt+=4)}})()})(Ge),function(ut){const At=ut.image.data;let Bt=0;const Pt=At.length;(()=>{const _i=[];for(;Bt<Pt;){const ls=Math.random()-.5,Nn=Math.random()-.5,zn=Math.random()-.5;At[Bt+0]=10*ls,At[Bt+1]=10*Nn,At[Bt+2]=10*zn,At[Bt+3]=1,_i.push(Bt+=4)}})()}(We),this.velocityVariable=this.gpuCompute.addVariable("textureVelocity","uniform float time;\nuniform float testing;\nuniform float delta; // about 0.016\nuniform float separationDistance; // 20\nuniform float alignmentDistance; // 40\nuniform float cohesionDistance;\nuniform float speedLimit;\nuniform float freedomFactor;\nuniform vec3 predator;\n\nconst float width = resolution.x;\nconst float height = resolution.y;\n\nconst float PI = 3.141592653589793;\nconst float PI_2 = PI * 2.0;\n// const float VISION = PI * 0.55;\n\nfloat zoneRadius = 40.0;\nfloat zoneRadiusSquared = 1600.0;\n\nfloat separationThresh = 0.45;\nfloat alignmentThresh = 0.65;\n\nconst float UPPER_BOUNDS = BOUNDS;\nconst float LOWER_BOUNDS = -UPPER_BOUNDS;\n\nfloat rand(vec2 co){\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvoid main() {\n\n  zoneRadius = separationDistance + alignmentDistance + cohesionDistance;\n  separationThresh = separationDistance / zoneRadius;\n  alignmentThresh = ( separationDistance + alignmentDistance ) / zoneRadius;\n  zoneRadiusSquared = zoneRadius * zoneRadius;\n\n\n  vec2 uv = gl_FragCoord.xy / resolution.xy;\n  vec3 birdPosition, birdVelocity;\n\n  vec3 selfPosition = texture2D( texturePosition, uv ).xyz;\n  vec3 selfVelocity = texture2D( textureVelocity, uv ).xyz;\n\n  float dist;\n  vec3 dir; // direction\n  float distSquared;\n\n  float separationSquared = separationDistance * separationDistance;\n  float cohesionSquared = cohesionDistance * cohesionDistance;\n\n  float f;\n  float percent;\n\n  vec3 velocity = selfVelocity;\n\n  float limit = speedLimit;\n\n  dir = predator * UPPER_BOUNDS - selfPosition;\n  dir.z = 0.;\n  // dir.z *= 0.6;\n  dist = length( dir );\n  distSquared = dist * dist;\n\n  float preyRadius = 150.0;\n  float preyRadiusSq = preyRadius * preyRadius;\n\n  // move birds away from predator\n  if (dist < preyRadius) {\n\n    f = ( distSquared / preyRadiusSq - 1.0 ) * delta * 100.;\n    velocity += normalize( dir ) * f;\n    limit += 5.0;\n  }\n\n  // if (testing == 0.0) {}\n  // if ( rand( uv + time ) < freedomFactor ) {}\n\n  // Attract flocks to the center\n  vec3 central = vec3( 0., 0., 0. );\n  dir = selfPosition - central;\n  dist = length( dir );\n\n  dir.y *= 2.5;\n  velocity -= normalize( dir ) * delta * 5.;\n\n  for (float y=0.0;y<height;y++) {\n    for (float x=0.0;x<width;x++) {\n\n      vec2 ref = vec2( x + 0.5, y + 0.5 ) / resolution.xy;\n      birdPosition = texture2D( texturePosition, ref ).xyz;\n\n      dir = birdPosition - selfPosition;\n      dist = length(dir);\n\n      if (dist < 0.0001) continue;\n\n      distSquared = dist * dist;\n\n      if (distSquared > zoneRadiusSquared ) continue;\n\n      percent = distSquared / zoneRadiusSquared;\n\n      if ( percent < separationThresh ) { // low\n\n        // Separation - Move apart for comfort\n        f = (separationThresh / percent - 1.0) * delta;\n        velocity -= normalize(dir) * f;\n\n      } else if ( percent < alignmentThresh ) { // high\n\n        // Alignment - fly the same direction\n        float threshDelta = alignmentThresh - separationThresh;\n        float adjustedPercent = ( percent - separationThresh ) / threshDelta;\n\n        birdVelocity = texture2D( textureVelocity, ref ).xyz;\n\n        f = ( 0.5 - cos( adjustedPercent * PI_2 ) * 0.5 + 0.5 ) * delta;\n        velocity += normalize(birdVelocity) * f;\n\n      } else {\n\n        // Attraction / Cohesion - move closer\n        float threshDelta = 1.0 - alignmentThresh;\n        float adjustedPercent = ( percent - alignmentThresh ) / threshDelta;\n\n        f = ( 0.5 - ( cos( adjustedPercent * PI_2 ) * -0.5 + 0.5 ) ) * delta;\n\n        velocity += normalize(dir) * f;\n\n      }\n    }\n  }\n\n  // this make tends to fly around than down or up\n  // if (velocity.y > 0.) velocity.y *= (1. - 0.2 * delta);\n\n  // Speed Limits\n  if ( length( velocity ) > limit ) {\n    velocity = normalize( velocity ) * limit;\n  }\n\n  gl_FragColor = vec4( velocity, 1.0 );\n\n}",We),this.positionVariable=this.gpuCompute.addVariable("texturePosition","uniform float time;\nuniform float delta;\n\nvoid main() {\n\n  vec2 uv = gl_FragCoord.xy / resolution.xy;\n  vec4 tmpPos = texture2D( texturePosition, uv );\n  vec3 position = tmpPos.xyz;\n  vec3 velocity = texture2D( textureVelocity, uv ).xyz;\n\n  float phase = tmpPos.w;\n\n  phase = mod( ( phase + delta +\n    length( velocity.xz ) * delta * 3. +\n    max( velocity.y, 0.0 ) * delta * 6. ), 62.83 );\n\n  gl_FragColor = vec4( position + velocity * delta * 15. , phase );\n\n}",Ge),this.gpuCompute.setVariableDependencies(this.velocityVariable,[this.positionVariable,this.velocityVariable]),this.gpuCompute.setVariableDependencies(this.positionVariable,[this.positionVariable,this.velocityVariable]),this.positionUniforms=this.positionVariable.material.uniforms,this.velocityUniforms=this.velocityVariable.material.uniforms,this.positionUniforms.time={value:0},this.positionUniforms.delta={value:0},this.velocityUniforms.time={value:1},this.velocityUniforms.delta={value:0},this.velocityUniforms.testing={value:1},this.velocityUniforms.separationDistance={value:1},this.velocityUniforms.alignmentDistance={value:1},this.velocityUniforms.cohesionDistance={value:1},this.velocityUniforms.speedLimit={value:1},this.velocityUniforms.freedomFactor={value:1},this.velocityUniforms.predator={value:new ht.Vector3},this.velocityVariable.material.defines.BOUNDS=800..toFixed(2),this.velocityVariable.wrapS=ht.RepeatWrapping,this.velocityVariable.wrapT=ht.RepeatWrapping,this.positionVariable.wrapS=ht.RepeatWrapping,this.positionVariable.wrapT=ht.RepeatWrapping;const dt=this.gpuCompute.init();null!==dt&&console.error(dt)}initGpgpuBirds(){const Ge=(ut=>{const At=new ht.BufferGeometry;ut.quantity&&(qt=Math.pow(2,ut.quantity),Kn=qt*qt);const Bt=3*Kn,Pt=3*Bt,_i=new ht.BufferAttribute(new Float32Array(3*Pt),3),ls=new ht.BufferAttribute(new Float32Array(3*Pt),3),Nn=new ht.BufferAttribute(new Float32Array(2*Pt),2),zn=new ht.BufferAttribute(new Float32Array(Pt),1);At.setAttribute||(At.setAttribute=At.addAttribute),At.setAttribute("position",_i),At.setAttribute("birdColor",ls),At.setAttribute("reference",Nn),At.setAttribute("birdVertex",zn);let Ut=0;const Zt=function(){for(let Ei=0;Ei<arguments.length;Ei++)_i.array[Ut++]=arguments[Ei]},Sn=ut.wingSpan||20,ai=ut.birdSize||1;for(let Ei=0;Ei<Kn;Ei++)Zt(0,-0,-20*ai,0,4*ai,-20*ai,0,0,30*ai),Zt(0,0,-15*ai,-Sn*ai,0,0,0,0,15*ai),Zt(0,0,15*ai,Sn*ai,0,0,0,0,-15*ai);const Xi={};for(Ut=0;Ut<3*Bt;Ut++){const Ei=~~(Ut/3),Sr=Ei%qt/qt,Fa=~~(Ei/qt)/qt,Dn=~~(Ut/9)/Kn,Na=Dn.toString(),$h=-1!=ut.colorMode.indexOf("Gradient");let Dr;Dr=!$h&&Xi[Na]?Xi[Na]:ut.effect.getNewCol(Dn),$h||Xi[Na]||(Xi[Na]=Dr),ls.array[3*Ut+0]=Dr.r,ls.array[3*Ut+1]=Dr.g,ls.array[3*Ut+2]=Dr.b,Nn.array[2*Ut]=Sr,Nn.array[2*Ut+1]=Fa,zn.array[Ut]=Ut%9}return At.scale(.2,.2,.2)})(Object.assign({},this.options,{effect:this}));this.birdUniforms={color:{value:new ht.Color(16720384)},texturePosition:{value:null},textureVelocity:{value:null},time:{value:1},delta:{value:0},birdSize:{value:this.options.birdSize}};const We=new ht.ShaderMaterial({uniforms:this.birdUniforms,vertexShader:"attribute vec2 reference;\nattribute float birdVertex;\n\nattribute vec3 birdColor;\n\nuniform sampler2D texturePosition;\nuniform sampler2D textureVelocity;\n\nvarying vec4 vColor;\nvarying float z;\n\nuniform float time;\nuniform float birdSize;\n\nvoid main() {\n\n  vec4 tmpPos = texture2D( texturePosition, reference );\n  vec3 pos = tmpPos.xyz;\n  vec3 velocity = normalize(texture2D( textureVelocity, reference ).xyz);\n\n  vec3 newPosition = position;\n\n  if ( birdVertex == 4.0 || birdVertex == 7.0 ) {\n    // flap wings\n    newPosition.y = sin( tmpPos.w ) * 5. * birdSize;\n  }\n\n  newPosition = mat3( modelMatrix ) * newPosition;\n\n  velocity.z *= -1.;\n  float xz = length( velocity.xz );\n  float xyz = 1.;\n  float x = sqrt( 1. - velocity.y * velocity.y );\n\n  float cosry = velocity.x / xz;\n  float sinry = velocity.z / xz;\n\n  float cosrz = x / xyz;\n  float sinrz = velocity.y / xyz;\n\n  mat3 maty =  mat3(\n    cosry, 0, -sinry,\n    0    , 1, 0     ,\n    sinry, 0, cosry\n  );\n\n  mat3 matz =  mat3(\n    cosrz , sinrz, 0,\n    -sinrz, cosrz, 0,\n    0     , 0    , 1\n  );\n  newPosition =  maty * matz * newPosition;\n  newPosition += pos;\n  z = newPosition.z;\n\n  vColor = vec4( birdColor, 1.0 );\n  gl_Position = projectionMatrix *  viewMatrix  * vec4( newPosition, 1.0 );\n}",fragmentShader:"varying vec4 vColor;\nvarying float z;\nuniform vec3 color;\nvoid main() {\n  // Fake colors for now\n  float rr = 0.2 + ( 1000. - z ) / 1000. * vColor.x;\n  float gg = 0.2 + ( 1000. - z ) / 1000. * vColor.y;\n  float bb = 0.2 + ( 1000. - z ) / 1000. * vColor.z;\n  gl_FragColor = vec4( rr, gg, bb, 1. );\n}",side:ht.DoubleSide}),dt=new ht.Mesh(Ge,We);return dt.rotation.y=Math.PI/2,dt.matrixAutoUpdate=!1,dt.updateMatrix(),this.scene.add(dt)}getNewCol(Ge){const We=this.options,dt=null!=We.color1?We.color1:4456448,ut=null!=We.color2?We.color2:6684672,At=new ht.Color(dt),Bt=new ht.Color(ut);let Pt,_i;if(_i=-1!=We.colorMode.indexOf("Gradient")?Math.random():Ge,0==We.colorMode.indexOf("variance")){const ls=(At.r+Math.random()*Bt.r).clamp(0,1),Nn=(At.g+Math.random()*Bt.g).clamp(0,1),zn=(At.b+Math.random()*Bt.b).clamp(0,1);Pt=new ht.Color(ls,Nn,zn)}else Pt=0==We.colorMode.indexOf("mix")?new ht.Color(dt+_i*ut):At.lerp(Bt,_i);return Pt}onInit(){this.camera=new ht.PerspectiveCamera(75,this.width/this.height,1,3e3),this.camera.position.z=350,this.fog=new ht.Fog(16777215,100,1e3),this.mouseX=this.mouseY=0;const Ge=this.birds=[],We=this.boids=[],dt=this.options;let ut,At;if(In)try{this.initComputeRenderer(),this.valuesChanger=this.valuesChanger.bind(this),this.valuesChanger(),this.initGpgpuBirds()}catch(ls){console.error("[vanta.js] birds init error: ",ls)}else{const ls=6*Math.pow(2,dt.quantity);for(var Bt=0;Bt<ls;Bt++){ut=We[Bt]=new Pn(dt),ut.position.x=400*Math.random()-200,ut.position.y=400*Math.random()-200,ut.position.z=400*Math.random()-200,ut.velocity.x=2*Math.random()-1,ut.velocity.y=2*Math.random()-1,ut.velocity.z=2*Math.random()-1,ut.setWorldSize(500,500,300);const Nn=-1!=dt.colorMode.indexOf("Gradient"),zn=Ft(dt),Zt=new ht.BufferAttribute(new Float32Array(zn.attributes.position.length),3);if(Nn)for(var Pt=0;Pt<zn.index.array.length;Pt+=3)for(var _i=0;_i<=2;_i++){const Sn=zn.index.array[Pt+_i],ai=this.getNewCol();Zt.array[3*Sn]=ai.r,Zt.array[3*Sn+1]=ai.g,Zt.array[3*Sn+2]=ai.b}else{const Sn=this.getNewCol(Bt/ls);for(Pt=0;Pt<Zt.array.length;Pt+=3)Zt.array[Pt]=Sn.r,Zt.array[Pt+1]=Sn.g,Zt.array[Pt+2]=Sn.b}zn.setAttribute("color",Zt),At=Ge[Bt]=new ht.Mesh(zn,new ht.MeshBasicMaterial({color:16777215,side:ht.DoubleSide,vertexColors:ht.VertexColors})),At.phase=Math.floor(62.83*Math.random()),At.position.x=We[Bt].position.x,At.position.y=We[Bt].position.y,At.position.z=We[Bt].position.z,this.scene.add(At)}}}valuesChanger(){this.velocityUniforms&&(this.velocityUniforms.separationDistance.value=this.options.separation,this.velocityUniforms.alignmentDistance.value=this.options.alignment,this.velocityUniforms.speedLimit.value=this.options.speedLimit,this.velocityUniforms.cohesionDistance.value=this.options.cohesion)}onUpdate(){this.now=performance.now(),this.last||(this.last=this.now);let Ge=(this.now-this.last)/1e3;if(Ge>1&&(Ge=1),this.last=this.now,In)this.positionUniforms.time.value=this.now,this.positionUniforms.delta.value=Ge,this.velocityUniforms.time.value=this.now,this.velocityUniforms.delta.value=Ge,this.birdUniforms.time.value=this.now,this.birdUniforms.delta.value=Ge,this.velocityUniforms.predator.value.set(this.mouseX,-this.mouseY,0),this.mouseX=1e4,this.mouseY=1e4,this.gpuCompute.compute(),this.birdUniforms.texturePosition.value=this.gpuCompute.getCurrentRenderTarget(this.positionVariable).texture,this.birdUniforms.textureVelocity.value=this.gpuCompute.getCurrentRenderTarget(this.velocityVariable).texture;else{const ut=this.birds,At=this.boids;let Bt,Pt;for(var We=0,dt=ut.length;We<dt;We++)Bt=At[We],Bt.run(At),Pt=ut[We],Pt.rotation.y=Math.atan2(-Bt.velocity.z,Bt.velocity.x),Pt.rotation.z=Math.asin(Bt.velocity.y/Bt.velocity.length()),Pt.phase=(Pt.phase+(Math.max(0,Pt.rotation.z)+.1))%62.83,Pt.geometry.attributes.position.array[16]=Pt.geometry.attributes.position.array[13]=5*Math.sin(Pt.phase)*this.options.birdSize,Pt.geometry.attributes.position.needsUpdate=!0,Pt.geometry.computeVertexNormals(),Pt.position.x=At[We].position.x,Pt.position.y=At[We].position.y,Pt.position.z=At[We].position.z}}onMouseMove(Ge,We){if(this.mouseX=Ge-.5,this.mouseY=We-.5,!In){const Bt=this.boids;let Pt;for(var dt=new ht.Vector3(this.mouseX*this.width,-this.mouseY*this.height,0),ut=0,At=Bt.length;ut<At;ut++)Pt=Bt[ut],dt.z=Pt.position.z,Pt.repulse(dt)}}onDestroy(){}onResize(){}}Ln.initClass();const ns=je.register("BIRDS",Ln);return Qe})(),hi.exports=Qe()},845:function(hi){var Qe;typeof self<"u"&&self,Qe=()=>(()=>{"use strict";var gt={d:(E,D)=>{for(var M in D)gt.o(D,M)&&!gt.o(E,M)&&Object.defineProperty(E,M,{enumerable:!0,get:D[M]})},o:(E,D)=>Object.prototype.hasOwnProperty.call(E,D),r:E=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})}},Qe={};function hn(E){for(;E.children&&E.children.length>0;)hn(E.children[0]),E.remove(E.children[0]);E.geometry&&E.geometry.dispose(),E.material&&(Object.keys(E.material).forEach(D=>{E.material[D]&&null!==E.material[D]&&"function"==typeof E.material[D].dispose&&E.material[D].dispose()}),E.material.dispose())}gt.r(Qe),gt.d(Qe,{default:()=>Le}),Number.prototype.clamp=function(E,D){return Math.min(Math.max(this,E),D)};const q="object"==typeof window;let tt=q&&window.THREE||{};q&&!window.VANTA&&(window.VANTA={});const nt=q&&window.VANTA||{};nt.register=(E,D)=>nt[E]=M=>new D(M),nt.version="0.5.24";const je=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};nt.VantaBase=class{constructor(E={}){if(!q)return!1;nt.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const D="function"==typeof this.getDefaultOptions?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},D),(E instanceof HTMLElement||"string"==typeof E)&&(E={el:E}),Object.assign(this.options,E),this.options.THREE&&(tt=this.options.THREE),this.el=this.options.el,null==this.el)je('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const z=this.el;if(this.el=document.querySelector(z),!this.el)return void je("Cannot find element",z)}var x;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(z){return je("Init error",z),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(x=this.options.backgroundColor,"number"==typeof x?"#"+("00000"+x.toString(16)).slice(-6):x)))}this.initMouse(),this.resize(),this.animationLoop();const P=window.addEventListener;P("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(P("scroll",this.windowMouseMoveWrapper),P("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(P("touchstart",this.windowTouchWrapper),P("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&P("deviceorientation",this.windowGyroWrapper)}setOptions(E={}){Object.assign(this.options,E),this.triggerMouseMove()}prepareEl(){let E,D;if(typeof Node<"u"&&Node.TEXT_NODE)for(E=0;E<this.el.childNodes.length;E++){const M=this.el.childNodes[E];if(M.nodeType===Node.TEXT_NODE){const x=document.createElement("span");x.textContent=M.textContent,M.parentElement.insertBefore(x,M),M.remove()}}for(E=0;E<this.el.children.length;E++)D=this.el.children[E],"static"===getComputedStyle(D).position&&(D.style.position="relative"),"auto"===getComputedStyle(D).zIndex&&(D.style.zIndex=1);"static"===getComputedStyle(this.el).position&&(this.el.style.position="relative")}applyCanvasStyles(E,D={}){Object.assign(E.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(E.style,D),E.classList.add("vanta-canvas")}initThree(){tt.WebGLRenderer?(this.renderer=new tt.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new tt.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const E=this.getCanvasElement();return!!E&&E.getBoundingClientRect()}windowMouseMoveWrapper(E){const D=this.getCanvasRect();if(!D)return!1;const M=E.clientX-D.left,x=E.clientY-D.top;M>=0&&x>=0&&M<=D.width&&x<=D.height&&(this.mouseX=M,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(M,x))}windowTouchWrapper(E){const D=this.getCanvasRect();if(!D)return!1;if(1===E.touches.length){const M=E.touches[0].clientX-D.left,x=E.touches[0].clientY-D.top;M>=0&&x>=0&&M<=D.width&&x<=D.height&&(this.mouseX=M,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(M,x))}}windowGyroWrapper(E){const D=this.getCanvasRect();if(!D)return!1;const M=Math.round(2*E.alpha)-D.left,x=Math.round(2*E.beta)-D.top;M>=0&&x>=0&&M<=D.width&&x<=D.height&&(this.mouseX=M,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(M,x))}triggerMouseMove(E,D){void 0===E&&void 0===D&&(this.options.mouseEase?(E=this.mouseEaseX,D=this.mouseEaseY):(E=this.mouseX,D=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=E/this.scale,this.uniforms.iMouse.value.y=D/this.scale),"function"==typeof this.onMouseMove&&this.onMouseMove(E/this.width,D/this.height)}setSize(){this.scale||(this.scale=1),typeof navigator<"u"&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600)&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,"function"==typeof this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),"function"==typeof this.onResize&&this.onResize()}isOnScreen(){const E=this.el.offsetHeight,D=this.el.getBoundingClientRect(),M=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,x=D.top+M;return x-window.innerHeight<=M&&M<=x+E}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const E=performance.now();if(this.prevNow){let D=(E-this.prevNow)/16.666666666666668;D=Math.max(.2,Math.min(D,5)),this.t+=D,this.t2+=(this.options.speed||1)*D,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=E,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&("function"==typeof this.onUpdate&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),"function"==typeof this.afterRender&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);"function"==typeof this.onRestart&&this.onRestart(),this.init()}init(){"function"==typeof this.onInit&&this.onInit()}destroy(){"function"==typeof this.onDestroy&&this.onDestroy();const E=window.removeEventListener;E("touchstart",this.windowTouchWrapper),E("touchmove",this.windowTouchWrapper),E("scroll",this.windowMouseMoveWrapper),E("mousemove",this.windowMouseMoveWrapper),E("deviceorientation",this.windowGyroWrapper),E("resize",this.resize),window.cancelAnimationFrame(this.req);const D=this.scene;D&&D.children&&hn(D),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),nt.current===this&&(nt.current=null)}};const Je=nt.VantaBase;let Ne="object"==typeof window&&window.THREE;class Ue extends Je{constructor(D){Ne=D.THREE||Ne,Ne.Color.prototype.toVector=function(){return new Ne.Vector3(this.r,this.g,this.b)},super(D),this.updateUniforms=this.updateUniforms.bind(this)}init(){this.mode="shader",this.uniforms={iTime:{type:"f",value:1},iResolution:{type:"v2",value:new Ne.Vector2(1,1)},iDpr:{type:"f",value:window.devicePixelRatio||1},iMouse:{type:"v2",value:new Ne.Vector2(this.mouseX||0,this.mouseY||0)}},super.init(),this.fragmentShader&&this.initBasicShader()}setOptions(D){super.setOptions(D),this.updateUniforms()}initBasicShader(D=this.fragmentShader,M=this.vertexShader){M||(M="uniform float uTime;\nuniform vec2 uResolution;\nvoid main() {\n  gl_Position = vec4( position, 1.0 );\n}"),this.updateUniforms(),"function"==typeof this.valuesChanger&&this.valuesChanger();const x=new Ne.ShaderMaterial({uniforms:this.uniforms,vertexShader:M,fragmentShader:D}),P=this.options.texturePath;P&&(this.uniforms.iTex={type:"t",value:(new Ne.TextureLoader).load(P)});const z=new Ne.Mesh(new Ne.PlaneGeometry(2,2),x);this.scene.add(z),this.camera=new Ne.Camera,this.camera.position.z=1}updateUniforms(){const D={};let M,x;for(M in this.options)x=this.options[M],-1!==M.toLowerCase().indexOf("color")?D[M]={type:"v3",value:new Ne.Color(x).toVector()}:"number"==typeof x&&(D[M]={type:"f",value:x});return Object.assign(this.uniforms,D)}resize(){super.resize(),this.uniforms.iResolution.value.x=this.width/this.scale,this.uniforms.iResolution.value.y=this.height/this.scale}}class Ve extends Ue{}const Le=nt.register("CELLS",Ve);return Ve.prototype.defaultOptions={color1:35980,color2:15918901,backgroundColor:14155663,amplitudeFactor:1,ringFactor:1,rotationFactor:1,size:1.5,speed:1,scaleMobile:3},Ve.prototype.fragmentShader="uniform vec2 iResolution;\nuniform vec2 iMouse;\nuniform float iTime;\n\nuniform float blurFactor;\nuniform vec3 color1;\nuniform vec3 color2;\nuniform vec3 backgroundColor;\nuniform float size;\nuniform float amplitudeFactor;\nuniform float ringFactor;\nuniform float rotationFactor;\n\nfloat length2(vec2 p) { return dot(p, p); }\n\nfloat noise(vec2 p){\n    return fract(sin(fract(sin(p.x) * (43.13311)) + p.y) * 31.0011);\n}\n\nfloat worley(vec2 p) {\n    float d = 1e30;\n    for (int xo = -1; xo <= 1; ++xo) {\n        for (int yo = -1; yo <= 1; ++yo) {\n            vec2 tp = floor(p) + vec2(xo, yo);\n            d = min(d, length2(p - tp - vec2(noise(tp))));\n        }\n    }\n    vec2 uv = gl_FragCoord.xy / iResolution.xy;\n    float timeOffset =  0.15 * sin(iTime * 2.0 + 10.0*(uv.x - uv.y));\n    return 3.0*exp(-4.0*abs(2.0*d - 1.0 + timeOffset));\n}\n\nfloat fworley(vec2 p) {\n    return sqrt(sqrt(sqrt(\n    1.1 * // light\n    worley(p*5. + .3 + iTime*.0525) *\n    sqrt(worley(p * 50. / size + 0.3 + iTime * -0.15)) *\n    sqrt(sqrt(worley(p * -10. + 9.3))))));\n}\n\nvoid main() {\n    vec2 uv = gl_FragCoord.xy / iResolution.xy;\n    float t = fworley(uv * iResolution.xy / 1500.0);\n    t *= exp(-length2(abs(0.7*uv - 1.0)));\n\n    float tExp = pow(t, 0.5 - t);\n    vec3 c1 = color1 * (1.0 - t);\n    vec3 c2 = color2 * tExp;\n\n    gl_FragColor = vec4(pow(t, 1.0 - t) * (c1 + c2), 1.0);\n}\n",Qe})(),hi.exports=Qe()},857:function(hi){var Qe;typeof self<"u"&&self,Qe=()=>(()=>{"use strict";var gt={d:(E,D)=>{for(var M in D)gt.o(D,M)&&!gt.o(E,M)&&Object.defineProperty(E,M,{enumerable:!0,get:D[M]})},o:(E,D)=>Object.prototype.hasOwnProperty.call(E,D),r:E=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})}},Qe={};function hn(E){for(;E.children&&E.children.length>0;)hn(E.children[0]),E.remove(E.children[0]);E.geometry&&E.geometry.dispose(),E.material&&(Object.keys(E.material).forEach(D=>{E.material[D]&&null!==E.material[D]&&"function"==typeof E.material[D].dispose&&E.material[D].dispose()}),E.material.dispose())}gt.r(Qe),gt.d(Qe,{default:()=>Le}),Number.prototype.clamp=function(E,D){return Math.min(Math.max(this,E),D)};const q="object"==typeof window;let tt=q&&window.THREE||{};q&&!window.VANTA&&(window.VANTA={});const nt=q&&window.VANTA||{};nt.register=(E,D)=>nt[E]=M=>new D(M),nt.version="0.5.24";const je=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};nt.VantaBase=class{constructor(E={}){if(!q)return!1;nt.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const D="function"==typeof this.getDefaultOptions?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},D),(E instanceof HTMLElement||"string"==typeof E)&&(E={el:E}),Object.assign(this.options,E),this.options.THREE&&(tt=this.options.THREE),this.el=this.options.el,null==this.el)je('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const z=this.el;if(this.el=document.querySelector(z),!this.el)return void je("Cannot find element",z)}var x;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(z){return je("Init error",z),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(x=this.options.backgroundColor,"number"==typeof x?"#"+("00000"+x.toString(16)).slice(-6):x)))}this.initMouse(),this.resize(),this.animationLoop();const P=window.addEventListener;P("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(P("scroll",this.windowMouseMoveWrapper),P("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(P("touchstart",this.windowTouchWrapper),P("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&P("deviceorientation",this.windowGyroWrapper)}setOptions(E={}){Object.assign(this.options,E),this.triggerMouseMove()}prepareEl(){let E,D;if(typeof Node<"u"&&Node.TEXT_NODE)for(E=0;E<this.el.childNodes.length;E++){const M=this.el.childNodes[E];if(M.nodeType===Node.TEXT_NODE){const x=document.createElement("span");x.textContent=M.textContent,M.parentElement.insertBefore(x,M),M.remove()}}for(E=0;E<this.el.children.length;E++)D=this.el.children[E],"static"===getComputedStyle(D).position&&(D.style.position="relative"),"auto"===getComputedStyle(D).zIndex&&(D.style.zIndex=1);"static"===getComputedStyle(this.el).position&&(this.el.style.position="relative")}applyCanvasStyles(E,D={}){Object.assign(E.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(E.style,D),E.classList.add("vanta-canvas")}initThree(){tt.WebGLRenderer?(this.renderer=new tt.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new tt.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const E=this.getCanvasElement();return!!E&&E.getBoundingClientRect()}windowMouseMoveWrapper(E){const D=this.getCanvasRect();if(!D)return!1;const M=E.clientX-D.left,x=E.clientY-D.top;M>=0&&x>=0&&M<=D.width&&x<=D.height&&(this.mouseX=M,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(M,x))}windowTouchWrapper(E){const D=this.getCanvasRect();if(!D)return!1;if(1===E.touches.length){const M=E.touches[0].clientX-D.left,x=E.touches[0].clientY-D.top;M>=0&&x>=0&&M<=D.width&&x<=D.height&&(this.mouseX=M,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(M,x))}}windowGyroWrapper(E){const D=this.getCanvasRect();if(!D)return!1;const M=Math.round(2*E.alpha)-D.left,x=Math.round(2*E.beta)-D.top;M>=0&&x>=0&&M<=D.width&&x<=D.height&&(this.mouseX=M,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(M,x))}triggerMouseMove(E,D){void 0===E&&void 0===D&&(this.options.mouseEase?(E=this.mouseEaseX,D=this.mouseEaseY):(E=this.mouseX,D=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=E/this.scale,this.uniforms.iMouse.value.y=D/this.scale),"function"==typeof this.onMouseMove&&this.onMouseMove(E/this.width,D/this.height)}setSize(){this.scale||(this.scale=1),typeof navigator<"u"&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600)&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,"function"==typeof this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),"function"==typeof this.onResize&&this.onResize()}isOnScreen(){const E=this.el.offsetHeight,D=this.el.getBoundingClientRect(),M=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,x=D.top+M;return x-window.innerHeight<=M&&M<=x+E}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const E=performance.now();if(this.prevNow){let D=(E-this.prevNow)/16.666666666666668;D=Math.max(.2,Math.min(D,5)),this.t+=D,this.t2+=(this.options.speed||1)*D,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=E,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&("function"==typeof this.onUpdate&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),"function"==typeof this.afterRender&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);"function"==typeof this.onRestart&&this.onRestart(),this.init()}init(){"function"==typeof this.onInit&&this.onInit()}destroy(){"function"==typeof this.onDestroy&&this.onDestroy();const E=window.removeEventListener;E("touchstart",this.windowTouchWrapper),E("touchmove",this.windowTouchWrapper),E("scroll",this.windowMouseMoveWrapper),E("mousemove",this.windowMouseMoveWrapper),E("deviceorientation",this.windowGyroWrapper),E("resize",this.resize),window.cancelAnimationFrame(this.req);const D=this.scene;D&&D.children&&hn(D),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),nt.current===this&&(nt.current=null)}};const Je=nt.VantaBase;let Ne="object"==typeof window&&window.THREE;class Ue extends Je{constructor(D){Ne=D.THREE||Ne,Ne.Color.prototype.toVector=function(){return new Ne.Vector3(this.r,this.g,this.b)},super(D),this.updateUniforms=this.updateUniforms.bind(this)}init(){this.mode="shader",this.uniforms={iTime:{type:"f",value:1},iResolution:{type:"v2",value:new Ne.Vector2(1,1)},iDpr:{type:"f",value:window.devicePixelRatio||1},iMouse:{type:"v2",value:new Ne.Vector2(this.mouseX||0,this.mouseY||0)}},super.init(),this.fragmentShader&&this.initBasicShader()}setOptions(D){super.setOptions(D),this.updateUniforms()}initBasicShader(D=this.fragmentShader,M=this.vertexShader){M||(M="uniform float uTime;\nuniform vec2 uResolution;\nvoid main() {\n  gl_Position = vec4( position, 1.0 );\n}"),this.updateUniforms(),"function"==typeof this.valuesChanger&&this.valuesChanger();const x=new Ne.ShaderMaterial({uniforms:this.uniforms,vertexShader:M,fragmentShader:D}),P=this.options.texturePath;P&&(this.uniforms.iTex={type:"t",value:(new Ne.TextureLoader).load(P)});const z=new Ne.Mesh(new Ne.PlaneGeometry(2,2),x);this.scene.add(z),this.camera=new Ne.Camera,this.camera.position.z=1}updateUniforms(){const D={};let M,x;for(M in this.options)x=this.options[M],-1!==M.toLowerCase().indexOf("color")?D[M]={type:"v3",value:new Ne.Color(x).toVector()}:"number"==typeof x&&(D[M]={type:"f",value:x});return Object.assign(this.uniforms,D)}resize(){super.resize(),this.uniforms.iResolution.value.x=this.width/this.scale,this.uniforms.iResolution.value.y=this.height/this.scale}}class Ve extends Ue{}const Le=nt.register("CLOUDS",Ve);return Ve.prototype.defaultOptions={backgroundColor:16777215,skyColor:6863063,cloudColor:11387358,cloudShadowColor:1586512,sunColor:16750873,sunGlareColor:16737843,sunlightColor:16750899,scale:3,scaleMobile:12,speed:1,mouseEase:!0},Ve.prototype.fragmentShader="uniform vec2 iResolution;\nuniform vec2 iMouse;\nuniform float iTime;\nuniform sampler2D iTex;\n\nuniform float speed;\nuniform vec3 skyColor;\nuniform vec3 cloudColor;\nuniform vec3 cloudShadowColor;\nuniform vec3 sunColor;\nuniform vec3 sunlightColor;\nuniform vec3 sunGlareColor;\nuniform vec3 backgroundColor;\n\n// uniform vec4      iMouse;                // mouse pixel coords. xy: current (if MLB down), zw: click\n// uniform samplerXX iChannel0..3;          // input channel. XX = 2D/Cube\n\n\n// Volumetric clouds. It performs level of detail (LOD) for faster rendering\nfloat hash(float p) {\n  p = fract(p * 0.011);\n  p *= (p + 7.5);\n  p *= (p + p);\n  return fract(p);\n}\n\nfloat noise( vec3 x ){\n    // The noise function returns a value in the range -1.0f -> 1.0f\n    vec3 p = floor(x);\n    vec3 f = fract(x);\n    f       = f*f*(3.0-2.0*f);\n    float n = p.x + p.y*57.0 + 113.0*p.z;\n    return mix(mix(mix( hash(n+0.0  ), hash(n+1.0  ),f.x),\n                   mix( hash(n+57.0 ), hash(n+58.0 ),f.x),f.y),\n               mix(mix( hash(n+113.0), hash(n+114.0),f.x),\n                   mix( hash(n+170.0), hash(n+171.0),f.x),f.y),f.z);\n}\n\nconst float constantTime = 1000.;\nfloat map5( in vec3 p ){\n    vec3 speed1 = vec3(0.5,0.01,1.0) * 0.5 * speed;\n    vec3 q = p - speed1*(iTime + constantTime);\n    float f;\n    f  = 0.50000*noise( q ); q = q*2.02;\n    f += 0.25000*noise( q ); q = q*2.03;\n    f += 0.12500*noise( q ); q = q*2.01;\n    f += 0.06250*noise( q ); q = q*2.02;\n    f += 0.03125*noise( q );\n    return clamp( 1.5 - p.y - 2.0 + 1.75*f, 0.0, 1.0 );\n}\nfloat map4( in vec3 p ){\n    vec3 speed1 = vec3(0.5,0.01,1.0) * 0.5 * speed;\n    vec3 q = p - speed1*(iTime + constantTime);\n    float f;\n    f  = 0.50000*noise( q ); q = q*2.02;\n    f += 0.25000*noise( q ); q = q*2.03;\n    f += 0.12500*noise( q ); q = q*2.01;\n    f += 0.06250*noise( q );\n    return clamp( 1.5 - p.y - 2.0 + 1.75*f, 0.0, 1.0 );\n}\nfloat map3( in vec3 p ){\n    vec3 speed1 = vec3(0.5,0.01,1.0) * 0.5 * speed;\n    vec3 q = p - speed1*(iTime + constantTime);\n    float f;\n    f  = 0.50000*noise( q ); q = q*2.02;\n    f += 0.25000*noise( q ); q = q*2.03;\n    f += 0.12500*noise( q );\n    return clamp( 1.5 - p.y - 2.0 + 1.75*f, 0.0, 1.0 );\n}\nfloat map2( in vec3 p ){\n    vec3 speed1 = vec3(0.5,0.01,1.0) * 0.5 * speed;\n    vec3 q = p - speed1*(iTime + constantTime);\n    float f;\n    f  = 0.50000*noise( q ); q = q*2.02;\n    f += 0.25000*noise( q );\n    return clamp( 1.5 - p.y - 2.0 + 1.75*f, 0.0, 1.0 );\n}\n\nvec3 sundir = normalize( vec3(-1.0,0.0,-1.0) );\n\nvec4 integrate( in vec4 sum, in float dif, in float den, in vec3 bgcol, in float t ){\n    // lighting\n    vec3 lin = cloudColor*1.4 + sunlightColor*dif;\n    vec4 col = vec4( mix( vec3(1.0,0.95,0.8), cloudShadowColor, den ), den );\n    col.xyz *= lin;\n    col.xyz = mix( col.xyz, bgcol, 1.0-exp(-0.003*t*t) );\n    // front to back blending\n    col.a *= 0.4;\n    col.rgb *= col.a;\n    return sum + col*(1.0-sum.a);\n}\n\n#define MARCH(STEPS,MAPLOD) for(int i=0; i<STEPS; i++) { vec3  pos = ro + t*rd; if( pos.y<-3.0 || pos.y>2.0 || sum.a > 0.99 ) break; float den = MAPLOD( pos ); if( den>0.01 ) { float dif = clamp((den - MAPLOD(pos+0.3*sundir))/0.6, 0.0, 1.0 ); sum = integrate( sum, dif, den, bgcol, t ); } t += max(0.075,0.02*t); }\n\nvec4 raymarch( in vec3 ro, in vec3 rd, in vec3 bgcol, in ivec2 px ){\n    vec4 sum = vec4(0.0);\n\n    float t = 0.0;\n\n    MARCH(20,map5);\n    MARCH(25,map4);\n    MARCH(30,map3);\n    MARCH(40,map2);\n\n    return clamp( sum, 0.0, 1.0 );\n}\n\nmat3 setCamera( in vec3 ro, in vec3 ta, float cr ){\n    vec3 cw = normalize(ta-ro);\n    vec3 cp = vec3(sin(cr), cos(cr),0.0);\n    vec3 cu = normalize( cross(cw,cp) );\n    vec3 cv = normalize( cross(cu,cw) );\n    return mat3( cu, cv, cw );\n}\n\nvec4 render( in vec3 ro, in vec3 rd, in ivec2 px ){\n    // background sky\n    float sun = clamp( dot(sundir,rd), 0.0, 1.0 );\n    vec3 col = skyColor - rd.y*0.2*vec3(1.0,0.5,1.0) + 0.15*0.5;\n    col += 0.2*sunColor*pow( sun, 8.0 );\n\n    // clouds\n    vec4 res = raymarch( ro, rd, col, px );\n    col = col*(1.0-res.w) + res.xyz;\n\n    // sun glare\n    col += 0.2*sunGlareColor*pow( sun, 3.0 );\n\n    return vec4( col, 1.0 );\n}\n\nvoid main(){\n    vec2 p = (-iResolution.xy + 2.0*gl_FragCoord.xy)/ iResolution.y;\n\n    vec2 m = iMouse.xy/iResolution.xy;\n    m.y = (1.0 - m.y) * 0.33 + 0.28; // camera height\n\n    m.x *= 0.25;\n    m.x += sin(iTime * 0.1 + 3.1415) * 0.25 + 0.25;\n\n    // camera\n    vec3 ro = 4.0*normalize(vec3(sin(3.0*m.x), 0.4*m.y, cos(3.0*m.x))); // origin\n    vec3 ta = vec3(0.0, -1.0, 0.0);\n    mat3 ca = setCamera( ro, ta, 0.0 );\n    // ray\n    vec3 rd = ca * normalize( vec3(p.xy,1.5));\n\n    gl_FragColor = render( ro, rd, ivec2(gl_FragCoord-0.5) );\n}\n",Qe})(),hi.exports=Qe()},55:function(hi){var Qe;typeof self<"u"&&self,Qe=()=>(()=>{"use strict";var gt={d:(E,D)=>{for(var M in D)gt.o(D,M)&&!gt.o(E,M)&&Object.defineProperty(E,M,{enumerable:!0,get:D[M]})},o:(E,D)=>Object.prototype.hasOwnProperty.call(E,D),r:E=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})}},Qe={};function hn(E){for(;E.children&&E.children.length>0;)hn(E.children[0]),E.remove(E.children[0]);E.geometry&&E.geometry.dispose(),E.material&&(Object.keys(E.material).forEach(D=>{E.material[D]&&null!==E.material[D]&&"function"==typeof E.material[D].dispose&&E.material[D].dispose()}),E.material.dispose())}gt.r(Qe),gt.d(Qe,{default:()=>Le}),Number.prototype.clamp=function(E,D){return Math.min(Math.max(this,E),D)};const q="object"==typeof window;let tt=q&&window.THREE||{};q&&!window.VANTA&&(window.VANTA={});const nt=q&&window.VANTA||{};nt.register=(E,D)=>nt[E]=M=>new D(M),nt.version="0.5.24";const je=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};nt.VantaBase=class{constructor(E={}){if(!q)return!1;nt.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const D="function"==typeof this.getDefaultOptions?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},D),(E instanceof HTMLElement||"string"==typeof E)&&(E={el:E}),Object.assign(this.options,E),this.options.THREE&&(tt=this.options.THREE),this.el=this.options.el,null==this.el)je('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const z=this.el;if(this.el=document.querySelector(z),!this.el)return void je("Cannot find element",z)}var x;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(z){return je("Init error",z),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(x=this.options.backgroundColor,"number"==typeof x?"#"+("00000"+x.toString(16)).slice(-6):x)))}this.initMouse(),this.resize(),this.animationLoop();const P=window.addEventListener;P("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(P("scroll",this.windowMouseMoveWrapper),P("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(P("touchstart",this.windowTouchWrapper),P("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&P("deviceorientation",this.windowGyroWrapper)}setOptions(E={}){Object.assign(this.options,E),this.triggerMouseMove()}prepareEl(){let E,D;if(typeof Node<"u"&&Node.TEXT_NODE)for(E=0;E<this.el.childNodes.length;E++){const M=this.el.childNodes[E];if(M.nodeType===Node.TEXT_NODE){const x=document.createElement("span");x.textContent=M.textContent,M.parentElement.insertBefore(x,M),M.remove()}}for(E=0;E<this.el.children.length;E++)D=this.el.children[E],"static"===getComputedStyle(D).position&&(D.style.position="relative"),"auto"===getComputedStyle(D).zIndex&&(D.style.zIndex=1);"static"===getComputedStyle(this.el).position&&(this.el.style.position="relative")}applyCanvasStyles(E,D={}){Object.assign(E.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(E.style,D),E.classList.add("vanta-canvas")}initThree(){tt.WebGLRenderer?(this.renderer=new tt.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new tt.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const E=this.getCanvasElement();return!!E&&E.getBoundingClientRect()}windowMouseMoveWrapper(E){const D=this.getCanvasRect();if(!D)return!1;const M=E.clientX-D.left,x=E.clientY-D.top;M>=0&&x>=0&&M<=D.width&&x<=D.height&&(this.mouseX=M,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(M,x))}windowTouchWrapper(E){const D=this.getCanvasRect();if(!D)return!1;if(1===E.touches.length){const M=E.touches[0].clientX-D.left,x=E.touches[0].clientY-D.top;M>=0&&x>=0&&M<=D.width&&x<=D.height&&(this.mouseX=M,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(M,x))}}windowGyroWrapper(E){const D=this.getCanvasRect();if(!D)return!1;const M=Math.round(2*E.alpha)-D.left,x=Math.round(2*E.beta)-D.top;M>=0&&x>=0&&M<=D.width&&x<=D.height&&(this.mouseX=M,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(M,x))}triggerMouseMove(E,D){void 0===E&&void 0===D&&(this.options.mouseEase?(E=this.mouseEaseX,D=this.mouseEaseY):(E=this.mouseX,D=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=E/this.scale,this.uniforms.iMouse.value.y=D/this.scale),"function"==typeof this.onMouseMove&&this.onMouseMove(E/this.width,D/this.height)}setSize(){this.scale||(this.scale=1),typeof navigator<"u"&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600)&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,"function"==typeof this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),"function"==typeof this.onResize&&this.onResize()}isOnScreen(){const E=this.el.offsetHeight,D=this.el.getBoundingClientRect(),M=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,x=D.top+M;return x-window.innerHeight<=M&&M<=x+E}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const E=performance.now();if(this.prevNow){let D=(E-this.prevNow)/16.666666666666668;D=Math.max(.2,Math.min(D,5)),this.t+=D,this.t2+=(this.options.speed||1)*D,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=E,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&("function"==typeof this.onUpdate&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),"function"==typeof this.afterRender&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);"function"==typeof this.onRestart&&this.onRestart(),this.init()}init(){"function"==typeof this.onInit&&this.onInit()}destroy(){"function"==typeof this.onDestroy&&this.onDestroy();const E=window.removeEventListener;E("touchstart",this.windowTouchWrapper),E("touchmove",this.windowTouchWrapper),E("scroll",this.windowMouseMoveWrapper),E("mousemove",this.windowMouseMoveWrapper),E("deviceorientation",this.windowGyroWrapper),E("resize",this.resize),window.cancelAnimationFrame(this.req);const D=this.scene;D&&D.children&&hn(D),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),nt.current===this&&(nt.current=null)}};const Je=nt.VantaBase;let Ne="object"==typeof window&&window.THREE;class Ue extends Je{constructor(D){Ne=D.THREE||Ne,Ne.Color.prototype.toVector=function(){return new Ne.Vector3(this.r,this.g,this.b)},super(D),this.updateUniforms=this.updateUniforms.bind(this)}init(){this.mode="shader",this.uniforms={iTime:{type:"f",value:1},iResolution:{type:"v2",value:new Ne.Vector2(1,1)},iDpr:{type:"f",value:window.devicePixelRatio||1},iMouse:{type:"v2",value:new Ne.Vector2(this.mouseX||0,this.mouseY||0)}},super.init(),this.fragmentShader&&this.initBasicShader()}setOptions(D){super.setOptions(D),this.updateUniforms()}initBasicShader(D=this.fragmentShader,M=this.vertexShader){M||(M="uniform float uTime;\nuniform vec2 uResolution;\nvoid main() {\n  gl_Position = vec4( position, 1.0 );\n}"),this.updateUniforms(),"function"==typeof this.valuesChanger&&this.valuesChanger();const x=new Ne.ShaderMaterial({uniforms:this.uniforms,vertexShader:M,fragmentShader:D}),P=this.options.texturePath;P&&(this.uniforms.iTex={type:"t",value:(new Ne.TextureLoader).load(P)});const z=new Ne.Mesh(new Ne.PlaneGeometry(2,2),x);this.scene.add(z),this.camera=new Ne.Camera,this.camera.position.z=1}updateUniforms(){const D={};let M,x;for(M in this.options)x=this.options[M],-1!==M.toLowerCase().indexOf("color")?D[M]={type:"v3",value:new Ne.Color(x).toVector()}:"number"==typeof x&&(D[M]={type:"f",value:x});return Object.assign(this.uniforms,D)}resize(){super.resize(),this.uniforms.iResolution.value.x=this.width/this.scale,this.uniforms.iResolution.value.y=this.height/this.scale}}class Ve extends Ue{}const Le=nt.register("CLOUDS2",Ve);return Ve.prototype.defaultOptions={backgroundColor:0,skyColor:6072010,cloudColor:3362176,lightColor:16777215,speed:1,texturePath:"./gallery/noise.png",scaleMobile:4},Ve.prototype.fragmentShader="uniform vec2 iResolution;\nuniform vec2 iMouse;\nuniform float iTime;\nuniform sampler2D iTex;\nuniform float speed;\nuniform vec3 skyColor;\nuniform vec3 cloudColor;\nuniform vec3 lightColor;\n\n# define T texture2D(iTex, fract((s*p.zw + ceil(s*p.x)) / 200.0)).y / (s += s) * 4.0\n\nvoid main(){\n    vec2 coord = gl_FragCoord.xy;\n    vec4 p, d = vec4(0.8, 0, coord / iResolution.y - 0.65);\n    vec3 out1 = skyColor - d.w; // sky gradient\n    float s, f, t = 200.0 + sin(dot(coord,coord));\n    const float MAX_ITER = 100.0;\n    for (float i = 1.0; i <= MAX_ITER; i += 1.0) {\n      t -= 2.0; if (t < 0.0) { break; } // march step\n      p = 0.05 * t * d;\n      p.xz += iTime * 0.50000 * speed; // movement through space\n      p.x += sin(iTime * 0.25 * speed) * 0.25;\n      s = 2.0;\n      f = p.w + 1.0-T-T-T-T;\n      // f = p.w + 1.0 - 0.25*noise(p.xyz * 2.0) - 0.25*noise(p.zxy * 2.01) - 0.25*noise(p.yzx * 2.03);\n      if (f < 0.0) {\n        vec3 cloudColorShading = mix(lightColor, cloudColor, -f);\n        out1 = mix(out1, cloudColorShading, -f * 0.4);\n      }\n    }\n    gl_FragColor = vec4(out1, 1.0);\n}",Qe})(),hi.exports=Qe()},629:function(hi){var Qe;typeof self<"u"&&self,Qe=()=>(()=>{"use strict";var gt={d:(E,D)=>{for(var M in D)gt.o(D,M)&&!gt.o(E,M)&&Object.defineProperty(E,M,{enumerable:!0,get:D[M]})},o:(E,D)=>Object.prototype.hasOwnProperty.call(E,D),r:E=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})}},Qe={};function hn(E,D){return null==E&&(E=0),null==D&&(D=1),E+Math.random()*(D-E)}function q(E){for(;E.children&&E.children.length>0;)q(E.children[0]),E.remove(E.children[0]);E.geometry&&E.geometry.dispose(),E.material&&(Object.keys(E.material).forEach(D=>{E.material[D]&&null!==E.material[D]&&"function"==typeof E.material[D].dispose&&E.material[D].dispose()}),E.material.dispose())}gt.r(Qe),gt.d(Qe,{default:()=>Le}),Number.prototype.clamp=function(E,D){return Math.min(Math.max(this,E),D)};const tt="object"==typeof window;let nt=tt&&window.THREE||{};tt&&!window.VANTA&&(window.VANTA={});const je=tt&&window.VANTA||{};je.register=(E,D)=>je[E]=M=>new D(M),je.version="0.5.24";const Je=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};je.VantaBase=class{constructor(E={}){if(!tt)return!1;je.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const D="function"==typeof this.getDefaultOptions?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},D),(E instanceof HTMLElement||"string"==typeof E)&&(E={el:E}),Object.assign(this.options,E),this.options.THREE&&(nt=this.options.THREE),this.el=this.options.el,null==this.el)Je('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const z=this.el;if(this.el=document.querySelector(z),!this.el)return void Je("Cannot find element",z)}var x;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(z){return Je("Init error",z),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(x=this.options.backgroundColor,"number"==typeof x?"#"+("00000"+x.toString(16)).slice(-6):x)))}this.initMouse(),this.resize(),this.animationLoop();const P=window.addEventListener;P("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(P("scroll",this.windowMouseMoveWrapper),P("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(P("touchstart",this.windowTouchWrapper),P("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&P("deviceorientation",this.windowGyroWrapper)}setOptions(E={}){Object.assign(this.options,E),this.triggerMouseMove()}prepareEl(){let E,D;if(typeof Node<"u"&&Node.TEXT_NODE)for(E=0;E<this.el.childNodes.length;E++){const M=this.el.childNodes[E];if(M.nodeType===Node.TEXT_NODE){const x=document.createElement("span");x.textContent=M.textContent,M.parentElement.insertBefore(x,M),M.remove()}}for(E=0;E<this.el.children.length;E++)D=this.el.children[E],"static"===getComputedStyle(D).position&&(D.style.position="relative"),"auto"===getComputedStyle(D).zIndex&&(D.style.zIndex=1);"static"===getComputedStyle(this.el).position&&(this.el.style.position="relative")}applyCanvasStyles(E,D={}){Object.assign(E.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(E.style,D),E.classList.add("vanta-canvas")}initThree(){nt.WebGLRenderer?(this.renderer=new nt.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new nt.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const E=this.getCanvasElement();return!!E&&E.getBoundingClientRect()}windowMouseMoveWrapper(E){const D=this.getCanvasRect();if(!D)return!1;const M=E.clientX-D.left,x=E.clientY-D.top;M>=0&&x>=0&&M<=D.width&&x<=D.height&&(this.mouseX=M,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(M,x))}windowTouchWrapper(E){const D=this.getCanvasRect();if(!D)return!1;if(1===E.touches.length){const M=E.touches[0].clientX-D.left,x=E.touches[0].clientY-D.top;M>=0&&x>=0&&M<=D.width&&x<=D.height&&(this.mouseX=M,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(M,x))}}windowGyroWrapper(E){const D=this.getCanvasRect();if(!D)return!1;const M=Math.round(2*E.alpha)-D.left,x=Math.round(2*E.beta)-D.top;M>=0&&x>=0&&M<=D.width&&x<=D.height&&(this.mouseX=M,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(M,x))}triggerMouseMove(E,D){void 0===E&&void 0===D&&(this.options.mouseEase?(E=this.mouseEaseX,D=this.mouseEaseY):(E=this.mouseX,D=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=E/this.scale,this.uniforms.iMouse.value.y=D/this.scale),"function"==typeof this.onMouseMove&&this.onMouseMove(E/this.width,D/this.height)}setSize(){this.scale||(this.scale=1),typeof navigator<"u"&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600)&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,"function"==typeof this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),"function"==typeof this.onResize&&this.onResize()}isOnScreen(){const E=this.el.offsetHeight,D=this.el.getBoundingClientRect(),M=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,x=D.top+M;return x-window.innerHeight<=M&&M<=x+E}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const E=performance.now();if(this.prevNow){let D=(E-this.prevNow)/16.666666666666668;D=Math.max(.2,Math.min(D,5)),this.t+=D,this.t2+=(this.options.speed||1)*D,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=E,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&("function"==typeof this.onUpdate&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),"function"==typeof this.afterRender&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);"function"==typeof this.onRestart&&this.onRestart(),this.init()}init(){"function"==typeof this.onInit&&this.onInit()}destroy(){"function"==typeof this.onDestroy&&this.onDestroy();const E=window.removeEventListener;E("touchstart",this.windowTouchWrapper),E("touchmove",this.windowTouchWrapper),E("scroll",this.windowMouseMoveWrapper),E("mousemove",this.windowMouseMoveWrapper),E("deviceorientation",this.windowGyroWrapper),E("resize",this.resize),window.cancelAnimationFrame(this.req);const D=this.scene;D&&D.children&&q(D),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),je.current===this&&(je.current=null)}};const Ne=je.VantaBase;let Ue="object"==typeof window&&window.THREE;class Ve extends Ne{static initClass(){this.prototype.defaultOptions={color:16746528,color2:16746528,backgroundColor:2236962,size:3,spacing:35,showLines:!0}}onInit(){var D=this.camera=new Ue.PerspectiveCamera(50,this.width/this.height,.1,5e3);D.position.x=0,D.position.y=250,D.position.z=50,D.tx=0,D.ty=50,D.tz=350,D.lookAt(0,0,0),this.scene.add(D);var M,x,P,z,_e,It,Et,yn=this.starsGeometry=new Ue.BufferGeometry,ht=this.options.spacing;const In=[];for(M=P=-30;P<=30;M=++P)for(x=z=-30;z<=30;x=++z)(_e=new Ue.Vector3).x=M*ht+ht/2,_e.y=hn(0,5)-150,_e.z=x*ht+ht/2,In.push(_e);if(yn.setFromPoints(In),It=new Ue.PointsMaterial({color:this.options.color,size:this.options.size}),Et=this.starField=new Ue.Points(yn,It),this.scene.add(Et),this.options.showLines){var qt=new Ue.LineBasicMaterial({color:this.options.color2}),Kn=new Ue.BufferGeometry;const We=[];for(M=0;M<200;M++){var _t=hn(40,60),Ft=_t+hn(12,20),Pn=hn(-1,1),Ln=Math.sqrt(1-Pn*Pn),ns=hn(0,2*Math.PI),it=Math.sin(ns)*Ln,Ge=Math.cos(ns)*Ln;We.push(new Ue.Vector3(Ge*_t,it*_t,Pn*_t)),We.push(new Ue.Vector3(Ge*Ft,it*Ft,Pn*Ft))}Kn.setFromPoints(We),this.linesMesh=new Ue.LineSegments(Kn,qt),this.scene.add(this.linesMesh)}}onUpdate(){const D=this.starsGeometry;for(var M=0;M<D.attributes.position.array.length;M+=3){const Et=D.attributes.position.array[M+1]+.1*Math.sin(.02*D.attributes.position.array[M+2]+.015*D.attributes.position.array[M]+.02*this.t);D.attributes.position.array[M+1]=Et}D.attributes.position.setUsage(Ue.DynamicDrawUsage),D.computeVertexNormals(),D.attributes.position.needsUpdate=!0;const x=this.camera,P=.003;x.position.x+=(x.tx-x.position.x)*P,x.position.y+=(x.ty-x.position.y)*P,x.position.z+=(x.tz-x.position.z)*P,x.lookAt(0,0,0),this.linesMesh&&(this.linesMesh.rotation.z+=.002,this.linesMesh.rotation.x+=8e-4,this.linesMesh.rotation.y+=5e-4)}onMouseMove(D,M){this.camera.tx=100*(D-.5),this.camera.ty=50+50*M}onRestart(){this.scene.remove(this.starField)}}Ve.initClass();const Le=je.register("DOTS",Ve);return Qe})(),hi.exports=Qe()},128:function(hi){var Qe;typeof self<"u"&&self,Qe=()=>(()=>{"use strict";var gt={d:(E,D)=>{for(var M in D)gt.o(D,M)&&!gt.o(E,M)&&Object.defineProperty(E,M,{enumerable:!0,get:D[M]})},o:(E,D)=>Object.prototype.hasOwnProperty.call(E,D),r:E=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})}},Qe={};function hn(E){for(;E.children&&E.children.length>0;)hn(E.children[0]),E.remove(E.children[0]);E.geometry&&E.geometry.dispose(),E.material&&(Object.keys(E.material).forEach(D=>{E.material[D]&&null!==E.material[D]&&"function"==typeof E.material[D].dispose&&E.material[D].dispose()}),E.material.dispose())}gt.r(Qe),gt.d(Qe,{default:()=>Le}),Number.prototype.clamp=function(E,D){return Math.min(Math.max(this,E),D)};const q="object"==typeof window;let tt=q&&window.THREE||{};q&&!window.VANTA&&(window.VANTA={});const nt=q&&window.VANTA||{};nt.register=(E,D)=>nt[E]=M=>new D(M),nt.version="0.5.24";const je=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};nt.VantaBase=class{constructor(E={}){if(!q)return!1;nt.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const D="function"==typeof this.getDefaultOptions?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},D),(E instanceof HTMLElement||"string"==typeof E)&&(E={el:E}),Object.assign(this.options,E),this.options.THREE&&(tt=this.options.THREE),this.el=this.options.el,null==this.el)je('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const z=this.el;if(this.el=document.querySelector(z),!this.el)return void je("Cannot find element",z)}var x;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(z){return je("Init error",z),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(x=this.options.backgroundColor,"number"==typeof x?"#"+("00000"+x.toString(16)).slice(-6):x)))}this.initMouse(),this.resize(),this.animationLoop();const P=window.addEventListener;P("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(P("scroll",this.windowMouseMoveWrapper),P("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(P("touchstart",this.windowTouchWrapper),P("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&P("deviceorientation",this.windowGyroWrapper)}setOptions(E={}){Object.assign(this.options,E),this.triggerMouseMove()}prepareEl(){let E,D;if(typeof Node<"u"&&Node.TEXT_NODE)for(E=0;E<this.el.childNodes.length;E++){const M=this.el.childNodes[E];if(M.nodeType===Node.TEXT_NODE){const x=document.createElement("span");x.textContent=M.textContent,M.parentElement.insertBefore(x,M),M.remove()}}for(E=0;E<this.el.children.length;E++)D=this.el.children[E],"static"===getComputedStyle(D).position&&(D.style.position="relative"),"auto"===getComputedStyle(D).zIndex&&(D.style.zIndex=1);"static"===getComputedStyle(this.el).position&&(this.el.style.position="relative")}applyCanvasStyles(E,D={}){Object.assign(E.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(E.style,D),E.classList.add("vanta-canvas")}initThree(){tt.WebGLRenderer?(this.renderer=new tt.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new tt.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const E=this.getCanvasElement();return!!E&&E.getBoundingClientRect()}windowMouseMoveWrapper(E){const D=this.getCanvasRect();if(!D)return!1;const M=E.clientX-D.left,x=E.clientY-D.top;M>=0&&x>=0&&M<=D.width&&x<=D.height&&(this.mouseX=M,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(M,x))}windowTouchWrapper(E){const D=this.getCanvasRect();if(!D)return!1;if(1===E.touches.length){const M=E.touches[0].clientX-D.left,x=E.touches[0].clientY-D.top;M>=0&&x>=0&&M<=D.width&&x<=D.height&&(this.mouseX=M,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(M,x))}}windowGyroWrapper(E){const D=this.getCanvasRect();if(!D)return!1;const M=Math.round(2*E.alpha)-D.left,x=Math.round(2*E.beta)-D.top;M>=0&&x>=0&&M<=D.width&&x<=D.height&&(this.mouseX=M,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(M,x))}triggerMouseMove(E,D){void 0===E&&void 0===D&&(this.options.mouseEase?(E=this.mouseEaseX,D=this.mouseEaseY):(E=this.mouseX,D=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=E/this.scale,this.uniforms.iMouse.value.y=D/this.scale),"function"==typeof this.onMouseMove&&this.onMouseMove(E/this.width,D/this.height)}setSize(){this.scale||(this.scale=1),typeof navigator<"u"&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600)&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,"function"==typeof this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),"function"==typeof this.onResize&&this.onResize()}isOnScreen(){const E=this.el.offsetHeight,D=this.el.getBoundingClientRect(),M=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,x=D.top+M;return x-window.innerHeight<=M&&M<=x+E}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const E=performance.now();if(this.prevNow){let D=(E-this.prevNow)/16.666666666666668;D=Math.max(.2,Math.min(D,5)),this.t+=D,this.t2+=(this.options.speed||1)*D,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=E,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&("function"==typeof this.onUpdate&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),"function"==typeof this.afterRender&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);"function"==typeof this.onRestart&&this.onRestart(),this.init()}init(){"function"==typeof this.onInit&&this.onInit()}destroy(){"function"==typeof this.onDestroy&&this.onDestroy();const E=window.removeEventListener;E("touchstart",this.windowTouchWrapper),E("touchmove",this.windowTouchWrapper),E("scroll",this.windowMouseMoveWrapper),E("mousemove",this.windowMouseMoveWrapper),E("deviceorientation",this.windowGyroWrapper),E("resize",this.resize),window.cancelAnimationFrame(this.req);const D=this.scene;D&&D.children&&hn(D),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),nt.current===this&&(nt.current=null)}};const Je=nt.VantaBase;let Ne="object"==typeof window&&window.THREE;class Ue extends Je{constructor(D){Ne=D.THREE||Ne,Ne.Color.prototype.toVector=function(){return new Ne.Vector3(this.r,this.g,this.b)},super(D),this.updateUniforms=this.updateUniforms.bind(this)}init(){this.mode="shader",this.uniforms={iTime:{type:"f",value:1},iResolution:{type:"v2",value:new Ne.Vector2(1,1)},iDpr:{type:"f",value:window.devicePixelRatio||1},iMouse:{type:"v2",value:new Ne.Vector2(this.mouseX||0,this.mouseY||0)}},super.init(),this.fragmentShader&&this.initBasicShader()}setOptions(D){super.setOptions(D),this.updateUniforms()}initBasicShader(D=this.fragmentShader,M=this.vertexShader){M||(M="uniform float uTime;\nuniform vec2 uResolution;\nvoid main() {\n  gl_Position = vec4( position, 1.0 );\n}"),this.updateUniforms(),"function"==typeof this.valuesChanger&&this.valuesChanger();const x=new Ne.ShaderMaterial({uniforms:this.uniforms,vertexShader:M,fragmentShader:D}),P=this.options.texturePath;P&&(this.uniforms.iTex={type:"t",value:(new Ne.TextureLoader).load(P)});const z=new Ne.Mesh(new Ne.PlaneGeometry(2,2),x);this.scene.add(z),this.camera=new Ne.Camera,this.camera.position.z=1}updateUniforms(){const D={};let M,x;for(M in this.options)x=this.options[M],-1!==M.toLowerCase().indexOf("color")?D[M]={type:"v3",value:new Ne.Color(x).toVector()}:"number"==typeof x&&(D[M]={type:"f",value:x});return Object.assign(this.uniforms,D)}resize(){super.resize(),this.uniforms.iResolution.value.x=this.width/this.scale,this.uniforms.iResolution.value.y=this.height/this.scale}}class Ve extends Ue{}const Le=nt.register("FOG",Ve);return Ve.prototype.defaultOptions={highlightColor:16761600,midtoneColor:16719616,lowlightColor:2949375,baseColor:16772075,blurFactor:.6,speed:1,zoom:1,scale:2,scaleMobile:4},Ve.prototype.fragmentShader="uniform vec2 iResolution;\nuniform vec2 iMouse;\nuniform float iTime;\n\nuniform float blurFactor;\nuniform vec3 baseColor;\nuniform vec3 lowlightColor;\nuniform vec3 midtoneColor;\nuniform vec3 highlightColor;\nuniform float zoom;\n\nfloat random (in vec2 _st) {\n  return fract(sin(dot(_st.xy,\n                     vec2(0.129898,0.78233)))*\n        437.585453123);\n}\n\n// Based on Morgan McGuire @morgan3d\n// https://www.shadertoy.com/view/4dS3Wd\nfloat noise (in vec2 _st) {\n  vec2 i = floor(_st);\n  vec2 f = fract(_st);\n\n  // Four corners in 2D of a tile\n  float a = random(i);\n  float b = random(i + vec2(1.0, 0.0));\n  float c = random(i + vec2(0.0, 1.0));\n  float d = random(i + vec2(1.0, 1.0));\n\n  vec2 u = f * f * (3.0 - 2.0 * f);\n\n  return mix(a, b, u.x) +\n          (c - a)* u.y * (1.0 - u.x) +\n          (d - b) * u.x * u.y;\n}\n\n#define NUM_OCTAVES 6\n\nfloat fbm ( in vec2 _st) {\n  float v = 0.0;\n  float a = blurFactor;\n  vec2 shift = vec2(100.0);\n  // Rotate to reduce axial bias\n  mat2 rot = mat2(cos(0.5), sin(0.5),\n                  -sin(0.5), cos(0.50));\n  for (int i = 0; i < NUM_OCTAVES; ++i) {\n      v += a * noise(_st);\n      _st = rot * _st * 2.0 + shift;\n      a *= (1. - blurFactor);\n  }\n  return v;\n}\n\nvoid main() {\n  vec2 st = gl_FragCoord.xy / iResolution.xy*3.;\n  st.x *= 0.7 * iResolution.x / iResolution.y ; // Still keep it more landscape than square\n  st *= zoom;\n\n  // st += st * abs(sin(iTime*0.1)*3.0);\n  vec3 color = vec3(0.0);\n\n  vec2 q = vec2(0.);\n  q.x = fbm( st + 0.00*iTime);\n  q.y = fbm( st + vec2(1.0));\n\n  vec2 dir = vec2(0.15,0.126);\n  vec2 r = vec2(0.);\n  r.x = fbm( st + 1.0*q + vec2(1.7,9.2)+ dir.x*iTime );\n  r.y = fbm( st + 1.0*q + vec2(8.3,2.8)+ dir.y*iTime);\n\n  float f = fbm(st+r);\n\n  color = mix(baseColor,\n              lowlightColor,\n              clamp((f*f)*4.0,0.0,1.0));\n\n  color = mix(color,\n              midtoneColor,\n              clamp(length(q),0.0,1.0));\n\n  color = mix(color,\n              highlightColor,\n              clamp(length(r.x),0.0,1.0));\n\n  vec3 finalColor = mix(baseColor, color, f*f*f+.6*f*f+.5*f);\n  gl_FragColor = vec4(finalColor,1.0);\n}\n",Qe})(),hi.exports=Qe()},646:function(hi){var Qe;typeof self<"u"&&self,Qe=()=>(()=>{"use strict";var gt={d:(M,x)=>{for(var P in x)gt.o(x,P)&&!gt.o(M,P)&&Object.defineProperty(M,P,{enumerable:!0,get:x[P]})},o:(M,x)=>Object.prototype.hasOwnProperty.call(M,x),r:M=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(M,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(M,"__esModule",{value:!0})}},Qe={};function hn(M,x){return null==M&&(M=0),null==x&&(x=1),M+Math.random()*(x-M)}gt.r(Qe),gt.d(Qe,{default:()=>D}),Number.prototype.clamp=function(M,x){return Math.min(Math.max(this,M),x)};const q=M=>.299*M.r+.587*M.g+.114*M.b;function tt(M){for(;M.children&&M.children.length>0;)tt(M.children[0]),M.remove(M.children[0]);M.geometry&&M.geometry.dispose(),M.material&&(Object.keys(M.material).forEach(x=>{M.material[x]&&null!==M.material[x]&&"function"==typeof M.material[x].dispose&&M.material[x].dispose()}),M.material.dispose())}const nt="object"==typeof window;let je=nt&&window.THREE||{};nt&&!window.VANTA&&(window.VANTA={});const Je=nt&&window.VANTA||{};Je.register=(M,x)=>Je[M]=P=>new x(P),Je.version="0.5.24";const Ne=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};Je.VantaBase=class{constructor(M={}){if(!nt)return!1;Je.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const x="function"==typeof this.getDefaultOptions?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},x),(M instanceof HTMLElement||"string"==typeof M)&&(M={el:M}),Object.assign(this.options,M),this.options.THREE&&(je=this.options.THREE),this.el=this.options.el,null==this.el)Ne('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const It=this.el;if(this.el=document.querySelector(It),!this.el)return void Ne("Cannot find element",It)}var z;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(It){return Ne("Init error",It),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(z=this.options.backgroundColor,"number"==typeof z?"#"+("00000"+z.toString(16)).slice(-6):z)))}this.initMouse(),this.resize(),this.animationLoop();const _e=window.addEventListener;_e("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(_e("scroll",this.windowMouseMoveWrapper),_e("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(_e("touchstart",this.windowTouchWrapper),_e("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&_e("deviceorientation",this.windowGyroWrapper)}setOptions(M={}){Object.assign(this.options,M),this.triggerMouseMove()}prepareEl(){let M,x;if(typeof Node<"u"&&Node.TEXT_NODE)for(M=0;M<this.el.childNodes.length;M++){const P=this.el.childNodes[M];if(P.nodeType===Node.TEXT_NODE){const z=document.createElement("span");z.textContent=P.textContent,P.parentElement.insertBefore(z,P),P.remove()}}for(M=0;M<this.el.children.length;M++)x=this.el.children[M],"static"===getComputedStyle(x).position&&(x.style.position="relative"),"auto"===getComputedStyle(x).zIndex&&(x.style.zIndex=1);"static"===getComputedStyle(this.el).position&&(this.el.style.position="relative")}applyCanvasStyles(M,x={}){Object.assign(M.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(M.style,x),M.classList.add("vanta-canvas")}initThree(){je.WebGLRenderer?(this.renderer=new je.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new je.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const M=this.getCanvasElement();return!!M&&M.getBoundingClientRect()}windowMouseMoveWrapper(M){const x=this.getCanvasRect();if(!x)return!1;const P=M.clientX-x.left,z=M.clientY-x.top;P>=0&&z>=0&&P<=x.width&&z<=x.height&&(this.mouseX=P,this.mouseY=z,this.options.mouseEase||this.triggerMouseMove(P,z))}windowTouchWrapper(M){const x=this.getCanvasRect();if(!x)return!1;if(1===M.touches.length){const P=M.touches[0].clientX-x.left,z=M.touches[0].clientY-x.top;P>=0&&z>=0&&P<=x.width&&z<=x.height&&(this.mouseX=P,this.mouseY=z,this.options.mouseEase||this.triggerMouseMove(P,z))}}windowGyroWrapper(M){const x=this.getCanvasRect();if(!x)return!1;const P=Math.round(2*M.alpha)-x.left,z=Math.round(2*M.beta)-x.top;P>=0&&z>=0&&P<=x.width&&z<=x.height&&(this.mouseX=P,this.mouseY=z,this.options.mouseEase||this.triggerMouseMove(P,z))}triggerMouseMove(M,x){void 0===M&&void 0===x&&(this.options.mouseEase?(M=this.mouseEaseX,x=this.mouseEaseY):(M=this.mouseX,x=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=M/this.scale,this.uniforms.iMouse.value.y=x/this.scale),"function"==typeof this.onMouseMove&&this.onMouseMove(M/this.width,x/this.height)}setSize(){this.scale||(this.scale=1),typeof navigator<"u"&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600)&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,"function"==typeof this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),"function"==typeof this.onResize&&this.onResize()}isOnScreen(){const M=this.el.offsetHeight,x=this.el.getBoundingClientRect(),P=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,z=x.top+P;return z-window.innerHeight<=P&&P<=z+M}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const M=performance.now();if(this.prevNow){let x=(M-this.prevNow)/16.666666666666668;x=Math.max(.2,Math.min(x,5)),this.t+=x,this.t2+=(this.options.speed||1)*x,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=M,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&("function"==typeof this.onUpdate&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),"function"==typeof this.afterRender&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);"function"==typeof this.onRestart&&this.onRestart(),this.init()}init(){"function"==typeof this.onInit&&this.onInit()}destroy(){"function"==typeof this.onDestroy&&this.onDestroy();const M=window.removeEventListener;M("touchstart",this.windowTouchWrapper),M("touchmove",this.windowTouchWrapper),M("scroll",this.windowMouseMoveWrapper),M("mousemove",this.windowMouseMoveWrapper),M("deviceorientation",this.windowGyroWrapper),M("resize",this.resize),window.cancelAnimationFrame(this.req);const x=this.scene;x&&x.children&&tt(x),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),Je.current===this&&(Je.current=null)}};const Ue=Je.VantaBase,Ve="object"==typeof window;let Le=Ve&&window.THREE;class E extends Ue{static initClass(){this.prototype.defaultOptions={color:16727937,color2:16777215,size:1,backgroundColor:2299196,points:10,maxDistance:20,spacing:15,showDots:!0}}constructor(x){Le=x.THREE||Le,super(x)}genPoint(x,P,z){let _e;if(this.points||(this.points=[]),this.options.showDots){const It=new Le.SphereGeometry(.25,12,12),Et=new Le.MeshLambertMaterial({color:this.options.color});_e=new Le.Mesh(It,Et)}else _e=new Le.Object3D;return this.cont.add(_e),_e.ox=x,_e.oy=P,_e.oz=z,_e.position.set(x,P,z),_e.r=0,this.points.push(_e)}onInit(){this.cont=new Le.Group,this.cont.position.set(-50,-20,0),this.scene.add(this.cont);let x=this.options.points,{spacing:P}=this.options;const z=x*x*2;this.linePositions=new Float32Array(z*z*3),this.lineColors=new Float32Array(z*z*3);const _e=q(new Le.Color(this.options.color)),It=q(new Le.Color(this.options.backgroundColor));this.blending=_e>It?"additive":"subtractive";const Et=new Le.BufferGeometry;Et.setAttribute("position",new Le.BufferAttribute(this.linePositions,3).setUsage(Le.DynamicDrawUsage)),Et.setAttribute("color",new Le.BufferAttribute(this.lineColors,3).setUsage(Le.DynamicDrawUsage)),Et.computeBoundingSphere(),Et.setDrawRange(0,0);const yn=new Le.LineBasicMaterial({vertexColors:Le.VertexColors,blending:"additive"===this.blending?Le.AdditiveBlending:null,transparent:!0});this.linesMesh=new Le.LineSegments(Et,yn),this.cont.add(this.linesMesh);for(let Ge=0;Ge<=x;Ge++)for(let We=0;We<=x;We++)this.genPoint((Ge-x/2)*P,0,(We-x/2)*P);this.camera=new Le.PerspectiveCamera(20,this.width/this.height,.01,1e4),this.camera.position.set(50,100,150),this.scene.add(this.camera);const ht=new Le.AmbientLight(16777215,.75);this.scene.add(ht),this.spot=new Le.SpotLight(16777215,1),this.spot.position.set(0,200,0),this.spot.distance=400,this.spot.target=this.cont,this.scene.add(this.spot),this.cont2=new Le.Group,this.cont2.position.set(0,15,0),this.scene.add(this.cont2);const In=new Le.LineBasicMaterial({color:this.options.color2}),qt=[];for(let Ge=0;Ge<80;Ge++){const We=hn(18,24),dt=We+hn(1,6),ut=hn(-1,1),At=Math.sqrt(1-ut*ut),Bt=hn(0,2*Math.PI),Pt=Math.sin(Bt)*At,_i=Math.cos(Bt)*At;qt.push(new Le.Vector3(_i*We,Pt*We,ut*We)),qt.push(new Le.Vector3(_i*dt,Pt*dt,ut*dt))}const Kn=(new Le.BufferGeometry).setFromPoints(qt);this.linesMesh2=new Le.LineSegments(Kn,In),this.linesMesh2.position.set(0,0,0),this.cont2.add(this.linesMesh2);const _t=new Le.LineBasicMaterial({color:this.options.color2,linewidth:2}),Ft=[];Ft.push(new Le.Vector3(0,30,0)),Ft.push(new Le.Vector3(0,-30,0));for(let Ge=0;Ge<4;Ge++){let We=.15*Math.cos(Ge/4*Math.PI*2),dt=.15*Math.sin(Ge/4*Math.PI*2),ut=[17.9,12,8,5,3,2,1.5,1.1,.8,.6,.45,.3,.2,.1,.05,.03,.02,.01];for(let At=0;At<ut.length;At++){let Bt=ut[At],Pt=6*(At+1);Ft.push(new Le.Vector3(We*Pt,Bt,dt*Pt)),Ft.push(new Le.Vector3(We*Pt,-Bt,dt*Pt))}}const Pn=(new Le.BufferGeometry).setFromPoints(Ft);this.linesMesh3=new Le.LineSegments(Pn,_t),this.linesMesh3.position.set(0,0,0),this.cont2.add(this.linesMesh3);const Ln=new Le.LineBasicMaterial({color:this.options.color}),ns=new Le.SphereGeometry(18*this.options.size,18,14),it=new Le.EdgesGeometry(ns);this.sphere=new Le.LineSegments(it,Ln),this.sphere.position.set(0,0,0),this.cont2.add(this.sphere),this.cont2.rotation.x=-.25}onUpdate(){let x;null!=this.helper&&this.helper.update(),null!=this.controls&&this.controls.update();const P=this.camera;Math.abs(P.tx-P.position.x)>.01&&(x=P.tx-P.position.x,P.position.x+=.02*x),Math.abs(P.ty-P.position.y)>.01&&(x=P.ty-P.position.y,P.position.y+=.02*x),Ve&&window.innerWidth<480?P.lookAt(new Le.Vector3(-10,0,0)):Ve&&window.innerWidth<720?P.lookAt(new Le.Vector3(-20,0,0)):P.lookAt(new Le.Vector3(-40,0,0));let z=0,_e=0,It=0;const Et=new Le.Color(this.options.backgroundColor),yn=new Le.Color(this.options.color),ht=new Le.Color(this.options.color2),In=yn.clone().sub(Et);this.rayCaster&&this.rayCaster.setFromCamera(new Le.Vector2(this.rcMouseX,this.rcMouseY),this.camera),this.linesMesh2&&(this.linesMesh2.rotation.z+=.002,this.linesMesh2.rotation.x+=8e-4,this.linesMesh2.rotation.y+=5e-4),this.sphere&&(this.sphere.rotation.y+=.002,this.linesMesh3.rotation.y-=.004);for(let qt=0;qt<this.points.length;qt++){let Kn,_t;const Ft=this.points[qt];_t=this.rayCaster?this.rayCaster.ray.distanceToPoint(Ft.position):1e3;const Pn=_t.clamp(5,15);Ft.scale.z=(.25*(15-Pn)).clamp(1,100),Ft.scale.x=Ft.scale.y=Ft.scale.z,Ft.position.y=2*Math.sin(Ft.position.x/10+.01*this.t+Ft.position.z/10*.5);for(let Ln=qt;Ln<this.points.length;Ln++){const ns=this.points[Ln],it=Ft.position.x-ns.position.x,Ge=Ft.position.y-ns.position.y,We=Ft.position.z-ns.position.z;if(Kn=Math.sqrt(it*it+Ge*Ge+We*We),Kn<this.options.maxDistance){let dt,ut=2*(1-Kn/this.options.maxDistance);ut=ut.clamp(0,1),dt="additive"===this.blending?new Le.Color(0).lerp(In,ut):Et.clone().lerp(yn,ut),this.linePositions[z++]=Ft.position.x,this.linePositions[z++]=Ft.position.y,this.linePositions[z++]=Ft.position.z,this.linePositions[z++]=ns.position.x,this.linePositions[z++]=ns.position.y,this.linePositions[z++]=ns.position.z,this.lineColors[_e++]=dt.r,this.lineColors[_e++]=dt.g,this.lineColors[_e++]=dt.b,this.lineColors[_e++]=dt.r,this.lineColors[_e++]=dt.g,this.lineColors[_e++]=dt.b,It++}}}return this.linesMesh.geometry.setDrawRange(0,2*It),this.linesMesh.geometry.attributes.position.needsUpdate=!0,this.linesMesh.geometry.attributes.color.needsUpdate=!0,this.sphere.material.color.set(yn),this.linesMesh2.material.color.set(ht),this.linesMesh3.material.color.set(ht),.001*this.t}onMouseMove(x,P){const z=this.camera;z.oy||(z.oy=z.position.y,z.ox=z.position.x,z.oz=z.position.z);const _e=Math.atan2(z.oz,z.ox),It=Math.sqrt(z.oz*z.oz+z.ox*z.ox),Et=_e+1.5*(x-.5)*(this.options.mouseCoeffX||1);z.tz=It*Math.sin(Et),z.tx=It*Math.cos(Et),z.ty=z.oy+80*(P-.5)*(this.options.mouseCoeffY||1),this.rcMouseX=2*x-1,this.rcMouseY=2*-x+1}onRestart(){this.scene.remove(this.linesMesh),this.points=[]}}E.initClass();const D=Je.register("GLOBE",E);return Qe})(),hi.exports=Qe()},156:function(hi){var Qe;typeof self<"u"&&self,Qe=()=>(()=>{"use strict";var gt={d:(D,M)=>{for(var x in M)gt.o(M,x)&&!gt.o(D,x)&&Object.defineProperty(D,x,{enumerable:!0,get:M[x]})},o:(D,M)=>Object.prototype.hasOwnProperty.call(D,M),r:D=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(D,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(D,"__esModule",{value:!0})}},Qe={};function hn(D){for(;D.children&&D.children.length>0;)hn(D.children[0]),D.remove(D.children[0]);D.geometry&&D.geometry.dispose(),D.material&&(Object.keys(D.material).forEach(M=>{D.material[M]&&null!==D.material[M]&&"function"==typeof D.material[M].dispose&&D.material[M].dispose()}),D.material.dispose())}gt.r(Qe),gt.d(Qe,{default:()=>E}),Number.prototype.clamp=function(D,M){return Math.min(Math.max(this,D),M)};const q="object"==typeof window;let tt=q&&window.THREE||{};q&&!window.VANTA&&(window.VANTA={});const nt=q&&window.VANTA||{};nt.register=(D,M)=>nt[D]=x=>new M(x),nt.version="0.5.24";const je=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};nt.VantaBase=class{constructor(D={}){if(!q)return!1;nt.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const M="function"==typeof this.getDefaultOptions?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},M),(D instanceof HTMLElement||"string"==typeof D)&&(D={el:D}),Object.assign(this.options,D),this.options.THREE&&(tt=this.options.THREE),this.el=this.options.el,null==this.el)je('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const _e=this.el;if(this.el=document.querySelector(_e),!this.el)return void je("Cannot find element",_e)}var P;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(_e){return je("Init error",_e),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(P=this.options.backgroundColor,"number"==typeof P?"#"+("00000"+P.toString(16)).slice(-6):P)))}this.initMouse(),this.resize(),this.animationLoop();const z=window.addEventListener;z("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(z("scroll",this.windowMouseMoveWrapper),z("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(z("touchstart",this.windowTouchWrapper),z("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&z("deviceorientation",this.windowGyroWrapper)}setOptions(D={}){Object.assign(this.options,D),this.triggerMouseMove()}prepareEl(){let D,M;if(typeof Node<"u"&&Node.TEXT_NODE)for(D=0;D<this.el.childNodes.length;D++){const x=this.el.childNodes[D];if(x.nodeType===Node.TEXT_NODE){const P=document.createElement("span");P.textContent=x.textContent,x.parentElement.insertBefore(P,x),x.remove()}}for(D=0;D<this.el.children.length;D++)M=this.el.children[D],"static"===getComputedStyle(M).position&&(M.style.position="relative"),"auto"===getComputedStyle(M).zIndex&&(M.style.zIndex=1);"static"===getComputedStyle(this.el).position&&(this.el.style.position="relative")}applyCanvasStyles(D,M={}){Object.assign(D.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(D.style,M),D.classList.add("vanta-canvas")}initThree(){tt.WebGLRenderer?(this.renderer=new tt.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new tt.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const D=this.getCanvasElement();return!!D&&D.getBoundingClientRect()}windowMouseMoveWrapper(D){const M=this.getCanvasRect();if(!M)return!1;const x=D.clientX-M.left,P=D.clientY-M.top;x>=0&&P>=0&&x<=M.width&&P<=M.height&&(this.mouseX=x,this.mouseY=P,this.options.mouseEase||this.triggerMouseMove(x,P))}windowTouchWrapper(D){const M=this.getCanvasRect();if(!M)return!1;if(1===D.touches.length){const x=D.touches[0].clientX-M.left,P=D.touches[0].clientY-M.top;x>=0&&P>=0&&x<=M.width&&P<=M.height&&(this.mouseX=x,this.mouseY=P,this.options.mouseEase||this.triggerMouseMove(x,P))}}windowGyroWrapper(D){const M=this.getCanvasRect();if(!M)return!1;const x=Math.round(2*D.alpha)-M.left,P=Math.round(2*D.beta)-M.top;x>=0&&P>=0&&x<=M.width&&P<=M.height&&(this.mouseX=x,this.mouseY=P,this.options.mouseEase||this.triggerMouseMove(x,P))}triggerMouseMove(D,M){void 0===D&&void 0===M&&(this.options.mouseEase?(D=this.mouseEaseX,M=this.mouseEaseY):(D=this.mouseX,M=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=D/this.scale,this.uniforms.iMouse.value.y=M/this.scale),"function"==typeof this.onMouseMove&&this.onMouseMove(D/this.width,M/this.height)}setSize(){this.scale||(this.scale=1),typeof navigator<"u"&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600)&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,"function"==typeof this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),"function"==typeof this.onResize&&this.onResize()}isOnScreen(){const D=this.el.offsetHeight,M=this.el.getBoundingClientRect(),x=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,P=M.top+x;return P-window.innerHeight<=x&&x<=P+D}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const D=performance.now();if(this.prevNow){let M=(D-this.prevNow)/16.666666666666668;M=Math.max(.2,Math.min(M,5)),this.t+=M,this.t2+=(this.options.speed||1)*M,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=D,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&("function"==typeof this.onUpdate&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),"function"==typeof this.afterRender&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);"function"==typeof this.onRestart&&this.onRestart(),this.init()}init(){"function"==typeof this.onInit&&this.onInit()}destroy(){"function"==typeof this.onDestroy&&this.onDestroy();const D=window.removeEventListener;D("touchstart",this.windowTouchWrapper),D("touchmove",this.windowTouchWrapper),D("scroll",this.windowMouseMoveWrapper),D("mousemove",this.windowMouseMoveWrapper),D("deviceorientation",this.windowGyroWrapper),D("resize",this.resize),window.cancelAnimationFrame(this.req);const M=this.scene;M&&M.children&&hn(M),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),nt.current===this&&(nt.current=null)}};const Je=nt.VantaBase;let Ne="object"==typeof window&&window.THREE;class Ue extends Je{constructor(M){Ne=M.THREE||Ne,Ne.Color.prototype.toVector=function(){return new Ne.Vector3(this.r,this.g,this.b)},super(M),this.updateUniforms=this.updateUniforms.bind(this)}init(){this.mode="shader",this.uniforms={iTime:{type:"f",value:1},iResolution:{type:"v2",value:new Ne.Vector2(1,1)},iDpr:{type:"f",value:window.devicePixelRatio||1},iMouse:{type:"v2",value:new Ne.Vector2(this.mouseX||0,this.mouseY||0)}},super.init(),this.fragmentShader&&this.initBasicShader()}setOptions(M){super.setOptions(M),this.updateUniforms()}initBasicShader(M=this.fragmentShader,x=this.vertexShader){x||(x="uniform float uTime;\nuniform vec2 uResolution;\nvoid main() {\n  gl_Position = vec4( position, 1.0 );\n}"),this.updateUniforms(),"function"==typeof this.valuesChanger&&this.valuesChanger();const P=new Ne.ShaderMaterial({uniforms:this.uniforms,vertexShader:x,fragmentShader:M}),z=this.options.texturePath;z&&(this.uniforms.iTex={type:"t",value:(new Ne.TextureLoader).load(z)});const _e=new Ne.Mesh(new Ne.PlaneGeometry(2,2),P);this.scene.add(_e),this.camera=new Ne.Camera,this.camera.position.z=1}updateUniforms(){const M={};let x,P;for(x in this.options)P=this.options[x],-1!==x.toLowerCase().indexOf("color")?M[x]={type:"v3",value:new Ne.Color(P).toVector()}:"number"==typeof P&&(M[x]={type:"f",value:P});return Object.assign(this.uniforms,M)}resize(){super.resize(),this.uniforms.iResolution.value.x=this.width/this.scale,this.uniforms.iResolution.value.y=this.height/this.scale}}let Ve="object"==typeof window&&window.THREE;class Le extends Ue{constructor(M){Ve=M.THREE||Ve,super(M)}getDefaultOptions(){return{baseColor:6745,color2:15918901,backgroundColor:1251907,amplitudeFactor:1,ringFactor:1,rotationFactor:1,xOffset:0,yOffset:0,size:1,speed:1,mouseEase:!0,scaleMobile:1,scale:1}}onInit(){const M={minFilter:Ve.LinearFilter,magFilter:Ve.LinearFilter,format:Ve.RGBFormat},x=this.width*window.devicePixelRatio/this.scale,P=this.height*window.devicePixelRatio/this.scale;this.bufferTarget=new Ve.WebGLRenderTarget(x,P,M),this.bufferFeedback=new Ve.WebGLRenderTarget(x,P,M)}initBasicShader(M,x){super.initBasicShader(M,x),this.uniforms.iBuffer={type:"t",value:this.bufferTarget.texture}}onUpdate(){this.uniforms.iBuffer.value=this.bufferFeedback.texture;const M=this.renderer;M.setRenderTarget(this.bufferTarget),M.render(this.scene,this.camera),M.setRenderTarget(null),M.clear();let x=this.bufferTarget;this.bufferTarget=this.bufferFeedback,this.bufferFeedback=x}onResize(){if(this.bufferTarget){const M=this.width*window.devicePixelRatio/this.scale,x=this.height*window.devicePixelRatio/this.scale;this.bufferTarget.setSize(M,x),this.bufferFeedback.setSize(M,x)}}onDestroy(){this.bufferTarget=null,this.bufferFeedback=null}}const E=nt.register("HALO",Le);return Le.prototype.fragmentShader="uniform vec2 iResolution;\nuniform float iDpr;\nuniform vec2 iMouse;\nuniform float iTime;\n\nuniform float xOffset;\nuniform float yOffset;\nuniform vec3 baseColor;\nuniform vec3 color2;\nuniform vec3 backgroundColor;\nuniform float size;\nuniform float shape;\nuniform float ringFactor;\nuniform float rotationFactor;\nuniform float amplitudeFactor;\n\nuniform sampler2D iBuffer;\nuniform sampler2D iTex;\nconst float PI = 3.14159265359;\n\n// float length2(vec2 p) { return dot(p, p); }\n\n// float noise(vec2 p){\n//   return fract(sin(fract(sin(p.x) * (43.13311)) + p.y) * 31.0011);\n// }\n\n// float worley(vec2 p) {\n//     float d = 1e30;\n//     for (int xo = -1; xo <= 1; ++xo) {\n//         for (int yo = -1; yo <= 1; ++yo) {\n//             vec2 tp = floor(p) + vec2(xo, yo);\n//             d = min(d, length2(p - tp - vec2(noise(tp))));\n//         }\n//     }\n//     vec2 uv = gl_FragCoord.xy / iResolution.xy;\n//     float timeOffset =  0.15 * sin(iTime * 2.0 + 10.0*(uv.x - uv.y));\n//     return 3.0*exp(-4.0*abs(2.0*d - 1.0 + timeOffset));\n// }\n\n// float fworley(vec2 p) {\n//     return sqrt(\n//     1.1 * // light\n//     worley(p*10. + .3 + iTime*.0525) *\n//     sqrt(worley(p * 50. / size + 0.1 + iTime * -0.75)) *\n//     4.1 *\n//     sqrt(sqrt(worley(p * -1. + 9.3))));\n// }\n\nvec4 j2hue(float c) {\n  return .5+.5*cos(6.28*c+vec4(0,-2.1,2.1,0));\n}\n\nvec3 permute(vec3 x) { return mod(((x*34.0)+1.0)*x, 289.0); }\n\nfloat snoise(vec2 v){\n  const vec4 C = vec4(0.211324865405187, 0.366025403784439,\n           -0.577350269189626, 0.024390243902439);\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n  vec2 i1;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n  i = mod(i, 289.0);\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n  + i.x + vec3(0.0, i1.x, 1.0 ));\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy),\n    dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nvec2 sincos( float x ){return vec2(sin(x), cos(x));}\nvec2 rotate2d(vec2 uv, float phi){vec2 t = sincos(phi); return vec2(uv.x*t.y-uv.y*t.x, uv.x*t.x+uv.y*t.y);}\nvec3 rotate3d(vec3 p, vec3 v, float phi){ v = normalize(v); vec2 t = sincos(-phi); float s = t.x, c = t.y, x =-v.x, y =-v.y, z =-v.z; mat4 M = mat4(x*x*(1.-c)+c,x*y*(1.-c)-z*s,x*z*(1.-c)+y*s,0.,y*x*(1.-c)+z*s,y*y*(1.-c)+c,y*z*(1.-c)-x*s,0.,z*x*(1.-c)-y*s,z*y*(1.-c)+x*s,z*z*(1.-c)+c,0.,0.,0.,0.,1.);return (vec4(p,1.)*M).xyz;}\n\n// Classic Perlin 3D Noise\n// by Stefan Gustavson\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\nvec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\nfloat p3d(vec3 P){\n  vec3 Pi0 = floor(P); // Integer part for indexing\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n  Pi0 = mod(Pi0, 289.0);\n  Pi1 = mod(Pi1, 289.0);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 / 7.0;\n  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 / 7.0;\n  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\n\nvoid main() {\n  vec2 res2 = iResolution.xy * iDpr;\n  vec2 pixel = vec2(gl_FragCoord.xy - 0.5 * res2) / res2.y; // center-origin pixel coord\n  pixel.x -= xOffset * res2.x / res2.y;\n  pixel.y -= yOffset;\n\n  vec2 uv = gl_FragCoord.xy / res2; // 0 to 1\n\n  // float nn1 = snoise(uv * 0.25 + iTime * 0.005 + mixedColor.b * 0.01) * 0.1;\n  // float nn2 = snoise(uv * 0.25 + iTime * 0.005 + mixedColor.b * 0.01 + 1000.) * 0.1;\n  // uv += vec2(nn1, nn2);\n\n  // PERLIN DISTORTION\n  // float noiseScale = 10.;\n  // float timeScale = 0.5;\n  // uv += vec2( p3d(vec3(uv * noiseScale, iTime * timeScale)), p3d(vec3(1000. + uv * noiseScale , iTime * timeScale)) ) * 0.001;\n\n  // uv = rotate2d(uv, 0.001);\n  // pixel = rotate2d(pixel, 0.001);\n\n  vec2 mouse2 = (iMouse * iDpr / res2 - 0.5) * vec2(1.,-1.);\n  vec2 uvBig = (uv - 0.5) * 0.996 + 0.5;\n\n  vec4 oldImage = texture2D(iBuffer, uv);\n  vec3 mixedColor = oldImage.rgb - backgroundColor;\n\n  // float spinDist = 0.002 + 0.002 * sin(iTime * 0.4);\n  float cropDist = 0.01;\n  float cropXOffset = 0.2;\n  float cropYOffset = 0.2;\n  // float cropXOffset = 0.4 + 0.1 * sin(iTime * 0.4);\n  // float cropYOffset = 0.4 + 0.1 * cos(iTime * 0.6);\n\n  vec2 offset = uv + vec2((mixedColor.g - cropXOffset) * cropDist, (mixedColor.r - cropYOffset) * cropDist);\n\n  // float nn = snoise(uv * 10.) * 0.001;\n  // offset += nn;\n\n  float spinDist = 0.001;\n  float spinSpeed = 0.2 + 0.15 * cos(iTime * 0.5);\n  float timeFrac = mod(iTime, 6.5);\n  vec2 offset2 = uvBig + vec2(cos(timeFrac * spinSpeed) * spinDist, sin(timeFrac * spinSpeed) * spinDist);\n\n  mixedColor = texture2D(iBuffer, offset).rgb * 0.4\n    + texture2D(iBuffer, offset2).rgb * 0.6\n    - backgroundColor;\n\n\n  // mixedColor *= .875;\n  float fadeAmt = 0.0015; // fade this amount each frame // 0.002\n  mixedColor = (mixedColor - fadeAmt) * .995;\n\n  // float nn = snoise(uvBig * 10.) * 20.;\n  // mixedColor *= clamp(nn, 0.98, 1.0);\n\n  vec4 spectrum = abs( abs( .95*atan(uv.x, uv.y) -vec4(0,2,4,0) ) -3. )-1.;\n  float angle = atan(pixel.x, pixel.y);\n  float dist = length(pixel - mouse2*0.15) * 8. + sin(iTime) * .01;\n\n  // mixedColor *= pow(1.-dist*0.002, 2.);\n\n\n  // Flowery shapes\n  // float edge = abs(dist * 0.5);\n  float flowerPeaks = .05 * amplitudeFactor * size;\n  float flowerPetals = 7.;\n  float edge = abs((dist + sin(angle * flowerPetals + iTime * 0.5) * sin(iTime * 1.5) * flowerPeaks) * 0.65 / size);\n  // float edge = abs((dist + sin(angle * 4. + iTime * 2.) * sin(iTime * 3.) * 0.75) * 1.);\n\n  // vec4 rainbow = abs( abs( .95*mod(iTime * 1., 2. * PI) - vec4(0,2,4,0) ) -3. )-1.;\n  // vec4 rainbow = vec4(0,2,4,0);\n\n  float colorChangeSpeed = 0.75 + 0.05 * sin(iTime) * 1.5;\n  float rainbowInput = timeFrac * colorChangeSpeed;\n  // NOISE!\n  // float nn = snoise(uv * 0.25 + iTime * 0.005 + mixedColor.b * 0.01) * 20.;\n  // rainbowInput += nn;\n\n  float brightness = 0.7;\n  vec4 rainbow = sqrt(j2hue(cos(rainbowInput))) + vec4(baseColor,0) - 1.0 + brightness;\n  float factor = smoothstep(1., .9, edge) * pow(edge, 2.);\n  vec3 color = rainbow.rgb * smoothstep(1., .9, edge) * pow(edge, 20.);\n  vec4 ring = vec4(\n    backgroundColor + clamp( mixedColor + color, 0., 1.)\n    , 1.0);\n\n  // float t = fworley(uv * u_resolution.xy / 1500.0);\n  // t *= exp(-length2(abs(0.7*uv - 1.0)));\n  // float tExp = pow(t, 2. - t);\n  // vec3 c1 = color1 * (1.0 - t);\n  // vec3 c2 = color2 * tExp;\n  // vec4 cells = vec4(mixedColor * 0.25, 1.) + vec4(pow(t, 1.0 - t) * (c1 + c2), 1.0);\n  // gl_FragColor = clamp(ring + cells * 0.5, 0.0, 1.0);\n\n  // float nn = snoise(uv * 10.) * 0.01; // creepy!\n  gl_FragColor = ring;\n}\n",Qe})(),hi.exports=Qe()},31:function(hi){var Qe;typeof self<"u"&&self,Qe=()=>(()=>{"use strict";var gt={d:(M,x)=>{for(var P in x)gt.o(x,P)&&!gt.o(M,P)&&Object.defineProperty(M,P,{enumerable:!0,get:x[P]})},o:(M,x)=>Object.prototype.hasOwnProperty.call(M,x),r:M=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(M,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(M,"__esModule",{value:!0})}},Qe={};function hn(){return typeof navigator<"u"?/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600:null}function q(M,x){return null==M&&(M=0),null==x&&(x=1),Math.floor(M+Math.random()*(x-M+1))}gt.r(Qe),gt.d(Qe,{default:()=>D}),Number.prototype.clamp=function(M,x){return Math.min(Math.max(this,M),x)};const tt=M=>.299*M.r+.587*M.g+.114*M.b;function nt(M){for(;M.children&&M.children.length>0;)nt(M.children[0]),M.remove(M.children[0]);M.geometry&&M.geometry.dispose(),M.material&&(Object.keys(M.material).forEach(x=>{M.material[x]&&null!==M.material[x]&&"function"==typeof M.material[x].dispose&&M.material[x].dispose()}),M.material.dispose())}const je="object"==typeof window;let Je=je&&window.THREE||{};je&&!window.VANTA&&(window.VANTA={});const Ne=je&&window.VANTA||{};Ne.register=(M,x)=>Ne[M]=P=>new x(P),Ne.version="0.5.24";const Ue=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};Ne.VantaBase=class{constructor(M={}){if(!je)return!1;Ne.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const x="function"==typeof this.getDefaultOptions?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},x),(M instanceof HTMLElement||"string"==typeof M)&&(M={el:M}),Object.assign(this.options,M),this.options.THREE&&(Je=this.options.THREE),this.el=this.options.el,null==this.el)Ue('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const It=this.el;if(this.el=document.querySelector(It),!this.el)return void Ue("Cannot find element",It)}var z;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(It){return Ue("Init error",It),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(z=this.options.backgroundColor,"number"==typeof z?"#"+("00000"+z.toString(16)).slice(-6):z)))}this.initMouse(),this.resize(),this.animationLoop();const _e=window.addEventListener;_e("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(_e("scroll",this.windowMouseMoveWrapper),_e("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(_e("touchstart",this.windowTouchWrapper),_e("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&_e("deviceorientation",this.windowGyroWrapper)}setOptions(M={}){Object.assign(this.options,M),this.triggerMouseMove()}prepareEl(){let M,x;if(typeof Node<"u"&&Node.TEXT_NODE)for(M=0;M<this.el.childNodes.length;M++){const P=this.el.childNodes[M];if(P.nodeType===Node.TEXT_NODE){const z=document.createElement("span");z.textContent=P.textContent,P.parentElement.insertBefore(z,P),P.remove()}}for(M=0;M<this.el.children.length;M++)x=this.el.children[M],"static"===getComputedStyle(x).position&&(x.style.position="relative"),"auto"===getComputedStyle(x).zIndex&&(x.style.zIndex=1);"static"===getComputedStyle(this.el).position&&(this.el.style.position="relative")}applyCanvasStyles(M,x={}){Object.assign(M.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(M.style,x),M.classList.add("vanta-canvas")}initThree(){Je.WebGLRenderer?(this.renderer=new Je.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new Je.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const M=this.getCanvasElement();return!!M&&M.getBoundingClientRect()}windowMouseMoveWrapper(M){const x=this.getCanvasRect();if(!x)return!1;const P=M.clientX-x.left,z=M.clientY-x.top;P>=0&&z>=0&&P<=x.width&&z<=x.height&&(this.mouseX=P,this.mouseY=z,this.options.mouseEase||this.triggerMouseMove(P,z))}windowTouchWrapper(M){const x=this.getCanvasRect();if(!x)return!1;if(1===M.touches.length){const P=M.touches[0].clientX-x.left,z=M.touches[0].clientY-x.top;P>=0&&z>=0&&P<=x.width&&z<=x.height&&(this.mouseX=P,this.mouseY=z,this.options.mouseEase||this.triggerMouseMove(P,z))}}windowGyroWrapper(M){const x=this.getCanvasRect();if(!x)return!1;const P=Math.round(2*M.alpha)-x.left,z=Math.round(2*M.beta)-x.top;P>=0&&z>=0&&P<=x.width&&z<=x.height&&(this.mouseX=P,this.mouseY=z,this.options.mouseEase||this.triggerMouseMove(P,z))}triggerMouseMove(M,x){void 0===M&&void 0===x&&(this.options.mouseEase?(M=this.mouseEaseX,x=this.mouseEaseY):(M=this.mouseX,x=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=M/this.scale,this.uniforms.iMouse.value.y=x/this.scale),"function"==typeof this.onMouseMove&&this.onMouseMove(M/this.width,x/this.height)}setSize(){this.scale||(this.scale=1),hn()&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,"function"==typeof this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),"function"==typeof this.onResize&&this.onResize()}isOnScreen(){const M=this.el.offsetHeight,x=this.el.getBoundingClientRect(),P=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,z=x.top+P;return z-window.innerHeight<=P&&P<=z+M}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const M=performance.now();if(this.prevNow){let x=(M-this.prevNow)/16.666666666666668;x=Math.max(.2,Math.min(x,5)),this.t+=x,this.t2+=(this.options.speed||1)*x,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=M,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&("function"==typeof this.onUpdate&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),"function"==typeof this.afterRender&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);"function"==typeof this.onRestart&&this.onRestart(),this.init()}init(){"function"==typeof this.onInit&&this.onInit()}destroy(){"function"==typeof this.onDestroy&&this.onDestroy();const M=window.removeEventListener;M("touchstart",this.windowTouchWrapper),M("touchmove",this.windowTouchWrapper),M("scroll",this.windowMouseMoveWrapper),M("mousemove",this.windowMouseMoveWrapper),M("deviceorientation",this.windowGyroWrapper),M("resize",this.resize),window.cancelAnimationFrame(this.req);const x=this.scene;x&&x.children&&nt(x),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),Ne.current===this&&(Ne.current=null)}};const Ve=Ne.VantaBase;let Le="object"==typeof window&&window.THREE;class E extends Ve{static initClass(){this.prototype.defaultOptions={color:16727937,backgroundColor:2299196,points:10,maxDistance:20,spacing:15,showDots:!0}}constructor(x){Le=x.THREE||Le,super(x)}genPoint(x,P,z){let _e;if(this.points||(this.points=[]),this.options.showDots){const yn=new Le.SphereGeometry(.25,12,12),ht=new Le.MeshLambertMaterial({color:this.options.color});_e=new Le.Mesh(yn,ht)}else _e=new Le.Object3D;var It,Et;return this.cont.add(_e),_e.ox=x,_e.oy=P,_e.oz=z,_e.position.set(x,P,z),_e.r=(null==(It=-2)&&(It=0),null==(Et=2)&&(Et=1),It+Math.random()*(Et-It)),this.points.push(_e)}onInit(){this.cont=new Le.Group,this.cont.position.set(0,0,0),this.scene.add(this.cont);let x=this.options.points,{spacing:P}=this.options;hn()&&(x=~~(.75*x),P=~~(.65*P));const z=x*x*2;this.linePositions=new Float32Array(z*z*3),this.lineColors=new Float32Array(z*z*3);const _e=tt(new Le.Color(this.options.color)),It=tt(new Le.Color(this.options.backgroundColor));this.blending=_e>It?"additive":"subtractive";const Et=new Le.BufferGeometry;Et.setAttribute("position",new Le.BufferAttribute(this.linePositions,3).setUsage(Le.DynamicDrawUsage)),Et.setAttribute("color",new Le.BufferAttribute(this.lineColors,3).setUsage(Le.DynamicDrawUsage)),Et.computeBoundingSphere(),Et.setDrawRange(0,0);const yn=new Le.LineBasicMaterial({vertexColors:Le.VertexColors,blending:"additive"===this.blending?Le.AdditiveBlending:null,transparent:!0});this.linesMesh=new Le.LineSegments(Et,yn),this.cont.add(this.linesMesh);for(let In=0;In<=x;In++)for(let qt=0;qt<=x;qt++){const Kn=q(-3,3),_t=(In-x/2)*P+q(-5,5);let Ft=(qt-x/2)*P+q(-5,5);In%2&&(Ft+=.5*P),this.genPoint(_t,Kn-q(5,15),Ft),this.genPoint(_t+q(-5,5),Kn+q(5,15),Ft+q(-5,5))}this.camera=new Le.PerspectiveCamera(25,this.width/this.height,.01,1e4),this.camera.position.set(50,100,150),this.scene.add(this.camera);const ht=new Le.AmbientLight(16777215,.75);return this.scene.add(ht),this.spot=new Le.SpotLight(16777215,1),this.spot.position.set(0,200,0),this.spot.distance=400,this.spot.target=this.cont,this.scene.add(this.spot)}onDestroy(){this.scene&&this.scene.remove(this.linesMesh),this.spot=this.points=this.linesMesh=this.lineColors=this.linePositions=null}setOptions(x){super.setOptions(x),x.color&&this.points.forEach(P=>{P.material.color=new Le.Color(x.color)})}onUpdate(){let x;const P=this.camera;Math.abs(P.tx-P.position.x)>.01&&(x=P.tx-P.position.x,P.position.x+=.02*x),Math.abs(P.ty-P.position.y)>.01&&(x=P.ty-P.position.y,P.position.y+=.02*x),P.lookAt(new Le.Vector3(0,0,0));let z=0,_e=0,It=0;const Et=new Le.Color(this.options.backgroundColor),yn=new Le.Color(this.options.color),ht=yn.clone().sub(Et);this.rayCaster&&this.rayCaster.setFromCamera(new Le.Vector2(this.rcMouseX,this.rcMouseY),this.camera);for(let In=0;In<this.points.length;In++){let qt,Kn;const _t=this.points[In];Kn=this.rayCaster?this.rayCaster.ray.distanceToPoint(_t.position):1e3;const Ft=Kn.clamp(5,15);if(_t.scale.x=_t.scale.y=_t.scale.z=(.25*(15-Ft)).clamp(1,100),0!==_t.r){let Pn=Math.atan2(_t.position.z,_t.position.x);qt=Math.sqrt(_t.position.z*_t.position.z+_t.position.x*_t.position.x),Pn+=25e-5*_t.r,_t.position.x=qt*Math.cos(Pn),_t.position.z=qt*Math.sin(Pn)}for(let Pn=In;Pn<this.points.length;Pn++){const Ln=this.points[Pn],ns=_t.position.x-Ln.position.x,it=_t.position.y-Ln.position.y,Ge=_t.position.z-Ln.position.z;if(qt=Math.sqrt(ns*ns+it*it+Ge*Ge),qt<this.options.maxDistance){let We;const dt=(2*(1-qt/this.options.maxDistance)).clamp(0,1);We="additive"===this.blending?new Le.Color(0).lerp(ht,dt):Et.clone().lerp(yn,dt),this.linePositions[z++]=_t.position.x,this.linePositions[z++]=_t.position.y,this.linePositions[z++]=_t.position.z,this.linePositions[z++]=Ln.position.x,this.linePositions[z++]=Ln.position.y,this.linePositions[z++]=Ln.position.z,this.lineColors[_e++]=We.r,this.lineColors[_e++]=We.g,this.lineColors[_e++]=We.b,this.lineColors[_e++]=We.r,this.lineColors[_e++]=We.g,this.lineColors[_e++]=We.b,It++}}}return this.linesMesh.geometry.setDrawRange(0,2*It),this.linesMesh.geometry.attributes.position.needsUpdate=!0,this.linesMesh.geometry.attributes.color.needsUpdate=!0,.001*this.t}onMouseMove(x,P){const z=this.camera;z.oy||(z.oy=z.position.y,z.ox=z.position.x,z.oz=z.position.z);const _e=Math.atan2(z.oz,z.ox),It=Math.sqrt(z.oz*z.oz+z.ox*z.ox),Et=_e+2*(x-.5)*(this.options.mouseCoeffX||1);z.tz=It*Math.sin(Et),z.tx=It*Math.cos(Et),z.ty=z.oy+50*(P-.5)*(this.options.mouseCoeffY||1),this.rcMouseX=2*x-1,this.rcMouseY=2*-x+1}onRestart(){this.scene&&this.scene.remove(this.linesMesh),this.points=[]}}E.initClass();const D=Ne.register("NET",E);return Qe})(),hi.exports=Qe()},711:function(hi){var Qe;typeof self<"u"&&self,Qe=()=>(()=>{"use strict";var gt={d:(x,P)=>{for(var z in P)gt.o(P,z)&&!gt.o(x,z)&&Object.defineProperty(x,z,{enumerable:!0,get:P[z]})},o:(x,P)=>Object.prototype.hasOwnProperty.call(x,P),r:x=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})}},Qe={};function hn(){return typeof navigator<"u"?/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600:null}gt.r(Qe),gt.d(Qe,{default:()=>M}),Number.prototype.clamp=function(x,P){return Math.min(Math.max(this,x),P)};const q=x=>x[Math.floor(Math.random()*x.length)];function tt(x,P){return null==x&&(x=0),null==P&&(P=1),x+Math.random()*(P-x)}function nt(x,P){return null==x&&(x=0),null==P&&(P=1),Math.floor(x+Math.random()*(P-x+1))}function je(x){for(;x.children&&x.children.length>0;)je(x.children[0]),x.remove(x.children[0]);x.geometry&&x.geometry.dispose(),x.material&&(Object.keys(x.material).forEach(P=>{x.material[P]&&null!==x.material[P]&&"function"==typeof x.material[P].dispose&&x.material[P].dispose()}),x.material.dispose())}const Je="object"==typeof window;let Ne=Je&&window.THREE||{};Je&&!window.VANTA&&(window.VANTA={});const Ue=Je&&window.VANTA||{};Ue.register=(x,P)=>Ue[x]=z=>new P(z),Ue.version="0.5.24";const Ve=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};Ue.VantaBase=class{constructor(x={}){if(!Je)return!1;Ue.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const P="function"==typeof this.getDefaultOptions?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},P),(x instanceof HTMLElement||"string"==typeof x)&&(x={el:x}),Object.assign(this.options,x),this.options.THREE&&(Ne=this.options.THREE),this.el=this.options.el,null==this.el)Ve('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const Et=this.el;if(this.el=document.querySelector(Et),!this.el)return void Ve("Cannot find element",Et)}var _e;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(Et){return Ve("Init error",Et),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(_e=this.options.backgroundColor,"number"==typeof _e?"#"+("00000"+_e.toString(16)).slice(-6):_e)))}this.initMouse(),this.resize(),this.animationLoop();const It=window.addEventListener;It("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(It("scroll",this.windowMouseMoveWrapper),It("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(It("touchstart",this.windowTouchWrapper),It("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&It("deviceorientation",this.windowGyroWrapper)}setOptions(x={}){Object.assign(this.options,x),this.triggerMouseMove()}prepareEl(){let x,P;if(typeof Node<"u"&&Node.TEXT_NODE)for(x=0;x<this.el.childNodes.length;x++){const z=this.el.childNodes[x];if(z.nodeType===Node.TEXT_NODE){const _e=document.createElement("span");_e.textContent=z.textContent,z.parentElement.insertBefore(_e,z),z.remove()}}for(x=0;x<this.el.children.length;x++)P=this.el.children[x],"static"===getComputedStyle(P).position&&(P.style.position="relative"),"auto"===getComputedStyle(P).zIndex&&(P.style.zIndex=1);"static"===getComputedStyle(this.el).position&&(this.el.style.position="relative")}applyCanvasStyles(x,P={}){Object.assign(x.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(x.style,P),x.classList.add("vanta-canvas")}initThree(){Ne.WebGLRenderer?(this.renderer=new Ne.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new Ne.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const x=this.getCanvasElement();return!!x&&x.getBoundingClientRect()}windowMouseMoveWrapper(x){const P=this.getCanvasRect();if(!P)return!1;const z=x.clientX-P.left,_e=x.clientY-P.top;z>=0&&_e>=0&&z<=P.width&&_e<=P.height&&(this.mouseX=z,this.mouseY=_e,this.options.mouseEase||this.triggerMouseMove(z,_e))}windowTouchWrapper(x){const P=this.getCanvasRect();if(!P)return!1;if(1===x.touches.length){const z=x.touches[0].clientX-P.left,_e=x.touches[0].clientY-P.top;z>=0&&_e>=0&&z<=P.width&&_e<=P.height&&(this.mouseX=z,this.mouseY=_e,this.options.mouseEase||this.triggerMouseMove(z,_e))}}windowGyroWrapper(x){const P=this.getCanvasRect();if(!P)return!1;const z=Math.round(2*x.alpha)-P.left,_e=Math.round(2*x.beta)-P.top;z>=0&&_e>=0&&z<=P.width&&_e<=P.height&&(this.mouseX=z,this.mouseY=_e,this.options.mouseEase||this.triggerMouseMove(z,_e))}triggerMouseMove(x,P){void 0===x&&void 0===P&&(this.options.mouseEase?(x=this.mouseEaseX,P=this.mouseEaseY):(x=this.mouseX,P=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=x/this.scale,this.uniforms.iMouse.value.y=P/this.scale),"function"==typeof this.onMouseMove&&this.onMouseMove(x/this.width,P/this.height)}setSize(){this.scale||(this.scale=1),hn()&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,"function"==typeof this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),"function"==typeof this.onResize&&this.onResize()}isOnScreen(){const x=this.el.offsetHeight,P=this.el.getBoundingClientRect(),z=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,_e=P.top+z;return _e-window.innerHeight<=z&&z<=_e+x}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const x=performance.now();if(this.prevNow){let P=(x-this.prevNow)/16.666666666666668;P=Math.max(.2,Math.min(P,5)),this.t+=P,this.t2+=(this.options.speed||1)*P,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=x,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&("function"==typeof this.onUpdate&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),"function"==typeof this.afterRender&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);"function"==typeof this.onRestart&&this.onRestart(),this.init()}init(){"function"==typeof this.onInit&&this.onInit()}destroy(){"function"==typeof this.onDestroy&&this.onDestroy();const x=window.removeEventListener;x("touchstart",this.windowTouchWrapper),x("touchmove",this.windowTouchWrapper),x("scroll",this.windowMouseMoveWrapper),x("mousemove",this.windowMouseMoveWrapper),x("deviceorientation",this.windowGyroWrapper),x("resize",this.resize),window.cancelAnimationFrame(this.req);const P=this.scene;P&&P.children&&je(P),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),Ue.current===this&&(Ue.current=null)}};const Le=Ue.VantaBase;let E="object"==typeof window&&window.THREE;class D extends Le{static initClass(){this.prototype.defaultOptions={backgroundColor:2106408,color:8978176},this.prototype.colors=[16720469,16716185,16737996,8978176,7851025,16776960,16742195,1179647,1149149,16768290,2250188,7975100,5468283]}constructor(P){E=P.THREE||E,super(P)}material(P){return new E.MeshLambertMaterial({color:P})}genRing(P,z,_e,It,Et,yn,ht){null==It&&(It=0),null==Et&&(Et=1.4*Math.PI),null==yn&&(yn=0),null==ht&&(ht=1),this.rings||(this.rings=[]),z<1&&(z=1);const In={depth:.4,bevelEnabled:!1,steps:1,curveSegments:~~(64*Et/6.14)},qt=new E.Shape;qt.absarc(0,0,z+_e,0,Et,!1),qt.lineTo(z*Math.cos(Et),z*Math.sin(Et)),qt.absarc(0,0,z,Et,0,!0);const Kn=new E.ExtrudeGeometry(qt,In),_t=this.material(P);(0===nt(0,1)||z>60)&&(_t.transparent=!0,_t.opacity=Math.max(50/z+tt(-.3,.3),.1));const Ft=new E.Mesh(Kn,_t);if(Ft.rotation.x=Math.PI/2,Ft.rotation.z=It,Ft.position.y=yn,Ft.speed=.001*ht,Ft.receiveShadow=!0,Ft.castShadow=!0,this.rings.push(Ft),this.cont.add(Ft),z<20&&Et<1.3*Math.PI&&nt(0,2))try{this.genRing(q(this.colors),z+tt(-1,3),_e+tt(-2,0),It+Et,Et+tt(-.5,.5),yn+tt(-3,1),ht)}catch{}return Ft}onInit(){let P;this.cont=new E.Group,this.cont.position.set(30,0,0),this.cont.rotation.x=.06667,this.cont.rotation.z=.16667,this.scene.add(this.cont);let _e=hn()?30:60;for(let Et=0;Et<_e;Et++){let yn;nt(0,3)?(yn=tt(2,4)+tt(1,30)*tt(1,2)*tt(1,2)*tt(1,2),hn()&&(yn*=.5),P=tt(0,3.5)+tt(0,3.5)-nt(0,yn/4)-yn/50):(yn=tt(1,3)*tt(2,4),P=tt(1,2)*tt(1,2)*tt(1.1,1.5));const ht=.05*Math.pow(2,nt(0,4));P<ht&&(P=ht),this.genRing(q(this.colors),yn,P,tt(0,1e3),tt(1,6),tt(0,50/(yn+1)+5)+5/P/(yn+.5),.25*Math.max(-tt(.5,2),tt(1,50-yn/2)-yn/2))}this.camera=new E.PerspectiveCamera(25,this.width/this.height,10,1e4),this.camera.position.set(0,150,200),this.scene.add(this.camera);const It=new E.AmbientLight(16777215,.5);return this.scene.add(It),this.pointLight=new E.PointLight(16777215,.5),this.pointLight.position.set(0,150,200),this.scene.add(this.pointLight),this.spot=new E.SpotLight(16777215,1),this.spot.position.set(-15,50,100),this.spot.penumbra=1,this.spot.angle=.5,this.spot.decay=1,this.spot.distance=300,this.spot.target=this.cont,this.scene.add(this.spot)}onUpdate(){let P;null!=this.helper&&this.helper.update(),null!=this.controls&&this.controls.update();const z=this.camera;Math.abs(z.tx-z.position.x)>.01&&(P=z.tx-z.position.x,z.position.x+=.02*P),Math.abs(z.ty-z.position.y)>.01&&(P=z.ty-z.position.y,z.position.y+=.02*P),z.lookAt(new E.Vector3(0,25,7)),z.near=Math.max(.5*z.position.z-20,1),z.updateProjectionMatrix();for(let It of Array.from(null!=this.rings?this.rings:[]))It.rotation.z+=It.speed;const _e=.001*this.t;return this.cont.rotation.x+=1e-4*Math.sin(_e),this.cont.rotation.z+=7e-5*Math.cos(_e)}onMouseMove(P,z){const _e=this.camera;return _e.oy||(_e.oy=_e.position.y,_e.ox=_e.position.x),_e.tx=_e.ox+50*(P-.5),_e.ty=_e.oy-50*z}}D.initClass();const M=Ue.register("RINGS",D);return Qe})(),hi.exports=Qe()},72:function(hi){var Qe;typeof self<"u"&&self,Qe=()=>(()=>{"use strict";var gt={d:(M,x)=>{for(var P in x)gt.o(x,P)&&!gt.o(M,P)&&Object.defineProperty(M,P,{enumerable:!0,get:x[P]})},o:(M,x)=>Object.prototype.hasOwnProperty.call(M,x),r:M=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(M,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(M,"__esModule",{value:!0})}},Qe={};gt.r(Qe),gt.d(Qe,{default:()=>D}),Number.prototype.clamp=function(M,x){return Math.min(Math.max(this,M),x)};const hn=M=>"number"==typeof M?"#"+("00000"+M.toString(16)).slice(-6):M;function q(M){for(;M.children&&M.children.length>0;)q(M.children[0]),M.remove(M.children[0]);M.geometry&&M.geometry.dispose(),M.material&&(Object.keys(M.material).forEach(x=>{M.material[x]&&null!==M.material[x]&&"function"==typeof M.material[x].dispose&&M.material[x].dispose()}),M.material.dispose())}const tt="object"==typeof window;let nt=tt&&window.THREE||{};tt&&!window.VANTA&&(window.VANTA={});const je=tt&&window.VANTA||{};je.register=(M,x)=>je[M]=P=>new x(P),je.version="0.5.24";const Je=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};je.VantaBase=class{constructor(M={}){if(!tt)return!1;je.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const x="function"==typeof this.getDefaultOptions?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},x),(M instanceof HTMLElement||"string"==typeof M)&&(M={el:M}),Object.assign(this.options,M),this.options.THREE&&(nt=this.options.THREE),this.el=this.options.el,null==this.el)Je('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const _e=this.el;if(this.el=document.querySelector(_e),!this.el)return void Je("Cannot find element",_e)}this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(_e){return Je("Init error",_e),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=hn(this.options.backgroundColor)))}this.initMouse(),this.resize(),this.animationLoop();const z=window.addEventListener;z("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(z("scroll",this.windowMouseMoveWrapper),z("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(z("touchstart",this.windowTouchWrapper),z("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&z("deviceorientation",this.windowGyroWrapper)}setOptions(M={}){Object.assign(this.options,M),this.triggerMouseMove()}prepareEl(){let M,x;if(typeof Node<"u"&&Node.TEXT_NODE)for(M=0;M<this.el.childNodes.length;M++){const P=this.el.childNodes[M];if(P.nodeType===Node.TEXT_NODE){const z=document.createElement("span");z.textContent=P.textContent,P.parentElement.insertBefore(z,P),P.remove()}}for(M=0;M<this.el.children.length;M++)x=this.el.children[M],"static"===getComputedStyle(x).position&&(x.style.position="relative"),"auto"===getComputedStyle(x).zIndex&&(x.style.zIndex=1);"static"===getComputedStyle(this.el).position&&(this.el.style.position="relative")}applyCanvasStyles(M,x={}){Object.assign(M.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(M.style,x),M.classList.add("vanta-canvas")}initThree(){nt.WebGLRenderer?(this.renderer=new nt.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new nt.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const M=this.getCanvasElement();return!!M&&M.getBoundingClientRect()}windowMouseMoveWrapper(M){const x=this.getCanvasRect();if(!x)return!1;const P=M.clientX-x.left,z=M.clientY-x.top;P>=0&&z>=0&&P<=x.width&&z<=x.height&&(this.mouseX=P,this.mouseY=z,this.options.mouseEase||this.triggerMouseMove(P,z))}windowTouchWrapper(M){const x=this.getCanvasRect();if(!x)return!1;if(1===M.touches.length){const P=M.touches[0].clientX-x.left,z=M.touches[0].clientY-x.top;P>=0&&z>=0&&P<=x.width&&z<=x.height&&(this.mouseX=P,this.mouseY=z,this.options.mouseEase||this.triggerMouseMove(P,z))}}windowGyroWrapper(M){const x=this.getCanvasRect();if(!x)return!1;const P=Math.round(2*M.alpha)-x.left,z=Math.round(2*M.beta)-x.top;P>=0&&z>=0&&P<=x.width&&z<=x.height&&(this.mouseX=P,this.mouseY=z,this.options.mouseEase||this.triggerMouseMove(P,z))}triggerMouseMove(M,x){void 0===M&&void 0===x&&(this.options.mouseEase?(M=this.mouseEaseX,x=this.mouseEaseY):(M=this.mouseX,x=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=M/this.scale,this.uniforms.iMouse.value.y=x/this.scale),"function"==typeof this.onMouseMove&&this.onMouseMove(M/this.width,x/this.height)}setSize(){this.scale||(this.scale=1),typeof navigator<"u"&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600)&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,"function"==typeof this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),"function"==typeof this.onResize&&this.onResize()}isOnScreen(){const M=this.el.offsetHeight,x=this.el.getBoundingClientRect(),P=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,z=x.top+P;return z-window.innerHeight<=P&&P<=z+M}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const M=performance.now();if(this.prevNow){let x=(M-this.prevNow)/16.666666666666668;x=Math.max(.2,Math.min(x,5)),this.t+=x,this.t2+=(this.options.speed||1)*x,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=M,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&("function"==typeof this.onUpdate&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),"function"==typeof this.afterRender&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);"function"==typeof this.onRestart&&this.onRestart(),this.init()}init(){"function"==typeof this.onInit&&this.onInit()}destroy(){"function"==typeof this.onDestroy&&this.onDestroy();const M=window.removeEventListener;M("touchstart",this.windowTouchWrapper),M("touchmove",this.windowTouchWrapper),M("scroll",this.windowMouseMoveWrapper),M("mousemove",this.windowMouseMoveWrapper),M("deviceorientation",this.windowGyroWrapper),M("resize",this.resize),window.cancelAnimationFrame(this.req);const x=this.scene;x&&x.children&&q(x),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),je.current===this&&(je.current=null)}};const Ne=je.VantaBase;let Ue="object"==typeof window&&window.p5;class Ve extends Ne{constructor(x){Ue=x.p5||Ue,super(x),this.mode="p5"}initP5(x){const P=this,z=x.createCanvas(P.width,P.height);z.parent(P.el),P.applyCanvasStyles(x.canvas,{background:hn(P.options.backgroundColor)}),P.p5renderer=z,P.p5canvas=x.canvas,P.p5=x}restart(){this.p5&&"object"==typeof this.p5&&this.p5.remove(),super.restart()}destroy(){this.p5&&"object"==typeof this.p5&&this.p5.remove(),super.destroy()}resize(){super.resize(),this.p5&&this.p5.resizeCanvas&&this.p5.resizeCanvas(this.width,this.height)}}let Le="object"==typeof window&&window.p5;class E extends Ve{static initClass(){this.prototype.p5=!0,this.prototype.defaultOptions={color:9016910,backgroundColor:8738}}constructor(x){Le=x.p5||Le,super(x)}onInit(){const x=this;new Le(function(P){let It=(x.width+200)/10,Et=(x.height+200)/10,yn=[],ht=[],In=0;function qt(_t,Ft,Pn){let Ln=0,ns=1,it=P.createVector(0,0),Ge=P.createVector(0,0);for(let dt=0;dt<100;dt++){let ut=dt/100*P.TAU,At=P.createVector(_t+P.cos(ut)*Pn,Ft+P.sin(ut)*Pn),Bt=P.noise(At.x,At.y);Bt>Ln&&(Ln=Bt,it.x=At.x,it.y=At.y),Bt<ns&&(ns=Bt,Ge.x=At.x,Ge.y=At.y)}let We=P.createVector(Ge.x-it.x,Ge.y-it.y);return We.normalize().mult(Ln-ns),We}function Kn(_t,Ft){return(_t%Ft+Ft)%Ft}P.setup=function(){x.initP5(P),P.smooth(),P.noStroke(),function(){for(let _t=0;_t<4500;_t++){let Ft=P.random(P.width+200),Pn=P.random(P.height+200);ht.push({prev:P.createVector(Ft,Pn),pos:P.createVector(Ft,Pn),vel:P.createVector(0,0),acc:P.createVector(0,0),col:P.random(255),seed:_t})}}(),function(){for(let _t=0;_t<Et;_t++){let Ft=[];for(let Pn=0;Pn<It;Pn++)Ft.push(qt(.003*Pn,.003*_t,.1));yn.push(Ft)}}()},P.draw=function(){P.translate(-100,-100),function(){for(let Pn=0;Pn<4500;Pn++){let Ln=ht[Pn],ns=(Ft=Ln.pos.y,_t=P.constrain(_t=Ln.pos.x,0,P.width+200),Ft=P.constrain(Ft,0,P.height+200),yn[P.floor(Ft/10)][P.floor(_t/10)]);Ln.prev.x=Ln.pos.x,Ln.prev.y=Ln.pos.y,Ln.pos.x=Kn(Ln.pos.x+Ln.vel.x,P.width+200),Ln.pos.y=Kn(Ln.pos.y+Ln.vel.y,P.height+200),Ln.vel.add(Ln.acc).normalize().mult(2.2),Ln.acc=P.createVector(0,0),Ln.acc.add(ns).mult(3)}var _t,Ft}(),function(){P.strokeWeight(1),P.stroke(((_t,Ft=1)=>{const Pn=hn(_t),Ln=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Pn),ns=Ln?{r:parseInt(Ln[1],16),g:parseInt(Ln[2],16),b:parseInt(Ln[3],16)}:null;return"rgba("+ns.r+","+ns.g+","+ns.b+","+Ft+")"})(x.options.color,.05));for(let _t=0;_t<ht.length;_t++)Le.Vector.dist(ht[_t].prev,ht[_t].pos)<10&&P.line(ht[_t].prev.x,ht[_t].prev.y,ht[_t].pos.x,ht[_t].pos.y)}(),In+=.002}})}}E.initClass();const D=je.register("TOPOLOGY",E);return Qe})(),hi.exports=Qe()},61:function(hi){var Qe;typeof self<"u"&&self,Qe=()=>(()=>{"use strict";var gt={d:(x,P)=>{for(var z in P)gt.o(P,z)&&!gt.o(x,z)&&Object.defineProperty(x,z,{enumerable:!0,get:P[z]})},o:(x,P)=>Object.prototype.hasOwnProperty.call(x,P),r:x=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})}},Qe={};function hn(){return typeof navigator<"u"?/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600:null}gt.r(Qe),gt.d(Qe,{default:()=>M}),Number.prototype.clamp=function(x,P){return Math.min(Math.max(this,x),P)};const q=x=>"number"==typeof x?"#"+("00000"+x.toString(16)).slice(-6):x;function tt(x){for(;x.children&&x.children.length>0;)tt(x.children[0]),x.remove(x.children[0]);x.geometry&&x.geometry.dispose(),x.material&&(Object.keys(x.material).forEach(P=>{x.material[P]&&null!==x.material[P]&&"function"==typeof x.material[P].dispose&&x.material[P].dispose()}),x.material.dispose())}const nt="object"==typeof window;let je=nt&&window.THREE||{};nt&&!window.VANTA&&(window.VANTA={});const Je=nt&&window.VANTA||{};Je.register=(x,P)=>Je[x]=z=>new P(z),Je.version="0.5.24";const Ne=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};Je.VantaBase=class{constructor(x={}){if(!nt)return!1;Je.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const P="function"==typeof this.getDefaultOptions?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},P),(x instanceof HTMLElement||"string"==typeof x)&&(x={el:x}),Object.assign(this.options,x),this.options.THREE&&(je=this.options.THREE),this.el=this.options.el,null==this.el)Ne('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const It=this.el;if(this.el=document.querySelector(It),!this.el)return void Ne("Cannot find element",It)}this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(It){return Ne("Init error",It),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=q(this.options.backgroundColor)))}this.initMouse(),this.resize(),this.animationLoop();const _e=window.addEventListener;_e("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(_e("scroll",this.windowMouseMoveWrapper),_e("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(_e("touchstart",this.windowTouchWrapper),_e("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&_e("deviceorientation",this.windowGyroWrapper)}setOptions(x={}){Object.assign(this.options,x),this.triggerMouseMove()}prepareEl(){let x,P;if(typeof Node<"u"&&Node.TEXT_NODE)for(x=0;x<this.el.childNodes.length;x++){const z=this.el.childNodes[x];if(z.nodeType===Node.TEXT_NODE){const _e=document.createElement("span");_e.textContent=z.textContent,z.parentElement.insertBefore(_e,z),z.remove()}}for(x=0;x<this.el.children.length;x++)P=this.el.children[x],"static"===getComputedStyle(P).position&&(P.style.position="relative"),"auto"===getComputedStyle(P).zIndex&&(P.style.zIndex=1);"static"===getComputedStyle(this.el).position&&(this.el.style.position="relative")}applyCanvasStyles(x,P={}){Object.assign(x.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(x.style,P),x.classList.add("vanta-canvas")}initThree(){je.WebGLRenderer?(this.renderer=new je.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new je.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const x=this.getCanvasElement();return!!x&&x.getBoundingClientRect()}windowMouseMoveWrapper(x){const P=this.getCanvasRect();if(!P)return!1;const z=x.clientX-P.left,_e=x.clientY-P.top;z>=0&&_e>=0&&z<=P.width&&_e<=P.height&&(this.mouseX=z,this.mouseY=_e,this.options.mouseEase||this.triggerMouseMove(z,_e))}windowTouchWrapper(x){const P=this.getCanvasRect();if(!P)return!1;if(1===x.touches.length){const z=x.touches[0].clientX-P.left,_e=x.touches[0].clientY-P.top;z>=0&&_e>=0&&z<=P.width&&_e<=P.height&&(this.mouseX=z,this.mouseY=_e,this.options.mouseEase||this.triggerMouseMove(z,_e))}}windowGyroWrapper(x){const P=this.getCanvasRect();if(!P)return!1;const z=Math.round(2*x.alpha)-P.left,_e=Math.round(2*x.beta)-P.top;z>=0&&_e>=0&&z<=P.width&&_e<=P.height&&(this.mouseX=z,this.mouseY=_e,this.options.mouseEase||this.triggerMouseMove(z,_e))}triggerMouseMove(x,P){void 0===x&&void 0===P&&(this.options.mouseEase?(x=this.mouseEaseX,P=this.mouseEaseY):(x=this.mouseX,P=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=x/this.scale,this.uniforms.iMouse.value.y=P/this.scale),"function"==typeof this.onMouseMove&&this.onMouseMove(x/this.width,P/this.height)}setSize(){this.scale||(this.scale=1),hn()&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,"function"==typeof this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),"function"==typeof this.onResize&&this.onResize()}isOnScreen(){const x=this.el.offsetHeight,P=this.el.getBoundingClientRect(),z=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,_e=P.top+z;return _e-window.innerHeight<=z&&z<=_e+x}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const x=performance.now();if(this.prevNow){let P=(x-this.prevNow)/16.666666666666668;P=Math.max(.2,Math.min(P,5)),this.t+=P,this.t2+=(this.options.speed||1)*P,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=x,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&("function"==typeof this.onUpdate&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),"function"==typeof this.afterRender&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);"function"==typeof this.onRestart&&this.onRestart(),this.init()}init(){"function"==typeof this.onInit&&this.onInit()}destroy(){"function"==typeof this.onDestroy&&this.onDestroy();const x=window.removeEventListener;x("touchstart",this.windowTouchWrapper),x("touchmove",this.windowTouchWrapper),x("scroll",this.windowMouseMoveWrapper),x("mousemove",this.windowMouseMoveWrapper),x("deviceorientation",this.windowGyroWrapper),x("resize",this.resize),window.cancelAnimationFrame(this.req);const P=this.scene;P&&P.children&&tt(P),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),Je.current===this&&(Je.current=null)}};const Ue=Je.VantaBase;let Ve="object"==typeof window&&window.p5;class Le extends Ue{constructor(P){Ve=P.p5||Ve,super(P),this.mode="p5"}initP5(P){const z=this,_e=P.createCanvas(z.width,z.height);_e.parent(z.el),z.applyCanvasStyles(P.canvas,{background:q(z.options.backgroundColor)}),z.p5renderer=_e,z.p5canvas=P.canvas,z.p5=P}restart(){this.p5&&"object"==typeof this.p5&&this.p5.remove(),super.restart()}destroy(){this.p5&&"object"==typeof this.p5&&this.p5.remove(),super.destroy()}resize(){super.resize(),this.p5&&this.p5.resizeCanvas&&this.p5.resizeCanvas(this.width,this.height)}}let E="object"==typeof window&&window.p5;class D extends Le{static initClass(){this.prototype.p5=!0,this.prototype.defaultOptions={color:9979487,backgroundColor:2237478,spacing:0,chaos:1}}constructor(P){E=P.p5||E,super(P)}onInit(){const P=this;this.p5=new E(function(z){let _e=hn()?35:55,It=z.random(1e4),Et=z.random(1e4),yn=z.random(1e4);function ht(In,qt,Kn){let _t=In%z.TWO_PI;return _t<0&&(_t+=z.TWO_PI),z.noise(It+z.cos(_t)*qt,Et+z.sin(_t)*qt,yn+Kn)}z.setup=function(){P.initP5(z),z.strokeWeight(1),z.stroke(q(P.options.color)),z.smooth(),z.noFill()},z.draw=function(){z.clear(),z.translate(z.width/2,z.height/2),function(){Et-=.02,yn+=5e-5;for(let In=0;In<_e;In++){z.beginShape();for(let qt=0;qt<360;qt++){let Kn=z.radians(qt),_t=20*P.options.chaos*ht(Kn,.12*In+.2,yn)+(4*In+50)+(In*P.options.spacing||0);z.vertex(_t*z.cos(Kn),_t*z.sin(Kn))}z.endShape(z.CLOSE)}}()}})}}D.initClass();const M=Je.register("TRUNK",D);return Qe})(),hi.exports=Qe()},505:function(hi){var Qe;typeof self<"u"&&self,Qe=()=>(()=>{"use strict";var gt={d:(E,D)=>{for(var M in D)gt.o(D,M)&&!gt.o(E,M)&&Object.defineProperty(E,M,{enumerable:!0,get:D[M]})},o:(E,D)=>Object.prototype.hasOwnProperty.call(E,D),r:E=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})}},Qe={};function hn(E,D){return null==E&&(E=0),null==D&&(D=1),Math.floor(E+Math.random()*(D-E+1))}function q(E){for(;E.children&&E.children.length>0;)q(E.children[0]),E.remove(E.children[0]);E.geometry&&E.geometry.dispose(),E.material&&(Object.keys(E.material).forEach(D=>{E.material[D]&&null!==E.material[D]&&"function"==typeof E.material[D].dispose&&E.material[D].dispose()}),E.material.dispose())}gt.r(Qe),gt.d(Qe,{default:()=>Le}),Number.prototype.clamp=function(E,D){return Math.min(Math.max(this,E),D)};const tt="object"==typeof window;let nt=tt&&window.THREE||{};tt&&!window.VANTA&&(window.VANTA={});const je=tt&&window.VANTA||{};je.register=(E,D)=>je[E]=M=>new D(M),je.version="0.5.24";const Je=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};je.VantaBase=class{constructor(E={}){if(!tt)return!1;je.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const D="function"==typeof this.getDefaultOptions?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},D),(E instanceof HTMLElement||"string"==typeof E)&&(E={el:E}),Object.assign(this.options,E),this.options.THREE&&(nt=this.options.THREE),this.el=this.options.el,null==this.el)Je('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const z=this.el;if(this.el=document.querySelector(z),!this.el)return void Je("Cannot find element",z)}var x;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(z){return Je("Init error",z),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(x=this.options.backgroundColor,"number"==typeof x?"#"+("00000"+x.toString(16)).slice(-6):x)))}this.initMouse(),this.resize(),this.animationLoop();const P=window.addEventListener;P("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(P("scroll",this.windowMouseMoveWrapper),P("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(P("touchstart",this.windowTouchWrapper),P("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&P("deviceorientation",this.windowGyroWrapper)}setOptions(E={}){Object.assign(this.options,E),this.triggerMouseMove()}prepareEl(){let E,D;if(typeof Node<"u"&&Node.TEXT_NODE)for(E=0;E<this.el.childNodes.length;E++){const M=this.el.childNodes[E];if(M.nodeType===Node.TEXT_NODE){const x=document.createElement("span");x.textContent=M.textContent,M.parentElement.insertBefore(x,M),M.remove()}}for(E=0;E<this.el.children.length;E++)D=this.el.children[E],"static"===getComputedStyle(D).position&&(D.style.position="relative"),"auto"===getComputedStyle(D).zIndex&&(D.style.zIndex=1);"static"===getComputedStyle(this.el).position&&(this.el.style.position="relative")}applyCanvasStyles(E,D={}){Object.assign(E.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(E.style,D),E.classList.add("vanta-canvas")}initThree(){nt.WebGLRenderer?(this.renderer=new nt.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new nt.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const E=this.getCanvasElement();return!!E&&E.getBoundingClientRect()}windowMouseMoveWrapper(E){const D=this.getCanvasRect();if(!D)return!1;const M=E.clientX-D.left,x=E.clientY-D.top;M>=0&&x>=0&&M<=D.width&&x<=D.height&&(this.mouseX=M,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(M,x))}windowTouchWrapper(E){const D=this.getCanvasRect();if(!D)return!1;if(1===E.touches.length){const M=E.touches[0].clientX-D.left,x=E.touches[0].clientY-D.top;M>=0&&x>=0&&M<=D.width&&x<=D.height&&(this.mouseX=M,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(M,x))}}windowGyroWrapper(E){const D=this.getCanvasRect();if(!D)return!1;const M=Math.round(2*E.alpha)-D.left,x=Math.round(2*E.beta)-D.top;M>=0&&x>=0&&M<=D.width&&x<=D.height&&(this.mouseX=M,this.mouseY=x,this.options.mouseEase||this.triggerMouseMove(M,x))}triggerMouseMove(E,D){void 0===E&&void 0===D&&(this.options.mouseEase?(E=this.mouseEaseX,D=this.mouseEaseY):(E=this.mouseX,D=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=E/this.scale,this.uniforms.iMouse.value.y=D/this.scale),"function"==typeof this.onMouseMove&&this.onMouseMove(E/this.width,D/this.height)}setSize(){this.scale||(this.scale=1),typeof navigator<"u"&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600)&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,"function"==typeof this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),"function"==typeof this.onResize&&this.onResize()}isOnScreen(){const E=this.el.offsetHeight,D=this.el.getBoundingClientRect(),M=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,x=D.top+M;return x-window.innerHeight<=M&&M<=x+E}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const E=performance.now();if(this.prevNow){let D=(E-this.prevNow)/16.666666666666668;D=Math.max(.2,Math.min(D,5)),this.t+=D,this.t2+=(this.options.speed||1)*D,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=E,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&("function"==typeof this.onUpdate&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),"function"==typeof this.afterRender&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);"function"==typeof this.onRestart&&this.onRestart(),this.init()}init(){"function"==typeof this.onInit&&this.onInit()}destroy(){"function"==typeof this.onDestroy&&this.onDestroy();const E=window.removeEventListener;E("touchstart",this.windowTouchWrapper),E("touchmove",this.windowTouchWrapper),E("scroll",this.windowMouseMoveWrapper),E("mousemove",this.windowMouseMoveWrapper),E("deviceorientation",this.windowGyroWrapper),E("resize",this.resize),window.cancelAnimationFrame(this.req);const D=this.scene;D&&D.children&&q(D),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),je.current===this&&(je.current=null)}};const Ne=je.VantaBase;let Ue="object"==typeof window&&window.THREE;class Ve extends Ne{static initClass(){this.prototype.ww=100,this.prototype.hh=80,this.prototype.waveNoise=4}constructor(D){Ue=D.THREE||Ue,super(D)}getMaterial(){return new Ue.MeshPhongMaterial({color:this.options.color,shininess:this.options.shininess,flatShading:!0,side:Ue.DoubleSide})}onInit(){let D,M;const x=this.getMaterial(),P=new Ue.BufferGeometry;this.gg=[];const z=[];for(D=0;D<=this.ww;D++)for(this.gg[D]=[],M=0;M<=this.hh;M++){const In=z.length,qt=new Ue.Vector3(18*(D-.5*this.ww),(null==(_e=0)&&(_e=0),null==(It=this.waveNoise)&&(It=1),_e+Math.random()*(It-_e)-10),18*(.5*this.hh-M));z.push(qt),this.gg[D][M]=In}var _e,It;P.setFromPoints(z);const Et=[];for(D=1;D<=this.ww;D++)for(M=1;M<=this.hh;M++){let In,qt;const Kn=this.gg[D][M],_t=this.gg[D][M-1],Ft=this.gg[D-1][M],Pn=this.gg[D-1][M-1];hn(0,1)?(In=[Pn,_t,Ft],qt=[_t,Ft,Kn]):(In=[Pn,_t,Kn],qt=[Pn,Ft,Kn]),Et.push(...In,...qt)}P.setIndex(Et),this.plane=new Ue.Mesh(P,x),this.scene.add(this.plane);const yn=new Ue.AmbientLight(16777215,.9);this.scene.add(yn);const ht=new Ue.PointLight(16777215,.9);ht.position.set(-100,250,-100),this.scene.add(ht),this.camera=new Ue.PerspectiveCamera(35,this.width/this.height,50,1e4),this.cameraPosition=new Ue.Vector3(240,200,390),this.cameraTarget=new Ue.Vector3(140,-30,190),this.camera.position.copy(this.cameraPosition),this.scene.add(this.camera)}onUpdate(){let D;this.plane.material.color.set(this.options.color),this.plane.material.shininess=this.options.shininess,this.camera.ox=this.cameraPosition.x/this.options.zoom,this.camera.oy=this.cameraPosition.y/this.options.zoom,this.camera.oz=this.cameraPosition.z/this.options.zoom,null!=this.controls&&this.controls.update();const M=this.camera;Math.abs(M.tx-M.position.x)>.01&&(D=M.tx-M.position.x,M.position.x+=.02*D),Math.abs(M.ty-M.position.y)>.01&&(D=M.ty-M.position.y,M.position.y+=.02*D),Math.abs(M.tz-M.position.z)>.01&&(D=M.tz-M.position.z,M.position.z+=.02*D),M.lookAt(this.cameraTarget),this.oy=this.oy||{};for(let x=0;x<this.plane.geometry.attributes.position.array.length;x+=3){const P={x:this.plane.geometry.attributes.position.array[x],y:this.plane.geometry.attributes.position.array[x+1],z:this.plane.geometry.attributes.position.array[x+2],oy:this.oy[x]};if(P.oy){const z=this.options.waveSpeed,_e=Math.sqrt(z)*Math.cos(-P.x-.7*P.z),It=Math.sin(z*this.t*.02-z*P.x*.025+z*P.z*.015+_e),Et=Math.pow(It+1,2)/4;P.y=P.oy+Et*this.options.waveHeight,this.plane.geometry.attributes.position.array[x+1]=P.y}else this.oy[x]=P.y}this.plane.geometry.attributes.position.setUsage(Ue.DynamicDrawUsage),this.plane.geometry.computeVertexNormals(),this.plane.geometry.attributes.position.needsUpdate=!0,this.wireframe&&(this.wireframe.geometry.fromGeometry(this.plane.geometry),this.wireframe.geometry.computeFaceNormals())}onMouseMove(D,M){const x=this.camera;return x.oy||(x.oy=x.position.y,x.ox=x.position.x,x.oz=x.position.z),x.tx=x.ox+100*(D-.5)/this.options.zoom,x.ty=x.oy+-100*(M-.5)/this.options.zoom,x.tz=x.oz+-50*(D-.5)/this.options.zoom}}Ve.prototype.defaultOptions={color:21896,shininess:30,waveHeight:15,waveSpeed:1,zoom:1},Ve.initClass();const Le=je.register("WAVES",Ve);return Qe})(),hi.exports=Qe()}},hi=>{hi(hi.s=772)}]);